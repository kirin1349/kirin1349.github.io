window.__require=function e(t,i,o){function n(a,s){if(!i[a]){if(!t[a]){var p=a.split("/");if(p=p[p.length-1],!t[p]){var u="function"==typeof __require&&__require;if(!s&&u)return u(p,!0);if(r)return r(p,!0);throw new Error("Cannot find module '"+a+"'")}a=p}var c=i[a]={exports:{}};t[a][0].call(c.exports,function(e){return n(t[a][1][e]||e)},c,c.exports,e,t,i,o)}return i[a].exports}for(var r="function"==typeof __require&&__require,a=0;a<o.length;a++)n(o[a]);return n}({AbstractCityUIMediator:[function(e,t,i){"use strict";cc._RF.push(t,"8ed18aOEGNPbrdL+V0Xge31","AbstractCityUIMediator"),Object.defineProperty(i,"__esModule",{value:!0}),i.AbstractCityUIMediator=void 0;var o=e("./BusinessUIMediator"),n=e("../../../MiniGame"),r=e("../Component/AbstractCityUIScript"),a=e("../Define/BusinessUILayerDefine"),s=e("../View/BusinessTargetItemUIView"),p=e("../../../Business/Define/WindowTypeDefine"),u=function(e){function t(t,i){var o=e.call(this,t,i,a.BusinessUILayerDefine.UI,!1,!1,!0,!0,!0,p.WindowTypeDefine.Default)||this;return o.m_cityScript=null,o.m_businessItems=[],o}return __extends(t,e),t.prototype.onUIMediatorInit=function(t,i){e.prototype.onUIMediatorInit.call(this,t,i),t&&(this.m_cityScript=t.getComponent(r.default),this.m_cityScript)},t.prototype.onUIMediatorUnInit=function(){this.m_cityScript=null,e.prototype.onUIMediatorUnInit.call(this)},t.prototype.onUIMediatorPrepare=function(t,i){e.prototype.onUIMediatorPrepare.call(this,t,i)},t.prototype.onUIMediatorOpen=function(t,i){e.prototype.onUIMediatorOpen.call(this,t,i)},t.prototype.onUIMediatorClose=function(t){e.prototype.onUIMediatorClose.call(this,t)},t.prototype.onButtonClick=function(t){e.prototype.onButtonClick.call(this,t)},t.prototype.updateCityBaseInfo=function(e){if(e){if(this.m_cityScript.titleLabel&&(this.m_cityScript.titleLabel.string=n.MiniGame.Locale.getLanguage(e.getNameLan())),this.m_cityScript.descLabel&&(this.m_cityScript.descLabel.string=n.MiniGame.Locale.getLanguage(e.getDescLan())),this.m_cityScript.businessNode&&this.m_cityScript.businessItemTemplate){for(var t=null,i=e.getTargetsCount(),o=0;o<i;o++)o>=this.m_businessItems.length&&(this.m_businessItems.push(new s.BusinessTargetItemUIView(this.getMediatorName())),t=cc.instantiate(this.m_cityScript.businessItemTemplate),this.m_cityScript.businessNode.addChild(t),this.m_businessItems[o].bindNode(t)),this.m_businessItems[o].show(),this.m_businessItems[o].setData(e.getTargetsAt(o));if(i<this.m_businessItems.length){var r=this.m_businessItems.length;for(o=i;o<r;o++)this.m_businessItems[o].clearData()}}}else for(this.m_cityScript.titleLabel&&(this.m_cityScript.titleLabel.string=""),this.m_cityScript.descLabel&&(this.m_cityScript.descLabel.string=""),i=this.m_businessItems.length,o=0;o<i;o++)this.m_businessItems[o].clearData()},t.prototype.updateCityStarInfo=function(e){if(e)for(var t=e.getStar(),i=this.m_cityScript.starNodes.length,o=0;o<i;o++)this.m_cityScript.starNodes[o].active=o<t;else for(i=this.m_cityScript.starNodes.length,o=0;o<i;o++)this.m_cityScript.starNodes[o].active=!1},t.prototype.refreshBusinessInfo=function(){for(var e=this.m_businessItems.length,t=0;t<e;t++)this.m_businessItems[t].refreshData()},t}(o.BusinessUIMediator);i.AbstractCityUIMediator=u,cc._RF.pop()},{"../../../Business/Define/WindowTypeDefine":"WindowTypeDefine","../../../MiniGame":"MiniGame","../Component/AbstractCityUIScript":"AbstractCityUIScript","../Define/BusinessUILayerDefine":"BusinessUILayerDefine","../View/BusinessTargetItemUIView":"BusinessTargetItemUIView","./BusinessUIMediator":"BusinessUIMediator"}],AbstractCityUIScript:[function(e,t,i){"use strict";cc._RF.push(t,"002a0l7t6lITbXqYe5wyPom","AbstractCityUIScript"),Object.defineProperty(i,"__esModule",{value:!0});var o=e("../../../../Extension/UI/Label/UITextScript"),n=cc._decorator,r=n.ccclass,a=n.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.titleLabel=null,t.descLabel=null,t.businessNode=null,t.businessItemTemplate=null,t.starNodes=[],t}return __extends(t,e),__decorate([a(o.default)],t.prototype,"titleLabel",void 0),__decorate([a(o.default)],t.prototype,"descLabel",void 0),__decorate([a(cc.Node)],t.prototype,"businessNode",void 0),__decorate([a(cc.Prefab)],t.prototype,"businessItemTemplate",void 0),__decorate([a([cc.Node])],t.prototype,"starNodes",void 0),__decorate([r],t)}(cc.Component);i.default=s,cc._RF.pop()},{"../../../../Extension/UI/Label/UITextScript":"UITextScript"}],AbstractGameUIMediator:[function(e,t,i){"use strict";cc._RF.push(t,"66f04dJZD1AKJWIx4QsndEl","AbstractGameUIMediator"),Object.defineProperty(i,"__esModule",{value:!0}),i.AbstractGameUIMediator=void 0;var o,n=e("../../../Business/Control/CharDataController"),r=e("./BusinessUIMediator"),a=e("../../../MiniGame"),s=e("../../MediatorNameDefine"),p=e("../Component/GameUIScript"),u=e("../Define/BusinessUILayerDefine"),c=e("../../../Business/Define/WindowTypeDefine");(function(e){e[e.None=0]="None",e[e.Ready=1]="Ready",e[e.RoundRunning=2]="RoundRunning",e[e.RoundEnd=3]="RoundEnd",e[e.End=4]="End"})(o||(o={}));var l=function(e){function t(t,i){var o=e.call(this,t,i,u.BusinessUILayerDefine.UI,!1,!1,!0,!0,!0,c.WindowTypeDefine.Default)||this;return o.m_gameScript=null,o.m_answerCount=0,o.m_answerTime=0,o.m_gameState=0,o.m_roundTimeTotal=0,o.m_roundTimePassed=0,o.m_roundCount=0,o.m_roundCountTotal=0,o.m_listeningTime=!1,o}return __extends(t,e),t.prototype.onUIMediatorInit=function(t,i){e.prototype.onUIMediatorInit.call(this,t,i),this.m_gameScript=t.getComponent(p.default)},t.prototype.onUIMediatorUnInit=function(){this.m_gameScript=null,e.prototype.onUIMediatorUnInit.call(this)},t.prototype.onUIMediatorPrepare=function(t,i){e.prototype.onUIMediatorPrepare.call(this,t,i),a.MiniGame.MVC.closeMediator(s.MediatorNameDefine.NavigatorTopUIMediator)},t.prototype.onUIMediatorClose=function(t){e.prototype.onUIMediatorClose.call(this,t),a.MiniGame.MVC.openMediator(s.MediatorNameDefine.NavigatorTopUIMediator)},t.prototype.onButtonClick=function(t){switch(t){case"closefull":this.m_script&&this.m_script.viewAniComp?(this.lockUI(),this.m_script.viewAniComp.on(cc.Animation.EventType.FINISHED,this.onCloseFullAniComplete,this),this.m_script.viewAniComp.play("smallgame_closefull")):this.onClose();break;case"replay":var i=this.getGameConsumes();if(i&&i.length>0){if(!n.CharDataController.Instance.compareCharValues(i,!0))return;n.CharDataController.Instance.handleRemoveCharValues(i)}this.m_script&&this.m_script.viewAniComp?(this.lockUI(),this.m_script.viewAniComp.on(cc.Animation.EventType.FINISHED,this.onGameResultHideAniComplete,this),this.m_script.viewAniComp.play("smallgameresult_hide")):this.onClose();break;default:e.prototype.onButtonClick.call(this,t)}},t.prototype.getGameConsumes=function(){return null},t.prototype.onCloseFullAniComplete=function(){this.unlockUI(),this.m_script.viewAniComp.off(cc.Animation.EventType.FINISHED,this.onCloseFullAniComplete,this),this.onClose()},t.prototype.onGameResultHideAniComplete=function(){this.unlockUI(),this.m_script.viewAniComp.off(cc.Animation.EventType.FINISHED,this.onGameResultHideAniComplete,this),this.gameReset(),this.gameRestart()},t.prototype.setAnswerCount=function(e){this.m_answerCount=e},t.prototype.setAnswerTime=function(e){this.m_answerTime=e},t.prototype.getLayerNodeAt=function(e){return this.m_gameScript?e<0||e>=this.m_gameScript.layerNodes.length?null:this.m_gameScript.layerNodes[e]:null},t.prototype.gameReset=function(){this.m_gameState=o.None,this.m_roundCountTotal=0,this.m_roundCount=0,this.m_roundTimePassed=0,this.m_roundTimeTotal=0,this.m_gameScript&&(this.m_gameScript.timeLabel&&(this.m_gameScript.timeLabel.string=""),this.m_gameScript.progressLabel&&(this.m_gameScript.progressLabel.string="")),this.onGameReset()},t.prototype.gameStart=function(){this.m_gameState=o.Ready,this.m_roundCountTotal=this.m_answerCount,this.m_roundTimeTotal=this.m_answerTime,this.onGameStart()},t.prototype.gameRestart=function(){this.onGameRestart()},t.prototype.gameUpdate=function(e){this.m_gameState==o.RoundRunning&&(this.m_roundTimePassed+=e,this.updateRoundTime(),this.m_roundTimePassed>=this.m_roundTimeTotal&&this.roundTimeout())},t.prototype.gameEnd=function(e){if(this.m_gameState==o.RoundEnd){this.m_gameState=o.End,this.updateRoundCount(),this.onGameEndBegin(e),this.m_gameScript&&(this.m_gameScript.winNode&&(this.m_gameScript.winNode.active=e>0),this.m_gameScript.loseNode&&(this.m_gameScript.loseNode.active=e<0));var t=n.CharDataController.Instance.compareCharValues(this.getGameConsumes(),!1);this.setButtonEnable("replay",t,!0),this.m_script&&this.m_script.viewAniComp?(this.m_script.viewAniComp.on(cc.Animation.EventType.FINISHED,this.onGameResultShowAniComplete,this),this.m_script.viewAniComp.play("smallgameresult_show")):this.onGameEndEnd()}},t.prototype.onGameResultShowAniComplete=function(){this.m_script.viewAniComp.off(cc.Animation.EventType.FINISHED,this.onGameResultShowAniComplete,this),this.onGameEndEnd()},t.prototype.roundStart=function(){this.m_roundTimePassed=0,this.m_roundTimeTotal=this.m_answerTime,this.updateRoundCount(),this.updateRoundTime(),this.m_gameState=o.RoundRunning,this.onRoundStart(),this.listenTime()},t.prototype.roundTimeout=function(){this.m_gameState==o.RoundRunning&&(this.m_gameState=o.RoundEnd,this.gameEnd(-1))},t.prototype.roundComplete=function(e,t){void 0===t&&(t=null),this.m_gameState==o.RoundRunning&&(this.m_gameState=o.RoundEnd,this.m_roundCount++,this.updateRoundCount(),this.onRoundComplete(e,t,!1))},t.prototype.roundNext=function(){this.m_roundCount>=this.m_roundCountTotal?this.gameEnd(1):this.roundStart()},t.prototype.roundRestart=function(){this.m_roundCount>=this.m_roundCountTotal||this.roundStart()},t.prototype.changeRoundTime=function(e){this.m_roundTimePassed+=-Math.floor(1e3*e)},t.prototype.isRoundRunning=function(){return this.m_gameState==o.RoundRunning},t.prototype.updateRoundTime=function(){if(this.m_gameScript&&this.m_gameScript.timeLabel){var e=Math.max(0,this.m_roundTimeTotal-this.m_roundTimePassed),t=Math.ceil(.001*e);this.m_gameScript.timeLabel.string=t+""}},t.prototype.updateRoundCount=function(){this.m_gameScript&&this.m_gameScript.progressLabel&&(this.m_gameScript.progressLabel.string=this.m_roundCount+"/"+this.m_roundCountTotal)},t.prototype.onGameReset=function(){},t.prototype.onGameStart=function(){this.roundStart()},t.prototype.onGameRestart=function(){this.gameStart()},t.prototype.onRoundStart=function(){},t.prototype.onRoundComplete=function(){this.roundNext()},t.prototype.onGameEndBegin=function(){},t.prototype.onGameEndEnd=function(){},t.prototype.listenTime=function(){this.m_listeningTime||(this.m_listeningTime=!0,miniframe.Timer.addUpdateEventListener(this))},t.prototype.unlistenTime=function(){this.m_listeningTime&&(this.m_listeningTime=!1,miniframe.Timer.removeUpdateEventListener(this))},t.prototype.onTimeSystemUpdate=function(e){return this.gameUpdate(e),!1},t}(r.BusinessUIMediator);i.AbstractGameUIMediator=l,cc._RF.pop()},{"../../../Business/Control/CharDataController":"CharDataController","../../../Business/Define/WindowTypeDefine":"WindowTypeDefine","../../../MiniGame":"MiniGame","../../MediatorNameDefine":"MediatorNameDefine","../Component/GameUIScript":"GameUIScript","../Define/BusinessUILayerDefine":"BusinessUILayerDefine","./BusinessUIMediator":"BusinessUIMediator"}],AnswerCueInfoUIMediator:[function(e,t,i){"use strict";cc._RF.push(t,"5a600nr7VBKMLFv5dilp8D0","AnswerCueInfoUIMediator"),Object.defineProperty(i,"__esModule",{value:!0}),i.AnswerCueInfoUIMediator=void 0;var o=function(e){function t(){return e.call(this,"AnswerCueInfoUIMediator","PF_UI_AnswerCueInfo")||this}return __extends(t,e),t}(e("../Basic/CueInfoUIMediator").CueInfoUIMediator);i.AnswerCueInfoUIMediator=o,cc._RF.pop()},{"../Basic/CueInfoUIMediator":"CueInfoUIMediator"}],AttrCategoryDefine:[function(e,t,i){"use strict";cc._RF.push(t,"9d16eYvh+NKOr0bJbmfn1fp","AttrCategoryDefine"),Object.defineProperty(i,"__esModule",{value:!0}),i.AttrCategoryDefine=void 0,function(e){e[e.PKAttr=0]="PKAttr",e[e.Value=1]="Value"}(i.AttrCategoryDefine||(i.AttrCategoryDefine={})),cc._RF.pop()},{}],AttrItemUIView:[function(e,t,i){"use strict";cc._RF.push(t,"237bcuXf65NbIa5km+LvZ/m","AttrItemUIView"),Object.defineProperty(i,"__esModule",{value:!0}),i.AttrItemUIView=void 0;var o=e("../../../../Config/ConfigKeyDefine"),n=e("../../../../Extension/UI/Sprite/UISprite"),r=e("../../../Business/Define/AttrCategoryDefine"),a=e("../../../MiniGame"),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.m_icon=null,t.m_attrCategory=0,t}return __extends(t,e),t.prototype.onInitScript=function(){e.prototype.onInitScript.call(this);var t=this.getScript();t&&t.icon&&(this.m_icon||(this.m_icon=new n.UISprite),this.m_icon.bindScript(t.icon))},t.prototype.onSetData=function(t,i,n){return i&&(this.m_attrCategory==r.AttrCategoryDefine.PKAttr?(this.m_icon&&this.m_icon.hookAtlasSprite("ATLAS_Attrs","attr_"+i.x),t.nameLabel&&(t.nameLabel.string=a.MiniGame.Locale.getLanguage(i.x,o.ConfigKeyDefine.LAN_ATTRI))):this.m_attrCategory==r.AttrCategoryDefine.Value?(this.m_icon&&this.m_icon.hookAtlasSprite("ATLAS_Values","value_"+i.x),t.nameLabel&&(t.nameLabel.string=a.MiniGame.Locale.getLanguage(i.x,o.ConfigKeyDefine.LAN_VALUES))):(this.m_icon&&this.m_icon.clear(),t.nameLabel&&(t.nameLabel.string="")),t.valueLabel&&(t.valueLabel.string=i.y+"")),e.prototype.onSetData.call(this,t,i,n)},t.prototype.setAttrCategory=function(e){this.m_attrCategory=e},t}(e("../Basic/BusinessItemUIView").BusinessItemUIView);i.AttrItemUIView=s,cc._RF.pop()},{"../../../../Config/ConfigKeyDefine":"ConfigKeyDefine","../../../../Extension/UI/Sprite/UISprite":"UISprite","../../../Business/Define/AttrCategoryDefine":"AttrCategoryDefine","../../../MiniGame":"MiniGame","../Basic/BusinessItemUIView":"BusinessItemUIView"}],AttrTypeDefine:[function(e,t,i){"use strict";cc._RF.push(t,"e44fdznpJFMT7yqjMjK/iI9","AttrTypeDefine"),Object.defineProperty(i,"__esModule",{value:!0}),i.AttrTypeDefine=void 0,function(e){e[e.TradeMemberCount=101]="TradeMemberCount",e[e.IncomeMaxMinutes=102]="IncomeMaxMinutes",e[e.IncomeRate=103]="IncomeRate"}(i.AttrTypeDefine||(i.AttrTypeDefine={})),cc._RF.pop()},{}],AudioConfigData:[function(e,t,i){"use strict";cc._RF.push(t,"0d50etF6s9GLZmF/Du2p+Qe","AudioConfigData"),Object.defineProperty(i,"__esModule",{value:!0}),i.AudioConfigData=void 0;var o=function(){function e(e){this.m_data=null,this.m_data=e,this.init()}return e.prototype.getId=function(){return this.m_data.getId()},e.prototype.getType=function(){return this.m_data.getType()},e.prototype.getPlayType=function(){return this.m_data.getPlayType()},e.prototype.getIsLoop=function(){return this.m_data.getIsLoop()},e.prototype.getPrefix=function(){return this.m_data.getPrefix()},e.prototype.getSteps=function(){return this.m_data.getStepsList()},e.prototype.getStepsCount=function(){return this.m_data.getStepsList().length},e.prototype.getStepsAt=function(e){return e<0||e>=this.m_data.getStepsList().length?"":this.m_data.getStepsList()[e]},e.prototype.init=function(){},e.prototype.getConfigKey=function(){return this.getId()},e}();i.AudioConfigData=o,cc._RF.pop()},{}],AudioController:[function(e,t,i){"use strict";cc._RF.push(t,"5db64WIyTdB9odya7XtXvyZ","AudioController"),Object.defineProperty(i,"__esModule",{value:!0}),i.AudioController=void 0;var o=e("../../Config/ConfigKeyDefine"),n=function(){function e(){this.m_bgmID=NaN,e.ms_instance=this}return Object.defineProperty(e,"Instance",{get:function(){return e.ms_instance||new e},enumerable:!1,configurable:!0}),e.prototype.getAudioName=function(e){if(e<0)return"";var t=miniframe.Config.getData(o.ConfigKeyDefine.AUDIO,e);return t?this.getAudioNameByConfig(t):""},e.prototype.playAudio=function(e,t){if(void 0===t&&(t=1),e<0)return NaN;var i=miniframe.Config.getData(o.ConfigKeyDefine.AUDIO,e);return i?1==i.getType()?this.playBGMWithConfig(i):this.playAudioWithConfig(i,t):NaN},e.prototype.playAudioIn=function(e,t,i){return void 0===i&&(i=1),t>=e.length&&(t%=e.length),t<0?t=0:t>=e.length&&(t=e.length-1),this.playAudio(e[t],i)},e.prototype.playRawAudio=function(e,t,i){return void 0===t&&(t=!1),void 0===i&&(i=1),miniframe.Audio.playAudio(e,t,i)},e.prototype.playAudioAuto=function(e,t){var i=this.playAudio(e);return isNaN(i)||""!=t&&(i=this.playRawAudio(t)),i},e.prototype.stopAudio=function(e){miniframe.Audio.stopAudio(e)},e.prototype.setAudioVolume=function(e,t){miniframe.Audio.setAudioVolume(e,t)},e.prototype.isAudioPlaying=function(e){return miniframe.Audio.isAudioPlaying(e)},e.prototype.pauseAudio=function(e){miniframe.Audio.pauseAudio(e)},e.prototype.resumeAudio=function(e){miniframe.Audio.resumeAudio(e)},e.prototype.playBGM=function(e){if(!(e<0)){var t=miniframe.Config.getData(o.ConfigKeyDefine.AUDIO,e);t&&(this.m_bgmID=this.playBGMWithConfig(t))}},e.prototype.pauseBGM=function(){isNaN(this.m_bgmID)||miniframe.Audio.pauseAudio(this.m_bgmID)},e.prototype.resumeBGM=function(){isNaN(this.m_bgmID)||miniframe.Audio.resumeAudio(this.m_bgmID)},e.prototype.stopBGM=function(){isNaN(this.m_bgmID)||miniframe.Audio.stopAudio(this.m_bgmID),this.m_bgmID=NaN},e.prototype.playBGMWithConfig=function(e){var t=this.getAudioNameByConfig(e);return miniframe.Audio.playAudio(t,!0,1,!0)},e.prototype.playAudioWithConfig=function(e,t){void 0===t&&(t=1);var i=this.getAudioNameByConfig(e);return miniframe.Audio.playAudio(i,1==e.getIsLoop(),t)},e.prototype.getAudioNameByConfig=function(e){var t;t=1==e.getPlayType()?miniframe.random.randomWithList(e.getSteps()):e.getStepsAt(0);var i=e.getPrefix();return i&&""!=i?i+t:t},e.ms_instance=null,e}();i.AudioController=n,cc._RF.pop()},{"../../Config/ConfigKeyDefine":"ConfigKeyDefine"}],AwardItemUIViewScript:[function(e,t,i){"use strict";cc._RF.push(t,"999c9zU27tHGIhKm4YQ7bMm","AwardItemUIViewScript"),Object.defineProperty(i,"__esModule",{value:!0});var o=e("../../../../Extension/UI/Item/ItemUIViewScript"),n=e("../../../../Extension/UI/Label/UITextScript"),r=cc._decorator,a=r.ccclass,s=r.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.icon=null,t.nameLabel=null,t.valueLabel=null,t}return __extends(t,e),__decorate([s(cc.Sprite)],t.prototype,"icon",void 0),__decorate([s(n.default)],t.prototype,"nameLabel",void 0),__decorate([s(n.default)],t.prototype,"valueLabel",void 0),__decorate([a],t)}(o.default);i.default=p,cc._RF.pop()},{"../../../../Extension/UI/Item/ItemUIViewScript":"ItemUIViewScript","../../../../Extension/UI/Label/UITextScript":"UITextScript"}],AwardItemUIView:[function(e,t,i){"use strict";cc._RF.push(t,"70fc6O+Q7xPwqACNrWYNEMI","AwardItemUIView"),Object.defineProperty(i,"__esModule",{value:!0}),i.AwardItemUIView=void 0;var o=e("../../../../Config/ConfigKeyDefine"),n=e("../../../../Extension/UI/Sprite/UISprite"),r=e("../../../Business/Define/AwardTypeDefine"),a=e("../../../Business/Define/CommonTypeDefine"),s=e("../../../MiniGame"),p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.m_icon=null,t}return __extends(t,e),t.prototype.onInitScript=function(){e.prototype.onInitScript.call(this);var t=this.getScript();t&&t.icon&&(this.m_icon||(this.m_icon=new n.UISprite),this.m_icon.bindScript(t.icon))},t.prototype.onSetData=function(t,i,n){if(i){var p="",u=null,c=null;if(i.x==r.AwardTypeDefine.Item)p=i.y>a.CommonTypeDefine.ItemIDStart&&(u=miniframe.Config.getData(o.ConfigKeyDefine.ITEM_INFO,i.y))?s.MiniGame.Locale.getLanguage(u.getNameLan()):"",this.m_icon&&(u?(this.m_icon.hookAtlasSprite(u.getIconAt(0),u.getIconAt(1)),this.m_icon.getNode().setPosition(new cc.Vec2(miniframe.toNumber(u.getIconAt(2)),miniframe.toNumber(u.getIconAt(3))))):this.m_icon.hookAtlasSprite("ATLAS_Values","value_"+i.y));else{if(i.x==r.AwardTypeDefine.BookEvent||i.x==r.AwardTypeDefine.WeaponEvent){var l=i.y;p=(c=miniframe.Config.getData(o.ConfigKeyDefine.EXPRESS_EVENT_BAG,l))?s.MiniGame.Locale.getLanguage(c.getTitleLan()):""}this.m_icon&&this.m_icon.clear()}t.nameLabel&&(""==p?t.nameLabel.string="":t.nameLabel.setLanguageFormat(t.nameLabel.lanValue,p)),t.valueLabel&&(t.valueLabel.string=i.z+"")}return e.prototype.onSetData.call(this,t,i,n)},t}(e("../Basic/BusinessItemUIView").BusinessItemUIView);i.AwardItemUIView=p,cc._RF.pop()},{"../../../../Config/ConfigKeyDefine":"ConfigKeyDefine","../../../../Extension/UI/Sprite/UISprite":"UISprite","../../../Business/Define/AwardTypeDefine":"AwardTypeDefine","../../../Business/Define/CommonTypeDefine":"CommonTypeDefine","../../../MiniGame":"MiniGame","../Basic/BusinessItemUIView":"BusinessItemUIView"}],AwardTypeDefine:[function(e,t,i){"use strict";cc._RF.push(t,"b5a9b8fROBDLYFMQOQ04eDw","AwardTypeDefine"),Object.defineProperty(i,"__esModule",{value:!0}),i.AwardTypeDefine=void 0,function(e){e[e.None=0]="None",e[e.Item=1]="Item",e[e.BookEvent=3]="BookEvent",e[e.WeaponEvent=4]="WeaponEvent"}(i.AwardTypeDefine||(i.AwardTypeDefine={})),cc._RF.pop()},{}],BaseLoadingMediator:[function(e,t,i){"use strict";cc._RF.push(t,"6a7992+a+NGq7brD0FDMyN2","BaseLoadingMediator"),Object.defineProperty(i,"__esModule",{value:!0}),i.BaseLoadingMediator=void 0;var o=function(e){function t(t,i,o){var n=e.call(this,t,i,o,!1,!0,!1)||this;return n.m_label=null,n.m_transitionVisual=null,n}return __extends(t,e),t.prototype.onUIMediatorInit=function(t,i){if(e.prototype.onUIMediatorInit.call(this,t,i),t){var o=t;this.m_label=o.getChildByName("Label").getComponent(cc.Label),this.m_label&&(this.m_label.string="")}this.m_transitionVisual=i,this.m_transitionVisual&&this.m_transitionVisual.setProgressVisualAgent(this)},t.prototype.onUIMediatorUnInit=function(){this.m_label=null,this.m_transitionVisual=null,e.prototype.onUIMediatorUnInit.call(this)},t.prototype.onUIMediatorOpen=function(t,i){e.prototype.onUIMediatorOpen.call(this,t,i),this.m_label&&(this.m_label.string=""),this.m_transitionVisual&&this.m_transitionVisual.onProgressVisualAgentShowComplete(this)},t.prototype.onUIMediatorClose=function(t){e.prototype.onUIMediatorClose.call(this,t),this.m_transitionVisual&&this.m_transitionVisual.onProgressVisualAgentHideComplete(this)},t.prototype.showProgress=function(e,t){this.setProgress(e,t)},t.prototype.setProgressLabel=function(e){this.m_label&&(this.m_label.string=e)},t.prototype.setProgress=function(e,t){this.m_label&&(t=Math.floor(100*t),this.m_label.string=this.getFormatProgress(e,t))},t.prototype.getFormatProgress=function(e,t){return e+" "+t+"%"},t}(miniframe.AbstractUIMediator);i.BaseLoadingMediator=o,cc._RF.pop()},{}],BaseUIMediator:[function(e,t,i){"use strict";cc._RF.push(t,"cdea5aODRlBFb381khZSEEt","BaseUIMediator"),Object.defineProperty(i,"__esModule",{value:!0}),i.BaseUIMediator=void 0;var o=e("../../Extension/UI/View/UIViewScript"),n=e("../../Extension/UI/Button/UIButton"),r=e("../../Extension/Audio/AudioController"),a=function(e){function t(t,i,o,n,r,a,s,p){var u=e.call(this,t,i,o,n,r,a)||this;return u.m_script=null,u.m_buttons=[],u.m_needOpenAudio=!1,u.m_needCloseAudio=!1,u.m_locked=!1,u.m_needOpenAudio=s,u.m_needCloseAudio=p,u}return __extends(t,e),t.prototype.getOpenAudioID=function(){return this.m_needOpenAudio&&this.m_script&&this.m_script.viewOpenAudioID>0?this.m_script.viewOpenAudioID:-1},t.prototype.getOpenAudio=function(){return this.m_needOpenAudio&&this.m_script?this.m_script.viewOpenAudio:""},t.prototype.getCloseAudioID=function(){return this.m_needCloseAudio&&this.m_script&&this.m_script.viewCloseAudioID>0?this.m_script.viewCloseAudioID:-1},t.prototype.getCloseAudio=function(){return this.m_needCloseAudio&&this.m_script?this.m_script.viewCloseAudio:""},t.prototype.onPlayOpenAudio=function(){r.AudioController.Instance.playAudioAuto(this.getOpenAudioID(),this.getOpenAudio())},t.prototype.onPlayCloseAudio=function(){r.AudioController.Instance.playAudioAuto(this.getCloseAudioID(),this.getCloseAudio())},t.prototype.onUIMediatorInit=function(t,i){if(e.prototype.onUIMediatorInit.call(this,t,i),this.m_buttons.length>0&&this.m_buttons.splice(0,this.m_buttons.length),t&&(this.m_script&&this.m_script.isValid||(this.m_script=t.getComponent(o.default)),this.m_script))for(var r=null,a=this.m_script.buttons.length,s=0;s<a;s++)this.m_script.buttons[s]&&((r=new n.UIButton(this.mediatorName)).bindScript(this.m_script.buttons[s]),this.onButtonInit(r),this.m_buttons.push(r))},t.prototype.onUIMediatorUnInit=function(){if(this.m_buttons.length>0)for(var t=null;this.m_buttons.length>0;)t=this.m_buttons.pop(),this.onButtonUnInit(t),t.dispose(!1);this.m_script=null,e.prototype.onUIMediatorUnInit.call(this)},t.prototype.checkUIMediatorCanOpen=function(t){return"skip_ani"==t?e.prototype.checkUIMediatorCanOpen.call(this,t):this.m_script&&(this.m_script.node.stopAllActions(),this.m_script.viewAniComp&&(this.m_script.viewAniComp.stop(),this.m_script.viewOpenAniName&&""!=this.m_script.viewOpenAniName&&this.m_script.viewAniComp.getAnimationState(this.m_script.viewOpenAniName)))?(this.m_script.viewAniComp.on(cc.Animation.EventType.FINISHED,this.onViewOpenAnimatonComplete,this),this.m_script.viewAniComp.play(this.m_script.viewOpenAniName),!0):e.prototype.checkUIMediatorCanOpen.call(this,t)},t.prototype.onViewOpenAnimatonComplete=function(){this.m_script.viewAniComp.off(cc.Animation.EventType.FINISHED,this.onViewOpenAnimatonComplete,this),this.onUIMediatorCanOpen()},t.prototype.checkUIMediatorCanClose=function(t){return"skip_ani"==t?e.prototype.checkUIMediatorCanClose.call(this,t):this.m_script&&(this.m_script.node.stopAllActions(),this.m_script.viewAniComp&&(this.m_script.viewAniComp.stop(),this.m_script.viewCloseAniName&&""!=this.m_script.viewCloseAniName&&this.m_script.viewAniComp.getAnimationState(this.m_script.viewCloseAniName)))?(this.m_script.viewAniComp.on(cc.Animation.EventType.FINISHED,this.onViewCloseAnimatonComplete,this),this.m_script.viewAniComp.play(this.m_script.viewCloseAniName),!0):e.prototype.checkUIMediatorCanClose.call(this,t)},t.prototype.onViewCloseAnimatonComplete=function(){this.m_script.viewAniComp.off(cc.Animation.EventType.FINISHED,this.onViewCloseAnimatonComplete,this),this.onUIMediatorCanClose()},t.prototype.onUIMediatorOpen=function(t,i){e.prototype.onUIMediatorOpen.call(this,t,i)},t.prototype.onUIMediatorAfterOpen=function(){e.prototype.onUIMediatorAfterOpen.call(this)},t.prototype.onUIMediatorBeginClose=function(t){e.prototype.onUIMediatorBeginClose.call(this,t)},t.prototype.onUIMediatorClose=function(t){e.prototype.onUIMediatorClose.call(this,t),this.unlockUI()},t.prototype.onUIMediatorAfterClose=function(){e.prototype.onUIMediatorAfterClose.call(this)},t.prototype.lockUI=function(){this.m_locked=!0},t.prototype.unlockUI=function(){this.m_locked=!1},t.prototype.isUILocked=function(){return this.m_locked},t.prototype.addEvents=function(){if(this.m_buttons.length>0)for(var e=this.m_buttons.length,t=0;t<e;t++)this.m_buttons[t].setListener(this)},t.prototype.removeEvents=function(){if(this.m_buttons.length>0)for(var e=this.m_buttons.length,t=0;t<e;t++)this.m_buttons[t].setListener(null)},t.prototype.getButtons=function(){return this.m_buttons},t.prototype.getButtonAt=function(e){return this.m_buttons.length<=0?null:e<0||e>=this.m_buttons.length?null:this.m_buttons[e]},t.prototype.getButton=function(e){if(this.m_buttons.length<=0)return null;for(var t=this.m_buttons.length,i=0;i<t;i++)if(this.m_buttons[i]&&this.m_buttons[i].compareButtonKey(e))return this.m_buttons[i];return null},t.prototype.setButtonVisible=function(e,t){if(this.m_buttons.length<=0)return null;for(var i=this.m_buttons.length,o=0;o<i;o++)this.m_buttons[o]&&this.m_buttons[o].compareButtonKey(e)&&(t?this.m_buttons[o].show():this.m_buttons[o].hide())},t.prototype.setButtonEnable=function(e,t,i){if(void 0===i&&(i=!1),this.m_buttons.length<=0)return null;for(var o=this.m_buttons.length,n=0;n<o;n++)this.m_buttons[n]&&this.m_buttons[n].compareButtonKey(e)&&(i?(this.m_buttons[n].setInteractable(!0),this.m_buttons[n].setGray(!t)):(this.m_buttons[n].setInteractable(t),this.m_buttons[n].setGray(!t)))},t.prototype.setButtonLabel=function(e,t){if(this.m_buttons.length<=0)return null;for(var i=this.m_buttons.length,o=0;o<i;o++)this.m_buttons[o]&&this.m_buttons[o].compareButtonKey(e)&&this.m_buttons[o].setButtonLabel(t)},t.prototype.onClose=function(){return this.closeSelf(),!0},t.prototype.closeSelf=function(){miniframe.Facade.closeMediator(this.getMediatorName())},t.prototype.onButtonInit=function(){},t.prototype.onButtonUnInit=function(){},t.prototype.onButtonPreClick=function(){return!0},t.prototype.onButtonClick=function(){},t.prototype.onUIButtonTouchEnd=function(e){if(!this.m_locked&&this.onButtonPreClick(e)){var t=e.getButtonKey();"close"!=t?this.onButtonClick(t):this.onClose()}},t}(miniframe.AbstractUIMediator);i.BaseUIMediator=a,cc._RF.pop()},{"../../Extension/Audio/AudioController":"AudioController","../../Extension/UI/Button/UIButton":"UIButton","../../Extension/UI/View/UIViewScript":"UIViewScript"}],BasicDataController:[function(e,t,i){"use strict";cc._RF.push(t,"a0c67RgQp1N6ZqMrfIMw1ku","BasicDataController"),Object.defineProperty(i,"__esModule",{value:!0}),i.BasicDataController=void 0;var o=function(){function e(){this.m_listeners=new miniframe.Queue}return e.prototype.addListener=function(e){this.m_listeners.add(e)},e.prototype.removeListener=function(e){this.m_listeners.remove(e)},e.prototype.notifyUpdate=function(e,t){this.m_listeners.beginIterate();for(var i=null,o=this.m_listeners.getCount(),n=0;n<o;n++)(i=this.m_listeners.getAt(n))&&i.onDataControllerUpdate(e,t);this.m_listeners.endIterate()},e}();i.BasicDataController=o,cc._RF.pop()},{}],BattleAttrTypeDefine:[function(e,t,i){"use strict";cc._RF.push(t,"f8cf0uLczpB8afk9NUp5gOP","BattleAttrTypeDefine"),Object.defineProperty(i,"__esModule",{value:!0}),i.BattleAttrTypeDefine=void 0,function(e){e[e.None=0]="None",e[e.One=1]="One",e[e.Two=2]="Two",e[e.Three=3]="Three",e[e.Four=4]="Four",e[e.Max=5]="Max"}(i.BattleAttrTypeDefine||(i.BattleAttrTypeDefine={})),cc._RF.pop()},{}],BattleDataController:[function(e,t,i){"use strict";cc._RF.push(t,"a3c2aNzalNKsp5OlJyuvO/+","BattleDataController"),Object.defineProperty(i,"__esModule",{value:!0}),i.BattleDataController=void 0;var o=e("../../../Config/ConfigKeyDefine"),n=e("../../../Extension/DataControl/BasicDataController"),r=e("../Data/BattleData"),a=e("../Data/BattleHostData"),s=e("../Define/BattleAttrTypeDefine"),p=e("../Define/ExpressItemParameterDefine"),u=e("../Define/ItemPackTypeDefine"),c=e("../Define/ItemTypeDefine"),l=e("./ItemDataController"),d=e("./StorageDataController"),f=e("../Data/BattlePlayerData"),g=e("../Data/BattleFightData"),m=e("./ConfigDataController"),h=e("./ExpressDataController"),_=e("../../MiniGame"),y=e("../Define/AwardTypeDefine"),C=e("./CharDataController"),I=e("../Define/ValueTypeDefine"),D=function(e){function t(){var i=e.call(this)||this;return i.m_battle=null,i.m_npcInfoIDs=null,i.m_npcBaseDatas=[],i.m_hostData=new a.BattleHostData,i.m_hostLastUpdateFrame=0,i.m_weakPowerAddiConfig=null,t.ms_instance=i,i}return __extends(t,e),Object.defineProperty(t,"Instance",{get:function(){return t.ms_instance||new t},enumerable:!1,configurable:!0}),t.prototype.initController=function(){this.m_battle||(this.m_battle=new r.BattleData,d.StorageDataController.Instance.addGroup(this.m_battle))},t.prototype.initNPCInfos=function(){if(!this.m_npcInfoIDs){this.m_npcInfoIDs=[];var e=miniframe.Config.getDataMap(o.ConfigKeyDefine.NPC_INFO);for(var t in e)this.m_npcInfoIDs.push(e[t].getId())}},t.prototype.getNPCDatas=function(){return this.refreshBattleDatas(),this.m_npcBaseDatas},t.prototype.getHostData=function(e,t){return void 0===t&&(t=!1),e?(this.updateHostData(t),this.m_hostData):this.m_hostData},t.prototype.compareHostAttr=function(e,t){return t-this.getHostData(!0).attrs[e]},t.prototype.createBattleFightData=function(e,t){if(void 0===t&&(t=0),!e)return null;var i=new g.BattleFightData;i.limitID=t,this.updateHostData(!0),i.hostPlayerData=new f.BattlePlayerData,i.hostPlayerData.name=_.MiniGame.UserData.nickName,i.hostPlayerData.attrs=this.m_hostData.attrs,i.hostPlayerData.totalPower=0,i.hostPlayerData.equipPower=0,i.hostPlayerData.reputationPower=m.ConfigDataController.Instance.getReputationPower(C.CharDataController.Instance.getCharRealValue(I.ValueTypeDefine.Reputation)),i.hostPlayerData.addiPower=0,i.npcPlayerData=new f.BattlePlayerData;var n=miniframe.Config.getData(o.ConfigKeyDefine.NPC_INFO,e.getNPCInfoID());i.npcPlayerData.npcBaseID=e.getNPCBaseID(),i.npcPlayerData.name=n.getNameLan(),i.npcPlayerData.attrs={},i.npcPlayerData.totalPower=0,i.npcPlayerData.equipPower=0,i.npcPlayerData.reputationPower=0,i.npcPlayerData.addiPower=0;var r=e.getEquips();if(r&&r.length>0)for(var a=r.length,p=0;p<a;p++)i.npcPlayerData.equips.push(new cc.Vec3(r[p].x,r[p].y,0)),i.npcPlayerData.equipPower+=r[p].y;for(p=s.BattleAttrTypeDefine.None+1;p<s.BattleAttrTypeDefine.Max;p++)i.npcPlayerData.attrs[p]=miniframe.toNumber(this.m_hostData.attrs[p])+miniframe.random.randomInt(1,10);var u=e.getWeakPoint();if(i.npcPlayerData.attrs[u.x]=u.y,i.award=e.getAward(),i.dropBag=0,i.attrType=u.x,i.attrResult=-1,i.attrPowerAddi=0,i.npcPlayerData.attrs[u.x]<=i.hostPlayerData.attrs[u.x]&&(i.attrResult=1,this.m_weakPowerAddiConfig||(this.m_weakPowerAddiConfig=miniframe.Config.getData(o.ConfigKeyDefine.CONST,1017)),i.attrPowerAddi=miniframe.random.randomInt(this.m_weakPowerAddiConfig.getValueAt(0),this.m_weakPowerAddiConfig.getValueAt(1))),i.hostPlayerData.pkAttr=i.attrType,i.npcPlayerData.pkAttr=i.attrType,this.m_hostData.equips.length>0){var c=0,l=0;for(a=this.m_hostData.equips.length,p=0;p<a;p++)l=(c=miniframe.random.randomInt(this.m_hostData.equips[p].y,this.m_hostData.equips[p].z))>=Math.floor(this.m_hostData.equips[p].y+.5*(this.m_hostData.equips[p].z-this.m_hostData.equips[p].y))?1:-1,i.hostPlayerData.equips.push(new cc.Vec3(this.m_hostData.equips[p].x,c,l)),i.hostPlayerData.equipPower+=c}return i.hostPlayerData.totalPower=i.hostPlayerData.equipPower+i.hostPlayerData.reputationPower,i.npcPlayerData.totalPower=i.npcPlayerData.equipPower+i.npcPlayerData.reputationPower,i.attrPowerAddi>0&&(i.hostPlayerData.addiPower=Math.floor(i.hostPlayerData.totalPower*i.attrPowerAddi*.01),i.hostPlayerData.totalPower+=i.hostPlayerData.addiPower),i.maxPower=Math.max(i.hostPlayerData.totalPower,i.npcPlayerData.totalPower),i.hostPlayerData.powerCurrent=0,i.hostPlayerData.powerTotal=i.maxPower,i.npcPlayerData.powerCurrent=0,i.npcPlayerData.powerTotal=i.maxPower,i.battleResult=i.hostPlayerData.totalPower-i.npcPlayerData.totalPower,i},t.prototype.refreshBattleDatas=function(e){if(void 0===e&&(e=!1),!this.m_battle)return!1;var t=miniframe.today(),i=0;if(!e&&(i=this.m_battle.getBattleRefreshTime())>=t){if(this.m_npcBaseDatas.length<=0)for(var n=null,r=miniframe.Config.getDataList(o.ConfigKeyDefine.NPC_BASE,!0,!0),a=r.length,s=0;s<a;s++)(n=this.m_battle.getNPCBattleData(r[s].getId()))&&this.m_npcBaseDatas.push(n);var p=!1,u=this.m_npcBaseDatas.length;for(s=0;s<u;s++)if(1!=this.m_npcBaseDatas[s].getState()){p=!1;break}if(!p)return!1}i=t,this.m_battle.handleSetBattleRefreshTime(i);var c=this.getHostData(!0),l=miniframe.random.randomIntWith(c.powerRange),d=m.ConfigDataController.Instance.getReputationPower(C.CharDataController.Instance.getCharRealValue(I.ValueTypeDefine.Reputation));this.m_npcBaseDatas.length>0&&this.m_npcBaseDatas.splice(0,this.m_npcBaseDatas.length);var f=null,g=miniframe.Config.getDataList(o.ConfigKeyDefine.NPC_BASE,!0,!0),h=null,_=null,y=null,D=0,v=0,S=0,b=0,T=g.length;for(s=0;s<T;s++)(f=this.m_battle.getNPCBattleData(g[s].getId()))&&(f.reset(),f.handleSetState(0,!1),f.handleSetNPCInfoID(this.randomNPCInfoID(),!1),h=this.randomNPCWeakPoint(g[s],c.attrs),f.handleSetWeakPoint(h.x,h.y,!1),_=this.randomNPCAward(g[s]),f.handleSetAward(_.x,_.y,_.z,!1),D=this.randomNPCPowerScale(g[s]),v=Math.floor(d*D*.01),S=Math.floor(v/(.01*D)),f.handleSetReputation(S),b=Math.floor((l-v)*D*.01),y=this.randomNPCEquips(Math.max(1,c.itemCount+this.randomNPCEquipCount(g[s])),b,c.equips),f.handleSetEquips(y,!1),f.notifyChanged(),this.m_npcBaseDatas.push(f));return!0},t.prototype.randomNPCInfoID=function(){return this.initNPCInfos(),miniframe.random.randomWithList(this.m_npcInfoIDs)},t.prototype.randomNPCPowerScale=function(e){if(e.getPkRankCount()<=0)return 100;for(var t=0,i=e.getPkRankCount(),o=0;o<i;o++)t+=e.getPkRankAt(o).z;var n=0,r=miniframe.random.randomInt(0,t);for(o=0;o<i;o++)if(r<=(n+=e.getPkRankAt(o).z))return miniframe.random.randomInt(e.getPkRankAt(o).x,e.getPkRankAt(o).y);return 100},t.prototype.randomNPCWeakPoint=function(e,t){for(var i=e.getWeakPoint(),o=[],n=s.BattleAttrTypeDefine.None+1;n<s.BattleAttrTypeDefine.Max;n++)"number"==typeof t[n]&&t[n]>0&&o.push(n);var r=o.length>0?miniframe.random.randomWithList(o):miniframe.random.randomInt(s.BattleAttrTypeDefine.None+1,s.BattleAttrTypeDefine.Max-1),a=t&&t[r]||0;return miniframe.random.randomIn100()<=i.x?a>0&&(a-=Math.floor(a*miniframe.random.randomInt(i.y,i.z)*.01)):a+=Math.floor(a*miniframe.random.randomInt(i.y,i.z)*.01),new cc.Vec2(r,a)},t.prototype.randomNPCEquipCount=function(e){return miniframe.random.randomIntWith(e.getEquipCount())},t.prototype.randomNPCEquips=function(e,t,i){var o=t,n=[],r=[],a=0;if(i&&i.length>0)for(var s=0;s<e;s++)if(s<i.length&&(n.push(new cc.Vec2(i[s].x,miniframe.random.randomInt(i[s].y,i[s].z))),r.push(i[s].x),a++,(o-=n[s].y)<0)){n[s].y+=o;break}if(o>0){var p=0;if(a<e){var u=e-a,c=Math.floor(o/u);for(s=0;s<u;s++)(p=this.randomEquipFromPool(r))>0&&(n.push(new cc.Vec2(p,c)),r.push(p))}else(p=this.randomEquipFromPool(r))>0&&(n.push(new cc.Vec2(p,o)),r.push(p))}return n},t.prototype.randomNPCAward=function(e){for(var t=0,i=e.getAwardInfoCount(),o=0;o<i;o++)t+=e.getAwardInfoAt(o).z;var n=cc.Vec2.ZERO,r=0,a=miniframe.random.randomInt(0,t);for(o=0;o<i;o++)if(a<=(r+=e.getAwardInfoAt(o).z)){n=new cc.Vec2(e.getAwardInfoAt(o).x,e.getAwardInfoAt(o).y);break}if(3!=n.x&&4!=n.x)return new cc.Vec3(y.AwardTypeDefine.Item,n.x,n.y);var s=n.x,p=this.randomNPCEventAward(s);return p||(s=s==y.AwardTypeDefine.BookEvent?y.AwardTypeDefine.WeaponEvent:y.AwardTypeDefine.BookEvent,(p=this.randomNPCEventAward(s))||cc.Vec3.ZERO)},t.prototype.randomNPCEventAward=function(e){var t=new cc.Vec3(e,0,0),i=e-2,n=h.ExpressDataController.Instance.getEventGroups(),r=[],a=[];if(!n)return null;for(var s in n)n[s].getFullHouseCount()>0?a.push(n[s]):r.push(n[s]);if(r.length<=0&&a.length<=0)return null;var p=0,u=0;if(r.length>0)for(var c=r.length,l=0;l<c&&(p=r[l].getGroupID(),!((u=this.findEventIn(r[l],i,!0))>0));l++);if(u>0)return t.y=p,t.z=1,t;if(p=0,u=0,a.length>0)for(c=a.length,l=0;l<c&&!((u=this.findEventIn(a[l],i,!1))>0);l++);if(u>0){t.x=y.AwardTypeDefine.Item;var d=miniframe.Config.getData(o.ConfigKeyDefine.EXPRESS_EVENT,u),f=miniframe.Config.getData(o.ConfigKeyDefine.DROPBAG,d.getDropbagAt(0));if(null!=f){var g=f.getDropsAt(0);t.y=g.x,t.z=g.y}return t}return null},t.prototype.findEventIn=function(e,t,i){var n=miniframe.Config.getData(o.ConfigKeyDefine.EXPRESS_EVENT_BAG,e.getGroupID());if(!n)return 0;if(n.getSubType()!=t)return 0;if(!i)return n.getEventsAt(0);for(var r=n.getEventsCount(),a=0;a<r;a++)if(!e.containsEvent(n.getEventsAt(a)))return n.getEventsAt(a);return 0},t.prototype.updateHostData=function(e){if(void 0===e&&(e=!1),e||this.m_hostLastUpdateFrame!=cc.director.getTotalFrames()){this.m_hostLastUpdateFrame=cc.director.getTotalFrames(),this.m_hostData.itemCount=0;for(var t=s.BattleAttrTypeDefine.None+1;t<s.BattleAttrTypeDefine.Max;t++)this.m_hostData.attrs[t]=0;this.m_hostData.equips.length>0&&this.m_hostData.equips.splice(0,this.m_hostData.equips.length),this.m_hostData.equipAverageLevel=0,this.m_hostData.powerRange.x=0,this.m_hostData.powerRange.y=0;var i=0,n=l.ItemDataController.Instance.getItemDatasByItemTypes(u.ItemPackTypeDefine.Default,[c.ItemTypeDefine.Book,c.ItemTypeDefine.Weapon]);if(n&&n.length>0){var r=null,a=0,d=0,f=null;i=n.length;var g=0,m=0,h=null,_=0;for(t=0;t<i;t++)if(_+=a=(r=n[t]).getParameterAt(p.ExpressItemParameterDefine.Level),d=100*r.getConfigID()+a,f=miniframe.Config.getData(o.ConfigKeyDefine.WEAPON_GROW_INFO,d)){for(this.m_hostData.powerRange.x+=f.getPower().x,this.m_hostData.powerRange.y+=f.getPower().y,g=f.getAttrsCount(),m=0;m<g;m++)h=f.getAttrsAt(m),this.m_hostData.attrs[h.x]?this.m_hostData.attrs[h.x]+=h.y:this.m_hostData.attrs[h.x]=h.y;this.m_hostData.equips.push(new cc.Vec3(r.getConfigID(),f.getPower().x,f.getPower().y))}this.m_hostData.equipAverageLevel=_/i}this.m_hostData.equipAverageLevel<1&&(this.m_hostData.equipAverageLevel=1),this.m_hostData.itemCount=i}},t.prototype.randomEquipFromPool=function(e){for(var t=m.ConfigDataController.Instance.getItemConfigsByType(c.ItemTypeDefine.Book),i=m.ConfigDataController.Instance.getItemConfigsByType(c.ItemTypeDefine.Weapon),o=[],n=t.length,r=0;r<n;r++)-1==e.indexOf(t[r].getId())&&o.push(t[r]);for(n=i.length,r=0;r<n;r++)-1==e.indexOf(i[r].getId())&&o.push(i[r]);if(o.length<=0)return 0;var a=miniframe.random.randomWithList(o);return a?a.getId():0},t.prototype.handleSetNPCState=function(e,t,i){return void 0===i&&(i=!0),!!this.m_battle&&this.m_battle.handleSetNPCState(e,t,i)},t.ms_instance=null,t}(n.BasicDataController);i.BattleDataController=D,cc._RF.pop()},{"../../../Config/ConfigKeyDefine":"ConfigKeyDefine","../../../Extension/DataControl/BasicDataController":"BasicDataController","../../MiniGame":"MiniGame","../Data/BattleData":"BattleData","../Data/BattleFightData":"BattleFightData","../Data/BattleHostData":"BattleHostData","../Data/BattlePlayerData":"BattlePlayerData","../Define/AwardTypeDefine":"AwardTypeDefine","../Define/BattleAttrTypeDefine":"BattleAttrTypeDefine","../Define/ExpressItemParameterDefine":"ExpressItemParameterDefine","../Define/ItemPackTypeDefine":"ItemPackTypeDefine","../Define/ItemTypeDefine":"ItemTypeDefine","../Define/ValueTypeDefine":"ValueTypeDefine","./CharDataController":"CharDataController","./ConfigDataController":"ConfigDataController","./ExpressDataController":"ExpressDataController","./ItemDataController":"ItemDataController","./StorageDataController":"StorageDataController"}],BattleData:[function(e,t,i){"use strict";cc._RF.push(t,"b950anYCoZIU4oJkvnDThbZ","BattleData"),Object.defineProperty(i,"__esModule",{value:!0}),i.BattleData=void 0;var o=e("../../../Extension/Storage/StorageGroupData"),n=e("../../../Extension/Storage/StorageValueTypeDefine"),r=e("./BattleNPCData"),a=function(e){function t(){var t=e.call(this,"i_battle")||this;return t.m_npcDatas={},t}return __extends(t,e),t.prototype.onCreateProperty=function(i){if(i==t.Name_BattleRefreshTime)return this.createMetaProperty(i,n.StorageValueTypeDefine.Int);if(0==i.indexOf(t.Name_NPCBattleInfoPrefix)){var o=parseInt(i.substring(t.Name_NPCBattleInfoPrefix.length));return this.m_npcDatas[o]||(this.m_npcDatas[o]=new r.BattleNPCData(o)),this.m_npcDatas[o]}return e.prototype.onCreateProperty.call(this,i)},t.prototype.getBattleRefreshTime=function(){this.containsProperty(t.Name_BattleRefreshTime)||this.initProperty(t.Name_BattleRefreshTime);var e=this.getProperty(t.Name_BattleRefreshTime);return e?e.getValue():0},t.prototype.getNPCBattleData=function(e){return this.m_npcDatas[e]||this.initProperty(t.Name_NPCBattleInfoPrefix+e),this.m_npcDatas[e]},t.prototype.handleSetBattleRefreshTime=function(e,i){void 0===i&&(i=!0),this.containsProperty(t.Name_BattleRefreshTime)||this.initProperty(t.Name_BattleRefreshTime);var o=this.getProperty(t.Name_BattleRefreshTime);return!!o&&(o.setValue(e),!0)},t.prototype.handleSetNPCState=function(e,t,i){void 0===i&&(i=!0);var o=this.m_npcDatas[e];return!!o&&o.getState()!=t&&o.handleSetState(t,i)},t.Name_NPCBattleInfoPrefix="npc_bi_",t.Name_BattleRefreshTime="br_time",t}(o.StorageGroupData);i.BattleData=a,cc._RF.pop()},{"../../../Extension/Storage/StorageGroupData":"StorageGroupData","../../../Extension/Storage/StorageValueTypeDefine":"StorageValueTypeDefine","./BattleNPCData":"BattleNPCData"}],BattleFightData:[function(e,t,i){"use strict";cc._RF.push(t,"2f46cW/CS1GSrHNBYZvhiLp","BattleFightData"),Object.defineProperty(i,"__esModule",{value:!0}),i.BattleFightData=void 0;i.BattleFightData=function(){this.limitID=0,this.hostPlayerData=null,this.npcPlayerData=null,this.maxPower=0,this.award=null,this.dropBag=0,this.attrType=0,this.attrResult=0,this.attrPowerAddi=0,this.battleResult=0},cc._RF.pop()},{}],BattleHostData:[function(e,t,i){"use strict";cc._RF.push(t,"e594fFOEChPOYpOr9VgW30D","BattleHostData"),Object.defineProperty(i,"__esModule",{value:!0}),i.BattleHostData=void 0;i.BattleHostData=function(){this.itemCount=0,this.attrs={},this.equips=[],this.equipAverageLevel=0,this.powerRange=cc.Vec2.ZERO},cc._RF.pop()},{}],BattleItemSlotUIViewScript:[function(e,t,i){"use strict";cc._RF.push(t,"7c97cN8dHlP87I8ZwxXsxKw","BattleItemSlotUIViewScript"),Object.defineProperty(i,"__esModule",{value:!0});var o=e("../../../../Extension/UI/Item/ItemUIViewScript"),n=cc._decorator,r=n.ccclass,a=n.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.icon=null,t.bgNodes=[],t.aniComp=null,t}return __extends(t,e),__decorate([a(cc.Sprite)],t.prototype,"icon",void 0),__decorate([a([cc.Node])],t.prototype,"bgNodes",void 0),__decorate([a(cc.Animation)],t.prototype,"aniComp",void 0),__decorate([r],t)}(o.default);i.default=s,cc._RF.pop()},{"../../../../Extension/UI/Item/ItemUIViewScript":"ItemUIViewScript"}],BattleItemSlotUIView:[function(e,t,i){"use strict";cc._RF.push(t,"3f4e5s/j0JODrX5fR6LYq3l","BattleItemSlotUIView"),Object.defineProperty(i,"__esModule",{value:!0}),i.BattleItemSlotUIView=void 0;var o=e("../../../../Config/ConfigKeyDefine"),n=e("../../../../Extension/UI/Sprite/UISprite"),r=e("../../../Business/Define/CommonTypeDefine"),a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.m_icon=null,t.m_itemConfig=null,t.m_side=0,t.m_showAniCallback=null,t.m_showAniCallbackTarget=null,t.m_distance=0,t.m_priority=0,t}return __extends(t,e),t.prototype.onInitScript=function(){e.prototype.onInitScript.call(this);var t=this.getScript();t&&t.icon&&(this.m_icon||(this.m_icon=new n.UISprite),this.m_icon.bindScript(t.icon))},t.prototype.onSetData=function(t,i,n){if(n&&(this.m_itemConfig=null),i){i.x<r.CommonTypeDefine.ItemIDStart?this.m_icon&&this.m_icon.hookAtlasSprite("ATLAS_Items_Icon","item_value_"+i.x):this.m_itemConfig&&this.m_itemConfig.getId()==i.x||(this.m_itemConfig=miniframe.Config.getData(o.ConfigKeyDefine.ITEM_INFO,i.x),this.m_itemConfig?this.m_icon&&(this.m_icon.hookAtlasSprite(this.m_itemConfig.getIconAt(0),this.m_itemConfig.getIconAt(1)),this.m_icon.getNode().setPosition(new cc.Vec2(miniframe.toNumber(this.m_itemConfig.getIconAt(2)),miniframe.toNumber(this.m_itemConfig.getIconAt(3))))):this.m_icon&&this.m_icon.clear());for(var a=t.bgNodes.length,s=0;s<a;s++)t.bgNodes[s].active=s==this.m_side}return e.prototype.onSetData.call(this,t,i,n)},t.prototype.setSide=function(e){this.m_side=e},t.prototype.getSide=function(){return this.m_side},t.prototype.getPower=function(){return this.getData()?this.getData().y:0},t.prototype.animateShow=function(e,t,i){var o=this;void 0===t&&(t=null),void 0===i&&(i=null),this.m_showAniCallback=t,this.m_showAniCallbackTarget=i,e?setTimeout(function(){o.onAnimateShow()},e):this.onAnimateShow()},t.prototype.onAnimateShow=function(){this.show();var e=this.getScript();e&&e.aniComp?(e.aniComp.on(cc.Animation.EventType.FINISHED,this.onShowAniComplete,this),e.aniComp.play("battle_item_slot_show")):this.onShowAniComplete()},t.prototype.onShowAniComplete=function(){var e=this.getScript();if(e&&e.aniComp&&(e.aniComp.off(cc.Animation.EventType.FINISHED,this.onShowAniComplete,this),e.aniComp.play("battle_item_slot_idle")),this.m_showAniCallback){var t=this.m_showAniCallback,i=this.m_showAniCallbackTarget;this.m_showAniCallback=null,this.m_showAniCallbackTarget=null,t.call(i)}},t.prototype.animateComplete=function(){var e=this.getScript();e&&e.aniComp&&(e.aniComp.stop(),e.aniComp.play("battle_item_slot_finish"))},t.prototype.setDistance=function(e){this.m_distance=e},t.prototype.getDistance=function(){return this.m_distance},t.prototype.setPriority=function(e){this.m_priority=e},t.prototype.getPriority=function(){return this.m_priority},t}(e("../Basic/BusinessItemUIView").BusinessItemUIView);i.BattleItemSlotUIView=a,cc._RF.pop()},{"../../../../Config/ConfigKeyDefine":"ConfigKeyDefine","../../../../Extension/UI/Sprite/UISprite":"UISprite","../../../Business/Define/CommonTypeDefine":"CommonTypeDefine","../Basic/BusinessItemUIView":"BusinessItemUIView"}],BattleMonsterData:[function(e,t,i){"use strict";cc._RF.push(t,"6eb81+dyBtIC6a4kSaZU6jw","BattleMonsterData"),Object.defineProperty(i,"__esModule",{value:!0}),i.BattleMonsterData=void 0;var o=e("./CopyData"),n=function(e){function t(t){var i=e.call(this,o.CopyData.Name_MonsterBattleInfoPrefix+t)||this;return i.m_monsterID=0,i.m_monsterID=t,i}return __extends(t,e),t.prototype.getMonsterID=function(){return this.m_monsterID},t.prototype.getEquips=function(){var e=this.getIntValueAt(t.Index_EquipCount);if(e<=0)return null;for(var i=0,o=[],n=0;n<e;n++)o.push(new cc.Vec2(this.getIntValueAt(t.Index_EquipStart+i),this.getIntValueAt(t.Index_EquipStart+i+1))),i+=2;return o},t.prototype.handleSetEquips=function(e,i){if(void 0===i&&(i=!0),this.setIntValueAt(t.Index_EquipCount,e.length,!1),e.length>0)for(var o=0,n=e.length,r=0;r<n;r++)this.setIntValueAt(t.Index_EquipStart+o,e[r].x,!1),o++,this.setIntValueAt(t.Index_EquipStart+o,e[r].y,!1),o++;return i&&this.notifyChanged(),!0},t.Index_EquipCount=0,t.Index_EquipStart=2,t}(e("./IntListStorageProperty").IntListStorageProperty);i.BattleMonsterData=n,cc._RF.pop()},{"./CopyData":"CopyData","./IntListStorageProperty":"IntListStorageProperty"}],BattleNPCData:[function(e,t,i){"use strict";cc._RF.push(t,"0ba07lIF3lABpd4EYD21R4K","BattleNPCData"),Object.defineProperty(i,"__esModule",{value:!0}),i.BattleNPCData=void 0;var o=e("../Control/ConfigDataController"),n=e("./BattleData"),r=function(e){function t(t){var i=e.call(this,n.BattleData.Name_NPCBattleInfoPrefix+t)||this;return i.m_npcBaseID=0,i.m_power=NaN,i.m_npcBaseID=t,i}return __extends(t,e),t.prototype.getNPCBaseID=function(){return this.m_npcBaseID},t.prototype.getState=function(){return this.getIntValueAt(t.Index_State)},t.prototype.getNPCInfoID=function(){return this.getIntValueAt(t.Index_NPCInfoID)},t.prototype.getReputation=function(){return this.getIntValueAt(t.Index_Reputation)},t.prototype.getWeakPoint=function(){return new cc.Vec2(this.getIntValueAt(t.Index_WeakPointType),this.getIntValueAt(t.Index_WeakPointValue))},t.prototype.getAward=function(){return new cc.Vec3(this.getIntValueAt(t.Index_AwardType),this.getIntValueAt(t.Index_AwardValue),this.getIntValueAt(t.Index_AwardCount))},t.prototype.getEquips=function(){var e=this.getIntValueAt(t.Index_EquipCount);if(e<=0)return null;for(var i=0,o=[],n=0;n<e;n++)o.push(new cc.Vec2(this.getIntValueAt(t.Index_EquipStart+i),this.getIntValueAt(t.Index_EquipStart+i+1))),i+=2;return o},t.prototype.calculatePower=function(){if(isNaN(this.m_power)){this.m_power=0;var e=this.getEquips();if(e&&e.length>0)for(var t=e.length,i=0;i<t;i++)this.m_power+=e[i].y;this.m_power+=o.ConfigDataController.Instance.getReputationPower(this.getReputation())}return this.m_power},t.prototype.reset=function(){this.m_power=NaN},t.prototype.handleSetState=function(e,i){return void 0===i&&(i=!0),this.setIntValueAt(t.Index_State,e,i),!0},t.prototype.handleSetNPCInfoID=function(e,i){return void 0===i&&(i=!0),this.setIntValueAt(t.Index_NPCInfoID,e,i),!0},t.prototype.handleSetReputation=function(e,i){return void 0===i&&(i=!0),this.setIntValueAt(t.Index_Reputation,e,i),!0},t.prototype.handleSetWeakPoint=function(e,i,o){return void 0===o&&(o=!0),this.setIntValueAt(t.Index_WeakPointType,e,o),this.setIntValueAt(t.Index_WeakPointValue,i,o),!0},t.prototype.handleSetAward=function(e,i,o,n){return void 0===n&&(n=!0),this.setIntValueAt(t.Index_AwardType,e,n),this.setIntValueAt(t.Index_AwardValue,i,n),this.setIntValueAt(t.Index_AwardCount,o,n),!0},t.prototype.handleSetEquips=function(e,i){if(void 0===i&&(i=!0),this.setIntValueAt(t.Index_EquipCount,e.length,!1),e.length>0)for(var o=0,n=e.length,r=0;r<n;r++)this.setIntValueAt(t.Index_EquipStart+o,e[r].x,!1),o++,this.setIntValueAt(t.Index_EquipStart+o,e[r].y,!1),o++;return i&&this.notifyChanged(),!0},t.Index_State=0,t.Index_NPCInfoID=1,t.Index_Reputation=2,t.Index_WeakPointType=3,t.Index_WeakPointValue=4,t.Index_AwardType=5,t.Index_AwardValue=6,t.Index_AwardCount=7,t.Index_EquipCount=8,t.Index_EquipStart=9,t}(e("./IntListStorageProperty").IntListStorageProperty);i.BattleNPCData=r,cc._RF.pop()},{"../Control/ConfigDataController":"ConfigDataController","./BattleData":"BattleData","./IntListStorageProperty":"IntListStorageProperty"}],BattleNumberUIViewScript:[function(e,t,i){"use strict";cc._RF.push(t,"38522EV5zJKHJYnfopnXI9y","BattleNumberUIViewScript"),Object.defineProperty(i,"__esModule",{value:!0});var o=e("../../../../Extension/UI/Label/UITextScript"),n=cc._decorator,r=n.ccclass,a=n.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.valueLabel=null,t}return __extends(t,e),__decorate([a(o.default)],t.prototype,"valueLabel",void 0),__decorate([r],t)}(cc.Component);i.default=s,cc._RF.pop()},{"../../../../Extension/UI/Label/UITextScript":"UITextScript"}],BattleNumberUIView:[function(e,t,i){"use strict";cc._RF.push(t,"b1adf6q2oVGaZQdilkeRTYz","BattleNumberUIView"),Object.defineProperty(i,"__esModule",{value:!0}),i.BattleNumberUIView=void 0;var o=e("../Component/BattleNumberUIViewScript"),n=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.m_script=null,t.m_value=0,t}return __extends(t,e),t.prototype.onInitNode=function(t){e.prototype.onInitNode.call(this,t),this.m_script=t?t.getComponent(o.default):null,this.onSetValue()},t.prototype.onUnInitNode=function(t){this.m_script=null,e.prototype.onUnInitNode.call(this,t)},t.prototype.setValue=function(e){this.m_value=e,this.onSetValue()},t.prototype.onSetValue=function(){this.m_script&&(this.m_script.valueLabel.string=this.m_value+"")},t}(miniframe.LazyNode);i.BattleNumberUIView=n,cc._RF.pop()},{"../Component/BattleNumberUIViewScript":"BattleNumberUIViewScript"}],BattlePlayerData:[function(e,t,i){"use strict";cc._RF.push(t,"f71126+bYBInryh9T1CZgJ5","BattlePlayerData"),Object.defineProperty(i,"__esModule",{value:!0}),i.BattlePlayerData=void 0;i.BattlePlayerData=function(){this.name="",this.totalPower=0,this.equipPower=0,this.reputationPower=0,this.addiPower=0,this.attrs={},this.equips=[],this.pkAttr=0,this.powerCurrent=0,this.powerTotal=0,this.npcBaseID=0,this.monsterID=0},cc._RF.pop()},{}],BattlePlayerItemUIViewScript:[function(e,t,i){"use strict";cc._RF.push(t,"fc973io6r9CiZM7nI0QWM2y","BattlePlayerItemUIViewScript"),Object.defineProperty(i,"__esModule",{value:!0});var o=e("../../../../Extension/UI/Label/UITextScript"),n=e("../../../../Extension/UI/Item/ItemUIViewScript"),r=cc._decorator,a=r.ccclass,s=r.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.nameLabel=null,t.powerLabel=null,t.powerProgressBar=null,t.attrIcon=null,t.attrLabel=null,t}return __extends(t,e),__decorate([s(o.default)],t.prototype,"nameLabel",void 0),__decorate([s(o.default)],t.prototype,"powerLabel",void 0),__decorate([s(cc.ProgressBar)],t.prototype,"powerProgressBar",void 0),__decorate([s(cc.Sprite)],t.prototype,"attrIcon",void 0),__decorate([s(o.default)],t.prototype,"attrLabel",void 0),__decorate([a],t)}(n.default);i.default=p,cc._RF.pop()},{"../../../../Extension/UI/Item/ItemUIViewScript":"ItemUIViewScript","../../../../Extension/UI/Label/UITextScript":"UITextScript"}],BattlePlayerItemUIView:[function(e,t,i){"use strict";cc._RF.push(t,"1ac29IRiMBJKZ8PhJIMSJKr","BattlePlayerItemUIView"),Object.defineProperty(i,"__esModule",{value:!0}),i.BattlePlayerItemUIView=void 0;var o=e("../../../../Extension/UI/Sprite/UISprite"),n=e("../../Core/Control/CoreConsts"),r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.m_attrIcon=null,t.m_powerCurrent=0,t.m_powerTotal=0,t.m_powerProgress=0,t.m_powerProgressDisplay=0,t}return __extends(t,e),t.prototype.onInitScript=function(){e.prototype.onInitScript.call(this);var t=this.m_script;t&&t.attrIcon&&(this.m_attrIcon||(this.m_attrIcon=new o.UISprite),this.m_attrIcon.bindScript(t.attrIcon))},t.prototype.onSetData=function(t,i,o){return o&&(this.m_powerCurrent=0,this.m_powerTotal=0,this.m_powerProgress=0,this.m_powerProgressDisplay=0),i&&(o&&t.nameLabel&&(t.nameLabel.string=i.name),t.powerLabel&&(t.powerLabel.string=i.powerCurrent+""),t.powerProgressBar&&(t.powerProgressBar.progress=i.powerCurrent/i.powerTotal),this.m_attrIcon&&this.m_attrIcon.hookAtlasSprite("ATLAS_Attrs","attr_"+i.pkAttr),t.attrLabel&&(t.attrLabel.string=i.attrs[i.pkAttr]+""),this.m_powerCurrent=i.powerCurrent,this.m_powerTotal=i.powerTotal,this.m_powerProgress=this.m_powerTotal>0?this.m_powerCurrent/this.m_powerTotal:0,this.m_powerProgressDisplay=this.m_powerProgress,this.updatePowerVisual()),e.prototype.onSetData.call(this,t,i,o)},t.prototype.addAddiPower=function(){if(this.getData()){var e=this.getData();e.addiPower<=0||this.addPower(e.addiPower)}},t.prototype.addPower=function(e){if(this.getData()){var t=this.getData();t.powerCurrent+=e,t.powerCurrent>t.powerTotal&&(t.powerCurrent=t.powerTotal),this.m_powerCurrent=t.powerCurrent,this.m_powerProgress=this.m_powerTotal>0?this.m_powerCurrent/this.m_powerTotal:0}},t.prototype.updatePower=function(e){this.m_powerProgressDisplay<this.m_powerProgress&&(this.m_powerProgressDisplay+=n.CoreConsts.BattlePowerProgressMoveSpeed*e*.001,this.m_powerProgressDisplay>this.m_powerProgress&&(this.m_powerProgressDisplay=this.m_powerProgress),this.updatePowerVisual())},t.prototype.updatePowerVisual=function(){var e=this.m_script;e&&(e.powerProgressBar&&(e.powerProgressBar.progress=this.m_powerProgressDisplay),e.powerLabel&&(e.powerLabel.string=Math.floor(this.m_powerProgressDisplay*this.m_powerTotal)+""))},t}(e("../Basic/BusinessItemUIView").BusinessItemUIView);i.BattlePlayerItemUIView=r,cc._RF.pop()},{"../../../../Extension/UI/Sprite/UISprite":"UISprite","../../Core/Control/CoreConsts":"CoreConsts","../Basic/BusinessItemUIView":"BusinessItemUIView"}],BattleUIMediator:[function(e,t,i){"use strict";cc._RF.push(t,"b614eubdthBFLSrFig9aI0x","BattleUIMediator"),Object.defineProperty(i,"__esModule",{value:!0}),i.BattleUIMediator=void 0;var o=e("../../../../Config/ConfigKeyDefine"),n=e("../../../Business/Control/BattleDataController"),r=e("../../../Business/Control/CharDataController"),a=e("../../../Business/Control/CopyDataController"),s=e("../../../Business/Control/ExpressDataController"),p=e("../../../Business/Control/ItemDataController"),u=e("../../../Business/Control/LimitDataController"),c=e("../../../Business/Define/AwardTypeDefine"),l=e("../../../Business/Define/ButtonTipsHandlerDefine"),d=e("../../../Business/Define/CommonTypeDefine"),f=e("../../../Business/Define/ControlCodeDefine"),g=e("../../../Business/Define/ItemPackTypeDefine"),m=e("../../../Business/Define/ValueTypeDefine"),h=e("../../../Business/Define/WindowTypeDefine"),_=e("../../../Core/Express/Control/ExpressResources"),y=e("../../../Core/Express/ExpressWorld"),C=e("../../../MiniGame"),I=e("../../Core/Control/CoreConsts"),D=e("../../Core/Control/CoreGameController"),v=e("../Basic/BusinessUIMediator"),S=e("../Component/BattleUIScript"),b=e("../Define/BusinessUILayerDefine"),T=e("../View/AwardItemUIView"),P=e("../View/BattleItemSlotUIView"),M=e("../View/BattleNumberUIView"),E=e("../View/BattlePlayerItemUIView"),B=function(e){function t(){var t=e.call(this,"BattleUIMediator","PF_UI_Battle",b.BusinessUILayerDefine.UI,!1,!1,!0,!0,!0,h.WindowTypeDefine.Default)||this;return t.m_battleScript=null,t.m_playerItems=[],t.m_awardItems=[],t.m_fightData=null,t.m_leftSlotLocsList=[],t.m_rightSloLocsList=[],t.m_leftEquipItems=[],t.m_rightEquipItems=[],t.m_leftReputationItem=null,t.m_rightReputationItem=null,t.m_freeNumbers=[],t.m_startAwards=[],t.m_endAwards=[],t.m_aniCallback=null,t.m_aniCallbackTarget=null,t.m_aniStayTimeMS=0,t.m_listeningTime=!1,t}return __extends(t,e),t.prototype.onUIMediatorInit=function(t,i){if(e.prototype.onUIMediatorInit.call(this,t,i),this.m_battleScript=t?t.getComponent(S.default):null,this.m_battleScript){if(this.m_battleScript.playerItems.length>0)for(var o=this.m_battleScript.playerItems.length,n=0;n<o;n++)n>=this.m_playerItems.length&&this.m_playerItems.push(new E.BattlePlayerItemUIView(this.getMediatorName())),this.m_playerItems[n].bindNode(this.m_battleScript.playerItems[n]);if(this.m_battleScript.awardItems.length>0)for(o=this.m_battleScript.awardItems.length,n=0;n<o;n++)n>=this.m_awardItems.length&&this.m_awardItems.push(new T.AwardItemUIView(this.getMediatorName())),this.m_awardItems[n].bindNode(this.m_battleScript.awardItems[n]);this.initSlotLocs(this.m_leftSlotLocsList,this.m_battleScript.leftItemSlotRanges),this.initSlotLocs(this.m_rightSloLocsList,this.m_battleScript.rightItemSlotRanges)}},t.prototype.onUIMediatorUnInit=function(){for(;this.m_awardItems.length>0;)this.m_awardItems.pop().dispose();for(;this.m_playerItems.length>0;)this.m_playerItems.pop().dispose();this.m_battleScript=null,e.prototype.onUIMediatorUnInit.call(this)},t.prototype.onUIMediatorPrepare=function(t,i){e.prototype.onUIMediatorPrepare.call(this,t,i),this.m_startAwards.length>0&&this.m_startAwards.splice(0,this.m_startAwards.length),this.m_endAwards.length>0&&this.m_endAwards.splice(0,this.m_endAwards.length),this.m_fightData=i,this.m_playerItems[0].setData(this.m_fightData.hostPlayerData),this.m_playerItems[1].setData(this.m_fightData.npcPlayerData),this.setButtonVisible("close",!1)},t.prototype.onUIMediatorOpen=function(t,i){e.prototype.onUIMediatorOpen.call(this,t,i),this.startBattle()},t.prototype.onUIMediatorClose=function(t){if(e.prototype.onUIMediatorClose.call(this,t),(!this.m_fightData||this.m_fightData.limitID<=0)&&C.MiniGame.ButtonTips.refreshButtonTipsByHandler(l.ButtonTipsHandlerDefine.WantedTimes),this.m_fightData&&this.m_fightData.npcPlayerData.monsterID>0&&C.MiniGame.ButtonTips.refreshButtonTipsByHandler(l.ButtonTipsHandlerDefine.CityTips,!0,!0),this.m_startAwards.length>0&&this.m_endAwards.length>0)for(var i=Math.min(this.m_startAwards.length,this.m_endAwards.length),o=0;o<i;o++)this.flyAward(this.m_startAwards[o],this.m_endAwards[o]);this.m_fightData.battleResult>0&&this.m_fightData.npcPlayerData.monsterID>0&&a.CopyDataController.Instance.notifyUpdate(f.ControlCodeDefine.CopyMonsterClear,this.m_fightData.npcPlayerData.monsterID)},t.prototype.onButtonClick=function(t){e.prototype.onButtonClick.call(this,t)},t.prototype.flyAward=function(e,t){if(e.x==c.AwardTypeDefine.Item)if(e.y<d.CommonTypeDefine.ItemIDStart){var i=e.y,n=e.z,r=I.CoreConsts.BenefitValueFlyNums[i],a=miniframe.random.randomIntWith(r),s=_.ExpressResources.Instance.requestDropValueBody(i);s.setParent(this.m_battleScript?this.m_battleScript.flyStartNode:null),D.CoreGameController.Instance.flyValueNodeTo(i,n,s,a,y.ExpressWorld.Instance.getCameraPosition(),!0,!0);var p=I.CoreConsts.FlyValueAudioIDs[i];C.MiniGame.Audio.playAudio(p)}else{(l=_.ExpressResources.Instance.requestDropBody(3,e.y)).setParent(this.m_battleScript?this.m_battleScript.flyStartNode:null);var u=miniframe.Config.getData(o.ConfigKeyDefine.ITEM_INFO,e.y);u&&l.setIcon(u.getIconAt(0),u.getIconAt(1)),D.CoreGameController.Instance.flyEventNodeTo("bookweapon",l,1,y.ExpressWorld.Instance.getCameraPosition(),!1,void 0,void 0,D.CoreGameController.Instance.tryFlyAwardText,D.CoreGameController.Instance,["bookweapon_text",e])}else{var l,f=0,g=0,m=miniframe.Config.getData(o.ConfigKeyDefine.EXPRESS_EVENT_BAG,e.y);m&&(f=m.getType(),g=m.getSubType()),(l=_.ExpressResources.Instance.requestDropBody(1,f,g)).setParent(this.m_battleScript?this.m_battleScript.flyStartNode:null),t.x==c.AwardTypeDefine.Item?D.CoreGameController.Instance.flyEventNodeTo("bookweapon",l,1,y.ExpressWorld.Instance.getCameraPosition(),!1,void 0,void 0,D.CoreGameController.Instance.tryFlyAwardText,D.CoreGameController.Instance,["bookweapon_text",t]):D.CoreGameController.Instance.flyEventNodeTo("event",l,1,y.ExpressWorld.Instance.getCameraPosition(),!1,void 0,void 0,D.CoreGameController.Instance.tryFlyAwardText,D.CoreGameController.Instance,["event_text",e])}},t.prototype.initSlotLocs=function(e,t){if(t.length>0)for(var i=I.CoreConsts.BattleItemSlotCell,o=0,n=0,r=t.length,a=0;a<r;a++)a>=e.length?e.push([]):e[a].length>0&&e[a].splice(0,e[a].length),o=Math.floor(t[a].width/i),n=Math.floor(t[a].height/i),this.fillSlotLocs(e[a],o,n)},t.prototype.fillSlotLocs=function(e,t,i){for(var o=0;o<t;o++)for(var n=0;n<i;n++)e.push(new cc.Vec2(o,n))},t.prototype.getSlotLocPosition=function(e,t){return new cc.Vec2(t.x-.5*t.width+I.CoreConsts.BattleItemSlotCell*e.x,t.y+.5*t.height-I.CoreConsts.BattleItemSlotCell*e.y)},t.prototype.startBattle=function(){this.m_fightData.limitID>0&&u.LimitDataController.Instance.handleAddLimit(this.m_fightData.limitID,1),this.m_battleScript&&(this.m_battleScript.startFightNode.active=!0,this.m_battleScript.weakWinNode.active=!1,this.m_battleScript.weakLoseNode.active=!1),this.playAnimation("battle_start_fight",this.onBattleStartFightAniComplete,this,I.CoreConsts.BattleStartFightAniEndDelayMS)},t.prototype.onBattleStartFightAniComplete=function(){this.playAnimation("battle_weak_step_1",this.onBattleWeakStep1Complete,this,I.CoreConsts.BattleWeakStep1AniEndDelayMS)},t.prototype.onBattleWeakStep1Complete=function(){this.playAnimation(this.m_fightData.attrResult>0?"battle_weak_step_2_win":"battle_weak_step_2_lose",this.onBattleWeakStep2Complete,this,I.CoreConsts.BattleWeakStep2AniEndDelayMS)},t.prototype.onBattleWeakStep2Complete=function(){if(this.m_battleScript){this.m_battleScript.startFightNode.active=!1,this.m_battleScript.weakWinNode.active=this.m_fightData.attrResult>0,this.m_battleScript.weakLoseNode.active=this.m_fightData.attrResult<0;for(var e=this.m_battleScript.weakBuffLabels.length,t=0;t<e;t++)this.m_battleScript.weakBuffLabels[t].setLanguageFormat(this.m_battleScript.weakBuffLabels[t].lanValue,this.m_fightData.attrPowerAddi)}this.playAnimation(this.m_fightData.attrResult>0?"battle_weak_step_3_win":"battle_weak_step_3_lose",this.onBattleWeakStep3Complete,this,I.CoreConsts.BattleWeakStep3AniEndDelayMS)},t.prototype.onBattleWeakStep3Complete=function(){this.m_fightData.attrResult>0?this.playAnimation("battle_weak_step_4",this.onBattleWeakStep4Complete,this,I.CoreConsts.BattleWeakStep4AniEndDelayMS):this.onBattleWeakStep4Complete()},t.prototype.onBattleWeakStep4Complete=function(){if(this.m_fightData.attrResult>0){this.listenTime();for(var e=this.m_playerItems.length,t=0;t<e;t++)this.m_playerItems[t].addAddiPower()}this.startShowEquips()},t.prototype.startShowEquips=function(){if(this.m_fightData.hostPlayerData.equips.length<=0&&this.m_fightData.npcPlayerData.equips.length<=0)this.onShowEquipComplete();else{var e=this.m_fightData.hostPlayerData.equips.length>=this.m_fightData.npcPlayerData.equips.length,t=e&&this.m_leftEquipItems.length<=0,i=!e&&this.m_rightEquipItems.length<=0;this.startShowReputationWith(0,this.m_fightData.hostPlayerData.reputationPower,this.m_battleScript.leftCenter.getPosition(),t?this.onShowEquipComplete:null,t?this:null),this.startShowReputationWith(1,this.m_fightData.npcPlayerData.reputationPower,this.m_battleScript.rightCenter.getPosition(),i?this.onShowEquipComplete:null,i?this:null),this.startShowEquipsWith(0,this.m_leftEquipItems,this.m_fightData.hostPlayerData.equips,this.m_leftSlotLocsList,this.m_battleScript.leftItemSlotRanges,this.m_battleScript.leftCenter.getPosition(),e?this.onShowEquipComplete:null,e?this:null),this.startShowEquipsWith(1,this.m_rightEquipItems,this.m_fightData.npcPlayerData.equips,this.m_rightSloLocsList,this.m_battleScript.rightItemSlotRanges,this.m_battleScript.rightCenter.getPosition(),e?null:this.onShowEquipComplete,e?null:this)}},t.prototype.startShowReputationWith=function(e,t,i,o,n){var r=1==e?this.m_rightReputationItem:this.m_leftReputationItem;if(!r){var a=cc.instantiate(this.m_battleScript.equipitemTemplate);this.m_battleScript.equipContainer.addChild(a),(r=new P.BattleItemSlotUIView(this.getMediatorName())).bindNode(a),1==e?this.m_rightReputationItem=r:this.m_leftReputationItem=r}var s=this.m_battleScript?1==e?this.m_battleScript.rightReputation:this.m_battleScript.leftReputation:null,p=s?s.getPosition():cc.Vec2.ZERO;r.setSide(e),r.setDistance(miniframe.distance(p,i)),r.setPriority(1),r.getNode().setPosition(p),r.getNode().opacity=255,r.getNode().scale=1,r.setData(new cc.Vec2(m.ValueTypeDefine.Reputation,t)),r.animateShow(0,o,n)},t.prototype.startShowEquipsWith=function(e,t,i,o,n,r,a,s){for(var p=[],u=[],c=o.length,l=0;l<c;l++)p.push(o[l].slice()),u.push([]);var d=0,f=null,g=null,m=null;for(c=i.length,l=0;l<c;l++)p[d].length<=0&&(miniframe.safePushList(p[d],u[d]),u[d].splice(0,u[d].length)),f=miniframe.random.randomWithList(p[d],!0),u[d].push(f),g=this.getSlotLocPosition(f,n[d]),++d>=n.length&&(d=0),l>=t.length&&(m=cc.instantiate(this.m_battleScript.equipitemTemplate),this.m_battleScript.equipContainer.addChild(m),t.push(new P.BattleItemSlotUIView(this.getMediatorName())),t[l].bindNode(m)),t[l].setSide(e),t[l].setDistance(miniframe.distance(g,r)),t[l].setPriority(0),t[l].getNode().setPosition(g),t[l].getNode().opacity=255,t[l].getNode().scale=1,t[l].setData(i[l]),t[l].hide(),t[l].animateShow((l+1)*I.CoreConsts.BattleItemShowGapMS,l==c-1?a:null,l==c-1?s:null);if(t.length>c)for(;t.length>c;)t.pop().dispose(!0)},t.prototype.onShowEquipComplete=function(){var e=this;setTimeout(function(){e.startItemPK()},I.CoreConsts.BattleItemShopCompleteDelayMS)},t.prototype.startItemPK=function(){this.listenTime(),this.playAnimation("battle_itempk_step_1",this.onBattleItemPKStep1Complete,this,I.CoreConsts.BattleItemPKStep1AniEndDelayMS)},t.prototype.onBattleItemPKStep1Complete=function(){if(this.m_leftEquipItems.length<=0&&this.m_rightEquipItems.length<=0)this.onMoveEquipsComplete();else{var e=this.m_leftEquipItems.length>=this.m_rightEquipItems.length;this.moveEquipItemsTo(this.m_leftEquipItems,this.m_leftReputationItem,this.m_battleScript.leftCenter.getPosition(),e),this.moveEquipItemsTo(this.m_rightEquipItems,this.m_rightReputationItem,this.m_battleScript.rightCenter.getPosition(),!e)}},t.prototype.compareEquipItems=function(e,t){return e.getPriority()!=t.getPriority()?e.getPriority()-t.getPriority():-(e.getDistance()-t.getDistance())},t.prototype.moveEquipItemsTo=function(e,t,i,o){var n=e.slice();n.push(t),n.sort(this.compareEquipItems);for(var r=0,a=null;n.length>0;)a=n.pop(),this.moveEquipItemTo(r,a,i,n.length<=0,o),r++},t.prototype.moveEquipItemTo=function(e,t,i,o,n){var r=this,a=t.getNode(),s=miniframe.distance(a.getPosition(),i)/I.CoreConsts.BattleItemMoveSpeed,p=a.getPosition(),u=new cc.Vec2(p.x+2*(p.x-i.x),p.y+200),c=cc.tween(a);c.bezierTo(s,p,u,i),n&&o?c.call(function(){t.animateComplete(),r.addEquipPower(t),r.onMoveEquipsComplete()}):c.call(function(){t.animateComplete(),r.addEquipPower(t)}),e>0?setTimeout(function(){c.start()},e*I.CoreConsts.BattleItemMoveGapMS):c.start()},t.prototype.addEquipPower=function(e){var t=e.getData(),i=e.getSide();this.m_playerItems[i].addPower(e.getPower()),this.showNumberAt(i,e.getPower(),t&&1==t.z?2:1)},t.prototype.onMoveEquipsComplete=function(){var e=this;setTimeout(function(){e.showResult()},I.CoreConsts.BattleItemMoveEndDelayMS)},t.prototype.showResult=function(){this.unlistenTime(),this.m_startAwards.length>0&&this.m_startAwards.splice(0,this.m_startAwards.length),this.m_endAwards.length>0&&this.m_endAwards.splice(0,this.m_endAwards.length);var e=null,t=null;if(this.m_fightData.battleResult>0)if(this.m_fightData.award){if(this.m_fightData.award.x==c.AwardTypeDefine.Item)e=new cc.Vec3(this.m_fightData.award.x,this.m_fightData.award.y,this.m_fightData.award.z),p.ItemDataController.Instance.handleAddItem(g.ItemPackTypeDefine.Default,this.m_fightData.award.y,this.m_fightData.award.z),this.m_startAwards.push(e),this.m_endAwards.push(e);else if(this.m_fightData.award.x==c.AwardTypeDefine.BookEvent||this.m_fightData.award.x==c.AwardTypeDefine.WeaponEvent){var i=0,n=null,a=this.m_fightData.award.y,u=miniframe.Config.getData(o.ConfigKeyDefine.EXPRESS_EVENT_BAG,a);if(u)if(s.ExpressDataController.Instance.isEventGroupFull(a,u))(m=miniframe.Config.getData(o.ConfigKeyDefine.EXPRESS_EVENT,u.getEventsAt(0)))&&(i=m.getDropbagAt(0))>0&&(n=miniframe.Config.getData(o.ConfigKeyDefine.DROPBAG,i))&&(e=new cc.Vec3(c.AwardTypeDefine.Item,n.getDropsAt(0).x,n.getDropsAt(0).y),this.m_startAwards.push(new cc.Vec3(1==u.getSubType()?c.AwardTypeDefine.BookEvent:c.AwardTypeDefine.WeaponEvent,a,1)),this.m_endAwards.push(e));else{u.getSubType()>0&&(e=new cc.Vec3(1==u.getSubType()?c.AwardTypeDefine.BookEvent:c.AwardTypeDefine.WeaponEvent,a,1),this.m_startAwards.push(e),this.m_endAwards.push(e));for(var l=u.getEventsCount(),f=0;f<l;f++)if(!s.ExpressDataController.Instance.isEventUsed(a,u.getEventsAt(f),!1)){var m;s.ExpressDataController.Instance.handleAddUsedEvent(a,u.getEventsAt(f),!1,l),(m=miniframe.Config.getData(o.ConfigKeyDefine.EXPRESS_EVENT,u.getEventsAt(f)))&&(i=m.getDropbagFirstAt(0))>0&&(n=miniframe.Config.getData(o.ConfigKeyDefine.DROPBAG,i));break}}(n=miniframe.Config.getData(o.ConfigKeyDefine.DROPBAG,i))&&r.CharDataController.Instance.handleAddCharValues(n.getDrops())}}else if(this.m_fightData.dropBag>0&&(t=[],n=miniframe.Config.getData(o.ConfigKeyDefine.DROPBAG,this.m_fightData.dropBag)))for(l=n.getDropsCount(),f=0;f<l;f++)t.push(new cc.Vec3(c.AwardTypeDefine.Item,n.getDropsAt(f).x,n.getDropsAt(f).y)),this.m_startAwards.push(t[f]),this.m_endAwards.push(t[f]),r.CharDataController.Instance.handleAddCharValue(t[f].y,t[f].z,t[f].y>=d.CommonTypeDefine.ItemIDStart);if(e)for(l=this.m_awardItems.length,f=0;f<l;f++)0==f?this.m_awardItems[f].setData(e):this.m_awardItems[f].clearData();else if(t)for(l=this.m_awardItems.length,f=0;f<l;f++)f<t.length?this.m_awardItems[f].setData(t[f]):this.m_awardItems[f].clearData();else for(l=this.m_awardItems.length,f=0;f<l;f++)this.m_awardItems[f].clearData();this.m_battleScript&&(this.m_battleScript.winNode.active=this.m_fightData.battleResult>0,this.m_battleScript.loseNode.active=this.m_fightData.battleResult<0),this.playAnimation("battle_result_show",this.onShowResultStart,this)},t.prototype.onShowResultStart=function(){this.playAnimation(this.m_fightData.battleResult>0?"battle_result_win":"battle_result_lose",this.onShowResultComplete,this)},t.prototype.onShowResultComplete=function(){this.m_fightData.battleResult>0&&(this.m_fightData.npcPlayerData.npcBaseID>0?n.BattleDataController.Instance.handleSetNPCState(this.m_fightData.npcPlayerData.npcBaseID,1):this.m_fightData.npcPlayerData.monsterID>0&&(a.CopyDataController.Instance.handleAddMonsterID(this.m_fightData.npcPlayerData.monsterID),a.CopyDataController.Instance.handleRemoveMonsterData(this.m_fightData.npcPlayerData.monsterID))),this.setButtonVisible("close",!0)},t.prototype.playAnimation=function(e,t,i,o){void 0===o&&(o=0),this.m_aniCallback=t,this.m_aniCallbackTarget=i,this.m_aniStayTimeMS=o,this.m_script&&this.m_script.viewAniComp?(this.m_script.viewAniComp.on(cc.Animation.EventType.FINISHED,this.onAnimationComplete,this),this.m_script.viewAniComp.play(e)):this.onAnimationComplete()},t.prototype.onAnimationComplete=function(){var e=this;this.m_script&&this.m_script.viewAniComp&&this.m_script.viewAniComp.off(cc.Animation.EventType.FINISHED,this.onAnimationComplete,this),this.m_aniStayTimeMS>0?setTimeout(function(){e.onAnimationCallback()},this.m_aniStayTimeMS):this.onAnimationCallback()},t.prototype.onAnimationCallback=function(){if(this.m_aniStayTimeMS=0,this.m_aniCallback){var e=this.m_aniCallback,t=this.m_aniCallbackTarget;this.m_aniCallback=null,this.m_aniCallbackTarget=null,e.call(t)}},t.prototype.showNumberAt=function(e,t,i){void 0===i&&(i=1),this.m_battleScript&&this.showNumberInRange(t,1==e?this.m_battleScript.rightNumberRange:this.m_battleScript.leftNumberRange,i)},t.prototype.showNumberInRange=function(e,t,i){void 0===i&&(i=1);var o=miniframe.random.randomInt(.5*-t.width,.5*t.width),n=miniframe.random.randomInt(.5*-t.height,.5*t.height),r=new cc.Vec2(t.x+o,t.y+n);this.showNumber(e,r,i)},t.prototype.showNumber=function(e,t,i){void 0===i&&(i=1);var o=this.requestNumber(i);o.setValue(e),o.setPosition(t),o.show(),o.playAnimation("battle_number_"+i+"_show",this.onNumberAniComplete,this)},t.prototype.onNumberAniComplete=function(e,t){this.recycleNumber(t)},t.prototype.requestNumber=function(e){void 0===e&&(e=1);var t=null;return this.m_freeNumbers.length>0?t=this.m_freeNumbers.pop():(t=new M.BattleNumberUIView).setParent(this.m_battleScript?this.m_battleScript.numberContainer:null),t.loadResource("PF_Fight_Number_"+e),t},t.prototype.recycleNumber=function(e){e.hide(),miniframe.safePush(this.m_freeNumbers,e)},t.prototype.listenTime=function(){this.m_listeningTime||(this.m_listeningTime=!0,miniframe.Timer.addUpdateEventListener(this))},t.prototype.unlistenTime=function(){this.m_listeningTime&&(this.m_listeningTime=!1,miniframe.Timer.removeUpdateEventListener(this))},t.prototype.onTimeSystemUpdate=function(e){for(var t=this.m_playerItems.length,i=0;i<t;i++)this.m_playerItems[i].updatePower(e);return!1},t.prototype.onDataControllerUpdate=function(){},t}(v.BusinessUIMediator);i.BattleUIMediator=B,cc._RF.pop()},{"../../../../Config/ConfigKeyDefine":"ConfigKeyDefine","../../../Business/Control/BattleDataController":"BattleDataController","../../../Business/Control/CharDataController":"CharDataController","../../../Business/Control/CopyDataController":"CopyDataController","../../../Business/Control/ExpressDataController":"ExpressDataController","../../../Business/Control/ItemDataController":"ItemDataController","../../../Business/Control/LimitDataController":"LimitDataController","../../../Business/Define/AwardTypeDefine":"AwardTypeDefine","../../../Business/Define/ButtonTipsHandlerDefine":"ButtonTipsHandlerDefine","../../../Business/Define/CommonTypeDefine":"CommonTypeDefine","../../../Business/Define/ControlCodeDefine":"ControlCodeDefine","../../../Business/Define/ItemPackTypeDefine":"ItemPackTypeDefine","../../../Business/Define/ValueTypeDefine":"ValueTypeDefine","../../../Business/Define/WindowTypeDefine":"WindowTypeDefine","../../../Core/Express/Control/ExpressResources":"ExpressResources","../../../Core/Express/ExpressWorld":"ExpressWorld","../../../MiniGame":"MiniGame","../../Core/Control/CoreConsts":"CoreConsts","../../Core/Control/CoreGameController":"CoreGameController","../Basic/BusinessUIMediator":"BusinessUIMediator","../Component/BattleUIScript":"BattleUIScript","../Define/BusinessUILayerDefine":"BusinessUILayerDefine","../View/AwardItemUIView":"AwardItemUIView","../View/BattleItemSlotUIView":"BattleItemSlotUIView","../View/BattleNumberUIView":"BattleNumberUIView","../View/BattlePlayerItemUIView":"BattlePlayerItemUIView"}],BattleUIScript:[function(e,t,i){"use strict";cc._RF.push(t,"65bddQM34NNnoZy40ADmfMb","BattleUIScript"),Object.defineProperty(i,"__esModule",{value:!0});var o=e("../../../../Extension/UI/Label/UITextScript"),n=cc._decorator,r=n.ccclass,a=n.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.playerItems=[],t.equipitemTemplate=null,t.equipContainer=null,t.startFightNode=null,t.weakWinNode=null,t.weakLoseNode=null,t.weakBuffLabels=[],t.winNode=null,t.loseNode=null,t.leftCenter=null,t.leftReputation=null,t.leftItemSlotRanges=[],t.rightCenter=null,t.rightReputation=null,t.rightItemSlotRanges=[],t.numberContainer=null,t.leftNumberRange=null,t.rightNumberRange=null,t.awardItems=[],t.flyStartNode=null,t}return __extends(t,e),__decorate([a([cc.Node])],t.prototype,"playerItems",void 0),__decorate([a(cc.Prefab)],t.prototype,"equipitemTemplate",void 0),__decorate([a(cc.Node)],t.prototype,"equipContainer",void 0),__decorate([a(cc.Node)],t.prototype,"startFightNode",void 0),__decorate([a(cc.Node)],t.prototype,"weakWinNode",void 0),__decorate([a(cc.Node)],t.prototype,"weakLoseNode",void 0),__decorate([a([o.default])],t.prototype,"weakBuffLabels",void 0),__decorate([a(cc.Node)],t.prototype,"winNode",void 0),__decorate([a(cc.Node)],t.prototype,"loseNode",void 0),__decorate([a(cc.Node)],t.prototype,"leftCenter",void 0),__decorate([a(cc.Node)],t.prototype,"leftReputation",void 0),__decorate([a([cc.Node])],t.prototype,"leftItemSlotRanges",void 0),__decorate([a(cc.Node)],t.prototype,"rightCenter",void 0),__decorate([a(cc.Node)],t.prototype,"rightReputation",void 0),__decorate([a([cc.Node])],t.prototype,"rightItemSlotRanges",void 0),__decorate([a(cc.Node)],t.prototype,"numberContainer",void 0),__decorate([a(cc.Node)],t.prototype,"leftNumberRange",void 0),__decorate([a(cc.Node)],t.prototype,"rightNumberRange",void 0),__decorate([a([cc.Node])],t.prototype,"awardItems",void 0),__decorate([a(cc.Node)],t.prototype,"flyStartNode",void 0),__decorate([r],t)}(cc.Component);i.default=s,cc._RF.pop()},{"../../../../Extension/UI/Label/UITextScript":"UITextScript"}],BuildingAttrItemUIViewScript:[function(e,t,i){"use strict";cc._RF.push(t,"17f97sa1alJQbjgTKZw+988","BuildingAttrItemUIViewScript"),Object.defineProperty(i,"__esModule",{value:!0});var o=e("../../../../Extension/UI/Label/UITextScript"),n=e("../../../../Extension/UI/Item/ItemUIViewScript"),r=cc._decorator,a=r.ccclass,s=r.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.icon=null,t.labels=[],t.nodes=[],t}return __extends(t,e),__decorate([s(cc.Sprite)],t.prototype,"icon",void 0),__decorate([s([o.default])],t.prototype,"labels",void 0),__decorate([s([cc.Node])],t.prototype,"nodes",void 0),__decorate([a],t)}(n.default);i.default=p,cc._RF.pop()},{"../../../../Extension/UI/Item/ItemUIViewScript":"ItemUIViewScript","../../../../Extension/UI/Label/UITextScript":"UITextScript"}],BuildingAttrItemUIView:[function(e,t,i){"use strict";cc._RF.push(t,"7ce29PiJfpLDpsD6dGsMc1n","BuildingAttrItemUIView"),Object.defineProperty(i,"__esModule",{value:!0}),i.BuildingAttrItemUIView=void 0;var o=e("../../../../Extension/UI/Sprite/UISprite"),n=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.m_icon=null,t.m_attrType=0,t.m_growConfigChanged=!1,t.m_currentGrowConfig=null,t.m_nextGrowConfig=null,t}return __extends(t,e),t.prototype.onInitScript=function(){e.prototype.onInitScript.call(this);var t=this.getScript();t&&t.icon&&(this.m_icon||(this.m_icon=new o.UISprite),this.m_icon.bindScript(t.icon))},t.prototype.onSetData=function(e,t,i){if((i||this.m_growConfigChanged)&&(this.m_growConfigChanged=!1,t&&""!=t)){var o=t.split("|");if(1==this.m_attrType){e.nodes.length>0&&(e.nodes[0].active=!0);var n=0,r=0;if(o.length>0&&(n=miniframe.toNumber(o[0])),o.length>1&&(r=miniframe.toNumber(o[1])),this.m_icon&&(o.length>3?this.m_icon.hookAtlasSprite(o[2],o[3]):this.m_icon.clear()),e.labels.length>0){e.labels[0].string="",o.length>4&&(s=miniframe.toNumber(o[4]))>0&&e.labels[0].setLanguage(s);var a=0;o.length>5&&(a=miniframe.toNumber(o[5])),a>0?(e.labels[0].overflow=cc.Label.Overflow.CLAMP,e.labels[0].node.width=a):e.labels[0].overflow=cc.Label.Overflow.NONE}e.labels.length>1&&(e.labels[1].string="",o.length>6?""==o[6]?e.nodes.length>0&&(e.nodes[0].active=!1):(s=miniframe.toNumber(o[6]))>0?e.labels[1].setLanguageFormat(s,this.getCurrentProp(n,r)):e.labels[1].string=this.getCurrentProp(n,r)+"":e.nodes.length>0&&(e.nodes[0].active=!1)),e.labels.length>2&&(e.labels[2].string="",this.m_nextGrowConfig&&o.length>7?""==o[7]?e.nodes.length>0&&(e.nodes[0].active=!1):(s=miniframe.toNumber(o[7]))>0?e.labels[2].setLanguageFormat(s,this.getNextProp(n,r)):e.labels[2].string=this.getNextProp(n,r)+"":e.nodes.length>0&&(e.nodes[0].active=!1))}else{var s;this.m_icon&&(o.length>1?this.m_icon.hookAtlasSprite(o[0],o[1]):this.m_icon.clear()),e.labels.length>0&&(e.labels[0].string="",o.length>2&&(s=miniframe.toNumber(o[2]))>0&&e.labels[0].setLanguage(s)),e.labels.length>1&&(e.labels[1].string="",o.length>3&&(s=miniframe.toNumber(o[3]))>0&&e.labels[1].setLanguage(s))}}return!!t},t.prototype.setAttrType=function(e){this.m_attrType=e},t.prototype.setGrowConfigs=function(e,t){this.m_currentGrowConfig==e&&this.m_nextGrowConfig==t||(this.m_growConfigChanged=!0,this.m_currentGrowConfig=e,this.m_nextGrowConfig=t)},t.prototype.getCurrentProp=function(e,t){return this.getPropByConfig(this.m_currentGrowConfig,e,t)},t.prototype.getNextProp=function(e,t){return this.getPropByConfig(this.m_nextGrowConfig,e,t)},t.prototype.getPropByConfig=function(e,t,i){if(!e)return 0;switch(t){case 1:return this.getPropIn(e.getAttrs(),i);case 2:return this.getPropIn(e.getIncomes(),i);case 3:return this.getPropIn(e.getLevelupIncomes(),i);case 4:return this.getPropIn(e.getRates(),i)}return 0},t.prototype.getPropIn=function(e,t){if(e.length<=0)return 0;if(t<=0)return e[0].y;for(var i=e.length,o=0;o<i;o++)if(e[o].x==t)return e[o].y;return 0},t}(e("../Basic/BusinessItemUIView").BusinessItemUIView);i.BuildingAttrItemUIView=n,cc._RF.pop()},{"../../../../Extension/UI/Sprite/UISprite":"UISprite","../Basic/BusinessItemUIView":"BusinessItemUIView"}],BuildingBuyUIMediator:[function(e,t,i){"use strict";cc._RF.push(t,"0e48bMMfVRABoBJ33nC+5ai","BuildingBuyUIMediator"),Object.defineProperty(i,"__esModule",{value:!0}),i.BuildingBuyUIMediator=void 0;var o=e("../../../../Config/ConfigKeyDefine"),n=e("../../../Business/Control/CharDataController"),r=e("../../../Business/Control/ExpressDataController"),a=e("../../../Business/Define/ValueTypeDefine"),s=e("../../../Business/Define/VideoTypeDefine"),p=e("../Basic/BusinessUIMediator"),u=e("../../../MiniGame"),c=e("../Component/BuildingBuyUIScript"),l=e("../Define/BusinessUILayerDefine"),d=e("../View/BuildingAttrItemUIView"),f=e("../../../Business/Control/GuideDataController"),g=e("../../../Business/Define/WindowTypeDefine"),m=e("../../Core/Control/CoreConsts"),h=e("../../Core/Control/CoreGameController"),_=e("../../../Core/Express/Control/ExpressResources"),y=function(e){function t(){var t=e.call(this,"BuildingBuyUIMediator","PF_UI_BuyBuilding",l.BusinessUILayerDefine.UI,!1,!1,!0,!0,!0,g.WindowTypeDefine.Default)||this;return t.m_buyBuildingScript=null,t.m_attrItems=[],t.m_cityID=0,t.m_slotID=0,t.m_cityConfig=null,t.m_cityData=null,t.m_buildingConfig=null,t.m_activeConfig=null,t.m_currentGrowConfig=null,t.m_nextGrowConfig=null,t.m_realConsume=[],t.m_coinNeed=0,t}return __extends(t,e),t.prototype.onUIMediatorInit=function(t,i){if(e.prototype.onUIMediatorInit.call(this,t,i),this.m_buyBuildingScript=t?t.getComponent(c.default):null,this.m_buyBuildingScript)for(var o=this.m_buyBuildingScript.attrItems.length,n=0;n<o;n++)n>=this.m_attrItems.length&&(this.m_attrItems.push(new d.BuildingAttrItemUIView(this.getMediatorName())),this.m_attrItems[n].setAttrType(0)),this.m_attrItems[n].bindNode(this.m_buyBuildingScript.attrItems[n])},t.prototype.onUIMediatorUnInit=function(){for(;this.m_attrItems.length>0;)this.m_attrItems.pop().dispose();this.m_buyBuildingScript=null,e.prototype.onUIMediatorUnInit.call(this)},t.prototype.onUIMediatorPrepare=function(t,i){e.prototype.onUIMediatorPrepare.call(this,t,i);var s=i;if(this.m_cityID=s.x,this.m_slotID=s.y,this.m_cityConfig=miniframe.Config.getData(o.ConfigKeyDefine.EXPRESS_CITY,this.m_cityID),this.m_cityData=r.ExpressDataController.Instance.getCityData(this.m_cityID),this.m_buyBuildingScript.titleLabel&&this.m_buyBuildingScript.titleLabel.setLanguage(this.m_cityConfig.getNameLan()),this.m_buildingConfig=miniframe.Config.getData(o.ConfigKeyDefine.EXPRESS_BUILDING,this.m_slotID),this.m_buyBuildingScript.nameLabel){var p=u.MiniGame.Locale.getLanguage(this.m_buildingConfig.getNameLan());this.m_buyBuildingScript.nameLabel.setLanguageFormat(this.m_buyBuildingScript.nameLabel.lanValue,p)}this.m_activeConfig=miniframe.Config.getData(o.ConfigKeyDefine.EXPRESS_BUILDING_LEVELUP,1),this.m_coinNeed=0,this.m_realConsume.length>0&&this.m_realConsume.splice(0,this.m_realConsume.length);var c=r.ExpressDataController.Instance.getCityRealConsumeMap(this.m_activeConfig.getConsumes());if(c){for(var l in c)this.m_realConsume.push(new miniframe.Number2(parseInt(l),c[l]));this.m_coinNeed=c[a.ValueTypeDefine.Coin]||0}var d=this.m_cityData.getStar();this.m_currentGrowConfig=miniframe.Config.getData(o.ConfigKeyDefine.EXPRESS_STATION_GROW,d),this.m_nextGrowConfig=miniframe.Config.getData(o.ConfigKeyDefine.EXPRESS_STATION_GROW,d+1);var f=this.m_cityData.getBuildingCount(),g=(this.m_currentGrowConfig?this.m_currentGrowConfig.getBuildingCount():0)-f,m=(this.m_nextGrowConfig?this.m_nextGrowConfig.getBuildingCount():0)-f;if(g<0&&(g=0),g<=0){this.m_buyBuildingScript.nextCreateLabel&&this.m_buyBuildingScript.nextCreateLabel.setLanguageFormat(this.m_buyBuildingScript.createLabel.lanValue,m);for(var h=this.m_buyBuildingScript.nextStarNodes.length,_=0;_<h;_++)this.m_buyBuildingScript.nextStarNodes[_]&&(this.m_buyBuildingScript.nextStarNodes[_].active=_<=d);this.m_buyBuildingScript.activeNode&&(this.m_buyBuildingScript.activeNode.active=!1),this.m_buyBuildingScript.deactiveNode&&(this.m_buyBuildingScript.deactiveNode.active=!0)}else this.m_buyBuildingScript.consumeLabel&&(this.m_buyBuildingScript.consumeLabel.string=n.CharDataController.Instance.formatValueString(this.m_coinNeed+"")),this.m_buyBuildingScript.createLabel&&this.m_buyBuildingScript.createLabel.setLanguageFormat(this.m_buyBuildingScript.createLabel.lanValue,g),this.m_buyBuildingScript.activeNode&&(this.m_buyBuildingScript.activeNode.active=!0),this.m_buyBuildingScript.deactiveNode&&(this.m_buyBuildingScript.deactiveNode.active=!1);var y=this.m_attrItems.length;for(_=0;_<y;_++)_<this.m_buildingConfig.getCreateDescLanCount()?this.m_attrItems[_].setData(this.m_buildingConfig.getCreateDescLanAt(_)):this.m_attrItems[_].clearData()},t.prototype.onUIMediatorClose=function(t){e.prototype.onUIMediatorClose.call(this,t)},t.prototype.onButtonClick=function(t){switch(t){case"buy":var i=this.m_realConsume;if(i&&i.length>0){if(!n.CharDataController.Instance.compareCharValues(i,!0))return;n.CharDataController.Instance.handleRemoveCharValues(i)}this.onDoBuy(0,null,1);break;case"ad":minisdk.ads&&minisdk.ads.isRewardedVideoOpened()&&(this.lockUI(),minisdk.ads.showRewardedVideo(s.VideoTypeDefine.BuildingBuy,null,this.onDoBuy,this));break;default:e.prototype.onButtonClick.call(this,t)}},t.prototype.onDoBuy=function(e,t,i){if(this.unlockUI(),1==i){r.ExpressDataController.Instance.addListener(this);var a=100*this.m_slotID+1,s=miniframe.Config.getData(o.ConfigKeyDefine.EXPRESS_BUILDING_GROW,a),p=this.m_activeConfig?this.m_activeConfig.getExp():0,u=s?s.getLevelupIncomes():null;if(r.ExpressDataController.Instance.handleActiveCitySlot(this.m_cityID,this.m_slotID,this.m_slotID)){if(f.GuideDataController.Instance.triggerGuideByBuildingLevel(this.m_cityID,this.m_slotID,1),u&&u.length>0){n.CharDataController.Instance.handleAddCharValues(u,!1);var c=u[0].x,l=u[0].y,d=m.CoreConsts.SceneValueFlyNums[c],g=miniframe.random.randomIntWith(d),y=_.ExpressResources.Instance.requestDropValueBody(c);y.setParent(this.m_script.node),h.CoreGameController.Instance.flyValueNodeTo(c,l,y,g,void 0,!0,!0)}p>0&&r.ExpressDataController.Instance.handleAddCityStarExp(this.m_cityID,p)}this.onClose()}},t.prototype.onDataControllerUpdate=function(){},t}(p.BusinessUIMediator);i.BuildingBuyUIMediator=y,cc._RF.pop()},{"../../../../Config/ConfigKeyDefine":"ConfigKeyDefine","../../../Business/Control/CharDataController":"CharDataController","../../../Business/Control/ExpressDataController":"ExpressDataController","../../../Business/Control/GuideDataController":"GuideDataController","../../../Business/Define/ValueTypeDefine":"ValueTypeDefine","../../../Business/Define/VideoTypeDefine":"VideoTypeDefine","../../../Business/Define/WindowTypeDefine":"WindowTypeDefine","../../../Core/Express/Control/ExpressResources":"ExpressResources","../../../MiniGame":"MiniGame","../../Core/Control/CoreConsts":"CoreConsts","../../Core/Control/CoreGameController":"CoreGameController","../Basic/BusinessUIMediator":"BusinessUIMediator","../Component/BuildingBuyUIScript":"BuildingBuyUIScript","../Define/BusinessUILayerDefine":"BusinessUILayerDefine","../View/BuildingAttrItemUIView":"BuildingAttrItemUIView"}],BuildingBuyUIScript:[function(e,t,i){"use strict";cc._RF.push(t,"5c6a6A3pWtIILEs5bHTEn2E","BuildingBuyUIScript"),Object.defineProperty(i,"__esModule",{value:!0});var o=e("../../../../Extension/UI/Label/UITextScript"),n=cc._decorator,r=n.ccclass,a=n.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.titleLabel=null,t.nameLabel=null,t.consumeLabel=null,t.createLabel=null,t.nextCreateLabel=null,t.nextStarNodes=[],t.attrItems=[],t.activeNode=null,t.deactiveNode=null,t}return __extends(t,e),__decorate([a(o.default)],t.prototype,"titleLabel",void 0),__decorate([a(o.default)],t.prototype,"nameLabel",void 0),__decorate([a(o.default)],t.prototype,"consumeLabel",void 0),__decorate([a(o.default)],t.prototype,"createLabel",void 0),__decorate([a(o.default)],t.prototype,"nextCreateLabel",void 0),__decorate([a([cc.Node])],t.prototype,"nextStarNodes",void 0),__decorate([a([cc.Node])],t.prototype,"attrItems",void 0),__decorate([a(cc.Node)],t.prototype,"activeNode",void 0),__decorate([a(cc.Node)],t.prototype,"deactiveNode",void 0),__decorate([r],t)}(cc.Component);i.default=s,cc._RF.pop()},{"../../../../Extension/UI/Label/UITextScript":"UITextScript"}],BuildingItemUIViewScript:[function(e,t,i){"use strict";cc._RF.push(t,"5f3b3zyVJ5DxbB/miSacWG1","BuildingItemUIViewScript"),Object.defineProperty(i,"__esModule",{value:!0});var o=e("../../../../Extension/UI/Label/UITextScript"),n=e("../../../../Extension/UI/Item/ItemUIViewScript"),r=cc._decorator,a=r.ccclass,s=r.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.levelLabel=null,t.conditionStarNodes=[],t.activeNode=null,t.deactiveNode=null,t.canActiveNode=null,t.canLevelUpNode=null,t.canBuildUpNode=null,t}return __extends(t,e),__decorate([s(o.default)],t.prototype,"levelLabel",void 0),__decorate([s([cc.Node])],t.prototype,"conditionStarNodes",void 0),__decorate([s(cc.Node)],t.prototype,"activeNode",void 0),__decorate([s(cc.Node)],t.prototype,"deactiveNode",void 0),__decorate([s(cc.Node)],t.prototype,"canActiveNode",void 0),__decorate([s(cc.Node)],t.prototype,"canLevelUpNode",void 0),__decorate([s(cc.Node)],t.prototype,"canBuildUpNode",void 0),__decorate([a],t)}(n.default);i.default=p,cc._RF.pop()},{"../../../../Extension/UI/Item/ItemUIViewScript":"ItemUIViewScript","../../../../Extension/UI/Label/UITextScript":"UITextScript"}],BuildingItemUIView:[function(e,t,i){"use strict";cc._RF.push(t,"9ddcdNcqaBJXovB1p0cdkPf","BuildingItemUIView"),Object.defineProperty(i,"__esModule",{value:!0}),i.BuildingItemUIView=void 0;var o=e("../../../../Config/ConfigKeyDefine"),n=e("../../../Business/Control/ExpressDataController"),r=e("../../../Business/Define/SystemIDDefine"),a=e("../../../MiniGame"),s=e("../../MediatorNameDefine"),p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.m_buildingConfig=null,t.m_cityData=null,t.m_slotID=0,t.m_starNeed=0,t.m_canLevelUp=!1,t.m_canBuild=!1,t}return __extends(t,e),t.prototype.onInitScript=function(){e.prototype.onInitScript.call(this)},t.prototype.onSetData=function(e,t,i){i&&(this.m_buildingConfig=null,this.m_canLevelUp=!1);var s=0;if(t&&(s=t.getBuildingID()),s>0){this.m_buildingConfig||(this.m_buildingConfig=miniframe.Config.getData(o.ConfigKeyDefine.EXPRESS_BUILDING,s)),e.levelLabel&&(e.levelLabel.string=t.getBuildingLevel()+""),e.activeNode&&(e.activeNode.active=!0),e.deactiveNode&&(e.deactiveNode.active=!1),e.canActiveNode&&(e.canActiveNode.active=!1);for(var p=e.conditionStarNodes.length,u=0;u<p;u++)e.conditionStarNodes[u]&&(e.conditionStarNodes[u].active=!1);this.m_canLevelUp=a.MiniGame.SystemOpen.isSystemOpen(r.SystemIDDefine.CityBuildingCanLevelUp),this.m_canLevelUp&&(this.m_canLevelUp=n.ExpressDataController.Instance.isCityBuildingCanLevelUp(this.getCityID(),s)),e.canLevelUpNode&&(e.canLevelUpNode.active=this.m_canLevelUp),this.m_canBuild=!1}else for(this.m_canLevelUp=!1,this.m_canBuild=a.MiniGame.SystemOpen.isSystemOpen(r.SystemIDDefine.CityBuildingCanBuild),this.m_canBuild&&(this.m_canBuild=this.m_starNeed<=0),e.canBuildUpNode&&(e.canBuildUpNode.active=this.m_canBuild),e.activeNode&&(e.activeNode.active=!1),e.deactiveNode&&(e.deactiveNode.active=this.m_starNeed>0),e.canActiveNode&&(e.canActiveNode.active=this.m_starNeed<=0),e.canLevelUpNode&&(e.canLevelUpNode.active=!1),p=e.conditionStarNodes.length,u=0;u<p;u++)e.conditionStarNodes[u]&&(e.conditionStarNodes[u].active=u<this.m_starNeed);return!0},t.prototype.onButtonClick=function(t){switch(t){case"go":if(!this.m_cityData)return;var i=0;if(this.getData()&&(i=this.getData().getBuildingID()),i>0){var o=new cc.Vec2(this.m_cityData.getCityID(),this.m_slotID);a.MiniGame.MVC.openMediator(s.MediatorNameDefine.BuildingLevelUpUIMediator,o)}else o=new cc.Vec2(this.m_cityData.getCityID(),this.m_slotID),a.MiniGame.MVC.openMediator(s.MediatorNameDefine.BuildingBuyUIMediator,o);break;default:e.prototype.onButtonClick.call(this,t)}},t.prototype.getCityID=function(){return this.m_cityData?this.m_cityData.getCityID():0},t.prototype.getButtonKey=function(){return t.ButtonKeyPrefix+this.m_slotID},t.prototype.getRealButtonKey=function(){return this.getButtonKey()},t.prototype.setCityData=function(e){this.m_cityData=e},t.prototype.setSlotID=function(e){this.m_slotID=e},t.prototype.setStarNeed=function(e){this.m_starNeed=e},t.prototype.canLevelUp=function(){return this.m_canLevelUp},t.prototype.getBuildingType=function(){return this.m_buildingConfig?this.m_buildingConfig.getType():0},t.ButtonKeyPrefix="building_",t}(e("../Basic/BusinessItemUIView").BusinessItemUIView);i.BuildingItemUIView=p,cc._RF.pop()},{"../../../../Config/ConfigKeyDefine":"ConfigKeyDefine","../../../Business/Control/ExpressDataController":"ExpressDataController","../../../Business/Define/SystemIDDefine":"SystemIDDefine","../../../MiniGame":"MiniGame","../../MediatorNameDefine":"MediatorNameDefine","../Basic/BusinessItemUIView":"BusinessItemUIView"}],BuildingLevelUpUIMediator:[function(e,t,i){"use strict";cc._RF.push(t,"fc716qrR+ZMAIRK641ZXXgJ","BuildingLevelUpUIMediator"),Object.defineProperty(i,"__esModule",{value:!0}),i.BuildingLevelUpUIMediator=void 0;var o=e("../../../../Config/ConfigKeyDefine"),n=e("../../../../Extension/UI/Sprite/UISprite"),r=e("../../../Business/Control/CharDataController"),a=e("../../../Business/Control/ExpressDataController"),s=e("../../../Business/Define/ControlCodeDefine"),p=e("../../../Business/Define/ValueTypeDefine"),u=e("../Basic/BusinessUIMediator"),c=e("../../../MiniGame"),l=e("../Component/BuildingLevelUpUIScript"),d=e("../Define/BusinessUILayerDefine"),f=e("../View/BuildingAttrItemUIView"),g=e("../../../Business/Control/GuideDataController"),m=e("../../../Business/Define/WindowTypeDefine"),h=e("../../Core/Control/CoreConsts"),_=e("../../../Core/Express/Control/ExpressResources"),y=e("../../Core/Control/CoreGameController"),C=function(e){function t(){var t=e.call(this,"BuildingLevelUpUIMediator","PF_UI_LevelupBuilding",d.BusinessUILayerDefine.UI,!1,!1,!0,!0,!0,m.WindowTypeDefine.Default)||this;return t.m_levelUpScript=null,t.m_icon=null,t.m_attrItems=[],t.m_cityID=0,t.m_slotID=0,t.m_cityData=null,t.m_slotData=null,t.m_buildingConfig=null,t.m_nextLevel=0,t.m_nextLevelConfig=null,t.m_currentGrowConfig=null,t.m_nextGrowConfig=null,t.m_realConsume=[],t.m_coinNeed=0,t}return __extends(t,e),t.prototype.onUIMediatorInit=function(t,i){if(e.prototype.onUIMediatorInit.call(this,t,i),this.m_levelUpScript=t?t.getComponent(l.default):null,this.m_levelUpScript){this.m_levelUpScript.icon&&(this.m_icon||(this.m_icon=new n.UISprite),this.m_icon.bindScript(this.m_levelUpScript.icon));for(var o=this.m_levelUpScript.attrItems.length,r=0;r<o;r++)r>=this.m_attrItems.length&&(this.m_attrItems.push(new f.BuildingAttrItemUIView(this.getMediatorName())),this.m_attrItems[r].setAttrType(1)),this.m_attrItems[r].bindNode(this.m_levelUpScript.attrItems[r])}},t.prototype.onUIMediatorUnInit=function(){for(this.m_icon&&(this.m_icon.dispose(),this.m_icon=null);this.m_attrItems.length>0;)this.m_attrItems.pop().dispose();this.m_levelUpScript=null,e.prototype.onUIMediatorUnInit.call(this)},t.prototype.onUIMediatorPrepare=function(t,i){e.prototype.onUIMediatorPrepare.call(this,t,i);var n=i;if(this.m_cityID=n.x,this.m_slotID=n.y,this.m_cityData=a.ExpressDataController.Instance.getCityData(this.m_cityID),this.m_slotData=this.m_cityData.getSlot(this.m_slotID),this.m_nextLevel=0,this.m_levelUpScript.titleLabel){var r=miniframe.Config.getData(o.ConfigKeyDefine.EXPRESS_CITY,this.m_cityID);r?this.m_levelUpScript.titleLabel.setLanguage(r.getNameLan()):this.m_levelUpScript.titleLabel.string=""}this.m_buildingConfig=miniframe.Config.getData(o.ConfigKeyDefine.EXPRESS_BUILDING,this.m_slotData.getBuildingID()),this.m_buildingConfig&&(this.m_levelUpScript.nameLabel&&this.m_levelUpScript.nameLabel.setLanguage(this.m_buildingConfig.getNameLan()),this.m_levelUpScript.descLabel&&this.m_levelUpScript.descLabel.setLanguage(this.m_buildingConfig.getDescLan()),this.m_icon&&this.m_icon.hookAtlasSprite(this.m_buildingConfig.getIconAt(0),this.m_buildingConfig.getIconAt(1))),this.updateLevelInfo()},t.prototype.onUIMediatorClose=function(t){e.prototype.onUIMediatorClose.call(this,t),a.ExpressDataController.Instance.removeListener(this)},t.prototype.onButtonClick=function(t){switch(t){case"levelup":if(!this.m_slotData)return;if(!this.m_nextLevelConfig)return;var i=this.m_realConsume;if(i&&i.length>0){if(!r.CharDataController.Instance.compareCharValues(i,!0))return;r.CharDataController.Instance.handleRemoveCharValues(i)}this.onDoLevelUp();break;default:e.prototype.onButtonClick.call(this,t)}},t.prototype.updateLevelInfo=function(){if(this.m_coinNeed=0,this.m_realConsume.length>0&&this.m_realConsume.splice(0,this.m_realConsume.length),this.m_levelUpScript.currentLevelLabel&&(this.m_levelUpScript.currentLevelLabel.string=this.m_slotData.getBuildingLevel()+""),this.m_nextLevel=this.m_slotData.getBuildingLevel()+1,this.m_nextLevelConfig=miniframe.Config.getData(o.ConfigKeyDefine.EXPRESS_BUILDING_LEVELUP,this.m_nextLevel),this.m_nextLevelConfig){this.m_levelUpScript.nextLevelNode&&(this.m_levelUpScript.nextLevelNode.active=!0),this.m_levelUpScript.nextLevelLabel&&(this.m_levelUpScript.nextLevelLabel.string=this.m_nextLevel+"");var e=a.ExpressDataController.Instance.getCityRealConsumeMap(this.m_nextLevelConfig.getConsumes());if(e){for(var t in e)this.m_realConsume.push(new miniframe.Number2(parseInt(t),e[t]));this.m_coinNeed=e[p.ValueTypeDefine.Coin]||0}if(this.m_cityData.getStar()<this.m_nextLevelConfig.getStarLimit()){for(var i=this.m_nextLevelConfig.getStarLimit(),n=this.m_levelUpScript.conditionStarNodes.length,s=0;s<n;s++)this.m_levelUpScript.conditionStarNodes[s]&&(this.m_levelUpScript.conditionStarNodes[s].active=s<i);this.m_levelUpScript.activeNode&&(this.m_levelUpScript.activeNode.active=!1),this.m_levelUpScript.deactiveNode&&(this.m_levelUpScript.deactiveNode.active=!0)}else this.m_levelUpScript.activeNode&&(this.m_levelUpScript.activeNode.active=!0),this.m_levelUpScript.deactiveNode&&(this.m_levelUpScript.deactiveNode.active=!1),this.m_levelUpScript.consumeLabel&&(this.m_levelUpScript.consumeLabel.string=r.CharDataController.Instance.formatValueString(this.m_coinNeed+""));this.m_levelUpScript.fullNode&&(this.m_levelUpScript.fullNode.active=!1),this.m_levelUpScript.developNode&&(this.m_levelUpScript.developNode.active=!0)}else this.m_levelUpScript.nextLevelNode&&(this.m_levelUpScript.nextLevelNode.active=!1),this.m_levelUpScript.activeNode&&(this.m_levelUpScript.activeNode.active=!0),this.m_levelUpScript.deactiveNode&&(this.m_levelUpScript.deactiveNode.active=!1),this.m_levelUpScript.fullNode&&(this.m_levelUpScript.fullNode.active=!0),this.m_levelUpScript.developNode&&(this.m_levelUpScript.developNode.active=!1);if(this.m_buildingConfig){var u=100*this.m_buildingConfig.getType()+this.m_slotData.getBuildingLevel();this.m_currentGrowConfig=miniframe.Config.getData(o.ConfigKeyDefine.EXPRESS_BUILDING_GROW,u);var c=100*this.m_buildingConfig.getType()+this.m_nextLevel;for(this.m_nextGrowConfig=miniframe.Config.getData(o.ConfigKeyDefine.EXPRESS_BUILDING_GROW,c),n=this.m_attrItems.length,s=0;s<n;s++)s<this.m_buildingConfig.getAttrDescLanCount()?(this.m_attrItems[s].setGrowConfigs(this.m_currentGrowConfig,this.m_nextGrowConfig),this.m_attrItems[s].setData(this.m_buildingConfig.getAttrDescLanAt(s)),0==s&&(this.m_nextGrowConfig?this.m_attrItems[s].show():this.m_attrItems[s].hide())):this.m_attrItems[s].clearData()}},t.prototype.onDoLevelUp=function(){this.lockUI(),a.ExpressDataController.Instance.addListener(this);var e=this.m_nextLevelConfig?this.m_nextLevelConfig.getExp():0,t=this.m_nextGrowConfig?this.m_nextGrowConfig.getLevelupIncomes():null;if(a.ExpressDataController.Instance.handleSetCitySlotLevel(this.m_cityID,this.m_slotID,this.m_nextLevel)&&(g.GuideDataController.Instance.triggerGuideByBuildingLevel(this.m_cityID,this.m_slotID,this.m_nextLevel),a.ExpressDataController.Instance.handleResetCityCoinAwardTime(this.m_cityID),e>0&&a.ExpressDataController.Instance.handleAddCityStarExp(this.m_cityID,e),t&&t.length>0)){r.CharDataController.Instance.handleAddCharValues(t,!1);var i=t[0].x,o=t[0].y,n=h.CoreConsts.SceneValueFlyNums[i],s=miniframe.random.randomIntWith(n),p=_.ExpressResources.Instance.requestDropValueBody(i);p.setParent(this.m_script.node),y.CoreGameController.Instance.flyValueNodeTo(i,o,p,s,void 0,!0,!0)}},t.prototype.onDataControllerUpdate=function(e,t){switch(e){case s.ControlCodeDefine.ExpressCitySlotUpdate:var i=t;if(this.m_cityID!=i.x||this.m_slotID!=i.y)return;this.unlockUI(),this.updateLevelInfo(),c.MiniGame.Audio.playAudio(53),this.m_script&&this.m_script.viewAniComp&&this.m_script.viewAniComp.play("anim_levelupbuilding")}},t}(u.BusinessUIMediator);i.BuildingLevelUpUIMediator=C,cc._RF.pop()},{"../../../../Config/ConfigKeyDefine":"ConfigKeyDefine","../../../../Extension/UI/Sprite/UISprite":"UISprite","../../../Business/Control/CharDataController":"CharDataController","../../../Business/Control/ExpressDataController":"ExpressDataController","../../../Business/Control/GuideDataController":"GuideDataController","../../../Business/Define/ControlCodeDefine":"ControlCodeDefine","../../../Business/Define/ValueTypeDefine":"ValueTypeDefine","../../../Business/Define/WindowTypeDefine":"WindowTypeDefine","../../../Core/Express/Control/ExpressResources":"ExpressResources","../../../MiniGame":"MiniGame","../../Core/Control/CoreConsts":"CoreConsts","../../Core/Control/CoreGameController":"CoreGameController","../Basic/BusinessUIMediator":"BusinessUIMediator","../Component/BuildingLevelUpUIScript":"BuildingLevelUpUIScript","../Define/BusinessUILayerDefine":"BusinessUILayerDefine","../View/BuildingAttrItemUIView":"BuildingAttrItemUIView"}],BuildingLevelUpUIScript:[function(e,t,i){"use strict";cc._RF.push(t,"f7b649sAbZIbrPhhmKXa8jS","BuildingLevelUpUIScript"),Object.defineProperty(i,"__esModule",{value:!0});var o=e("../../../../Extension/UI/Label/UITextScript"),n=cc._decorator,r=n.ccclass,a=n.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.icon=null,t.titleLabel=null,t.nameLabel=null,t.descLabel=null,t.currentLevelLabel=null,t.nextLevelLabel=null,t.nextLevelNode=null,t.conditionStarNodes=[],t.attrItems=[],t.consumeLabel=null,t.activeNode=null,t.deactiveNode=null,t.fullNode=null,t.developNode=null,t}return __extends(t,e),__decorate([a(cc.Sprite)],t.prototype,"icon",void 0),__decorate([a(o.default)],t.prototype,"titleLabel",void 0),__decorate([a(o.default)],t.prototype,"nameLabel",void 0),__decorate([a(o.default)],t.prototype,"descLabel",void 0),__decorate([a(o.default)],t.prototype,"currentLevelLabel",void 0),__decorate([a(o.default)],t.prototype,"nextLevelLabel",void 0),__decorate([a(cc.Node)],t.prototype,"nextLevelNode",void 0),__decorate([a([cc.Node])],t.prototype,"conditionStarNodes",void 0),__decorate([a([cc.Node])],t.prototype,"attrItems",void 0),__decorate([a(o.default)],t.prototype,"consumeLabel",void 0),__decorate([a(cc.Node)],t.prototype,"activeNode",void 0),__decorate([a(cc.Node)],t.prototype,"deactiveNode",void 0),__decorate([a(cc.Node)],t.prototype,"fullNode",void 0),__decorate([a(cc.Node)],t.prototype,"developNode",void 0),__decorate([r],t)}(cc.Component);i.default=s,cc._RF.pop()},{"../../../../Extension/UI/Label/UITextScript":"UITextScript"}],BuildingSelectItemUIViewScript:[function(e,t,i){"use strict";cc._RF.push(t,"1d01bznNupOmaogBZiAZZAt","BuildingSelectItemUIViewScript"),Object.defineProperty(i,"__esModule",{value:!0});var o=e("../../../../Extension/UI/Label/UILabelScript"),n=e("../../../../Extension/UI/Item/ItemUIViewScript"),r=cc._decorator,a=r.ccclass,s=r.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.icon=null,t.nameLabel=null,t.descLabel=null,t}return __extends(t,e),__decorate([s(cc.Sprite)],t.prototype,"icon",void 0),__decorate([s(o.default)],t.prototype,"nameLabel",void 0),__decorate([s(o.default)],t.prototype,"descLabel",void 0),__decorate([a],t)}(n.default);i.default=p,cc._RF.pop()},{"../../../../Extension/UI/Item/ItemUIViewScript":"ItemUIViewScript","../../../../Extension/UI/Label/UILabelScript":"UILabelScript"}],BuildingSelectItemUIView:[function(e,t,i){"use strict";cc._RF.push(t,"33097hZ4RFLY6FGbmvZ2xqO","BuildingSelectItemUIView"),Object.defineProperty(i,"__esModule",{value:!0}),i.BuildingSelectItemUIView=void 0;var o=e("../../../../Extension/UI/Sprite/UISprite"),n=e("../../../MiniGame"),r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.m_icon=null,t.m_callback=null,t}return __extends(t,e),t.prototype.onInitScript=function(){e.prototype.onInitScript.call(this);var t=this.getScript();t&&t.icon&&(this.m_icon||(this.m_icon=new o.UISprite),this.m_icon.bindScript(t.icon))},t.prototype.onSetData=function(t,i,o){return o&&this.m_icon&&this.m_icon.clear(),i&&o&&(this.m_icon&&this.m_icon.hookAtlasSprite(i.getIconAt(0),i.getIconAt(1)),t.nameLabel&&(t.nameLabel.string=n.MiniGame.Locale.getLanguage(i.getNameLan())),t.descLabel&&(t.descLabel.string=n.MiniGame.Locale.getLanguage(i.getDescLan()))),e.prototype.onSetData.call(this,t,i,o)},t.prototype.onButtonClick=function(t){switch(t){case"go":if(!this.getData())return;this.m_callback&&this.m_callback.invoke(this.getData());break;default:e.prototype.onButtonClick.call(this,t)}},t.prototype.setClickCallback=function(e){this.m_callback=e},t}(e("../Basic/BusinessItemUIView").BusinessItemUIView);i.BuildingSelectItemUIView=r,cc._RF.pop()},{"../../../../Extension/UI/Sprite/UISprite":"UISprite","../../../MiniGame":"MiniGame","../Basic/BusinessItemUIView":"BusinessItemUIView"}],BuildingSelectListUIMediator:[function(e,t,i){"use strict";cc._RF.push(t,"bbcb3h4VRhNhIKk2ei96jIM","BuildingSelectListUIMediator"),Object.defineProperty(i,"__esModule",{value:!0}),i.BuildingSelectListUIMediator=void 0;var o=e("../../../../Config/ConfigKeyDefine"),n=e("../../../Business/Define/WindowTypeDefine"),r=e("../Basic/BusinessUIMediator"),a=e("../Component/BuildingSelectListUIScript"),s=e("../Define/BusinessUILayerDefine"),p=e("../View/BuildingSelectItemUIView"),u=function(e){function t(){var t=e.call(this,"BuildingSelectListUIMediator","PF_UI_SelectBuildingList",s.BusinessUILayerDefine.UI,!1,!1,!0,!0,!0,n.WindowTypeDefine.Default)||this;return t.m_selectListScript=null,t.m_buildingItems=[],t.m_localCallback=null,t.m_inputCallback=null,t}return __extends(t,e),t.prototype.onUIMediatorInit=function(t,i){if(e.prototype.onUIMediatorInit.call(this,t,i),this.m_selectListScript=t?t.getComponent(a.default):null,this.m_selectListScript&&this.m_selectListScript.buildingNode&&this.m_selectListScript.buildingItemTemplate){this.m_localCallback||(this.m_localCallback=new miniframe.Callback(this.onBuildingItemClick,this));for(var n=miniframe.Config.getDataList(o.ConfigKeyDefine.EXPRESS_BUILDING,!0,!0),r=null,s=n.length,u=0;u<s;u++)u>=this.m_buildingItems.length&&(this.m_buildingItems.push(new p.BuildingSelectItemUIView(this.getMediatorName())),r=cc.instantiate(this.m_selectListScript.buildingItemTemplate),this.m_selectListScript.buildingNode.addChild(r),this.m_buildingItems[u].bindNode(r)),this.m_buildingItems[u].setData(n[u]),this.m_buildingItems[u].setClickCallback(this.m_localCallback)}},t.prototype.onUIMediatorUnInit=function(){for(;this.m_buildingItems.length>0;)this.m_buildingItems.pop().dispose();this.m_selectListScript=null,e.prototype.onUIMediatorUnInit.call(this)},t.prototype.onUIMediatorPrepare=function(t,i){e.prototype.onUIMediatorPrepare.call(this,t,i),this.m_inputCallback=i},t.prototype.onUIMediatorClose=function(t){e.prototype.onUIMediatorClose.call(this,t)},t.prototype.onButtonClick=function(t){e.prototype.onButtonClick.call(this,t)},t.prototype.onBuildingItemClick=function(e){this.m_inputCallback&&this.m_inputCallback.invoke(e),this.onClose()},t.prototype.onDataControllerUpdate=function(){},t}(r.BusinessUIMediator);i.BuildingSelectListUIMediator=u,cc._RF.pop()},{"../../../../Config/ConfigKeyDefine":"ConfigKeyDefine","../../../Business/Define/WindowTypeDefine":"WindowTypeDefine","../Basic/BusinessUIMediator":"BusinessUIMediator","../Component/BuildingSelectListUIScript":"BuildingSelectListUIScript","../Define/BusinessUILayerDefine":"BusinessUILayerDefine","../View/BuildingSelectItemUIView":"BuildingSelectItemUIView"}],BuildingSelectListUIScript:[function(e,t,i){"use strict";cc._RF.push(t,"4c37cO0IHZLAoEfIBdxEVA2","BuildingSelectListUIScript"),Object.defineProperty(i,"__esModule",{value:!0});var o=cc._decorator,n=o.ccclass,r=o.property,a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.buildingNode=null,t.buildingItemTemplate=null,t}return __extends(t,e),__decorate([r(cc.Node)],t.prototype,"buildingNode",void 0),__decorate([r(cc.Prefab)],t.prototype,"buildingItemTemplate",void 0),__decorate([n],t)}(cc.Component);i.default=a,cc._RF.pop()},{}],BusinessInitializer:[function(e,t,i){"use strict";cc._RF.push(t,"47992OG/eZGeonzLkqI2rep","BusinessInitializer"),Object.defineProperty(i,"__esModule",{value:!0}),i.BusinessInitializer=void 0;var o=e("../Mediator/AnswerCueInfoUIMediator"),n=e("../Mediator/BattleUIMediator"),r=e("../Mediator/BuildingBuyUIMediator"),a=e("../Mediator/BuildingLevelUpUIMediator"),s=e("../Mediator/BuildingSelectListUIMediator"),p=e("../Mediator/CityCreateGuideUIMediator"),u=e("../Mediator/CityCreateUIMediator"),c=e("../Mediator/CityDevelopUIMediator"),l=e("../Mediator/CopyStartUIMediator"),d=e("../Mediator/CurrentEventUIMediator"),f=e("../Mediator/EventContentUIMediator"),g=e("../Mediator/Game1UIMediator"),m=e("../Mediator/Game2UIMediator"),h=e("../Mediator/Game3UIMediator"),_=e("../Mediator/GameRuleUIMediator"),y=e("../Mediator/GetCueInfoUIMediator"),C=e("../Mediator/GuestActiveUIMediator"),I=e("../Mediator/GuestInfoUIMediator"),D=e("../Mediator/GuestIntroUIMediator"),v=e("../Mediator/IdleUIMediator"),S=e("../Mediator/InvestListUIMediator"),b=e("../Mediator/ItemBookUIMediator"),T=e("../Mediator/ItemListUIMediator"),P=e("../Mediator/ItemWeaponUIMediator"),M=e("../Mediator/LoadingFullScreenUIMediator"),E=e("../Mediator/LoadingNormalUIMediator"),B=e("../Mediator/LoadingSimpleUIMediator"),L=e("../Mediator/NavigatorTopUIMediator"),w=e("../Mediator/NavigatorUIMediator"),A=e("../Mediator/PromptAutoUIMediator"),U=e("../Mediator/PromptConfirmUIMediator"),x=e("../Mediator/PromptSimpleUIMediator"),N=e("../Mediator/StoryUIMediator"),k=e("../Mediator/SystemActiveUIMediator"),F=e("../Mediator/TargetListUIMediator"),R=e("../Mediator/WantedUIMediator"),G=e("../Mediator/YinPiaoInfoUIMediator"),O=e("../../MediatorNameDefine"),V=function(){function e(){}return e.CreateAnswerCueInfoUIMediator=function(){return new o.AnswerCueInfoUIMediator},e.CreateBattleUIMediator=function(){return new n.BattleUIMediator},e.CreateBuildingBuyUIMediator=function(){return new r.BuildingBuyUIMediator},e.CreateBuildingLevelUpUIMediator=function(){return new a.BuildingLevelUpUIMediator},e.CreateBuildingSelectListUIMediator=function(){return new s.BuildingSelectListUIMediator},e.CreateCityCreateGuideUIMediator=function(){return new p.CityCreateGuideUIMediator},e.CreateCityCreateUIMediator=function(){return new u.CityCreateUIMediator},e.CreateCityDevelopUIMediator=function(){return new c.CityDevelopUIMediator},e.CreateCopyStartUIMediator=function(){return new l.CopyStartUIMediator},e.CreateCurrentEventUIMediator=function(){return new d.CurrentEventUIMediator},e.CreateEventContentUIMediator=function(){return new f.EventContentUIMediator},e.CreateGame1UIMediator=function(){return new g.Game1UIMediator},e.CreateGame2UIMediator=function(){return new m.Game2UIMediator},e.CreateGame3UIMediator=function(){return new h.Game3UIMediator},e.CreateGameRuleUIMediator=function(){return new _.GameRuleUIMediator},e.CreateGetCueInfoUIMediator=function(){return new y.GetCueInfoUIMediator},e.CreateGuestActiveUIMediator=function(){return new C.GuestActiveUIMediator},e.CreateGuestInfoUIMediator=function(){return new I.GuestInfoUIMediator},e.CreateGuestIntroUIMediator=function(){return new D.GuestIntroUIMediator},e.CreateIdleUIMediator=function(){return new v.IdleUIMediator},e.CreateInvestListUIMediator=function(){return new S.InvestListUIMediator},e.CreateItemBookUIMediator=function(){return new b.ItemBookUIMediator},e.CreateItemListUIMediator=function(){return new T.ItemListUIMediator},e.CreateItemWeaponUIMediator=function(){return new P.ItemWeaponUIMediator},e.CreateLoadingFullScreenUIMediator=function(){return new M.LoadingFullScreenUIMediator},e.CreateLoadingNormalUIMediator=function(){return new E.LoadingNormalUIMediator},e.CreateLoadingSimpleUIMediator=function(){return new B.LoadingSimpleUIMediator},e.CreateNavigatorTopUIMediator=function(){return new L.NavigatorTopUIMediator},e.CreateNavigatorUIMediator=function(){return new w.NavigatorUIMediator},e.CreatePromptAutoUIMediator=function(){return new A.PromptAutoUIMediator},e.CreatePromptConfirmUIMediator=function(){return new U.PromptConfirmUIMediator},e.CreatePromptSimpleUIMediator=function(){return new x.PromptSimpleUIMediator},e.CreateStoryUIMediator=function(){return new N.StoryUIMediator},e.CreateSystemActiveUIMediator=function(){return new k.SystemActiveUIMediator},e.CreateTargetListUIMediator=function(){return new F.TargetListUIMediator},e.CreateWantedUIMediator=function(){return new R.WantedUIMediator},e.CreateYinPiaoInfoUIMediator=function(){return new G.YinPiaoInfoUIMediator},e.prototype.initialize=function(){miniframe.Facade.registerMediatorClass(O.MediatorNameDefine.AnswerCueInfoUIMediator,e.CreateAnswerCueInfoUIMediator),miniframe.Facade.registerMediatorClass(O.MediatorNameDefine.BattleUIMediator,e.CreateBattleUIMediator),miniframe.Facade.registerMediatorClass(O.MediatorNameDefine.BuildingBuyUIMediator,e.CreateBuildingBuyUIMediator),miniframe.Facade.registerMediatorClass(O.MediatorNameDefine.BuildingLevelUpUIMediator,e.CreateBuildingLevelUpUIMediator),miniframe.Facade.registerMediatorClass(O.MediatorNameDefine.BuildingSelectListUIMediator,e.CreateBuildingSelectListUIMediator),miniframe.Facade.registerMediatorClass(O.MediatorNameDefine.CityCreateGuideUIMediator,e.CreateCityCreateGuideUIMediator),miniframe.Facade.registerMediatorClass(O.MediatorNameDefine.CityCreateUIMediator,e.CreateCityCreateUIMediator),miniframe.Facade.registerMediatorClass(O.MediatorNameDefine.CityDevelopUIMediator,e.CreateCityDevelopUIMediator),miniframe.Facade.registerMediatorClass(O.MediatorNameDefine.CopyStartUIMediator,e.CreateCopyStartUIMediator),miniframe.Facade.registerMediatorClass(O.MediatorNameDefine.CurrentEventUIMediator,e.CreateCurrentEventUIMediator),miniframe.Facade.registerMediatorClass(O.MediatorNameDefine.EventContentUIMediator,e.CreateEventContentUIMediator),miniframe.Facade.registerMediatorClass(O.MediatorNameDefine.Game1UIMediator,e.CreateGame1UIMediator),miniframe.Facade.registerMediatorClass(O.MediatorNameDefine.Game2UIMediator,e.CreateGame2UIMediator),miniframe.Facade.registerMediatorClass(O.MediatorNameDefine.Game3UIMediator,e.CreateGame3UIMediator),miniframe.Facade.registerMediatorClass(O.MediatorNameDefine.GameRuleUIMediator,e.CreateGameRuleUIMediator),miniframe.Facade.registerMediatorClass(O.MediatorNameDefine.GetCueInfoUIMediator,e.CreateGetCueInfoUIMediator),miniframe.Facade.registerMediatorClass(O.MediatorNameDefine.GuestActiveUIMediator,e.CreateGuestActiveUIMediator),miniframe.Facade.registerMediatorClass(O.MediatorNameDefine.GuestInfoUIMediator,e.CreateGuestInfoUIMediator),miniframe.Facade.registerMediatorClass(O.MediatorNameDefine.GuestIntroUIMediator,e.CreateGuestIntroUIMediator),miniframe.Facade.registerMediatorClass(O.MediatorNameDefine.IdleUIMediator,e.CreateIdleUIMediator),miniframe.Facade.registerMediatorClass(O.MediatorNameDefine.InvestListUIMediator,e.CreateInvestListUIMediator),miniframe.Facade.registerMediatorClass(O.MediatorNameDefine.ItemBookUIMediator,e.CreateItemBookUIMediator),miniframe.Facade.registerMediatorClass(O.MediatorNameDefine.ItemListUIMediator,e.CreateItemListUIMediator),miniframe.Facade.registerMediatorClass(O.MediatorNameDefine.ItemWeaponUIMediator,e.CreateItemWeaponUIMediator),miniframe.Facade.registerMediatorClass(O.MediatorNameDefine.LoadingFullScreenUIMediator,e.CreateLoadingFullScreenUIMediator),miniframe.Facade.registerMediatorClass(O.MediatorNameDefine.LoadingNormalUIMediator,e.CreateLoadingNormalUIMediator),miniframe.Facade.registerMediatorClass(O.MediatorNameDefine.LoadingSimpleUIMediator,e.CreateLoadingSimpleUIMediator),miniframe.Facade.registerMediatorClass(O.MediatorNameDefine.NavigatorTopUIMediator,e.CreateNavigatorTopUIMediator),miniframe.Facade.registerMediatorClass(O.MediatorNameDefine.NavigatorUIMediator,e.CreateNavigatorUIMediator),miniframe.Facade.registerMediatorClass(O.MediatorNameDefine.PromptAutoUIMediator,e.CreatePromptAutoUIMediator),miniframe.Facade.registerMediatorClass(O.MediatorNameDefine.PromptConfirmUIMediator,e.CreatePromptConfirmUIMediator),miniframe.Facade.registerMediatorClass(O.MediatorNameDefine.PromptSimpleUIMediator,e.CreatePromptSimpleUIMediator),miniframe.Facade.registerMediatorClass(O.MediatorNameDefine.StoryUIMediator,e.CreateStoryUIMediator),miniframe.Facade.registerMediatorClass(O.MediatorNameDefine.SystemActiveUIMediator,e.CreateSystemActiveUIMediator),miniframe.Facade.registerMediatorClass(O.MediatorNameDefine.TargetListUIMediator,e.CreateTargetListUIMediator),miniframe.Facade.registerMediatorClass(O.MediatorNameDefine.WantedUIMediator,e.CreateWantedUIMediator),miniframe.Facade.registerMediatorClass(O.MediatorNameDefine.YinPiaoInfoUIMediator,e.CreateYinPiaoInfoUIMediator)},e.prototype.uninitialize=function(){miniframe.Facade.unregisterMediatorClass(O.MediatorNameDefine.AnswerCueInfoUIMediator),miniframe.Facade.unregisterMediatorClass(O.MediatorNameDefine.BattleUIMediator),miniframe.Facade.unregisterMediatorClass(O.MediatorNameDefine.BuildingBuyUIMediator),miniframe.Facade.unregisterMediatorClass(O.MediatorNameDefine.BuildingLevelUpUIMediator),miniframe.Facade.unregisterMediatorClass(O.MediatorNameDefine.BuildingSelectListUIMediator),miniframe.Facade.unregisterMediatorClass(O.MediatorNameDefine.CityCreateGuideUIMediator),miniframe.Facade.unregisterMediatorClass(O.MediatorNameDefine.CityCreateUIMediator),miniframe.Facade.unregisterMediatorClass(O.MediatorNameDefine.CityDevelopUIMediator),miniframe.Facade.unregisterMediatorClass(O.MediatorNameDefine.CopyStartUIMediator),miniframe.Facade.unregisterMediatorClass(O.MediatorNameDefine.CurrentEventUIMediator),miniframe.Facade.unregisterMediatorClass(O.MediatorNameDefine.EventContentUIMediator),miniframe.Facade.unregisterMediatorClass(O.MediatorNameDefine.Game1UIMediator),miniframe.Facade.unregisterMediatorClass(O.MediatorNameDefine.Game2UIMediator),miniframe.Facade.unregisterMediatorClass(O.MediatorNameDefine.Game3UIMediator),miniframe.Facade.unregisterMediatorClass(O.MediatorNameDefine.GameRuleUIMediator),miniframe.Facade.unregisterMediatorClass(O.MediatorNameDefine.GetCueInfoUIMediator),miniframe.Facade.unregisterMediatorClass(O.MediatorNameDefine.GuestActiveUIMediator),miniframe.Facade.unregisterMediatorClass(O.MediatorNameDefine.GuestInfoUIMediator),miniframe.Facade.unregisterMediatorClass(O.MediatorNameDefine.GuestIntroUIMediator),miniframe.Facade.unregisterMediatorClass(O.MediatorNameDefine.IdleUIMediator),miniframe.Facade.unregisterMediatorClass(O.MediatorNameDefine.InvestListUIMediator),miniframe.Facade.unregisterMediatorClass(O.MediatorNameDefine.ItemBookUIMediator),miniframe.Facade.unregisterMediatorClass(O.MediatorNameDefine.ItemListUIMediator),miniframe.Facade.unregisterMediatorClass(O.MediatorNameDefine.ItemWeaponUIMediator),miniframe.Facade.unregisterMediatorClass(O.MediatorNameDefine.LoadingFullScreenUIMediator),miniframe.Facade.unregisterMediatorClass(O.MediatorNameDefine.LoadingNormalUIMediator),miniframe.Facade.unregisterMediatorClass(O.MediatorNameDefine.LoadingSimpleUIMediator),miniframe.Facade.unregisterMediatorClass(O.MediatorNameDefine.NavigatorTopUIMediator),miniframe.Facade.unregisterMediatorClass(O.MediatorNameDefine.NavigatorUIMediator),miniframe.Facade.unregisterMediatorClass(O.MediatorNameDefine.PromptAutoUIMediator),miniframe.Facade.unregisterMediatorClass(O.MediatorNameDefine.PromptConfirmUIMediator),miniframe.Facade.unregisterMediatorClass(O.MediatorNameDefine.PromptSimpleUIMediator),miniframe.Facade.unregisterMediatorClass(O.MediatorNameDefine.StoryUIMediator),miniframe.Facade.unregisterMediatorClass(O.MediatorNameDefine.SystemActiveUIMediator),miniframe.Facade.unregisterMediatorClass(O.MediatorNameDefine.TargetListUIMediator),miniframe.Facade.unregisterMediatorClass(O.MediatorNameDefine.WantedUIMediator),miniframe.Facade.unregisterMediatorClass(O.MediatorNameDefine.YinPiaoInfoUIMediator)},e.prototype.dispose=function(){},e}();i.BusinessInitializer=V,cc._RF.pop()},{"../../MediatorNameDefine":"MediatorNameDefine","../Mediator/AnswerCueInfoUIMediator":"AnswerCueInfoUIMediator","../Mediator/BattleUIMediator":"BattleUIMediator","../Mediator/BuildingBuyUIMediator":"BuildingBuyUIMediator","../Mediator/BuildingLevelUpUIMediator":"BuildingLevelUpUIMediator","../Mediator/BuildingSelectListUIMediator":"BuildingSelectListUIMediator","../Mediator/CityCreateGuideUIMediator":"CityCreateGuideUIMediator","../Mediator/CityCreateUIMediator":"CityCreateUIMediator","../Mediator/CityDevelopUIMediator":"CityDevelopUIMediator","../Mediator/CopyStartUIMediator":"CopyStartUIMediator","../Mediator/CurrentEventUIMediator":"CurrentEventUIMediator","../Mediator/EventContentUIMediator":"EventContentUIMediator","../Mediator/Game1UIMediator":"Game1UIMediator","../Mediator/Game2UIMediator":"Game2UIMediator","../Mediator/Game3UIMediator":"Game3UIMediator","../Mediator/GameRuleUIMediator":"GameRuleUIMediator","../Mediator/GetCueInfoUIMediator":"GetCueInfoUIMediator","../Mediator/GuestActiveUIMediator":"GuestActiveUIMediator","../Mediator/GuestInfoUIMediator":"GuestInfoUIMediator","../Mediator/GuestIntroUIMediator":"GuestIntroUIMediator","../Mediator/IdleUIMediator":"IdleUIMediator","../Mediator/InvestListUIMediator":"InvestListUIMediator","../Mediator/ItemBookUIMediator":"ItemBookUIMediator","../Mediator/ItemListUIMediator":"ItemListUIMediator","../Mediator/ItemWeaponUIMediator":"ItemWeaponUIMediator","../Mediator/LoadingFullScreenUIMediator":"LoadingFullScreenUIMediator","../Mediator/LoadingNormalUIMediator":"LoadingNormalUIMediator","../Mediator/LoadingSimpleUIMediator":"LoadingSimpleUIMediator","../Mediator/NavigatorTopUIMediator":"NavigatorTopUIMediator","../Mediator/NavigatorUIMediator":"NavigatorUIMediator","../Mediator/PromptAutoUIMediator":"PromptAutoUIMediator","../Mediator/PromptConfirmUIMediator":"PromptConfirmUIMediator","../Mediator/PromptSimpleUIMediator":"PromptSimpleUIMediator","../Mediator/StoryUIMediator":"StoryUIMediator","../Mediator/SystemActiveUIMediator":"SystemActiveUIMediator","../Mediator/TargetListUIMediator":"TargetListUIMediator","../Mediator/WantedUIMediator":"WantedUIMediator","../Mediator/YinPiaoInfoUIMediator":"YinPiaoInfoUIMediator"}],BusinessItemUIView:[function(e,t,i){"use strict";cc._RF.push(t,"7c497cgTZ1OPIJy9w9+1l1e","BusinessItemUIView"),Object.defineProperty(i,"__esModule",{value:!0}),i.BusinessItemUIView=void 0;var o=e("../../../../Extension/UI/Item/ItemUIView"),n=e("../../../MiniGame"),r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getRealButtonKey=function(e){return e.getButtonKey()},t.prototype.onButtonPreClick=function(t){var i=t.getScript();if(!i)return!1;var o=this.getRealButtonKey(t);return!(n.MiniGame.Guide.hasWantedButton()&&!n.MiniGame.Guide.onWantedButtonClick(this.getMediatorName(),o))&&!(i.systemID>0&&!n.MiniGame.SystemOpen.isSystemOpen(i.systemID,i.systemLockPrompt))&&e.prototype.onButtonPreClick.call(this,t)},t.prototype.onButtonInit=function(){},t.prototype.onButtonUnInit=function(){},t}(o.ItemUIView);i.BusinessItemUIView=r,cc._RF.pop()},{"../../../../Extension/UI/Item/ItemUIView":"ItemUIView","../../../MiniGame":"MiniGame"}],BusinessModuleConfig:[function(e,t,i){"use strict";cc._RF.push(t,"b8437VRUphHyY0eNoNmsvou","BusinessModuleConfig"),Object.defineProperty(i,"__esModule",{value:!0}),i.BusinessModuleConfig=void 0;var o=e("../Initialize/BusinessInitializer"),n=function(e){function t(){var i=e.call(this)||this;return i.name=t.ModuleName,i.type=miniframe.ModuleTypeDefine.BACKGROUND,i.entryCommand="",i.entryMediator="",i.entryParameter=null,i.isEntryModule=!1,i.isDefaultModule=!1,i.isAutoLaunch=!1,i.isAutoDispose=!1,i.isAutoNext=!1,i.nextModules=null,i.backgroundModules=null,i.initializerClass=function(){return new o.BusinessInitializer},i}return __extends(t,e),t.ModuleName="Business",t}(miniframe.ModuleConfig);i.BusinessModuleConfig=n,cc._RF.pop()},{"../Initialize/BusinessInitializer":"BusinessInitializer"}],BusinessNotificationDefine:[function(e,t,i){"use strict";cc._RF.push(t,"31b1cegFJtIOKqLtzTCZsqd","BusinessNotificationDefine"),Object.defineProperty(i,"__esModule",{value:!0}),i.BusinessNotificationDefine=void 0;var o=function(){function e(){}return e.DECORATOR_LIST_OPEN_NOTI="DECORATOR_LIST_OPEN_NOTI",e.DECORATOR_LIST_CLOSE_NOTI="DECORATOR_LIST_CLOSE_NOTI",e.TREASURE_LIST_OPEN_NOTI="TREASURE_LIST_OPEN_NOTI",e.TREASURE_LIST_CLOSE_NOTI="TREASURE_LIST_CLOSE_NOTI",e.MY_TEAM_OPEN_NOTI="MY_TEAM_OPEN_NOTI",e.MY_TEAM_CLOSE_NOTI="MY_TEAM_CLOSE_NOTI",e.PAINTINGLIST_OPEN_NOTI="PAINTINGLIST_OPEN_NOTI",e.PAINTINGLIST_CLOSE_NOTI="PAINTINGLIST_CLOSE_NOTI",e.BATTLE_LIFE_CHANGE_NOTI="BATTLE_LIFE_CHANGE_NOTI",e.REFRESH_VALUES="REFRESH_VALUES",e.BLOCK_EVENT="BLOCK_EVENT",e}();i.BusinessNotificationDefine=o,cc._RF.pop()},{}],BusinessTargetItemUIViewScript:[function(e,t,i){"use strict";cc._RF.push(t,"d65b4KK4h1HlYXBEpPTHZ+m","BusinessTargetItemUIViewScript"),Object.defineProperty(i,"__esModule",{value:!0});var o=e("../../../../Extension/UI/Item/ItemUIViewScript"),n=cc._decorator,r=n.ccclass,a=n.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.icon=null,t.deactiveNode=null,t.conditionStarNodes=[],t}return __extends(t,e),__decorate([a(cc.Sprite)],t.prototype,"icon",void 0),__decorate([a(cc.Node)],t.prototype,"deactiveNode",void 0),__decorate([a([cc.Node])],t.prototype,"conditionStarNodes",void 0),__decorate([r],t)}(o.default);i.default=s,cc._RF.pop()},{"../../../../Extension/UI/Item/ItemUIViewScript":"ItemUIViewScript"}],BusinessTargetItemUIView:[function(e,t,i){"use strict";cc._RF.push(t,"93d56uqQVJLNZ2YdKYe++Pg","BusinessTargetItemUIView"),Object.defineProperty(i,"__esModule",{value:!0}),i.BusinessTargetItemUIView=void 0;var o=e("../../../../Config/ConfigKeyDefine"),n=e("../../../../Extension/UI/Sprite/UISprite"),r=e("../../../Business/Control/ConfigDataController"),a=e("../../../Business/Define/ConditionTypeDefine"),s=e("../../../MiniGame"),p=e("../../MediatorNameDefine"),u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.m_icon=null,t.m_targetConfig=null,t}return __extends(t,e),t.prototype.onInitScript=function(){e.prototype.onInitScript.call(this);var t=this.getScript();t&&t.icon&&(this.m_icon||(this.m_icon=new n.UISprite),this.m_icon.bindScript(t.icon))},t.prototype.onSetData=function(t,i,n){if(n&&(this.m_targetConfig=null),i){if(n){this.m_targetConfig=miniframe.Config.getData(o.ConfigKeyDefine.EXPRESS_TARGET,i),this.m_icon&&(this.m_icon.hookAtlasSprite(this.m_targetConfig.getHeadAt(0),this.m_targetConfig.getHeadAt(1)),this.m_icon.getNode().setPosition(new cc.Vec2(miniframe.toNumber(this.m_targetConfig.getHeadAt(2)),miniframe.toNumber(this.m_targetConfig.getHeadAt(3)))));for(var s=0,u=this.m_targetConfig.getConditionsCount(),c=0;c<u;c++)this.m_targetConfig.getConditionsAt(c).x==a.ConditionTypeDefine.CityStar&&(s=this.m_targetConfig.getConditionsAt(c).z);for(u=t.conditionStarNodes.length,c=0;c<u;c++)t.conditionStarNodes[c]&&(t.conditionStarNodes[c].active=c<s);t.deactiveNode&&(t.deactiveNode.active=!1)}this.getMediatorName()==p.MediatorNameDefine.CityDevelopUIMediator&&t.deactiveNode&&(t.deactiveNode.active=!r.ConfigDataController.Instance.isConditionAchieved(this.m_targetConfig.getConditions()))}else this.m_icon&&this.m_icon.clear(),t.deactiveNode&&(t.deactiveNode.active=!0);return e.prototype.onSetData.call(this,t,i,n)},t.prototype.onButtonClick=function(t){switch(t){case"intro":if(!this.m_targetConfig)return;s.MiniGame.MVC.openMediator(p.MediatorNameDefine.GuestIntroUIMediator,this.m_targetConfig);break;default:e.prototype.onButtonClick.call(this,t)}},t}(e("../Basic/BusinessItemUIView").BusinessItemUIView);i.BusinessTargetItemUIView=u,cc._RF.pop()},{"../../../../Config/ConfigKeyDefine":"ConfigKeyDefine","../../../../Extension/UI/Sprite/UISprite":"UISprite","../../../Business/Control/ConfigDataController":"ConfigDataController","../../../Business/Define/ConditionTypeDefine":"ConditionTypeDefine","../../../MiniGame":"MiniGame","../../MediatorNameDefine":"MediatorNameDefine","../Basic/BusinessItemUIView":"BusinessItemUIView"}],BusinessUILayerDefine:[function(e,t,i){"use strict";cc._RF.push(t,"97fc8D97hRPo4jVOlkHy/sN","BusinessUILayerDefine"),Object.defineProperty(i,"__esModule",{value:!0}),i.BusinessUILayerDefine=void 0,function(e){e[e.Background=0]="Background",e[e.Idle=1]="Idle",e[e.Navigation=2]="Navigation",e[e.Navigator=3]="Navigator",e[e.UI=4]="UI",e[e.Popup=5]="Popup",e[e.PopupTop=6]="PopupTop",e[e.TopNavigator=7]="TopNavigator",e[e.Overlay=8]="Overlay",e[e.Special=9]="Special"}(i.BusinessUILayerDefine||(i.BusinessUILayerDefine={})),cc._RF.pop()},{}],BusinessUIMediator:[function(e,t,i){"use strict";cc._RF.push(t,"b6464yjuhNBXaVmQv45fY0D","BusinessUIMediator"),Object.defineProperty(i,"__esModule",{value:!0}),i.BusinessUIMediator=void 0;var o=e("../../../../App/Mediator/BaseUIMediator"),n=e("../../../../Extension/Navigation/NavigationTypeDefine"),r=e("../../Guide/Define/GuideNotificationDefine"),a=e("../../../MiniGame"),s=e("../../../Business/Control/WindowStateController"),p=function(e){function t(t,i,o,n,r,a,p,u,c){var l=e.call(this,t,i,o,n,r,a,p,u)||this;return l.m_guideInited=!1,s.WindowStateController.Instance.registerWindow(l.getMediatorName(),c),l}return __extends(t,e),t.prototype.onUIMediatorUnInit=function(){this.onUnInitGuide(),e.prototype.onUIMediatorUnInit.call(this)},t.prototype.onUIMediatorAfterOpen=function(){var t=this;e.prototype.onUIMediatorAfterOpen.call(this),this.m_guideInited||(this.m_guideInited=!0,setTimeout(function(){t.onInitGuide()},1/cc.game.getFrameRate())),this.sendNotification(r.GuideNotificationDefine.GUIDE_MEDIATOR_OPEN,this.getMediatorName()),s.WindowStateController.Instance.onWindowOpen(this.getMediatorName())},t.prototype.onUIMediatorAfterClose=function(){e.prototype.onUIMediatorAfterClose.call(this),this.sendNotification(r.GuideNotificationDefine.GUIDE_MEDIATOR_CLOSE,this.getMediatorName()),s.WindowStateController.Instance.onWindowClose(this.getMediatorName())},t.prototype.onButtonInit=function(e){var t=e.getScript();if(t){if(t.isNavigation){var i=this.getMediatorName()+"."+e.getButtonKey(),o=t.isNavigationMain?n.NavigationTypeDefine.Main:n.NavigationTypeDefine.Normal;a.MiniGame.Navigation.register(i,o,e.getClickJumpMediator(),null,t.navigationHandler,t.navigationOnNode,t.navigationOffNode)}t.tipsHandler&&""!=t.tipsHandler&&(t.tipsNode||t.tipsNodeList.length>0)&&a.MiniGame.ButtonTips.registerButton(this.getMediatorName(),e,t.tipsHandler,t.tipsParent),t.systemID>0&&a.MiniGame.SystemOpen.registerButton(e)}},t.prototype.onButtonUnInit=function(e){var t=e.getButtonKey();a.MiniGame.Guide.removeButton(this.getMediatorName(),t);var i=e.getScript();if(i){if(i.isNavigation){var o=this.getMediatorName()+"."+t;a.MiniGame.Navigation.unreigster(o)}i.tipsHandler&&""!=i.tipsHandler&&(i.tipsNode||i.tipsNodeList.length>0)&&a.MiniGame.ButtonTips.unregisterButton(this.getMediatorName(),e),i.systemID>0&&a.MiniGame.SystemOpen.unregisterButton(e)}},t.prototype.onButtonPreClick=function(t){var i=t.getScript();if(!i)return!1;var o=t.getButtonKey();if(a.MiniGame.Guide.hasWantedButton()&&!a.MiniGame.Guide.onWantedButtonClick(this.getMediatorName(),o))return!1;if(i.systemID>0&&!a.MiniGame.SystemOpen.isSystemOpen(i.systemID,i.systemLockPrompt))return!1;if(a.MiniGame.Audio.playAudioAuto(i.clickAudioID,i.clickAudio),i.isNavigation){var n=this.getMediatorName()+"."+o;i.isNavigationToggle?a.MiniGame.Navigation.toggle(n):a.MiniGame.Navigation.trigger(n)}else i.clickJump&&""!=i.clickJump&&a.MiniGame.MVC.openMediator(t.getClickJumpMediator());return e.prototype.onButtonPreClick.call(this,t)},t.prototype.onInitGuide=function(){if(this.m_buttons.length>0)for(var e=this.m_buttons.length,t=0;t<e;t++)a.MiniGame.Guide.addButton(this.getMediatorName(),this.m_buttons[t].getButtonKey(),this.m_buttons[t].getNode())},t.prototype.onUnInitGuide=function(){},t}(o.BaseUIMediator);i.BusinessUIMediator=p,cc._RF.pop()},{"../../../../App/Mediator/BaseUIMediator":"BaseUIMediator","../../../../Extension/Navigation/NavigationTypeDefine":"NavigationTypeDefine","../../../Business/Control/WindowStateController":"WindowStateController","../../../MiniGame":"MiniGame","../../Guide/Define/GuideNotificationDefine":"GuideNotificationDefine"}],ButtonTipsCheckResult:[function(e,t,i){"use strict";cc._RF.push(t,"d9accsjqCxE6Y7siZU80Igw","ButtonTipsCheckResult"),Object.defineProperty(i,"__esModule",{value:!0}),i.ButtonTipsCheckResult=void 0;i.ButtonTipsCheckResult=function(){this.tipsState=0,this.tipLabel=null},cc._RF.pop()},{}],ButtonTipsConnection:[function(e,t,i){"use strict";cc._RF.push(t,"a8e4bgPIfpNXZzPT/M2uaB0","ButtonTipsConnection"),Object.defineProperty(i,"__esModule",{value:!0}),i.ButtonTipsConnection=void 0;i.ButtonTipsConnection=function(){this.group="",this.buttonKey="",this.buttonUID=0,this.children=[]},cc._RF.pop()},{}],ButtonTipsController:[function(e,t,i){"use strict";cc._RF.push(t,"11dc2RxhgFDwYNn3AdxIZ7W","ButtonTipsController"),Object.defineProperty(i,"__esModule",{value:!0}),i.ButtonTipsController=void 0;var o=e("./ButtonTipsStateChecker"),n=e("./ButtonTipsConnection"),r=e("./ButtonTipsHandler"),a=function(){function e(){this.m_handlers={},this.m_handlerParentMap={},this.m_handlerChildrenMap={},this.m_buttons={},this.m_groupButtons={},this.m_handlerButtons={},this.m_buttonConnections={},e.ms_instance=this}return Object.defineProperty(e,"Instance",{get:function(){return e.ms_instance||new e},enumerable:!1,configurable:!0}),e.prototype.registerButtonTipsHandler=function(e,t,i,o){if(void 0===i&&(i=null),void 0===o&&(o=null),this.m_handlers[e])console.warn("already exist button handler "+e);else{var n=new r.ButtonTipsHandler;if(n.name=e,n.handler=t,n.parameter=i,o&&o.length>0){this.m_handlerChildrenMap[e]=o;for(var a=o.length,s=0;s<a;s++)this.m_handlerParentMap[o[s]]||(this.m_handlerParentMap[o[s]]=[]),this.m_handlerParentMap[o[s]].push(e)}this.m_handlers[e]=n}},e.prototype.registerButton=function(e,t,i,n){if(void 0===n&&(n=""),t){var r=t.getButtonUID(),a=this.m_buttons[r];a?console.warn("already exist button checker "+e+":"+t.getButtonKey()+":"+i):((a=new o.ButtonTipsStateChecker).button=t,a.buttonKey=t.getButtonKey(),a.buttonUID=t.getButtonUID(),a.group=e,a.handler=i,a.parent=n,this.m_buttons[a.buttonUID]=a,this.addButtonConnection(e,a.buttonKey,a.buttonUID,n),this.addGroupButton(e,t),this.addHandlerButton(i,t),this.refreshButtonTipsByButtonUID(t.getButtonUID()))}},e.prototype.unregisterButton=function(e,t){if(t){var i=t.getButtonUID(),o=this.m_buttons[i];o&&(delete this.m_buttons[i],this.removeGroupButton(o.group,t),this.removeHandlerButton(o.handler,t),this.removeButtonConnection(o.group,o.buttonKey,o.buttonUID,o.parent))}},e.prototype.refreshAll=function(){for(var e in this.m_groupButtons)this.refreshButtonTipsByGroup(e)},e.prototype.refreshButtonTips=function(e,t){this.updateButtonTipsStateByGroupButtonKey(e,t)},e.prototype.refreshButtonTipsByButtonUID=function(e){this.updateButtonTipsStateByButtonUID(e)},e.prototype.refreshButtonTipsByHandler=function(e,t,i){void 0===t&&(t=!0),void 0===i&&(i=!1);var o=this.m_handlers[e];if(this.checkHandler(o,!0),this.updateButtonsTipsStateWith(e,this.m_handlerButtons),t){var n=this.m_handlerParentMap[e];if(n&&n.length>0)for(var r=n.length,a=0;a<r;a++)this.refreshButtonTipsByHandler(n[a])}if(i){var s=this.m_handlerChildrenMap[e];if(s&&s.length>0)for(r=s.length,a=0;a<r;a++)this.updateButtonsTipsStateWith(s[a],this.m_handlerButtons)}},e.prototype.refreshButtonTipsByGroup=function(e){this.updateButtonsTipsStateWith(e,this.m_groupButtons)},e.prototype.checkHandler=function(e,t){if(e){var i=this.m_handlerChildrenMap[e.name];if(i&&i.length>0){if(e.canCheck(t)){e.result.tipsState=0;for(var o=null,n=i.length,r=0;r<n;r++)(o=this.m_handlers[i[r]])&&(this.checkHandler(o,t),o.result.tipsState>e.result.tipsState&&(e.result.tipsState=o.result.tipsState));e.setAsChecked()}}else e.check(t)}},e.prototype.updateButtonsTipsStateWith=function(e,t){var i=t[e];if(i&&!(i.length<=0))for(var o=i.length,n=0;n<o;n++)this.updateButtonTipsStateByButtonUID(i[n])},e.prototype.updateButtonTipsStateByGroupButtonKey=function(e,t){var i=this.m_buttonConnections[e];if(i){var o=i[t];o&&this.updateButtonTipsStateByButtonUID(o.buttonUID)}},e.prototype.updateButtonTipsStateByButtonUID=function(e){this.updateButtonTipsState(this.m_buttons[e])},e.prototype.updateButtonTipsState=function(e){if(e){var t=null,i=this.m_buttonConnections[e.group];if(i){var o=i[e.buttonKey];o&&(t=o.children)}if(t&&t.length>0){for(var n=null,r=0,a=t.length,s=0;s<a;s++)(n=this.m_buttons[t[s]])&&n.result.tipsState>r&&(r=n.result.tipsState);e.result.tipsState=r}else{var p=this.m_handlers[e.handler];p&&(this.checkHandler(p,!1),e.result.tipsState=p.result.tipsState,e.result.tipLabel=p.result.tipLabel)}e.button.setTipsState(e.result.tipsState),e.button.setTipsLabel(e.result.tipLabel),e.parent&&""!=e.parent&&this.updateButtonTipsStateByGroupButtonKey(e.group,e.parent)}},e.prototype.addButtonConnection=function(e,t,i,o){var r=this.m_buttonConnections[e];if(r||(r={},this.m_buttonConnections[e]=r),o&&""!=o){var a=r[o];a?miniframe.safePush(a.children,i):((a=new n.ButtonTipsConnection).group=e,a.buttonKey=o,a.children.push(i),r[o]=a)}var s=r[t];s?s.buttonUID=i:((s=new n.ButtonTipsConnection).group=e,s.buttonKey=t,s.buttonUID=i,r[t]=s)},e.prototype.removeButtonConnection=function(e,t,i,o){var n=this.m_buttonConnections[e];if(n){n[t]&&delete n[t];var r=n[o];r&&miniframe.safeRemove(r.children,i)}},e.prototype.addGroupButton=function(e,t){this.addButtonUIDTo(t.getButtonUID(),e,this.m_groupButtons)},e.prototype.removeGroupButton=function(e,t){this.removeButtonUIDFrom(t.getButtonUID(),e,this.m_groupButtons)},e.prototype.addHandlerButton=function(e,t){this.addButtonUIDTo(t.getButtonUID(),e,this.m_handlerButtons)},e.prototype.removeHandlerButton=function(e,t){this.removeButtonUIDFrom(t.getButtonUID(),e,this.m_handlerButtons)},e.prototype.addButtonUIDTo=function(e,t,i){var o=i[t];o?miniframe.safePush(o,e):(o=[e],i[t]=o)},e.prototype.removeButtonUIDFrom=function(e,t,i){var o=i[t];!o||o.length<=0||miniframe.safeRemove(o,e)},e.ms_instance=null,e}();i.ButtonTipsController=a,cc._RF.pop()},{"./ButtonTipsConnection":"ButtonTipsConnection","./ButtonTipsHandler":"ButtonTipsHandler","./ButtonTipsStateChecker":"ButtonTipsStateChecker"}],ButtonTipsHandlerDefine:[function(e,t,i){"use strict";cc._RF.push(t,"fef03ArpC9AWJnFu+Oq5+sE","ButtonTipsHandlerDefine"),Object.defineProperty(i,"__esModule",{value:!0}),i.ButtonTipsHandlerDefine=void 0;var o=function(){function e(){}return e.BookLevelUp="book_levelup",e.WeaponLevelUp="weapon_levelup",e.BookWeaponLevelUp="book_weapon_levelup",e.EventCombine="event_combine",e.TargetAward="target_award",e.TargetAwardPrefix="target_award_",e.WantedTimes="wanted_times",e.CityTips="city_tips",e.CityTipsPrefix="city_tips_",e}();i.ButtonTipsHandlerDefine=o,cc._RF.pop()},{}],ButtonTipsHandler:[function(e,t,i){"use strict";cc._RF.push(t,"9b116iaSPVEqojM1AykE0Ba","ButtonTipsHandler"),Object.defineProperty(i,"__esModule",{value:!0}),i.ButtonTipsHandler=void 0;var o=e("./ButtonTipsCheckResult"),n=function(){function e(){this.name="",this.handler=null,this.parameter=null,this.result=new o.ButtonTipsCheckResult,this.lastCheckFrame=0}return e.prototype.check=function(e){void 0===e&&(e=!1),!e&&this.lastCheckFrame>0&&this.lastCheckFrame==cc.director.getTotalFrames()||(this.lastCheckFrame=cc.director.getTotalFrames(),this.handler(this.result,this.parameter))},e.prototype.canCheck=function(e){return void 0===e&&(e=!1),!(!e&&this.lastCheckFrame>0&&this.lastCheckFrame==cc.director.getTotalFrames())},e.prototype.setAsChecked=function(){this.lastCheckFrame=cc.director.getTotalFrames()},e}();i.ButtonTipsHandler=n,cc._RF.pop()},{"./ButtonTipsCheckResult":"ButtonTipsCheckResult"}],ButtonTipsStateChecker:[function(e,t,i){"use strict";cc._RF.push(t,"389f9cMq+hM47VFr1jrRMTl","ButtonTipsStateChecker"),Object.defineProperty(i,"__esModule",{value:!0}),i.ButtonTipsStateChecker=void 0;var o=e("./ButtonTipsCheckResult");i.ButtonTipsStateChecker=function(){this.button=null,this.buttonKey="",this.buttonUID=0,this.group="",this.handler="",this.target=null,this.parent="",this.result=new o.ButtonTipsCheckResult},cc._RF.pop()},{"./ButtonTipsCheckResult":"ButtonTipsCheckResult"}],CDDataController:[function(e,t,i){"use strict";cc._RF.push(t,"1308bKzoVhMiK+RgG76/jif","CDDataController"),Object.defineProperty(i,"__esModule",{value:!0}),i.CDDataController=void 0;var o=e("../../../Extension/DataControl/BasicDataController"),n=e("../Data/CDsData"),r=e("../Define/ControlCodeDefine"),a=e("./LimitDataController"),s=e("./StorageDataController"),p=function(e){function t(){var i=e.call(this)||this;return i.m_cds=null,i.m_runningCDs=[],i.m_endCDs=[],i.m_listeningTime=!1,t.ms_instance=i,i}return __extends(t,e),Object.defineProperty(t,"Instance",{get:function(){return t.ms_instance||new t},enumerable:!1,configurable:!0}),t.prototype.initController=function(){this.m_cds||(this.m_cds=new n.CDsData,s.StorageDataController.Instance.addGroup(this.m_cds))},t.prototype.initData=function(){var e=miniframe.now(),t=this.m_cds.getCDDatas();for(var i in t)t[i].getEndTime()<=e||this.addRunningCD(t[i].getCDID())},t.prototype.getCDData=function(e){return this.m_cds.getCDData(e)},t.prototype.isCDAvailable=function(e){var i=t.Instance.getCDData(e);return!(i&&(i.getLeftTime()>0||i.getCDDayLimit()>0&&a.LimitDataController.Instance.isLimitFull(i.getCDDayLimit())))},t.prototype.addRunningCD=function(e,t){void 0===t&&(t=!0),miniframe.safePush(this.m_runningCDs,e)&&(t&&this.notifyUpdate(r.ControlCodeDefine.CDStart,e),this.listenTime())},t.prototype.removeRunningCD=function(e){miniframe.safeRemove(this.m_runningCDs,e)&&this.m_runningCDs.length<=0&&this.unlistenTime()},t.prototype.updateRunningCD=function(){for(var e=this.m_runningCDs.length,t=0;t<e;t++)this.updateRunningCDData(this.m_runningCDs[t])||(this.m_runningCDs.splice(t,1),t--,e--);if(this.m_endCDs.length>0){for(e=this.m_endCDs.length,t=0;t<e;t++)this.updateEndCDData(this.m_endCDs[t]);this.m_endCDs.splice(0,this.m_endCDs.length)}},t.prototype.updateRunningCDData=function(e){var t=this.m_cds.getCDData(e);return!!t&&(t.getLeftTime()<=0?(miniframe.safePush(this.m_endCDs,t.getCDID()),!1):(this.notifyUpdate(r.ControlCodeDefine.CDRunning,t.getCDID()),!0))},t.prototype.updateEndCDData=function(e){var t=this.m_cds.getCDData(e);t&&(this.notifyUpdate(r.ControlCodeDefine.CDEnd,t.getCDID()),t.getCDIsLoop()&&(t.setStartTime(miniframe.now()),this.notifyUpdate(r.ControlCodeDefine.CDStart,t.getCDID())))},t.prototype.listenTime=function(){this.m_listeningTime||(this.m_listeningTime=!0,miniframe.Timer.addUpdateEventListener(this))},t.prototype.unlistenTime=function(){this.m_listeningTime&&(this.m_listeningTime=!1,miniframe.Timer.removeUpdateEventListener(this))},t.prototype.onTimeSystemUpdate=function(){return this.updateRunningCD(),!1},t.prototype.handleStartCD=function(e,t){void 0===t&&(t=!0);var i=miniframe.now();this.m_cds.setCDValue(e,i)&&this.addRunningCD(e,t)},t.ms_instance=null,t}(o.BasicDataController);i.CDDataController=p,cc._RF.pop()},{"../../../Extension/DataControl/BasicDataController":"BasicDataController","../Data/CDsData":"CDsData","../Define/ControlCodeDefine":"ControlCodeDefine","./LimitDataController":"LimitDataController","./StorageDataController":"StorageDataController"}],CDIDDefine:[function(e,t,i){"use strict";cc._RF.push(t,"b4d105TqmpBhKXCKlypk7mA","CDIDDefine"),Object.defineProperty(i,"__esModule",{value:!0}),i.CDIDDefine=void 0,function(e){e[e.WantedRefresh=2]="WantedRefresh"}(i.CDIDDefine||(i.CDIDDefine={})),cc._RF.pop()},{}],CDItemData:[function(e,t,i){"use strict";cc._RF.push(t,"8dad7mEzvBJx7qqubsO+bGt","CDItemData"),Object.defineProperty(i,"__esModule",{value:!0}),i.CDItemData=void 0;var o=e("../../../Config/ConfigKeyDefine"),n=function(e){function t(t){var i=e.call(this,t.toString())||this;return i.m_cdID=0,i.m_cdTotal=NaN,i.m_cdIsLoop=!1,i.m_cdDayLimit=0,i.m_cdID=t,i}return __extends(t,e),t.prototype.getCDID=function(){return this.m_cdID},t.prototype.getCDTotal=function(){return this.initCDInfo(),this.m_cdTotal},t.prototype.getCDIsLoop=function(){return this.initCDInfo(),this.m_cdIsLoop},t.prototype.getCDDayLimit=function(){return this.initCDInfo(),this.m_cdDayLimit},t.prototype.initCDInfo=function(){if(isNaN(this.m_cdTotal)){this.m_cdTotal=0,this.m_cdIsLoop=!1,this.m_cdDayLimit=0;var e=miniframe.Config.getData(o.ConfigKeyDefine.CD_COMMON,this.m_cdID);e&&(this.m_cdTotal=e.getTotal(),this.m_cdIsLoop=1==e.getLoop(),this.m_cdDayLimit=e.getDaylimit())}},t.prototype.getStartTime=function(){return this.getIntValueAt(t.Index_StartTime)},t.prototype.getEndTime=function(){return this.getStartTime()+this.getCDTotal()},t.prototype.getLeftTime=function(){var e=miniframe.now()-this.getStartTime();return Math.max(this.getCDTotal()-e)},t.prototype.setStartTime=function(e,i){void 0===i&&(i=!0),this.setIntValueAt(t.Index_StartTime,e,i)},t.Index_StartTime=0,t}(e("./IntListStorageProperty").IntListStorageProperty);i.CDItemData=n,cc._RF.pop()},{"../../../Config/ConfigKeyDefine":"ConfigKeyDefine","./IntListStorageProperty":"IntListStorageProperty"}],CDsData:[function(e,t,i){"use strict";cc._RF.push(t,"11d0fLs9k9KFogOBPYyeqac","CDsData"),Object.defineProperty(i,"__esModule",{value:!0}),i.CDsData=void 0;var o=e("../../../Extension/Storage/StorageGroupData"),n=e("./CDItemData"),r=function(e){function t(){var t=e.call(this,"c_cd")||this;return t.m_map={},t}return __extends(t,e),t.prototype.onCreateProperty=function(e){var t=parseInt(e);return this.m_map[t]||(this.m_map[t]=new n.CDItemData(t)),this.m_map[t]},t.prototype.getCDDatas=function(){return this.m_map},t.prototype.getCDData=function(e){return this.m_map[e]||this.initProperty(e.toString()),this.m_map[e]},t.prototype.setCDValue=function(e,t){return this.m_map[e]||this.initProperty(e.toString()),!!this.m_map[e]&&(this.m_map[e].setStartTime(t),!0)},t}(o.StorageGroupData);i.CDsData=r,cc._RF.pop()},{"../../../Extension/Storage/StorageGroupData":"StorageGroupData","./CDItemData":"CDItemData"}],CdCommonConfigData:[function(e,t,i){"use strict";cc._RF.push(t,"187436w1E1OgqBVf7d4DvHG","CdCommonConfigData"),Object.defineProperty(i,"__esModule",{value:!0}),i.CdCommonConfigData=void 0;var o=function(){function e(e){this.m_data=null,this.m_data=e,this.init()}return e.prototype.getId=function(){return this.m_data.getId()},e.prototype.getTotal=function(){return this.m_data.getTotal()},e.prototype.getLoop=function(){return this.m_data.getLoop()},e.prototype.getDaylimit=function(){return this.m_data.getDaylimit()},e.prototype.init=function(){},e.prototype.getConfigKey=function(){return this.getId()},e}();i.CdCommonConfigData=o,cc._RF.pop()},{}],CharDataController:[function(e,t,i){"use strict";cc._RF.push(t,"c33c6e5TXtGDK4uZaARn0o5","CharDataController"),Object.defineProperty(i,"__esModule",{value:!0}),i.CharDataController=void 0;var o=e("../../../Config/ConfigKeyDefine"),n=e("../../../Extension/DataControl/BasicDataController"),r=e("../../MiniGame"),a=e("../../Module/MediatorNameDefine"),s=e("../Data/CharValuesData"),p=e("../Define/CommonTypeDefine"),u=e("../Define/ControlCodeDefine"),c=e("../Define/ItemPackTypeDefine"),l=e("./ItemDataController"),d=e("./StorageDataController"),f=function(e){function t(){var i=e.call(this)||this;return i.m_values=null,t.ms_instance=i,i}return __extends(t,e),Object.defineProperty(t,"Instance",{get:function(){return t.ms_instance||new t},enumerable:!1,configurable:!0}),t.prototype.initController=function(){this.m_values||(this.m_values=new s.CharValuesData,d.StorageDataController.Instance.addGroup(this.m_values))},t.prototype.initValues=function(){var e=null,t=miniframe.Config.getDataMap(o.ConfigKeyDefine.INIT_ATTR);for(var i in t)e=t[i],this.m_values.setValue(e.getId(),e.getValue())},t.prototype.getCharStringValue=function(e){return this.m_values.getStringValue(e)},t.prototype.getCharRealValue=function(e){return this.m_values.getRealValue(e)},t.prototype.compareCharValue=function(e,t){return e>p.CommonTypeDefine.ItemIDStart?l.ItemDataController.Instance.compareItemCount(c.ItemPackTypeDefine.Default,e,t):this.m_values.compareValue(e,t)},t.prototype.compareCharValues=function(e,i){if(e&&e.length>0){for(var o=0,n=!0,s=e.length,p=0;p<s;p++)if(this.compareCharValue(e[p].x,e[p].y)<0){n=!1,o=e[p].x;break}if(!n){if(i){var u=t.Instance.getCharValueName(o),c=r.MiniGame.Locale.getLanguageFormat(68,u);r.MiniGame.MVC.openMediator(a.MediatorNameDefine.PromptAutoUIMediator,c,!0)}return!1}}return!0},t.prototype.getCharValueName=function(e){if(e>p.CommonTypeDefine.ItemIDStart){var t=miniframe.Config.getData(o.ConfigKeyDefine.ITEM_INFO,e);return t?r.MiniGame.Locale.getLanguage(t.getNameLan()):e+""}return r.MiniGame.Locale.getLanguage(e,o.ConfigKeyDefine.LAN_VALUES)},t.prototype.getFormatCharValue=function(e){var t=this.getCharStringValue(e);return this.formatValueString(t)},t.prototype.formatValueString=function(e){return e.length<=5?e+r.MiniGame.Locale.getLanguage(170022):e.length<9?(e=e.substring(0,e.length-4))+r.MiniGame.Locale.getLanguage(170023):(e=e.substring(0,e.length-8))+r.MiniGame.Locale.getLanguage(170024)},t.prototype.handleSetCharValue=function(e,t,i){void 0===i&&(i=!0),this.m_values.setValue(e,t)&&i&&this.notifyUpdate(u.ControlCodeDefine.CharValueListChange,[e])},t.prototype.handleAddCharValue=function(e,t,i){void 0===i&&(i=!0),e>p.CommonTypeDefine.ItemIDStart?l.ItemDataController.Instance.handleAddItem(c.ItemPackTypeDefine.Default,e,t):this.m_values.addValue(e,t)&&i&&this.notifyUpdate(u.ControlCodeDefine.CharValueListChange,[e])},t.prototype.handleAddCharValues=function(e,t){void 0===t&&(t=!0);for(var i=[],o=e.length,n=0;n<o;n++)e[n].x>p.CommonTypeDefine.ItemIDStart?l.ItemDataController.Instance.handleAddItem(c.ItemPackTypeDefine.Default,e[n].x,e[n].y):this.m_values.addValue(e[n].x,e[n].y)&&i.push(e[n].x);t&&this.notifyUpdate(u.ControlCodeDefine.CharValueListChange,i)},t.prototype.handleRemoveCharValues=function(e,t){if(void 0===t&&(t=!0),e&&!(e.length<=0)){for(var i=[],o=e.length,n=0;n<o;n++)e[n].x>p.CommonTypeDefine.ItemIDStart?l.ItemDataController.Instance.handleRemoveItem(c.ItemPackTypeDefine.Default,e[n].x,e[n].y):this.m_values.substractValue(e[n].x,e[n].y)&&i.push(e[n].x);t&&this.notifyUpdate(u.ControlCodeDefine.CharValueListChange,i)}},t.prototype.handleRemoveCharValue=function(e,t,i){void 0===i&&(i=!0),e>p.CommonTypeDefine.ItemIDStart?l.ItemDataController.Instance.handleRemoveItem(c.ItemPackTypeDefine.Default,e,t):this.m_values.substractValue(e,t)&&i&&this.notifyUpdate(u.ControlCodeDefine.CharValueListChange,[e])},t.ms_instance=null,t}(n.BasicDataController);i.CharDataController=f,cc._RF.pop()},{"../../../Config/ConfigKeyDefine":"ConfigKeyDefine","../../../Extension/DataControl/BasicDataController":"BasicDataController","../../MiniGame":"MiniGame","../../Module/MediatorNameDefine":"MediatorNameDefine","../Data/CharValuesData":"CharValuesData","../Define/CommonTypeDefine":"CommonTypeDefine","../Define/ControlCodeDefine":"ControlCodeDefine","../Define/ItemPackTypeDefine":"ItemPackTypeDefine","./ItemDataController":"ItemDataController","./StorageDataController":"StorageDataController"}],CharPropertyValue:[function(e,t,i){"use strict";cc._RF.push(t,"f4ac1dZTz5O17Pf9QE99DMS","CharPropertyValue"),Object.defineProperty(i,"__esModule",{value:!0}),i.CharPropertyValue=void 0;var o=e("../../../Extension/BigNumber/VBigNumber"),n=e("../../../Extension/Storage/StorageProperty"),r=e("../Define/ValueTypeDefine"),a=function(e){function t(t){var i=e.call(this,t+"")||this;return i.m_valueType=0,i.m_rawValue=void 0,i.m_bigNumber=null,i.m_valueType=t,t==r.ValueTypeDefine.Coin?i.m_bigNumber=new o.VBigNumber:i.m_rawValue=0,i}return __extends(t,e),t.prototype.decode=function(e){this.m_bigNumber?this.m_bigNumber.setValue(e):this.m_rawValue=miniframe.toNumber(e)},t.prototype.encode=function(){return this.m_bigNumber?this.m_bigNumber.getIntValue():this.m_rawValue+""},t.prototype.getValueType=function(){return this.m_valueType},t.prototype.clearValue=function(e){void 0===e&&(e=!0),this.m_bigNumber?this.m_bigNumber.setValue("0"):this.m_rawValue=0,e&&this.notifyChanged()},t.prototype.compareValue=function(e){return this.m_bigNumber?this.m_bigNumber.compareValue(e):this.m_rawValue==e?0:this.m_rawValue>e?1:-1},t.prototype.setValue=function(e,t){if(void 0===t&&(t=!0),this.m_bigNumber){if(0==this.m_bigNumber.compareValue(e))return;this.m_bigNumber.setValue(e+"")}else{if(this.m_rawValue==e)return;this.m_rawValue=e}t&&this.notifyChanged()},t.prototype.getValue=function(){return this.m_bigNumber?this.m_bigNumber.getIntValue():this.m_rawValue},t.prototype.addValue=function(e,t){return void 0===t&&(t=!0),this.m_bigNumber?this.m_bigNumber.add(e+""):this.m_rawValue+=e,t&&this.notifyChanged(),!0},t.prototype.subtractValue=function(e,t){if(void 0===t&&(t=!0),this.m_bigNumber)this.m_bigNumber.subtract(e+""),this.m_bigNumber.compareValue("0")<0&&this.m_bigNumber.setValue("0");else{if(this.m_rawValue<=0)return!1;this.m_rawValue-=e}return t&&this.notifyChanged(),!0},t.prototype.multiplyValue=function(e,t){if(void 0===t&&(t=!0),this.m_bigNumber)this.m_bigNumber.multiply(e+""),this.m_bigNumber.compareValue("0")<0&&this.m_bigNumber.setValue("0");else{if(this.m_rawValue<=0)return!1;this.m_rawValue*=e}return t&&this.notifyChanged(),!0},t.prototype.divideValue=function(e,t){if(void 0===t&&(t=!0),this.m_bigNumber)this.m_bigNumber.divide(e+""),this.m_bigNumber.setValue(this.m_bigNumber.getIntValue()),this.m_bigNumber.compareValue("0")<0&&this.m_bigNumber.setValue("0");else{if(this.m_rawValue<=0)return!1;this.m_rawValue*=e}return t&&this.notifyChanged(),!0},t}(n.StorageProperty);i.CharPropertyValue=a,cc._RF.pop()},{"../../../Extension/BigNumber/VBigNumber":"VBigNumber","../../../Extension/Storage/StorageProperty":"StorageProperty","../Define/ValueTypeDefine":"ValueTypeDefine"}],CharValuesData:[function(e,t,i){"use strict";cc._RF.push(t,"66d1a9YxOJIcrNSxBqtK3gw","CharValuesData"),Object.defineProperty(i,"__esModule",{value:!0}),i.CharValuesData=void 0;var o=e("../../../Extension/Storage/StorageGroupData"),n=e("../Define/ValueTypeDefine"),r=e("./CharPropertyValue"),a=function(e){function t(){var t=e.call(this,"c_value")||this;return t.m_map={},t}return __extends(t,e),t.prototype.onCreateProperty=function(e){var t=parseInt(e);return this.m_map[t]||(this.m_map[t]=new r.CharPropertyValue(t)),this.m_map[t]},t.prototype.getStringValue=function(e){return this.m_map[e]?this.m_map[e].encode():"0"},t.prototype.getRealValue=function(e){return this.m_map[e]?this.m_map[e].getValue():e==n.ValueTypeDefine.Coin?"0":0},t.prototype.setValue=function(e,t){if(this.m_map[e]||this.initProperty(e+""),this.m_map[e]){if(0==this.m_map[e].compareValue(t))return!1;this.m_map[e].setValue(t)}return!0},t.prototype.addValue=function(e,t){return!!this.m_map[e]&&this.m_map[e].addValue(t)},t.prototype.substractValue=function(e,t){return!!this.m_map[e]&&this.m_map[e].subtractValue(t)},t.prototype.compareValue=function(e,t){return this.m_map[e]?this.m_map[e].compareValue(t):-1},t}(o.StorageGroupData);i.CharValuesData=a,cc._RF.pop()},{"../../../Extension/Storage/StorageGroupData":"StorageGroupData","../Define/ValueTypeDefine":"ValueTypeDefine","./CharPropertyValue":"CharPropertyValue"}],CityCreateGuideUIMediator:[function(e,t,i){"use strict";cc._RF.push(t,"b99b19+zvdNiZ/5OTHkGXte","CityCreateGuideUIMediator"),Object.defineProperty(i,"__esModule",{value:!0}),i.CityCreateGuideUIMediator=void 0;var o=e("../Define/BusinessUILayerDefine"),n=e("../Component/AbstractCityUIScript"),r=e("../Basic/BusinessUIMediator"),a=e("../../../Business/Control/ExpressDataController"),s=e("../../../Business/Control/TaskDataController"),p=e("../../../Business/Define/TaskTypeDefine"),u=e("../../../Business/Define/ExpressTaskParameterDefine"),c=e("../../../../Config/ConfigKeyDefine"),l=e("../../../MiniGame"),d=e("../../../Core/Express/ExpressWorld"),f=e("../../../Business/Define/WindowTypeDefine"),g=function(e){function t(){var t=e.call(this,"CityCreateGuideUIMediator","PF_UI_CreateCityGuide",o.BusinessUILayerDefine.UI,!1,!1,!0,!0,!0,f.WindowTypeDefine.Default)||this;return t.m_guideScript=null,t.m_taskUID="",t.m_taskData=null,t.m_cityID=0,t}return __extends(t,e),t.prototype.onUIMediatorInit=function(t,i){e.prototype.onUIMediatorInit.call(this,t,i),this.m_guideScript=t?t.getComponent(n.default):null},t.prototype.onUIMediatorUnInit=function(){this.m_guideScript=null,e.prototype.onUIMediatorUnInit.call(this)},t.prototype.onUIMediatorPrepare=function(t,i){if(e.prototype.onUIMediatorPrepare.call(this,t,i),this.m_taskUID=i,this.m_taskData=s.TaskDataController.Instance.getTaskData(p.TaskTypeDefine.Trade,this.m_taskUID),this.m_cityID=0,this.m_taskData&&this.m_guideScript&&this.m_guideScript.descLabel){var o="",n=0,r=0,a=miniframe.Config.getData(c.ConfigKeyDefine.TASK,this.m_taskData.getConfigID());if(a){var d=miniframe.Config.getData(c.ConfigKeyDefine.DROPBAG,a.getDropbag());d&&(n=d.getDropsAt(0).x,r=d.getDropsAt(0).y)}var f=this.m_taskData.getParameterAt(u.ExpressTaskParameterDefine.RouteCityCount),g=this.m_taskData.getParameterAt(u.ExpressTaskParameterDefine.RouteCityStart+f-1),m=miniframe.Config.getData(c.ConfigKeyDefine.EXPRESS_CITY,g);m&&(o=l.MiniGame.Locale.getLanguage(m.getShortNameLan())),this.m_guideScript.descLabel.setLanguageFormat(this.m_guideScript.descLabel.lanValue,o,n,r),this.m_cityID=g}},t.prototype.onUIMediatorClose=function(t){e.prototype.onUIMediatorClose.call(this,t)},t.prototype.onButtonClick=function(t){switch(t){case"go":this.m_cityID>0&&d.ExpressWorld.Instance.tryCreateCity(this.m_cityID),this.onClose();break;case"cancel":a.ExpressDataController.Instance.handleAbandonTradeTask(this.m_taskUID),this.onClose();break;default:e.prototype.onButtonClick.call(this,t)}},t}(r.BusinessUIMediator);i.CityCreateGuideUIMediator=g,cc._RF.pop()},{"../../../../Config/ConfigKeyDefine":"ConfigKeyDefine","../../../Business/Control/ExpressDataController":"ExpressDataController","../../../Business/Control/TaskDataController":"TaskDataController","../../../Business/Define/ExpressTaskParameterDefine":"ExpressTaskParameterDefine","../../../Business/Define/TaskTypeDefine":"TaskTypeDefine","../../../Business/Define/WindowTypeDefine":"WindowTypeDefine","../../../Core/Express/ExpressWorld":"ExpressWorld","../../../MiniGame":"MiniGame","../Basic/BusinessUIMediator":"BusinessUIMediator","../Component/AbstractCityUIScript":"AbstractCityUIScript","../Define/BusinessUILayerDefine":"BusinessUILayerDefine"}],CityCreateUIMediator:[function(e,t,i){"use strict";cc._RF.push(t,"e9fefDpE6hDs5sXoFQVw4CS","CityCreateUIMediator"),Object.defineProperty(i,"__esModule",{value:!0}),i.CityCreateUIMediator=void 0;var o=e("../../../../Config/ConfigKeyDefine"),n=e("../../../Business/Control/CharDataController"),r=e("../../../Business/Control/ConfigDataController"),a=e("../../../Business/Control/ExpressDataController"),s=e("../../../Business/Define/ButtonTipsHandlerDefine"),p=e("../../../Business/Define/ControlCodeDefine"),u=e("../../../Core/Express/ExpressWorld"),c=e("../../../MiniGame"),l=e("../../Core/Control/CoreConsts"),d=e("../../MediatorNameDefine"),f=function(e){function t(){var t=e.call(this,"CityCreateUIMediator","PF_UI_CreateCity")||this;return t.m_createCityScript=null,t.m_cityConfig=null,t.m_consumes=null,t.m_conditions=null,t.m_created=!1,t}return __extends(t,e),t.prototype.onUIMediatorInit=function(t,i){e.prototype.onUIMediatorInit.call(this,t,i),this.m_createCityScript=this.m_cityScript},t.prototype.onUIMediatorUnInit=function(){this.m_createCityScript=null,e.prototype.onUIMediatorUnInit.call(this)},t.prototype.onUIMediatorPrepare=function(t,i){e.prototype.onUIMediatorPrepare.call(this,t,i),this.m_cityConfig=i,this.m_consumes=null,this.m_conditions=null,this.updateCityBaseInfo(this.m_cityConfig);var s=!1,p=!1;if(this.m_createCityScript){var u=a.ExpressDataController.Instance.getCityCount(),c=miniframe.Config.getData(o.ConfigKeyDefine.EXPRESS_STATION_CONSUME,u),l=c?c.getConditions():null,d=c?c.getConsumes():null;l&&l.length>0?(this.m_createCityScript.conditionNode&&(this.m_createCityScript.conditionNode.active=!0),this.m_createCityScript.conditionValueLabel&&(this.m_createCityScript.conditionValueLabel.string=l[0].z+"",this.m_createCityScript.conditionValueLabel.setEnabled(n.CharDataController.Instance.compareCharValue(l[0].y,l[0].z)>=0))):(this.m_createCityScript.conditionNode&&(this.m_createCityScript.conditionNode.active=!1),this.m_createCityScript.conditionValueLabel&&(this.m_createCityScript.conditionValueLabel.string="")),this.m_consumes=d,this.m_conditions=l,s=r.ConfigDataController.Instance.isConditionAchieved(this.m_conditions),p=n.CharDataController.Instance.compareCharValues(this.m_consumes,!1),d&&d.length>0?(this.m_createCityScript.consumeNode&&(this.m_createCityScript.consumeNode.active=!0),this.m_createCityScript.consumeValueLabel&&(this.m_createCityScript.consumeValueLabel.string=n.CharDataController.Instance.formatValueString(d[0].y+"")),this.m_createCityScript.freeNode&&(this.m_createCityScript.freeNode.active=!1)):(this.m_createCityScript.consumeNode&&(this.m_createCityScript.consumeNode.active=!1),this.m_createCityScript.consumeValueLabel&&(this.m_createCityScript.consumeValueLabel.string=""),this.m_createCityScript.freeNode&&(this.m_createCityScript.freeNode.active=!0)),this.m_createCityScript.needInfoNode&&(this.m_createCityScript.needInfoNode.active=!s);var f=miniframe.Config.getData(o.ConfigKeyDefine.EXPRESS_STATION_CONSUME,u+1),g=0;f&&c?g=f.getHorseCount()-c.getHorseCount():c&&(g=c.getHorseCount()),this.m_createCityScript.horseInfoNode&&(this.m_createCityScript.horseInfoNode.active=s&&g>0),this.m_createCityScript.horseInfoLabel&&(this.m_createCityScript.horseInfoLabel.string="+"+g)}this.setButtonEnable("create",s&&p)},t.prototype.onUIMediatorBeginClose=function(t){e.prototype.onUIMediatorBeginClose.call(this,t),this.m_created||u.ExpressWorld.Instance.cameraBack(l.CoreConsts.CityCreateBackDurationMS),c.MiniGame.ButtonTips.refreshButtonTipsByHandler(s.ButtonTipsHandlerDefine.CityTips,!0,!0),c.MiniGame.ButtonTips.refreshButtonTipsByHandler(s.ButtonTipsHandlerDefine.TargetAward,!0,!0)},t.prototype.onUIMediatorClose=function(t){e.prototype.onUIMediatorClose.call(this,t),a.ExpressDataController.Instance.removeListener(this),this.m_created=!1},t.prototype.onButtonClick=function(t){switch(t){case"create":if(!this.m_cityConfig)return;if(this.m_consumes&&this.m_consumes.length>0){if(!n.CharDataController.Instance.compareCharValues(this.m_consumes,!0))return;n.CharDataController.Instance.handleRemoveCharValues(this.m_consumes)}this.lockUI(),this.m_created=!0,a.ExpressDataController.Instance.addListener(this),a.ExpressDataController.Instance.handleActiveCity(this.m_cityConfig.getId());break;case"question":c.MiniGame.Instance.requestComplexPromptData(100201,this.onCreateComplexPromptData,this);break;default:e.prototype.onButtonClick.call(this,t)}},t.prototype.onCreateComplexPromptData=function(e){c.MiniGame.MVC.openMediator(d.MediatorNameDefine.PromptAutoUIMediator,e,!0)},t.prototype.onDataControllerUpdate=function(e,t){switch(e){case p.ControlCodeDefine.ExpressCityOpen:case p.ControlCodeDefine.ExpressCityActive:this.unlockUI(),this.m_cityConfig&&this.m_cityConfig.getId()==t&&this.onClose()}},t}(e("../Basic/AbstractCityUIMediator").AbstractCityUIMediator);i.CityCreateUIMediator=f,cc._RF.pop()},{"../../../../Config/ConfigKeyDefine":"ConfigKeyDefine","../../../Business/Control/CharDataController":"CharDataController","../../../Business/Control/ConfigDataController":"ConfigDataController","../../../Business/Control/ExpressDataController":"ExpressDataController","../../../Business/Define/ButtonTipsHandlerDefine":"ButtonTipsHandlerDefine","../../../Business/Define/ControlCodeDefine":"ControlCodeDefine","../../../Core/Express/ExpressWorld":"ExpressWorld","../../../MiniGame":"MiniGame","../../Core/Control/CoreConsts":"CoreConsts","../../MediatorNameDefine":"MediatorNameDefine","../Basic/AbstractCityUIMediator":"AbstractCityUIMediator"}],CityCreateUIScript:[function(e,t,i){"use strict";cc._RF.push(t,"10bc6sRompLS5aWQG1cZApw","CityCreateUIScript"),Object.defineProperty(i,"__esModule",{value:!0});var o=e("../../../../Extension/UI/Label/UITextScript"),n=e("./AbstractCityUIScript"),r=cc._decorator,a=r.ccclass,s=r.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.conditionNode=null,t.conditionValueLabel=null,t.consumeNode=null,t.consumeValueLabel=null,t.freeNode=null,t.needInfoNode=null,t.horseInfoNode=null,t.horseInfoLabel=null,t}return __extends(t,e),__decorate([s(cc.Node)],t.prototype,"conditionNode",void 0),__decorate([s(o.default)],t.prototype,"conditionValueLabel",void 0),__decorate([s(cc.Node)],t.prototype,"consumeNode",void 0),__decorate([s(o.default)],t.prototype,"consumeValueLabel",void 0),__decorate([s(cc.Node)],t.prototype,"freeNode",void 0),__decorate([s(cc.Node)],t.prototype,"needInfoNode",void 0),__decorate([s(cc.Node)],t.prototype,"horseInfoNode",void 0),__decorate([s(o.default)],t.prototype,"horseInfoLabel",void 0),__decorate([a],t)}(n.default);i.default=p,cc._RF.pop()},{"../../../../Extension/UI/Label/UITextScript":"UITextScript","./AbstractCityUIScript":"AbstractCityUIScript"}],CityDevelopUIMediator:[function(e,t,i){"use strict";cc._RF.push(t,"e27dcjw1LpH6aijrfPpQa0D","CityDevelopUIMediator"),Object.defineProperty(i,"__esModule",{value:!0}),i.CityDevelopUIMediator=void 0;var o=e("../../../../Config/ConfigKeyDefine"),n=e("../../../Business/Control/CharDataController"),r=e("../../../Business/Control/ConfigDataController"),a=e("../../../Business/Control/ExpressDataController"),s=e("../../../Business/Control/GuideDataController"),p=e("../../../Business/Define/ButtonTipsHandlerDefine"),u=e("../../../Business/Define/ControlCodeDefine"),c=e("../../../Business/Define/SystemIDDefine"),l=e("../../../Business/Define/ValueTypeDefine"),d=e("../../../Core/Express/Control/ExpressArea"),f=e("../../../Core/Express/Control/ExpressCityBenefitInfo"),g=e("../../../Core/Express/ExpressWorld"),m=e("../../../MiniGame"),h=e("../../Core/Control/CoreConsts"),_=e("../Basic/AbstractCityUIMediator"),y=e("../View/BuildingItemUIView"),C=function(e){function t(){var t=e.call(this,"CityDevelopUIMediator","PF_UI_DevelopCity")||this;return t.m_developCityScript=null,t.m_buildingItems=[],t.m_cityData=null,t.m_cityConfig=null,t.m_nextStar=0,t.m_nextStarConfig=null,t.m_starExpIsFull=!1,t.m_buildingStarNeed=0,t.m_lastAwardIncomeBase=-1,t.m_coinAwardIncome=null,t.m_coinAwardIsFull=!1,t.m_benefitInfo=null,t.m_coinAwardBuildingItem=null,t.m_realConsume=[],t.m_goldNeed=0,t.m_listeningTime=!1,t}return __extends(t,e),t.prototype.onUIMediatorInit=function(t,i){e.prototype.onUIMediatorInit.call(this,t,i),this.m_developCityScript=this.m_cityScript,this.m_developCityScript&&this.m_developCityScript.coinAwardNode&&(this.m_benefitInfo||(this.m_benefitInfo=new f.ExpressCityBenefitInfo(this.getMediatorName(),d.ExpressArea.CityButtonKeyBenefitInfo,!0),this.m_benefitInfo.setDropOffset(cc.Vec2.ZERO),this.m_benefitInfo.setValueType(l.ValueTypeDefine.Coin)),this.m_benefitInfo.bindNode(this.m_developCityScript.coinAwardNode))},t.prototype.onUIMediatorUnInit=function(){for(this.m_benefitInfo&&(this.m_benefitInfo.dispose(),this.m_benefitInfo=null);this.m_buildingItems.length>0;)this.m_buildingItems.pop().dispose();this.m_developCityScript=null,this.m_coinAwardBuildingItem=null,e.prototype.onUIMediatorUnInit.call(this)},t.prototype.onUIMediatorPrepare=function(t,i){e.prototype.onUIMediatorPrepare.call(this,t,i),this.m_cityData=i,this.m_cityConfig=miniframe.Config.getData(o.ConfigKeyDefine.EXPRESS_CITY,this.m_cityData.getCityID()),this.m_nextStar=0,this.m_starExpIsFull=!1,this.m_coinAwardBuildingItem=null,this.m_benefitInfo&&(this.m_benefitInfo.setGuideMode(0),this.m_benefitInfo.setCityID(this.m_cityData.getCityID()),this.m_benefitInfo.hide()),this.updateCityBaseInfo(this.m_cityConfig);var n=this.m_cityData.getStar(),s=this.m_cityData.getBuildingCount();if(this.m_buildingStarNeed=r.ConfigDataController.Instance.calculateBuildingStarNeed(n,n,s),this.m_developCityScript){for(var p=this.m_cityData.getSlots(),u=null,c=this.m_developCityScript.buildingItemNodes.length,l=0;l<c;l++)l>=this.m_buildingItems.length&&(u=this.m_developCityScript.buildingItemNodes[l],this.m_buildingItems.push(new y.BuildingItemUIView(this.getMediatorName())),this.m_buildingItems[l].bindNode(u),this.m_buildingItems[l].setSlotID(l+1)),this.m_buildingItems[l].show(),this.m_buildingItems[l].setCityData(this.m_cityData),this.m_buildingItems[l].setStarNeed(n>=this.m_buildingStarNeed?0:this.m_buildingStarNeed),p&&l<p.length?this.m_buildingItems[l].setData(p[l]):this.m_buildingItems[l].setData(null),1==this.m_buildingItems[l].getBuildingType()&&(this.m_coinAwardBuildingItem=this.m_buildingItems[l]);this.updateStarInfo()}a.ExpressDataController.Instance.addListener(this)},t.prototype.onUIMediatorOpen=function(t,i){e.prototype.onUIMediatorOpen.call(this,t,i),this.updateCoinAward(),this.listenTime()},t.prototype.onUIMediatorBeginClose=function(t){e.prototype.onUIMediatorBeginClose.call(this,t),g.ExpressWorld.Instance.cameraBack(h.CoreConsts.CityDevelopBackDurationMS),m.MiniGame.ButtonTips.refreshButtonTipsByHandler(p.ButtonTipsHandlerDefine.CityTips,!0,!0),m.MiniGame.ButtonTips.refreshButtonTipsByHandler(p.ButtonTipsHandlerDefine.TargetAward,!0,!0)},t.prototype.onUIMediatorClose=function(t){e.prototype.onUIMediatorClose.call(this,t),this.m_benefitInfo&&(this.m_benefitInfo.setGuideMode(0),this.m_benefitInfo.hide()),this.unlistenTime(),a.ExpressDataController.Instance.removeListener(this)},t.prototype.onButtonClick=function(t){switch(t){case"starup":if(!this.m_cityData)return;if(!this.m_starExpIsFull)return;if(this.m_nextStar<=0)return;if(!this.m_nextStarConfig)return;var i=this.m_realConsume;if(i&&i.length>0){if(!n.CharDataController.Instance.compareCharValues(i,!0))return;n.CharDataController.Instance.handleRemoveCharValues(i)}a.ExpressDataController.Instance.handleUpgradeCityStar(this.m_cityData.getCityID(),this.m_nextStar);break;default:e.prototype.onButtonClick.call(this,t)}},t.prototype.onInitGuide=function(){e.prototype.onInitGuide.call(this);for(var t=null,i=this.m_buildingItems.length,o=0;o<i;o++)(t=this.m_buildingItems[o].getButton("go"))&&m.MiniGame.Guide.addButton(this.getMediatorName(),this.m_buildingItems[o].getButtonKey(),t.getNode())},t.prototype.onUnInitGuide=function(){e.prototype.onUnInitGuide.call(this);for(var t=this.m_buildingItems.length,i=0;i<t;i++)this.m_buildingItems[i].getButton("go")&&m.MiniGame.Guide.removeButton(this.getMediatorName(),this.m_buildingItems[i].getButtonKey())},t.prototype.getCityID=function(){return this.m_cityData?this.m_cityData.getCityID():0},t.prototype.updateStarInfo=function(){this.m_goldNeed=0,this.m_realConsume.length>0&&this.m_realConsume.splice(0,this.m_realConsume.length),this.updateCityStarInfo(this.m_cityData);var e=!1,t=this.m_cityData.getStar();if(this.m_nextStar=t+1,this.m_nextStarConfig=miniframe.Config.getData(o.ConfigKeyDefine.EXPRESS_STATION_GROW,this.m_nextStar),this.m_nextStarConfig){var i=a.ExpressDataController.Instance.getCityRealConsumeMap(this.m_nextStarConfig.getConsumes());if(i){for(var r in i)this.m_realConsume.push(new miniframe.Number2(parseInt(r),i[r]));this.m_goldNeed=i[l.ValueTypeDefine.Gold]||0}e=n.CharDataController.Instance.compareCharValue(l.ValueTypeDefine.Gold,this.m_goldNeed)>=0;var s=0,p=miniframe.Config.getData(o.ConfigKeyDefine.EXPRESS_STATION_GROW,t);p&&(s=p.getExp());var u=this.m_cityData.getStarExp(),d=this.m_nextStarConfig.getExp();u-=s,d-=s,this.m_developCityScript.starExpLabel&&(this.m_developCityScript.starExpLabel.string=u+"/"+d),this.m_developCityScript.starExpProgressBar&&(this.m_developCityScript.starExpProgressBar.progress=u/d),this.m_developCityScript.starExpNode&&(this.m_developCityScript.starExpNode.active=!0),this.m_developCityScript.starConsumeLabel&&(this.m_developCityScript.starConsumeLabel.string=n.CharDataController.Instance.formatValueString(this.m_goldNeed+"")),this.m_starExpIsFull=u>=d,this.m_developCityScript.rankUpNode&&(this.m_developCityScript.rankUpNode.active=!0),this.m_developCityScript.fullLevelNode&&(this.m_developCityScript.fullLevelNode.active=!1)}else this.m_developCityScript.starExpNode&&(this.m_developCityScript.starExpNode.active=!1),this.m_developCityScript.rankUpNode&&(this.m_developCityScript.rankUpNode.active=!1),this.m_developCityScript.fullLevelNode&&(this.m_developCityScript.fullLevelNode.active=!0);this.m_starExpIsFull?e?this.setButtonEnable("starup",!0):this.setButtonEnable("starup",!1,!0):this.setButtonEnable("starup",!1);var f=this.getButton("starup");if(f){var g=m.MiniGame.SystemOpen.isSystemOpen(c.SystemIDDefine.CityCanStarUp);f.setTipsState(g&&this.m_starExpIsFull&&e?1:0)}},t.prototype.updateBuildingStarNeed=function(){var e=this.m_cityData.getStar(),t=this.m_cityData.getBuildingCount();this.m_buildingStarNeed=r.ConfigDataController.Instance.calculateBuildingStarNeed(e,e,t);for(var i=this.m_buildingItems.length,o=0;o<i;o++)this.m_buildingItems[o].setStarNeed(e>=this.m_buildingStarNeed?0:this.m_buildingStarNeed),this.m_buildingItems[o].refreshData()},t.prototype.updateCoinAward=function(){if(this.m_coinAwardIncome=a.ExpressDataController.Instance.getCityCoinAwardIncome(this.m_cityData.getCityID()),this.m_coinAwardIsFull=a.ExpressDataController.Instance.getCityCoinAwardIsFull(this.m_cityData.getCityID()),this.m_developCityScript&&this.m_benefitInfo)if(this.m_coinAwardBuildingItem&&this.m_coinAwardBuildingItem.canLevelUp())this.m_benefitInfo&&(this.m_benefitInfo.setGuideMode(0),this.m_benefitInfo.hide());else if(this.m_coinAwardIncome&&this.m_coinAwardIncome.compareValue("0")>0){var e=parseInt(this.m_coinAwardIncome.getValue()),t=Math.floor(e/100);this.m_lastAwardIncomeBase!=t&&(this.m_lastAwardIncomeBase=t,s.GuideDataController.Instance.triggerGuideByCityCoinAward(this.getCityID(),t)),this.m_benefitInfo.getVisible()||this.m_benefitInfo.show(),this.m_benefitInfo.setGuideMode(m.MiniGame.Guide.getGuideMode()),this.m_benefitInfo.setIncome(this.m_coinAwardIncome.getValue()),this.m_benefitInfo.setIsFull(this.m_coinAwardIsFull)}else this.m_benefitInfo&&(this.m_benefitInfo.setGuideMode(0),this.m_benefitInfo.hide())},t.prototype.listenTime=function(){this.m_listeningTime||(this.m_listeningTime=!0,miniframe.Timer.addUpdateEventListener(this))},t.prototype.unlistenTime=function(){this.m_listeningTime&&(this.m_listeningTime=!1,miniframe.Timer.removeUpdateEventListener(this))},t.prototype.onTimeSystemUpdate=function(){return this.updateCoinAward(),!1},t.prototype.onDataControllerUpdate=function(e,t){switch(e){case u.ControlCodeDefine.ExpressCityStarChange:case u.ControlCodeDefine.ExpressCityStarExpChange:if(!this.m_cityData||this.m_cityData.getCityID()!=t)return;this.updateStarInfo(),this.refreshBusinessInfo(),this.updateBuildingStarNeed();break;case u.ControlCodeDefine.ExpressCitySlotActive:var i=t;if(!this.m_cityData||this.m_cityData.getCityID()!=i.x)return;var o=i.y;(n=o-1)>=0&&n<this.m_buildingItems.length&&(this.m_buildingItems[n].setData(this.m_cityData.getSlot(o)),m.MiniGame.Effect.playEffect(5,this.m_buildingItems[n].getNode(),cc.Vec2.ZERO)),this.updateBuildingStarNeed();break;case u.ControlCodeDefine.ExpressCitySlotUpdate:var n;if(i=t,!this.m_cityData||this.m_cityData.getCityID()!=i.x)return;(n=i.y-1)>=0&&n<this.m_buildingItems.length&&this.m_buildingItems[n].refreshData()}},t}(_.AbstractCityUIMediator);i.CityDevelopUIMediator=C,cc._RF.pop()},{"../../../../Config/ConfigKeyDefine":"ConfigKeyDefine","../../../Business/Control/CharDataController":"CharDataController","../../../Business/Control/ConfigDataController":"ConfigDataController","../../../Business/Control/ExpressDataController":"ExpressDataController","../../../Business/Control/GuideDataController":"GuideDataController","../../../Business/Define/ButtonTipsHandlerDefine":"ButtonTipsHandlerDefine","../../../Business/Define/ControlCodeDefine":"ControlCodeDefine","../../../Business/Define/SystemIDDefine":"SystemIDDefine","../../../Business/Define/ValueTypeDefine":"ValueTypeDefine","../../../Core/Express/Control/ExpressArea":"ExpressArea","../../../Core/Express/Control/ExpressCityBenefitInfo":"ExpressCityBenefitInfo","../../../Core/Express/ExpressWorld":"ExpressWorld","../../../MiniGame":"MiniGame","../../Core/Control/CoreConsts":"CoreConsts","../Basic/AbstractCityUIMediator":"AbstractCityUIMediator","../View/BuildingItemUIView":"BuildingItemUIView"}],CityDevelopUIScript:[function(e,t,i){"use strict";cc._RF.push(t,"ca909zH5dFJYY3aat6tggJH","CityDevelopUIScript"),Object.defineProperty(i,"__esModule",{value:!0});var o=e("../../../../Extension/UI/Label/UITextScript"),n=e("./AbstractCityUIScript"),r=cc._decorator,a=r.ccclass,s=r.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.buildingItemNodes=[],t.starExpLabel=null,t.starExpProgressBar=null,t.starExpNode=null,t.starConsumeLabel=null,t.coinAwardNode=null,t.fullLevelNode=null,t.rankUpNode=null,t}return __extends(t,e),__decorate([s([cc.Node])],t.prototype,"buildingItemNodes",void 0),__decorate([s(o.default)],t.prototype,"starExpLabel",void 0),__decorate([s(cc.ProgressBar)],t.prototype,"starExpProgressBar",void 0),__decorate([s(cc.Node)],t.prototype,"starExpNode",void 0),__decorate([s(o.default)],t.prototype,"starConsumeLabel",void 0),__decorate([s(cc.Node)],t.prototype,"coinAwardNode",void 0),__decorate([s(cc.Node)],t.prototype,"fullLevelNode",void 0),__decorate([s(cc.Node)],t.prototype,"rankUpNode",void 0),__decorate([a],t)}(n.default);i.default=p,cc._RF.pop()},{"../../../../Extension/UI/Label/UITextScript":"UITextScript","./AbstractCityUIScript":"AbstractCityUIScript"}],CluePieceItemSlotUIViewScript:[function(e,t,i){"use strict";cc._RF.push(t,"543f7P2yG5ANqyvvE3M/tCv","CluePieceItemSlotUIViewScript"),Object.defineProperty(i,"__esModule",{value:!0});var o=e("../../../../Extension/UI/Label/UITextScript"),n=e("../../../../Extension/UI/Item/ItemUIViewScript"),r=cc._decorator,a=r.ccclass,s=r.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bgNodes=[],t.contentLabel=null,t}return __extends(t,e),__decorate([s([cc.Node])],t.prototype,"bgNodes",void 0),__decorate([s(o.default)],t.prototype,"contentLabel",void 0),__decorate([a],t)}(n.default);i.default=p,cc._RF.pop()},{"../../../../Extension/UI/Item/ItemUIViewScript":"ItemUIViewScript","../../../../Extension/UI/Label/UITextScript":"UITextScript"}],CluePieceItemUIViewScript:[function(e,t,i){"use strict";cc._RF.push(t,"a22cdAD2sBCBrBipTvmVPJd","CluePieceItemUIViewScript"),Object.defineProperty(i,"__esModule",{value:!0});var o=e("../../../../Extension/UI/Label/UITextScript"),n=e("../../../../Extension/UI/Item/ItemUIViewScript"),r=cc._decorator,a=r.ccclass,s=r.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.contentLabel=null,t.slotNodes=[],t.slotTemplate=null,t.aniComp=null,t}return __extends(t,e),__decorate([s(o.default)],t.prototype,"contentLabel",void 0),__decorate([s([cc.Node])],t.prototype,"slotNodes",void 0),__decorate([s(cc.Prefab)],t.prototype,"slotTemplate",void 0),__decorate([s(cc.Animation)],t.prototype,"aniComp",void 0),__decorate([a],t)}(n.default);i.default=p,cc._RF.pop()},{"../../../../Extension/UI/Item/ItemUIViewScript":"ItemUIViewScript","../../../../Extension/UI/Label/UITextScript":"UITextScript"}],CluePieceItemUIView:[function(e,t,i){"use strict";cc._RF.push(t,"e2e80VTsMZHtrYl+tRYM4GY","CluePieceItemUIView"),Object.defineProperty(i,"__esModule",{value:!0}),i.CluePieceItemUIView=void 0;var o=e("../Basic/BusinessItemUIView"),n=e("../Component/CluePieceItemSlotUIViewScript"),r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.m_pieceIndex=0,t.m_sortIndex=0,t.m_displayIndex=0,t.m_iconConfig=null,t.m_slotScript=null,t}return __extends(t,e),t.prototype.onInitScript=function(){e.prototype.onInitScript.call(this)},t.prototype.onSetData=function(t,i,o){if(!this.m_slotScript&&t.slotTemplate){var r=cc.instantiate(t.slotTemplate);this.m_slotScript=r.getComponent(n.default)}if(this.m_slotScript){for(var a=miniframe.random.randomInt(0,this.m_slotScript.bgNodes.length-1),s=this.m_slotScript.bgNodes.length,p=0;p<s;p++)this.m_slotScript.bgNodes[p].active=p==a;a=miniframe.random.randomInt(0,t.slotNodes.length-1),r=t.slotNodes[a],this.m_slotScript.node.getParent()!=r&&(this.m_slotScript.node.getParent()&&this.m_slotScript.node.removeFromParent(!1),r&&r.addChild(this.m_slotScript.node))}return i?(t.contentLabel&&t.contentLabel.setLanguage(i.getLansAt(this.m_pieceIndex)),this.m_slotScript&&this.m_slotScript.contentLabel&&(this.m_slotScript.contentLabel.string=this.m_iconConfig?this.m_iconConfig.getContentsAt(this.m_sortIndex):"")):(t.contentLabel&&(t.contentLabel.string=""),this.m_slotScript&&this.m_slotScript.contentLabel&&(this.m_slotScript.contentLabel.string="")),e.prototype.onSetData.call(this,t,i,o)},t.prototype.onButtonClick=function(t){e.prototype.onButtonClick.call(this,t)},t.prototype.setPieceIndex=function(e){this.m_pieceIndex=e},t.prototype.getPieceIndex=function(){return this.m_pieceIndex},t.prototype.setSortIndex=function(e){this.m_sortIndex=e},t.prototype.getSortIndex=function(){return this.m_sortIndex},t.prototype.setDisplayIndex=function(e){this.m_displayIndex=e},t.prototype.getDisplayIndex=function(){return this.m_displayIndex},t.prototype.setIconConfig=function(e){this.m_iconConfig=e},t.prototype.playAnimation=function(e){var t=this.getScript();t&&t.aniComp&&t.aniComp.play(e)},t}(o.BusinessItemUIView);i.CluePieceItemUIView=r,cc._RF.pop()},{"../Basic/BusinessItemUIView":"BusinessItemUIView","../Component/CluePieceItemSlotUIViewScript":"CluePieceItemSlotUIViewScript"}],CommonTypeDefine:[function(e,t,i){"use strict";cc._RF.push(t,"59695/805ZMxYM1izviGZ7z","CommonTypeDefine"),Object.defineProperty(i,"__esModule",{value:!0}),i.CommonTypeDefine=void 0;var o=function(){function e(){}return e.ItemIDStart=1e3,e}();i.CommonTypeDefine=o,cc._RF.pop()},{}],ConditionTypeDefine:[function(e,t,i){"use strict";cc._RF.push(t,"ca742i8WVJB+rYNLuHyU+L5","ConditionTypeDefine"),Object.defineProperty(i,"__esModule",{value:!0}),i.ConditionTypeDefine=void 0,function(e){e[e.None=0]="None",e[e.Value=1]="Value",e[e.PreCity=2]="PreCity",e[e.BuildingType=3]="BuildingType",e[e.CityStar=4]="CityStar",e[e.Monster=5]="Monster",e[e.GetItem=201]="GetItem",e[e.ActiveTarget=407]="ActiveTarget",e[e.TaskGuideComplete=502]="TaskGuideComplete"}(i.ConditionTypeDefine||(i.ConditionTypeDefine={})),cc._RF.pop()},{}],ConfigDataController:[function(e,t,i){"use strict";cc._RF.push(t,"d0d13QPpd1HVr9mUhizdtww","ConfigDataController"),Object.defineProperty(i,"__esModule",{value:!0}),i.ConfigDataController=void 0;var o=e("../../../Config/ConfigKeyDefine"),n=e("../Data/TradeTaskData"),r=e("../Define/ConditionTypeDefine"),a=e("../Define/ExpressEventTypeDefine"),s=e("../Define/ItemFuncTypeDefine"),p=e("../Define/ItemPackTypeDefine"),u=e("../Define/TaskTypeDefine"),c=e("./CharDataController"),l=e("./CopyDataController"),d=e("./ExpressDataController"),f=e("./GuideDataController"),g=e("./ItemDataController"),m=function(){function e(){this.m_areaCityIDs=null,this.m_cityActiveCityIDs=null,this.m_cityPreCityID=null,this.m_stationStarExps=null,this.m_cityExpressTargets=null,this.m_typeExpressTargetConfigs=null,this.m_expressTargetEventBags=null,this.m_expressTargetTypeToBuildingID=null,this.m_lockedTypeExpressTargetConfigs=null,this.m_tradeCommonsInited=!1,this.m_tradeSpeeds=[],this.m_tradeSpeedScales=[],this.m_tradeSpeedScaleChangeeIntervals=[],this.m_tradeStartDelayMSs=[],this.m_tradeAbandonTimeMSs=[],this.m_typeExpressEventBags=null,this.m_eventIDToBags=null,this.m_typeTasks=null,this.m_commonTradeTasks=[],this.m_targetTradeTasks={},this.m_targetTradeBasicRates=null,this.m_tradeTasks={},this.m_typeGifts=null,this.m_giftAwards={},this.m_typeItemConfigs=null,this.m_combineItemNeeds=null,this.m_bookPieceTypes=[],this.m_typeBookPiecesIDs=null,this.m_tradeCoinDropNumRange=null,this.m_reputationPowerVal=NaN,e.ms_instance=this}return Object.defineProperty(e,"Instance",{get:function(){return e.ms_instance||new e},enumerable:!1,configurable:!0}),e.prototype.getAreaCityConfigs=function(e){return this.initAreaCities(),this.m_areaCityIDs[e]},e.prototype.initAreaCities=function(){if(!this.m_areaCityIDs){this.m_areaCityIDs={},this.m_cityActiveCityIDs={},this.m_cityPreCityID={};var e=0,t=0,i=null,n=miniframe.Config.getDataMap(o.ConfigKeyDefine.EXPRESS_CITY);for(var r in n)t=(i=n[r]).getArea(),this.m_areaCityIDs[t]||(this.m_areaCityIDs[t]=[]),this.m_areaCityIDs[t].push(i),(e=this.getPreCityIDFromConfig(i.getId()))>0&&(this.m_cityActiveCityIDs[e]?this.m_cityActiveCityIDs[e].push(i.getId()):this.m_cityActiveCityIDs[e]=[i.getId()],this.m_cityPreCityID[i.getId()]=e)}},e.prototype.getPreCityIDFromConfig=function(e){var t=miniframe.Config.getData(o.ConfigKeyDefine.EXPRESS_CITY,e);if(!t)return 0;for(var i=t.getConditionsCount(),n=0;n<i;n++)if(t.getConditionsAt(n).x==r.ConditionTypeDefine.PreCity)return t.getConditionsAt(n).y;return 0},e.prototype.getCityActiveCityIDs=function(e){return this.initAreaCities(),this.m_cityActiveCityIDs[e]},e.prototype.getPreCityID=function(e){return this.initAreaCities(),this.m_cityPreCityID[e]||0},e.prototype.getPreDisplayCityID=function(e){var t=miniframe.Config.getData(o.ConfigKeyDefine.EXPRESS_CITY,e);return t?t.getPreDisplayCity():0},e.prototype.calculateBuildingStarNeed=function(e,t,i){var n=miniframe.Config.getData(o.ConfigKeyDefine.EXPRESS_STATION_GROW,e);return n?i<n.getBuildingCount()?e:this.calculateBuildingStarNeed(e+1,e,i):t},e.prototype.getCityStationStarByExp=function(e){if(e<=0)return 0;this.initStationGrows();for(var t=this.m_stationStarExps.length,i=0;i<t;i++)if(e<this.m_stationStarExps[i])return i;return t},e.prototype.initStationGrows=function(){if(!this.m_stationStarExps){this.m_stationStarExps=[];var e=0,t=null,i=miniframe.Config.getDataMap(o.ConfigKeyDefine.EXPRESS_STATION_GROW);for(var n in i){for(e=(t=i[n]).getId()-1;e>=this.m_stationStarExps.length;)this.m_stationStarExps.push(0);this.m_stationStarExps[e]=t.getExp()}}},e.prototype.isConditionAchieved=function(e,t){if(void 0===t&&(t=0),!e||e.length<=0)return!0;for(var i=0,o=0,n=e.length,r=0;r<n;r++)if(this.checkCondition(e[r].x,e[r].y,e[r].z)?i++:o++,1==t){if(i>0)return!0}else if(o>0)return!1;return 1==t?i>0:o<=0},e.prototype.checkCondition=function(e,t,i){switch(e){case r.ConditionTypeDefine.Value:if(c.CharDataController.Instance.compareCharValue(t,i)>=0)return!0;break;case r.ConditionTypeDefine.PreCity:if(d.ExpressDataController.Instance.hasCityData(t))return!0;break;case r.ConditionTypeDefine.CityStar:if(0==i){if(d.ExpressDataController.Instance.hasCityData(t))return!0}else if(d.ExpressDataController.Instance.getCityStar(t)>=i)return!0;break;case r.ConditionTypeDefine.Monster:return l.CopyDataController.Instance.isMonsterClear(t);case r.ConditionTypeDefine.GetItem:return t>0?g.ItemDataController.Instance.getItemCountByConfigID(p.ItemPackTypeDefine.Default,t)>0:!(i>0)||g.ItemDataController.Instance.containsItemCountByItemType(p.ItemPackTypeDefine.Default,i);case r.ConditionTypeDefine.ActiveTarget:return t>0?d.ExpressDataController.Instance.isTargetActivated(t):d.ExpressDataController.Instance.hasAnyTargetActivated();case r.ConditionTypeDefine.TaskGuideComplete:return f.GuideDataController.Instance.isTaskGuideComplete(t)}return!1},e.prototype.initExpressTargets=function(){if(!this.m_cityExpressTargets){this.m_cityExpressTargets={},this.m_typeExpressTargetConfigs={},this.m_lockedTypeExpressTargetConfigs={};var e=null,t=miniframe.Config.getDataMap(o.ConfigKeyDefine.EXPRESS_TARGET);for(var i in t)(e=t[i]).getType()>0&&(e.getConditionsCount()>0&&this.addCityExpressTargetByTargetConditions(e.getId(),e.getConditions()),d.ExpressDataController.Instance.isTargetAwardHasDrawn(e.getId())||(this.m_lockedTypeExpressTargetConfigs[e.getType()]?this.m_lockedTypeExpressTargetConfigs[e.getType()].push(e):this.m_lockedTypeExpressTargetConfigs[e.getType()]=[e]),this.m_typeExpressTargetConfigs[e.getType()]?this.m_typeExpressTargetConfigs[e.getType()].push(e):this.m_typeExpressTargetConfigs[e.getType()]=[e])}},e.prototype.addCityExpressTargetByTargetConditions=function(e,t){for(var i=t.length,o=0;o<i;o++)t[o].x==r.ConditionTypeDefine.CityStar&&this.addCityExpressTargetByTargetCondition(e,t[o].y)},e.prototype.addCityExpressTargetByTargetCondition=function(e,t){this.m_cityExpressTargets[t]?miniframe.safePush(this.m_cityExpressTargets[t],e):this.m_cityExpressTargets[t]=[e]},e.prototype.getCityExpressTargets=function(e){return this.initExpressTargets(),this.m_cityExpressTargets[e]},e.prototype.getActivatedCityExpressTargets=function(e){var t=this.getCityExpressTargets(e);if(!t||t.length<=0)return null;for(var i=null,n=null,r=t.length,a=0;a<r;a++)(n=miniframe.Config.getData(o.ConfigKeyDefine.EXPRESS_TARGET,t[a]))&&this.isConditionAchieved(n.getConditions())&&(i||(i=[]),i.push(t[a]));return i},e.prototype.getExpressTargetConfigsByType=function(e){return this.initExpressTargets(),this.m_typeExpressTargetConfigs[e]},e.prototype.getExpressTargetEventBagIDs=function(e){return this.m_expressTargetEventBags||(this.m_expressTargetEventBags={},this.initTasks()),this.m_expressTargetEventBags[e]},e.prototype.initExpressTargetBuildings=function(){if(!this.m_expressTargetTypeToBuildingID){this.m_expressTargetTypeToBuildingID={};for(var e=miniframe.Config.getData(o.ConfigKeyDefine.CONST,1015),t=e.getValueCount(),i=0;i<t;i++)this.m_expressTargetTypeToBuildingID[i+1]=e.getValueAt(i)}},e.prototype.getExpressTargetsBuildingID=function(e){return this.initExpressTargetBuildings(),this.m_expressTargetTypeToBuildingID[e]||0},e.prototype.getLockedExpressTargetConfigsByType=function(e){return this.initExpressTargets(),this.m_lockedTypeExpressTargetConfigs[e]},e.prototype.initTradeCommons=function(){if(!this.m_tradeCommonsInited){this.m_tradeCommonsInited=!0;var e=miniframe.Config.getData(o.ConfigKeyDefine.CONST,1004);if(e)for(var t=e.getValueCount(),i=0;i<t;i+=2)this.m_tradeSpeeds.push(new cc.Vec2(e.getValueAt(i),e.getValueAt(i+1)));if(e=miniframe.Config.getData(o.ConfigKeyDefine.CONST,1008))for(t=e.getValueCount(),i=0;i<t;i++)this.m_tradeStartDelayMSs.push(e.getValueAt(i));if(e=miniframe.Config.getData(o.ConfigKeyDefine.CONST,1009))for(t=e.getValueCount(),i=0;i<t;i++)this.m_tradeAbandonTimeMSs.push(e.getValueAt(i));(e=miniframe.Config.getData(o.ConfigKeyDefine.CONST,1012))&&(this.m_tradeSpeedScales.push(new cc.Vec2(e.getValueAt(0),e.getValueAt(1))),this.m_tradeSpeedScaleChangeeIntervals.push(new cc.Vec2(e.getValueAt(2),e.getValueAt(3)))),(e=miniframe.Config.getData(o.ConfigKeyDefine.CONST,1011))&&(this.m_tradeSpeedScales.push(new cc.Vec2(e.getValueAt(0),e.getValueAt(1))),this.m_tradeSpeedScaleChangeeIntervals.push(new cc.Vec2(e.getValueAt(2),e.getValueAt(3))))}},e.prototype.getTradeSpeed=function(e){return this.initTradeCommons(),e<this.m_tradeSpeeds.length?this.m_tradeSpeeds[e].x:0},e.prototype.getTradeSpeedScale=function(e){return this.initTradeCommons(),e<this.m_tradeSpeedScales.length?miniframe.random.randomIntWith(this.m_tradeSpeedScales[e]):100},e.prototype.getTradeSpeedScaleChangeInterval=function(e){return this.initTradeCommons(),e<this.m_tradeSpeedScaleChangeeIntervals.length?miniframe.random.randomIntWith(this.m_tradeSpeedScaleChangeeIntervals[e]):2e3},e.prototype.getTradeGapMS=function(e){return this.initTradeCommons(),e<this.m_tradeSpeeds.length?this.m_tradeSpeeds[e].y:0},e.prototype.getTradeStartDelayMS=function(e){return this.initTradeCommons(),e<this.m_tradeStartDelayMSs.length?this.m_tradeStartDelayMSs[e]:0},e.prototype.getTradeAbandonTimeMS=function(e){return this.initTradeCommons(),e<this.m_tradeAbandonTimeMSs.length?this.m_tradeAbandonTimeMSs[e]:0},e.prototype.initExpressEvents=function(){if(!this.m_typeExpressEventBags){this.m_typeExpressEventBags={},this.m_eventIDToBags={};var e=0,t=null,i=miniframe.Config.getDataMap(o.ConfigKeyDefine.EXPRESS_EVENT_BAG);for(var n in i)if((t=i[n]).getType()==a.ExpressEventTypeDefine.Message){this.m_typeExpressEventBags[t.getType()]?this.m_typeExpressEventBags[t.getType()].push(t):this.m_typeExpressEventBags[t.getType()]=[t],e=t.getEventsCount();for(var r=0;r<e;r++)this.m_eventIDToBags[t.getEventsAt(r)]=t.getId()}}},e.prototype.getExpressEventBagsByType=function(e){return this.initExpressEvents(),this.m_typeExpressEventBags[e]},e.prototype.getEventGroupID=function(e){return this.initExpressEvents(),this.m_eventIDToBags[e]||0},e.prototype.initTasks=function(){if(!this.m_typeTasks){this.m_typeTasks={};var e=null,t=miniframe.Config.getDataMap(o.ConfigKeyDefine.TASK);for(var i in t)e=t[i],this.m_typeTasks[e.getType()]?this.m_typeTasks[e.getType()].push(e):this.m_typeTasks[e.getType()]=[e],this.initTaskByType(e)}},e.prototype.initTaskByType=function(e){switch(e.getType()){case u.TaskTypeDefine.Trade:var t=miniframe.Config.getData(o.ConfigKeyDefine.TASK_TARGET,e.getTargetsAt(0));if(t&&t.getType()==u.TaskTypeDefine.Trade){var i=miniframe.Config.getData(o.ConfigKeyDefine.EXPRESS_TARGET,t.getParam1()),r=new n.TradeTaskData;if(r.taskConfigID=e.getId(),r.targetID=i?i.getId():0,r.targetType=i?i.getType():0,r.routeIDs=t.getParam2(),r.tradeType=t.getParam3Count()>0?1:0,1==r.tradeType){r.tradeEvents=t.getParam3(),0==e.getSubType()&&(this.m_targetTradeTasks[r.targetType]||(this.m_targetTradeTasks[r.targetType]=[]),this.m_targetTradeTasks[r.targetType].push(r)),this.m_expressTargetEventBags[r.targetID]||(this.m_expressTargetEventBags[r.targetID]=[]);for(var a=t.getParam3Count(),s=0;s<a;s++)miniframe.safePush(this.m_expressTargetEventBags[r.targetID],t.getParam3At(s).x)}else 0==e.getSubType()&&this.m_commonTradeTasks.push(r);this.m_tradeTasks[r.taskConfigID]=r,this.m_expressTargetEventBags||(this.m_expressTargetEventBags={})}}},e.prototype.getTaskConfigListByType=function(e){return this.initTasks(),this.m_typeTasks[e]},e.prototype.getCommonTradeTasks=function(){return this.initTasks(),this.m_commonTradeTasks},e.prototype.getTargetTradeTasks=function(){return this.initTasks(),this.m_targetTradeTasks},e.prototype.getTradeTaskEvents=function(e){return this.initTasks(),this.m_tradeTasks[e]?this.m_tradeTasks[e].tradeEvents:null},e.prototype.getTaskTradeType=function(e){return this.m_tradeTasks[e]?this.m_tradeTasks[e].tradeType:0},e.prototype.getTargetTradeBasicRate=function(e){return this.initTargetTradeBasicRates(),this.m_targetTradeBasicRates[e]},e.prototype.getTradeTaskData=function(e){return this.initTasks(),this.m_tradeTasks[e]},e.prototype.initTargetTradeBasicRates=function(){if(!this.m_targetTradeBasicRates){this.m_targetTradeBasicRates={};var e=miniframe.Config.getData(o.ConfigKeyDefine.CONST,1007);if(e)for(var t=e.getValueCount(),i=0;i<t;i++)this.m_targetTradeBasicRates[i+1]=e.getValueAt(i)}},e.prototype.initGifts=function(){if(!this.m_typeGifts){this.m_typeGifts={};var e=null,t=miniframe.Config.getDataMap(o.ConfigKeyDefine.GIFT);for(var i in t)e=t[i],this.m_typeGifts[e.getType()]?this.m_typeGifts[e.getType()].push(e):this.m_typeGifts[e.getType()]=[e]}},e.prototype.initGiftAwards=function(e){this.m_giftAwards[e]||(this.m_giftAwards[e]=[],this.initGiftAward(e,1))},e.prototype.initGiftAward=function(e,t){var i=100*e+t,n=miniframe.Config.getData(o.ConfigKeyDefine.GIFT_AWARD,i);n&&(this.m_giftAwards[e].push(n),this.initGiftAward(e,t+1))},e.prototype.getGiftConfigsByType=function(e){return this.initGifts(),this.m_typeGifts[e]},e.prototype.getGiftAwardConfigs=function(e){return this.initGiftAwards(e),this.m_giftAwards[e]},e.prototype.initItemConfigs=function(){if(!this.m_typeItemConfigs){this.m_typeItemConfigs={},this.m_combineItemNeeds={};var e=null,t=miniframe.Config.getDataMap(o.ConfigKeyDefine.ITEM_INFO);for(var i in t)e=t[i],this.m_typeItemConfigs[e.getType()]?this.m_typeItemConfigs[e.getType()].push(e):this.m_typeItemConfigs[e.getType()]=[e],e.getFuncType()==s.ItemFuncTypeDefine.Combine&&e.getFuncParam2()>0&&(this.m_combineItemNeeds[e.getFuncParam2()]?console.warn("combine item already exist",e.getFuncParam2()):this.m_combineItemNeeds[e.getFuncParam2()]=new cc.Vec2(e.getId(),e.getFuncParam1()))}},e.prototype.getItemConfigsByType=function(e){return this.initItemConfigs(),this.m_typeItemConfigs[e]},e.prototype.getCombineItemNeeeds=function(e){return this.initItemConfigs(),this.m_combineItemNeeds[e]},e.prototype.initBookPieces=function(){if(!this.m_typeBookPiecesIDs){this.m_typeBookPiecesIDs=[];var e=null,t=miniframe.Config.getDataMap(o.ConfigKeyDefine.GAME_BOOK_PIECE);for(var i in t)e=t[i],this.m_typeBookPiecesIDs[e.getType()]?this.m_typeBookPiecesIDs[e.getType()].push(e.getId()):(this.m_typeBookPiecesIDs[e.getType()]=[e.getId()],this.m_bookPieceTypes.push(e.getType()))}},e.prototype.randomBookPiecesBaseOn=function(e,t){this.initBookPieces();for(var i=[],o=Math.floor(t/e.length),n=e.length,r=0;r<n;r++)this.randomBookPiecesWith(i,e[r],o);if(t-o*e.length>0){var a=0;for(r=0;r<n;r++)a=r%this.m_bookPieceTypes.length,i.push(this.randomBookPieceByType(this.m_bookPieceTypes[a],e))}return i},e.prototype.randomBookPieceByType=function(e,t){var i=this.m_typeBookPiecesIDs[e];if(t&&t.length>0)for(var o=(i=i.slice()).length,n=0;n<o;n++)-1!=t.indexOf(i[n])&&(i.splice(n,1),n--,o--);return miniframe.random.randomWithList(i)},e.prototype.randomBookPiecesWith=function(e,t,i){for(var n=null,r=miniframe.Config.getData(o.ConfigKeyDefine.GAME_BOOK_PIECE,t),a=i,s=0;s<a;s++)(!n||n.length<=0)&&(r.getReplacesCount()>0?n=r.getReplaces().slice():(n=this.m_typeBookPiecesIDs[r.getType()].slice(),miniframe.safeRemove(n,t))),e.push(miniframe.random.randomWithList(n,!0))},e.prototype.initDrops=function(){if(!this.m_tradeCoinDropNumRange){var e=miniframe.Config.getData(o.ConfigKeyDefine.CONST,1013);this.m_tradeCoinDropNumRange=e?new cc.Vec2(e.getValueAt(0),e.getValueAt(1)):new cc.Vec2(1,1)}},e.prototype.getTradeCoinDropNum=function(){return this.initDrops(),miniframe.random.randomIntWith(this.m_tradeCoinDropNumRange)},e.prototype.getReputationPower=function(e){if(isNaN(this.m_reputationPowerVal)){var t=miniframe.Config.getData(o.ConfigKeyDefine.CONST,1018);this.m_reputationPowerVal=t?t.getValueAt(0):0}return Math.floor(e*this.m_reputationPowerVal*.01)},e.ms_instance=null,e}();i.ConfigDataController=m,cc._RF.pop()},{"../../../Config/ConfigKeyDefine":"ConfigKeyDefine","../Data/TradeTaskData":"TradeTaskData","../Define/ConditionTypeDefine":"ConditionTypeDefine","../Define/ExpressEventTypeDefine":"ExpressEventTypeDefine","../Define/ItemFuncTypeDefine":"ItemFuncTypeDefine","../Define/ItemPackTypeDefine":"ItemPackTypeDefine","../Define/TaskTypeDefine":"TaskTypeDefine","./CharDataController":"CharDataController","./CopyDataController":"CopyDataController","./ExpressDataController":"ExpressDataController","./GuideDataController":"GuideDataController","./ItemDataController":"ItemDataController"}],ConfigDataCreator:[function(e,t,i){"use strict";cc._RF.push(t,"6fd87RPwWREWo/W3VflMB5l","ConfigDataCreator"),Object.defineProperty(i,"__esModule",{value:!0}),i.ConfigDataCreator=void 0;var o=e("./ConfigKeyDefine"),n=e("./ConfigData/CdCommonConfigData"),r=e("./ConfigData/ItemInfoConfigData"),a=e("./ConfigData/WeaponInfoConfigData"),s=e("./ConfigData/WeaponGrowInfoConfigData"),p=e("./ConfigData/DropbagConfigData"),u=e("./ConfigData/EffectConfigData"),c=e("./ConfigData/ShakeConfigData"),l=e("./ConfigData/ConstConfigData"),d=e("./ConfigData/AudioConfigData"),f=e("./ConfigData/LanguageConfigData"),g=e("./ConfigData/LanAttriConfigData"),m=e("./ConfigData/LanValuesConfigData"),h=e("./ConfigData/LanCondConfigData"),_=e("./ConfigData/InitAttrConfigData"),y=e("./ConfigData/LimitInfoConfigData"),C=e("./ConfigData/GiftConfigData"),I=e("./ConfigData/GiftAwardConfigData"),D=e("./ConfigData/TaskConfigData"),v=e("./ConfigData/TaskTargetConfigData"),S=e("./ConfigData/TaskGuideConfigData"),b=e("./ConfigData/TaskTriggerConfigData"),T=e("./ConfigData/ExpressAreaConfigData"),P=e("./ConfigData/ExpressCityConfigData"),M=e("./ConfigData/ExpressStationConsumeConfigData"),E=e("./ConfigData/ExpressStationGrowConfigData"),B=e("./ConfigData/ExpressBuildingConfigData"),L=e("./ConfigData/ExpressBuildingLevelupConfigData"),w=e("./ConfigData/ExpressBuildingGrowConfigData"),A=e("./ConfigData/ExpressRouteConfigData"),U=e("./ConfigData/ExpressEventBagConfigData"),x=e("./ConfigData/ExpressEventConfigData"),N=e("./ConfigData/ExpressTargetConfigData"),k=e("./ConfigData/GameBookBaseConfigData"),F=e("./ConfigData/GameBookBookConfigData"),R=e("./ConfigData/GameBookPieceConfigData"),G=e("./ConfigData/GameBookLayoutConfigData"),O=e("./ConfigData/GameBookPageConfigData"),V=e("./ConfigData/GameWeaponBaseConfigData"),j=e("./ConfigData/GameWeaponWeaponConfigData"),W=e("./ConfigData/GameClueBaseConfigData"),K=e("./ConfigData/GameClueClueConfigData"),z=e("./ConfigData/GameClueIconConfigData"),H=e("./ConfigData/OpencondConfigData"),q=e("./ConfigData/GuideTriggerConfigData"),X=e("./ConfigData/GuidePreloadConfigData"),$=e("./ConfigData/NpcBaseConfigData"),Z=e("./ConfigData/NpcInfoConfigData"),Y=e("./ConfigData/MonsterInfoConfigData"),J=function(){function e(){}return e.prototype.createConfigData=function(e,t){switch(e){case o.ConfigKeyDefine.CD_COMMON:return new n.CdCommonConfigData(t);case o.ConfigKeyDefine.ITEM_INFO:return new r.ItemInfoConfigData(t);case o.ConfigKeyDefine.WEAPON_INFO:return new a.WeaponInfoConfigData(t);case o.ConfigKeyDefine.WEAPON_GROW_INFO:return new s.WeaponGrowInfoConfigData(t);case o.ConfigKeyDefine.DROPBAG:return new p.DropbagConfigData(t);case o.ConfigKeyDefine.EFFECT:return new u.EffectConfigData(t);case o.ConfigKeyDefine.SHAKE:return new c.ShakeConfigData(t);case o.ConfigKeyDefine.CONST:return new l.ConstConfigData(t);case o.ConfigKeyDefine.AUDIO:return new d.AudioConfigData(t);case o.ConfigKeyDefine.LANGUAGE:return new f.LanguageConfigData(t);case o.ConfigKeyDefine.LAN_ATTRI:return new g.LanAttriConfigData(t);case o.ConfigKeyDefine.LAN_VALUES:return new m.LanValuesConfigData(t);case o.ConfigKeyDefine.LAN_COND:return new h.LanCondConfigData(t);case o.ConfigKeyDefine.INIT_ATTR:return new _.InitAttrConfigData(t);case o.ConfigKeyDefine.LIMIT_INFO:return new y.LimitInfoConfigData(t);case o.ConfigKeyDefine.GIFT:return new C.GiftConfigData(t);case o.ConfigKeyDefine.GIFT_AWARD:return new I.GiftAwardConfigData(t);case o.ConfigKeyDefine.TASK:return new D.TaskConfigData(t);case o.ConfigKeyDefine.TASK_TARGET:return new v.TaskTargetConfigData(t);case o.ConfigKeyDefine.TASK_GUIDE:return new S.TaskGuideConfigData(t);case o.ConfigKeyDefine.TASK_TRIGGER:return new b.TaskTriggerConfigData(t);case o.ConfigKeyDefine.EXPRESS_AREA:return new T.ExpressAreaConfigData(t);case o.ConfigKeyDefine.EXPRESS_CITY:return new P.ExpressCityConfigData(t);case o.ConfigKeyDefine.EXPRESS_STATION_CONSUME:return new M.ExpressStationConsumeConfigData(t);case o.ConfigKeyDefine.EXPRESS_STATION_GROW:return new E.ExpressStationGrowConfigData(t);case o.ConfigKeyDefine.EXPRESS_BUILDING:return new B.ExpressBuildingConfigData(t);case o.ConfigKeyDefine.EXPRESS_BUILDING_LEVELUP:return new L.ExpressBuildingLevelupConfigData(t);case o.ConfigKeyDefine.EXPRESS_BUILDING_GROW:return new w.ExpressBuildingGrowConfigData(t);case o.ConfigKeyDefine.EXPRESS_ROUTE:return new A.ExpressRouteConfigData(t);case o.ConfigKeyDefine.EXPRESS_EVENT_BAG:return new U.ExpressEventBagConfigData(t);case o.ConfigKeyDefine.EXPRESS_EVENT:return new x.ExpressEventConfigData(t);case o.ConfigKeyDefine.EXPRESS_TARGET:return new N.ExpressTargetConfigData(t);case o.ConfigKeyDefine.GAME_BOOK_BASE:return new k.GameBookBaseConfigData(t);case o.ConfigKeyDefine.GAME_BOOK_BOOK:return new F.GameBookBookConfigData(t);case o.ConfigKeyDefine.GAME_BOOK_PIECE:return new R.GameBookPieceConfigData(t);case o.ConfigKeyDefine.GAME_BOOK_LAYOUT:return new G.GameBookLayoutConfigData(t);case o.ConfigKeyDefine.GAME_BOOK_PAGE:return new O.GameBookPageConfigData(t);case o.ConfigKeyDefine.GAME_WEAPON_BASE:return new V.GameWeaponBaseConfigData(t);case o.ConfigKeyDefine.GAME_WEAPON_WEAPON:return new j.GameWeaponWeaponConfigData(t);case o.ConfigKeyDefine.GAME_CLUE_BASE:return new W.GameClueBaseConfigData(t);case o.ConfigKeyDefine.GAME_CLUE_CLUE:return new K.GameClueClueConfigData(t);case o.ConfigKeyDefine.GAME_CLUE_ICON:return new z.GameClueIconConfigData(t);case o.ConfigKeyDefine.OPENCOND:return new H.OpencondConfigData(t);case o.ConfigKeyDefine.GUIDE_TRIGGER:return new q.GuideTriggerConfigData(t);case o.ConfigKeyDefine.GUIDE_PRELOAD:return new X.GuidePreloadConfigData(t);case o.ConfigKeyDefine.NPC_BASE:return new $.NpcBaseConfigData(t);case o.ConfigKeyDefine.NPC_INFO:return new Z.NpcInfoConfigData(t);case o.ConfigKeyDefine.MONSTER_INFO:return new Y.MonsterInfoConfigData(t)}return null},e}();i.ConfigDataCreator=J,cc._RF.pop()},{"./ConfigData/AudioConfigData":"AudioConfigData","./ConfigData/CdCommonConfigData":"CdCommonConfigData","./ConfigData/ConstConfigData":"ConstConfigData","./ConfigData/DropbagConfigData":"DropbagConfigData","./ConfigData/EffectConfigData":"EffectConfigData","./ConfigData/ExpressAreaConfigData":"ExpressAreaConfigData","./ConfigData/ExpressBuildingConfigData":"ExpressBuildingConfigData","./ConfigData/ExpressBuildingGrowConfigData":"ExpressBuildingGrowConfigData","./ConfigData/ExpressBuildingLevelupConfigData":"ExpressBuildingLevelupConfigData","./ConfigData/ExpressCityConfigData":"ExpressCityConfigData","./ConfigData/ExpressEventBagConfigData":"ExpressEventBagConfigData","./ConfigData/ExpressEventConfigData":"ExpressEventConfigData","./ConfigData/ExpressRouteConfigData":"ExpressRouteConfigData","./ConfigData/ExpressStationConsumeConfigData":"ExpressStationConsumeConfigData","./ConfigData/ExpressStationGrowConfigData":"ExpressStationGrowConfigData","./ConfigData/ExpressTargetConfigData":"ExpressTargetConfigData","./ConfigData/GameBookBaseConfigData":"GameBookBaseConfigData","./ConfigData/GameBookBookConfigData":"GameBookBookConfigData","./ConfigData/GameBookLayoutConfigData":"GameBookLayoutConfigData","./ConfigData/GameBookPageConfigData":"GameBookPageConfigData","./ConfigData/GameBookPieceConfigData":"GameBookPieceConfigData","./ConfigData/GameClueBaseConfigData":"GameClueBaseConfigData","./ConfigData/GameClueClueConfigData":"GameClueClueConfigData","./ConfigData/GameClueIconConfigData":"GameClueIconConfigData","./ConfigData/GameWeaponBaseConfigData":"GameWeaponBaseConfigData","./ConfigData/GameWeaponWeaponConfigData":"GameWeaponWeaponConfigData","./ConfigData/GiftAwardConfigData":"GiftAwardConfigData","./ConfigData/GiftConfigData":"GiftConfigData","./ConfigData/GuidePreloadConfigData":"GuidePreloadConfigData","./ConfigData/GuideTriggerConfigData":"GuideTriggerConfigData","./ConfigData/InitAttrConfigData":"InitAttrConfigData","./ConfigData/ItemInfoConfigData":"ItemInfoConfigData","./ConfigData/LanAttriConfigData":"LanAttriConfigData","./ConfigData/LanCondConfigData":"LanCondConfigData","./ConfigData/LanValuesConfigData":"LanValuesConfigData","./ConfigData/LanguageConfigData":"LanguageConfigData","./ConfigData/LimitInfoConfigData":"LimitInfoConfigData","./ConfigData/MonsterInfoConfigData":"MonsterInfoConfigData","./ConfigData/NpcBaseConfigData":"NpcBaseConfigData","./ConfigData/NpcInfoConfigData":"NpcInfoConfigData","./ConfigData/OpencondConfigData":"OpencondConfigData","./ConfigData/ShakeConfigData":"ShakeConfigData","./ConfigData/TaskConfigData":"TaskConfigData","./ConfigData/TaskGuideConfigData":"TaskGuideConfigData","./ConfigData/TaskTargetConfigData":"TaskTargetConfigData","./ConfigData/TaskTriggerConfigData":"TaskTriggerConfigData","./ConfigData/WeaponGrowInfoConfigData":"WeaponGrowInfoConfigData","./ConfigData/WeaponInfoConfigData":"WeaponInfoConfigData","./ConfigKeyDefine":"ConfigKeyDefine"}],ConfigKeyDefine:[function(e,t,i){"use strict";cc._RF.push(t,"132c3kpuNNLnZgubSuKLfVF","ConfigKeyDefine"),Object.defineProperty(i,"__esModule",{value:!0}),i.ConfigKeyDefine=void 0;var o=function(){function e(){}return e.CD_COMMON=1,e.ITEM_INFO=2,e.WEAPON_INFO=3,e.WEAPON_GROW_INFO=4,e.DROPBAG=5,e.EFFECT=6,e.SHAKE=7,e.CONST=8,e.AUDIO=9,e.LANGUAGE=10,e.LAN_ATTRI=11,e.LAN_VALUES=12,e.LAN_COND=13,e.INIT_ATTR=14,e.LIMIT_INFO=15,e.GIFT=16,e.GIFT_AWARD=17,e.TASK=18,e.TASK_TARGET=19,e.TASK_GUIDE=20,e.TASK_TRIGGER=21,e.EXPRESS_AREA=22,e.EXPRESS_CITY=23,e.EXPRESS_STATION_CONSUME=24,e.EXPRESS_STATION_GROW=25,e.EXPRESS_BUILDING=26,e.EXPRESS_BUILDING_LEVELUP=27,e.EXPRESS_BUILDING_GROW=28,e.EXPRESS_ROUTE=29,e.EXPRESS_EVENT_BAG=30,e.EXPRESS_EVENT=31,e.EXPRESS_TARGET=32,e.GAME_BOOK_BASE=33,e.GAME_BOOK_BOOK=34,e.GAME_BOOK_PIECE=35,e.GAME_BOOK_LAYOUT=36,e.GAME_BOOK_PAGE=37,e.GAME_WEAPON_BASE=38,e.GAME_WEAPON_WEAPON=39,e.GAME_CLUE_BASE=40,e.GAME_CLUE_CLUE=41,e.GAME_CLUE_ICON=42,e.OPENCOND=43,e.GUIDE_TRIGGER=44,e.GUIDE_PRELOAD=45,e.NPC_BASE=46,e.NPC_INFO=47,e.MONSTER_INFO=48,e}();i.ConfigKeyDefine=o,cc._RF.pop()},{}],ConfigProtoCreator:[function(e,t,i){"use strict";cc._RF.push(t,"0c299hN/LJGoqLNi5+4jTKX","ConfigProtoCreator"),Object.defineProperty(i,"__esModule",{value:!0}),i.ConfigProtoCreator=void 0;var o=e("./ConfigKeyDefine"),n=e("./ProtoData/cd_common_pb.js"),r=e("./ProtoData/item_info_pb.js"),a=e("./ProtoData/weapon_info_pb.js"),s=e("./ProtoData/weapon_grow_info_pb.js"),p=e("./ProtoData/dropbag_pb.js"),u=e("./ProtoData/effect_pb.js"),c=e("./ProtoData/shake_pb.js"),l=e("./ProtoData/const_pb.js"),d=e("./ProtoData/audio_pb.js"),f=e("./ProtoData/language_pb.js"),g=e("./ProtoData/lan_attri_pb.js"),m=e("./ProtoData/lan_values_pb.js"),h=e("./ProtoData/lan_cond_pb.js"),_=e("./ProtoData/init_attr_pb.js"),y=e("./ProtoData/limit_info_pb.js"),C=e("./ProtoData/gift_pb.js"),I=e("./ProtoData/gift_award_pb.js"),D=e("./ProtoData/task_pb.js"),v=e("./ProtoData/task_target_pb.js"),S=e("./ProtoData/task_guide_pb.js"),b=e("./ProtoData/task_trigger_pb.js"),T=e("./ProtoData/express_area_pb.js"),P=e("./ProtoData/express_city_pb.js"),M=e("./ProtoData/express_station_consume_pb.js"),E=e("./ProtoData/express_station_grow_pb.js"),B=e("./ProtoData/express_building_pb.js"),L=e("./ProtoData/express_building_levelup_pb.js"),w=e("./ProtoData/express_building_grow_pb.js"),A=e("./ProtoData/express_route_pb.js"),U=e("./ProtoData/express_event_bag_pb.js"),x=e("./ProtoData/express_event_pb.js"),N=e("./ProtoData/express_target_pb.js"),k=e("./ProtoData/game_book_base_pb.js"),F=e("./ProtoData/game_book_book_pb.js"),R=e("./ProtoData/game_book_piece_pb.js"),G=e("./ProtoData/game_book_layout_pb.js"),O=e("./ProtoData/game_book_page_pb.js"),V=e("./ProtoData/game_weapon_base_pb.js"),j=e("./ProtoData/game_weapon_weapon_pb.js"),W=e("./ProtoData/game_clue_base_pb.js"),K=e("./ProtoData/game_clue_clue_pb.js"),z=e("./ProtoData/game_clue_icon_pb.js"),H=e("./ProtoData/opencond_pb.js"),q=e("./ProtoData/guide_trigger_pb.js"),X=e("./ProtoData/guide_preload_pb.js"),$=e("./ProtoData/npc_base_pb.js"),Z=e("./ProtoData/npc_info_pb.js"),Y=e("./ProtoData/monster_info_pb.js"),J=function(){function e(){}return e.prototype.createConfigProto=function(e,t){switch(e){case o.ConfigKeyDefine.CD_COMMON:return n.CdCommonConfigProto.deserializeBinary(t);case o.ConfigKeyDefine.ITEM_INFO:return r.ItemInfoConfigProto.deserializeBinary(t);case o.ConfigKeyDefine.WEAPON_INFO:return a.WeaponInfoConfigProto.deserializeBinary(t);case o.ConfigKeyDefine.WEAPON_GROW_INFO:return s.WeaponGrowInfoConfigProto.deserializeBinary(t);case o.ConfigKeyDefine.DROPBAG:return p.DropbagConfigProto.deserializeBinary(t);case o.ConfigKeyDefine.EFFECT:return u.EffectConfigProto.deserializeBinary(t);case o.ConfigKeyDefine.SHAKE:return c.ShakeConfigProto.deserializeBinary(t);case o.ConfigKeyDefine.CONST:return l.ConstConfigProto.deserializeBinary(t);case o.ConfigKeyDefine.AUDIO:return d.AudioConfigProto.deserializeBinary(t);case o.ConfigKeyDefine.LANGUAGE:return f.LanguageConfigProto.deserializeBinary(t);case o.ConfigKeyDefine.LAN_ATTRI:return g.LanAttriConfigProto.deserializeBinary(t);case o.ConfigKeyDefine.LAN_VALUES:return m.LanValuesConfigProto.deserializeBinary(t);case o.ConfigKeyDefine.LAN_COND:return h.LanCondConfigProto.deserializeBinary(t);case o.ConfigKeyDefine.INIT_ATTR:return _.InitAttrConfigProto.deserializeBinary(t);case o.ConfigKeyDefine.LIMIT_INFO:return y.LimitInfoConfigProto.deserializeBinary(t);case o.ConfigKeyDefine.GIFT:return C.GiftConfigProto.deserializeBinary(t);case o.ConfigKeyDefine.GIFT_AWARD:return I.GiftAwardConfigProto.deserializeBinary(t);case o.ConfigKeyDefine.TASK:return D.TaskConfigProto.deserializeBinary(t);case o.ConfigKeyDefine.TASK_TARGET:return v.TaskTargetConfigProto.deserializeBinary(t);case o.ConfigKeyDefine.TASK_GUIDE:return S.TaskGuideConfigProto.deserializeBinary(t);case o.ConfigKeyDefine.TASK_TRIGGER:return b.TaskTriggerConfigProto.deserializeBinary(t);case o.ConfigKeyDefine.EXPRESS_AREA:return T.ExpressAreaConfigProto.deserializeBinary(t);case o.ConfigKeyDefine.EXPRESS_CITY:return P.ExpressCityConfigProto.deserializeBinary(t);case o.ConfigKeyDefine.EXPRESS_STATION_CONSUME:return M.ExpressStationConsumeConfigProto.deserializeBinary(t);case o.ConfigKeyDefine.EXPRESS_STATION_GROW:return E.ExpressStationGrowConfigProto.deserializeBinary(t);case o.ConfigKeyDefine.EXPRESS_BUILDING:return B.ExpressBuildingConfigProto.deserializeBinary(t);case o.ConfigKeyDefine.EXPRESS_BUILDING_LEVELUP:return L.ExpressBuildingLevelupConfigProto.deserializeBinary(t);case o.ConfigKeyDefine.EXPRESS_BUILDING_GROW:return w.ExpressBuildingGrowConfigProto.deserializeBinary(t);case o.ConfigKeyDefine.EXPRESS_ROUTE:return A.ExpressRouteConfigProto.deserializeBinary(t);case o.ConfigKeyDefine.EXPRESS_EVENT_BAG:return U.ExpressEventBagConfigProto.deserializeBinary(t);case o.ConfigKeyDefine.EXPRESS_EVENT:return x.ExpressEventConfigProto.deserializeBinary(t);case o.ConfigKeyDefine.EXPRESS_TARGET:return N.ExpressTargetConfigProto.deserializeBinary(t);case o.ConfigKeyDefine.GAME_BOOK_BASE:return k.GameBookBaseConfigProto.deserializeBinary(t);case o.ConfigKeyDefine.GAME_BOOK_BOOK:return F.GameBookBookConfigProto.deserializeBinary(t);case o.ConfigKeyDefine.GAME_BOOK_PIECE:return R.GameBookPieceConfigProto.deserializeBinary(t);case o.ConfigKeyDefine.GAME_BOOK_LAYOUT:return G.GameBookLayoutConfigProto.deserializeBinary(t);case o.ConfigKeyDefine.GAME_BOOK_PAGE:return O.GameBookPageConfigProto.deserializeBinary(t);case o.ConfigKeyDefine.GAME_WEAPON_BASE:return V.GameWeaponBaseConfigProto.deserializeBinary(t);case o.ConfigKeyDefine.GAME_WEAPON_WEAPON:return j.GameWeaponWeaponConfigProto.deserializeBinary(t);case o.ConfigKeyDefine.GAME_CLUE_BASE:return W.GameClueBaseConfigProto.deserializeBinary(t);case o.ConfigKeyDefine.GAME_CLUE_CLUE:return K.GameClueClueConfigProto.deserializeBinary(t);case o.ConfigKeyDefine.GAME_CLUE_ICON:return z.GameClueIconConfigProto.deserializeBinary(t);case o.ConfigKeyDefine.OPENCOND:return H.OpencondConfigProto.deserializeBinary(t);case o.ConfigKeyDefine.GUIDE_TRIGGER:return q.GuideTriggerConfigProto.deserializeBinary(t);case o.ConfigKeyDefine.GUIDE_PRELOAD:return X.GuidePreloadConfigProto.deserializeBinary(t);case o.ConfigKeyDefine.NPC_BASE:return $.NpcBaseConfigProto.deserializeBinary(t);case o.ConfigKeyDefine.NPC_INFO:return Z.NpcInfoConfigProto.deserializeBinary(t);case o.ConfigKeyDefine.MONSTER_INFO:return Y.MonsterInfoConfigProto.deserializeBinary(t)}return null},e}();i.ConfigProtoCreator=J,cc._RF.pop()},{"./ConfigKeyDefine":"ConfigKeyDefine","./ProtoData/audio_pb.js":"audio_pb","./ProtoData/cd_common_pb.js":"cd_common_pb","./ProtoData/const_pb.js":"const_pb","./ProtoData/dropbag_pb.js":"dropbag_pb","./ProtoData/effect_pb.js":"effect_pb","./ProtoData/express_area_pb.js":"express_area_pb","./ProtoData/express_building_grow_pb.js":"express_building_grow_pb","./ProtoData/express_building_levelup_pb.js":"express_building_levelup_pb","./ProtoData/express_building_pb.js":"express_building_pb","./ProtoData/express_city_pb.js":"express_city_pb","./ProtoData/express_event_bag_pb.js":"express_event_bag_pb","./ProtoData/express_event_pb.js":"express_event_pb","./ProtoData/express_route_pb.js":"express_route_pb","./ProtoData/express_station_consume_pb.js":"express_station_consume_pb","./ProtoData/express_station_grow_pb.js":"express_station_grow_pb","./ProtoData/express_target_pb.js":"express_target_pb","./ProtoData/game_book_base_pb.js":"game_book_base_pb","./ProtoData/game_book_book_pb.js":"game_book_book_pb","./ProtoData/game_book_layout_pb.js":"game_book_layout_pb","./ProtoData/game_book_page_pb.js":"game_book_page_pb","./ProtoData/game_book_piece_pb.js":"game_book_piece_pb","./ProtoData/game_clue_base_pb.js":"game_clue_base_pb","./ProtoData/game_clue_clue_pb.js":"game_clue_clue_pb","./ProtoData/game_clue_icon_pb.js":"game_clue_icon_pb","./ProtoData/game_weapon_base_pb.js":"game_weapon_base_pb","./ProtoData/game_weapon_weapon_pb.js":"game_weapon_weapon_pb","./ProtoData/gift_award_pb.js":"gift_award_pb","./ProtoData/gift_pb.js":"gift_pb","./ProtoData/guide_preload_pb.js":"guide_preload_pb","./ProtoData/guide_trigger_pb.js":"guide_trigger_pb","./ProtoData/init_attr_pb.js":"init_attr_pb","./ProtoData/item_info_pb.js":"item_info_pb","./ProtoData/lan_attri_pb.js":"lan_attri_pb","./ProtoData/lan_cond_pb.js":"lan_cond_pb","./ProtoData/lan_values_pb.js":"lan_values_pb","./ProtoData/language_pb.js":"language_pb","./ProtoData/limit_info_pb.js":"limit_info_pb","./ProtoData/monster_info_pb.js":"monster_info_pb","./ProtoData/npc_base_pb.js":"npc_base_pb","./ProtoData/npc_info_pb.js":"npc_info_pb","./ProtoData/opencond_pb.js":"opencond_pb","./ProtoData/shake_pb.js":"shake_pb","./ProtoData/task_guide_pb.js":"task_guide_pb","./ProtoData/task_pb.js":"task_pb","./ProtoData/task_target_pb.js":"task_target_pb","./ProtoData/task_trigger_pb.js":"task_trigger_pb","./ProtoData/weapon_grow_info_pb.js":"weapon_grow_info_pb","./ProtoData/weapon_info_pb.js":"weapon_info_pb"}],ConfigSettings:[function(e,t,i){"use strict";cc._RF.push(t,"d48e214QZdLjrZvqNUnTSUX","ConfigSettings"),Object.defineProperty(i,"__esModule",{value:!0}),i.ConfigSettings=void 0;var o=e("./ConfigKeyDefine"),n=e("./ConfigDataCreator"),r=e("./ConfigProtoCreator"),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getDataCreator=function(){return new n.ConfigDataCreator},t.prototype.getProtoCreator=function(){return new r.ConfigProtoCreator},t.prototype.initialize=function(){this.add(o.ConfigKeyDefine.CD_COMMON,"cd_common"),this.add(o.ConfigKeyDefine.ITEM_INFO,"item_info"),this.add(o.ConfigKeyDefine.WEAPON_INFO,"weapon_info"),this.add(o.ConfigKeyDefine.WEAPON_GROW_INFO,"weapon_grow_info"),this.add(o.ConfigKeyDefine.DROPBAG,"dropbag"),this.add(o.ConfigKeyDefine.EFFECT,"effect"),this.add(o.ConfigKeyDefine.SHAKE,"shake"),this.add(o.ConfigKeyDefine.CONST,"const"),this.add(o.ConfigKeyDefine.AUDIO,"audio"),this.add(o.ConfigKeyDefine.LANGUAGE,"language"),this.add(o.ConfigKeyDefine.LAN_ATTRI,"lan_attri"),this.add(o.ConfigKeyDefine.LAN_VALUES,"lan_values"),this.add(o.ConfigKeyDefine.LAN_COND,"lan_cond"),this.add(o.ConfigKeyDefine.INIT_ATTR,"init_attr"),this.add(o.ConfigKeyDefine.LIMIT_INFO,"limit_info"),this.add(o.ConfigKeyDefine.GIFT,"gift"),this.add(o.ConfigKeyDefine.GIFT_AWARD,"gift_award"),this.add(o.ConfigKeyDefine.TASK,"task"),this.add(o.ConfigKeyDefine.TASK_TARGET,"task_target"),this.add(o.ConfigKeyDefine.TASK_GUIDE,"task_guide"),this.add(o.ConfigKeyDefine.TASK_TRIGGER,"task_trigger"),this.add(o.ConfigKeyDefine.EXPRESS_AREA,"express_area"),this.add(o.ConfigKeyDefine.EXPRESS_CITY,"express_city"),this.add(o.ConfigKeyDefine.EXPRESS_STATION_CONSUME,"express_station_consume"),this.add(o.ConfigKeyDefine.EXPRESS_STATION_GROW,"express_station_grow"),this.add(o.ConfigKeyDefine.EXPRESS_BUILDING,"express_building"),this.add(o.ConfigKeyDefine.EXPRESS_BUILDING_LEVELUP,"express_building_levelup"),this.add(o.ConfigKeyDefine.EXPRESS_BUILDING_GROW,"express_building_grow"),this.add(o.ConfigKeyDefine.EXPRESS_ROUTE,"express_route"),this.add(o.ConfigKeyDefine.EXPRESS_EVENT_BAG,"express_event_bag"),this.add(o.ConfigKeyDefine.EXPRESS_EVENT,"express_event"),this.add(o.ConfigKeyDefine.EXPRESS_TARGET,"express_target"),this.add(o.ConfigKeyDefine.GAME_BOOK_BASE,"game_book_base"),this.add(o.ConfigKeyDefine.GAME_BOOK_BOOK,"game_book_book"),this.add(o.ConfigKeyDefine.GAME_BOOK_PIECE,"game_book_piece"),this.add(o.ConfigKeyDefine.GAME_BOOK_LAYOUT,"game_book_layout"),this.add(o.ConfigKeyDefine.GAME_BOOK_PAGE,"game_book_page"),this.add(o.ConfigKeyDefine.GAME_WEAPON_BASE,"game_weapon_base"),this.add(o.ConfigKeyDefine.GAME_WEAPON_WEAPON,"game_weapon_weapon"),this.add(o.ConfigKeyDefine.GAME_CLUE_BASE,"game_clue_base"),this.add(o.ConfigKeyDefine.GAME_CLUE_CLUE,"game_clue_clue"),this.add(o.ConfigKeyDefine.GAME_CLUE_ICON,"game_clue_icon"),this.add(o.ConfigKeyDefine.OPENCOND,"opencond"),this.add(o.ConfigKeyDefine.GUIDE_TRIGGER,"guide_trigger"),this.add(o.ConfigKeyDefine.GUIDE_PRELOAD,"guide_preload"),this.add(o.ConfigKeyDefine.NPC_BASE,"npc_base"),this.add(o.ConfigKeyDefine.NPC_INFO,"npc_info"),this.add(o.ConfigKeyDefine.MONSTER_INFO,"monster_info")},t}(miniframe.ConfigSettings);i.ConfigSettings=a,cc._RF.pop()},{"./ConfigDataCreator":"ConfigDataCreator","./ConfigKeyDefine":"ConfigKeyDefine","./ConfigProtoCreator":"ConfigProtoCreator"}],ConsoleController:[function(e,t,i){"use strict";cc._RF.push(t,"f40e3aTmxtLs5It1wRBka6J","ConsoleController"),Object.defineProperty(i,"__esModule",{value:!0}),i.ConsoleController=void 0;var o=e("./ConsoleView"),n=function(){function e(){this.m_isDebugOpen=!1,this.m_view=null,this.m_listener=null,e.ms_instance=this}return Object.defineProperty(e,"Instance",{get:function(){return e.ms_instance||new e},enumerable:!1,configurable:!0}),e.prototype.setup=function(){cc.sys.platform==cc.sys.DESKTOP_BROWSER&&cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this)},e.prototype.setListener=function(e){this.m_listener=e},e.prototype.onKeyDown=function(e){e.keyCode==cc.macro.KEY.escape&&this.toggleDebug()},e.prototype.toggleDebug=function(){this.m_isDebugOpen?this.hideDebug():this.showDebug()},e.prototype.showDebug=function(){this.m_isDebugOpen||(this.m_isDebugOpen=!0,this.m_view||(this.m_view=new o.ConsoleView,this.m_view.setListener(this),this.m_view.setParent(cc.director.getScene()),this.m_view.setNodeGroup(miniframe.UI.getUINodeGroup())),this.m_view.show())},e.prototype.hideDebug=function(){this.m_isDebugOpen&&(this.m_isDebugOpen=!1,this.m_view&&this.m_view.hide())},e.prototype.onConsoleSubmit=function(e){this.m_listener&&this.m_listener.onConsoleSubmit(e)},e.ms_instance=null,e}();i.ConsoleController=n,cc._RF.pop()},{"./ConsoleView":"ConsoleView"}],ConsoleView:[function(e,t,i){"use strict";cc._RF.push(t,"4f99ch55IdD9LH5jQ6wrBx2","ConsoleView"),Object.defineProperty(i,"__esModule",{value:!0}),i.ConsoleView=void 0;var o=function(e){function t(){var t=e.call(this)||this;return t.m_input=null,t.m_submitButton=null,t.m_helpButton=null,t.m_helpNode=null,t.m_listener=null,t.loadResource("PF_UI_Console"),t}return __extends(t,e),t.prototype.onInitNode=function(t){e.prototype.onInitNode.call(this,t);var i=t.getChildByName("Input");this.m_input=i.getComponent(cc.EditBox);var o=t.getChildByName("SubmitButton");this.m_submitButton=o?o.getComponent(cc.Button):null,this.m_submitButton&&this.m_submitButton.node.on(cc.Node.EventType.TOUCH_END,this.onSubmit,this),o=t.getChildByName("HelpButton"),this.m_helpButton=o?o.getComponent(cc.Button):null,this.m_helpButton&&this.m_helpButton.node.on(cc.Node.EventType.TOUCH_END,this.onHelp,this),this.m_helpNode=t.getChildByName("HelpNode"),this.m_helpNode&&(this.m_helpNode.active=!1)},t.prototype.onUnInitNode=function(t){this.m_submitButton&&this.m_submitButton.node.off(cc.Node.EventType.TOUCH_END,this.onSubmit,this),this.m_helpButton&&this.m_helpButton.node.on(cc.Node.EventType.TOUCH_END,this.onHelp,this),this.m_submitButton=null,this.m_helpButton=null,this.m_helpNode=null,e.prototype.onUnInitNode.call(this,t)},t.prototype.setListener=function(e){this.m_listener=e},t.prototype.onSubmit=function(){this.m_listener&&this.m_listener.onConsoleSubmit(this.getMsg()),this.clearMsg()},t.prototype.onHelp=function(){this.m_helpNode&&(this.m_helpNode.active=!this.m_helpNode.active)},t.prototype.getMsg=function(){return this.m_input?this.m_input.string:""},t.prototype.clearMsg=function(){this.m_input&&(this.m_input.string="")},t}(miniframe.LazyNode);i.ConsoleView=o,cc._RF.pop()},{}],ConstConfigData:[function(e,t,i){"use strict";cc._RF.push(t,"f391etWT9xILa4n8vmu/FaT","ConstConfigData"),Object.defineProperty(i,"__esModule",{value:!0}),i.ConstConfigData=void 0;var o=function(){function e(e){this.m_data=null,this.m_data=e,this.init()}return e.prototype.getId=function(){return this.m_data.getId()},e.prototype.getValue=function(){return this.m_data.getValueList()},e.prototype.getValueCount=function(){return this.m_data.getValueList().length},e.prototype.getValueAt=function(e){return e<0||e>=this.m_data.getValueList().length?0:this.m_data.getValueList()[e]},e.prototype.init=function(){},e.prototype.getConfigKey=function(){return this.getId()},e}();i.ConstConfigData=o,cc._RF.pop()},{}],ControlCodeDefine:[function(e,t,i){"use strict";cc._RF.push(t,"3d278C2fN1LJ41xLiEAX1IP","ControlCodeDefine"),Object.defineProperty(i,"__esModule",{value:!0}),i.ControlCodeDefine=void 0,function(e){e[e.None=0]="None",e[e.CharValueListChange=1]="CharValueListChange",e[e.LimitChange=2]="LimitChange",e[e.CDStart=3]="CDStart",e[e.CDRunning=4]="CDRunning",e[e.CDEnd=5]="CDEnd",e[e.GiftListAdd=6]="GiftListAdd",e[e.GiftListRemove=7]="GiftListRemove",e[e.TaskAdd=8]="TaskAdd",e[e.TaskStateUpdate=9]="TaskStateUpdate",e[e.TaskParameterUpdate=10]="TaskParameterUpdate",e[e.TaskRemove=11]="TaskRemove",e[e.ItemAdd=12]="ItemAdd",e[e.ItemListRemove=13]="ItemListRemove",e[e.ItemCountUpdate=14]="ItemCountUpdate",e[e.ItemParameterUpdate=15]="ItemParameterUpdate",e[e.ExpressCityOpen=16]="ExpressCityOpen",e[e.ExpressCityActive=17]="ExpressCityActive",e[e.ExpressCityUpdate=18]="ExpressCityUpdate",e[e.ExpressCityStarChange=19]="ExpressCityStarChange",e[e.ExpressCityStarExpChange=20]="ExpressCityStarExpChange",e[e.ExpressCitySlotActive=21]="ExpressCitySlotActive",e[e.ExpressCitySlotUpdate=22]="ExpressCitySlotUpdate",e[e.ExpressCityAddTask=23]="ExpressCityAddTask",e[e.ExpressCityRemoveTask=24]="ExpressCityRemoveTask",e[e.ExpressCityDoingTask=25]="ExpressCityDoingTask",e[e.ExpressCityFinishTask=26]="ExpressCityFinishTask",e[e.ExpressCityCoinAwardUpdate=27]="ExpressCityCoinAwardUpdate",e[e.ExpressTargetListActive=28]="ExpressTargetListActive",e[e.ExpressTargetAwardUpdate=29]="ExpressTargetAwardUpdate",e[e.ExpressCommitTask=30]="ExpressCommitTask",e[e.ExpressFinishTask=31]="ExpressFinishTask",e[e.ExpressAbandonTask=32]="ExpressAbandonTask",e[e.ExpressGenerateTask=33]="ExpressGenerateTask",e[e.WindowAllClosed=34]="WindowAllClosed",e[e.CopyMonsterClear=35]="CopyMonsterClear"}(i.ControlCodeDefine||(i.ControlCodeDefine={})),cc._RF.pop()},{}],CopyDataController:[function(e,t,i){"use strict";cc._RF.push(t,"982ccT71vFADavlJNg7a2/w","CopyDataController"),Object.defineProperty(i,"__esModule",{value:!0}),i.CopyDataController=void 0;var o=e("../../../Config/ConfigKeyDefine"),n=e("../../../Extension/DataControl/BasicDataController"),r=e("../../MiniGame"),a=e("../Data/BattleFightData"),s=e("../Data/BattlePlayerData"),p=e("../Data/CopyData"),u=e("../Define/ItemTypeDefine"),c=e("../Define/ValueTypeDefine"),l=e("./BattleDataController"),d=e("./CharDataController"),f=e("./ConfigDataController"),g=e("./StorageDataController"),m=function(e){function t(){var i=e.call(this)||this;return i.m_copyData=null,i.m_weakPowerAddiConfig=null,t.ms_instance=i,i}return __extends(t,e),Object.defineProperty(t,"Instance",{get:function(){return t.ms_instance||new t},enumerable:!1,configurable:!0}),t.prototype.initController=function(){this.m_copyData||(this.m_copyData=new p.CopyData,g.StorageDataController.Instance.addGroup(this.m_copyData))},t.prototype.getMonsterData=function(e,t){if(!this.m_copyData)return null;var i=this.m_copyData.getMonsterBattleData(e,!1);return i||t&&(i=this.m_copyData.getMonsterBattleData(e,!0),this.fillBattleData(i,null)),i},t.prototype.fillBattleData=function(e,t){if(t||(t=miniframe.Config.getData(o.ConfigKeyDefine.MONSTER_INFO,e.getMonsterID()))){var i=t?this.randomEquipFromPool(t.getEquipCount(),t.getPower()):null;i&&i.length>0&&e.handleSetEquips(i)}},t.prototype.isMonsterClear=function(e){return!!this.m_copyData&&this.m_copyData.containsMonsterID(e)},t.prototype.createBattleFightData=function(e){var t=l.BattleDataController.Instance.getHostData(!0,!0),i=new a.BattleFightData;i.limitID=0,i.award=null,i.hostPlayerData=new s.BattlePlayerData,i.hostPlayerData.name=r.MiniGame.UserData.nickName,i.hostPlayerData.attrs=t.attrs,i.hostPlayerData.totalPower=0,i.hostPlayerData.equipPower=0,i.hostPlayerData.reputationPower=f.ConfigDataController.Instance.getReputationPower(d.CharDataController.Instance.getCharRealValue(c.ValueTypeDefine.Reputation)),i.hostPlayerData.addiPower=0,i.npcPlayerData=new s.BattlePlayerData,i.npcPlayerData.monsterID=e,i.npcPlayerData.attrs={},i.npcPlayerData.totalPower=0,i.npcPlayerData.equipPower=0,i.npcPlayerData.reputationPower=0,i.npcPlayerData.addiPower=0;var n=cc.Vec2.ZERO,p=miniframe.Config.getData(o.ConfigKeyDefine.MONSTER_INFO,e);p&&(i.dropBag=p.getDropbag(),i.npcPlayerData.name=p.getNameLan(),i.npcPlayerData.equipPower=p.getPower(),n.x=p.getWeakPoint().x,n.y=p.getWeakPoint().y,i.npcPlayerData.attrs[p.getWeakPoint().x]=p.getWeakPoint().y,i.npcPlayerData.reputationPower=f.ConfigDataController.Instance.getReputationPower(p.getReputation()));var u=this.getMonsterData(e,!1);u||(u=this.getMonsterData(e,!0));var g=u.getEquips();if(g&&g.length>0)for(var m=g.length,h=0;h<m;h++)i.npcPlayerData.equips.push(new cc.Vec3(g[h].x,g[h].y,0));if(i.attrType=n.x,i.attrResult=-1,i.attrPowerAddi=0,i.npcPlayerData.attrs[n.x]<=i.hostPlayerData.attrs[n.x]&&(i.attrResult=1,this.m_weakPowerAddiConfig||(this.m_weakPowerAddiConfig=miniframe.Config.getData(o.ConfigKeyDefine.CONST,1017)),i.attrPowerAddi=miniframe.random.randomInt(this.m_weakPowerAddiConfig.getValueAt(0),this.m_weakPowerAddiConfig.getValueAt(1))),i.hostPlayerData.pkAttr=i.attrType,i.npcPlayerData.pkAttr=i.attrType,t.equips.length>0){var _=0,y=0;for(m=t.equips.length,h=0;h<m;h++)y=(_=miniframe.random.randomInt(t.equips[h].y,t.equips[h].z))>=Math.floor(t.equips[h].y+.5*(t.equips[h].z-t.equips[h].y))?1:-1,i.hostPlayerData.equips.push(new cc.Vec3(t.equips[h].x,_,y)),i.hostPlayerData.equipPower+=_}return i.hostPlayerData.totalPower=i.hostPlayerData.equipPower+i.hostPlayerData.reputationPower,i.npcPlayerData.totalPower=i.npcPlayerData.equipPower+i.npcPlayerData.reputationPower,i.attrPowerAddi>0&&(i.hostPlayerData.addiPower=Math.floor(i.hostPlayerData.totalPower*i.attrPowerAddi*.01),i.hostPlayerData.totalPower+=i.hostPlayerData.addiPower),i.maxPower=Math.max(i.hostPlayerData.totalPower,i.npcPlayerData.totalPower),i.hostPlayerData.powerCurrent=0,i.hostPlayerData.powerTotal=i.maxPower,i.npcPlayerData.powerCurrent=0,i.npcPlayerData.powerTotal=i.maxPower,i.battleResult=i.hostPlayerData.totalPower-i.npcPlayerData.totalPower,i},t.prototype.randomEquipFromPool=function(e,i){for(var o=f.ConfigDataController.Instance.getItemConfigsByType(u.ItemTypeDefine.Book),n=f.ConfigDataController.Instance.getItemConfigsByType(u.ItemTypeDefine.Weapon),r=[],a=o.length,s=0;s<a;s++)r.push(o[s]);for(a=n.length,s=0;s<a;s++)r.push(n[s]);var p=Math.floor(i/e),c=null,l=null,d=[],g=i;for(s=0;s<e&&!(r.length<=0);s++)if(c=miniframe.random.randomWithList(r,!0)){if((l=new cc.Vec2(c.getId())).y=s==e-1?g:p+miniframe.random.randomInt(0,t.PowerRandomOffset)*(s%2==0?-1:1),d.push(l),(g-=l.y)<=0){l.y+=g;break}}else s--;if(g<=0)return d;if(r.length<=0){var m=Math.floor(g/d.length),h=g-d.length*m,_=d.length;for(s=0;s<_;s++)d[s].x+=m,s==_-1&&(d[s].y+=h);return d}for(;g>0&&!(r.length<=0);)if((l=new cc.Vec2(c.getId())).y=this.getPowerEquip(l.x,1),d.push(l),(g-=l.y)<=0){l.y+=g;break}if(g>0){m=Math.floor(g/d.length),h=g-d.length*m;var y=d.length;for(s=0;s<y;s++)d[s].x+=m,s==y-1&&(d[s].y+=h);return d}return d},t.prototype.getPowerEquip=function(e,t){var i=100*e+t,n=miniframe.Config.getData(o.ConfigKeyDefine.WEAPON_GROW_INFO,i);return n?miniframe.random.randomIntWith(n.getPower()):0},t.prototype.handleAddMonsterID=function(e,t){return void 0===t&&(t=!0),!!this.m_copyData&&this.m_copyData.handleAddMonsterID(e,t)},t.prototype.handleRemoveMonsterData=function(e,t){return void 0===t&&(t=!0),!!this.m_copyData&&this.m_copyData.handleRemoveMonsterData(e,t)},t.ms_instance=null,t.PowerRandomOffset=10,t}(n.BasicDataController);i.CopyDataController=m,cc._RF.pop()},{"../../../Config/ConfigKeyDefine":"ConfigKeyDefine","../../../Extension/DataControl/BasicDataController":"BasicDataController","../../MiniGame":"MiniGame","../Data/BattleFightData":"BattleFightData","../Data/BattlePlayerData":"BattlePlayerData","../Data/CopyData":"CopyData","../Define/ItemTypeDefine":"ItemTypeDefine","../Define/ValueTypeDefine":"ValueTypeDefine","./BattleDataController":"BattleDataController","./CharDataController":"CharDataController","./ConfigDataController":"ConfigDataController","./StorageDataController":"StorageDataController"}],CopyData:[function(e,t,i){"use strict";cc._RF.push(t,"66d3dCwJPRJbrFWP4J41ipR","CopyData"),Object.defineProperty(i,"__esModule",{value:!0}),i.CopyData=void 0;var o=e("../../../Extension/Storage/StorageGroupData"),n=e("./BattleMonsterData"),r=e("./IntListStorageProperty"),a=function(e){function t(){var t=e.call(this,"i_copy")||this;return t.m_monsterDatas={},t.m_monsterIDs=null,t}return __extends(t,e),t.prototype.onCreateProperty=function(i){if(i==t.Name_MonsterIDs)return this.m_monsterIDs||(this.m_monsterIDs=new r.IntListStorageProperty(i)),this.m_monsterIDs;if(0==i.indexOf(t.Name_MonsterBattleInfoPrefix)){var o=parseInt(i.substring(t.Name_MonsterBattleInfoPrefix.length));return this.m_monsterDatas[o]||(this.m_monsterDatas[o]=new n.BattleMonsterData(o)),this.m_monsterDatas[o]}return e.prototype.onCreateProperty.call(this,i)},t.prototype.getMonsterBattleData=function(e,i){return this.m_monsterDatas[e]||i&&this.initProperty(t.Name_MonsterBattleInfoPrefix+e),this.m_monsterDatas[e]},t.prototype.containsMonsterID=function(e){return!!this.m_monsterIDs&&this.m_monsterIDs.containsIntValue(e)},t.prototype.handleAddMonsterID=function(e,i){return void 0===i&&(i=!0),this.m_monsterIDs||this.initProperty(t.Name_MonsterIDs),!(!this.m_monsterIDs||this.m_monsterIDs.containsIntValue(e)||(this.m_monsterIDs.pushIntValue(e,0,i),0))},t.prototype.handleRemoveMonsterData=function(e,t){if(void 0===t&&(t=!0),!this.m_monsterDatas)return!1;if(!this.m_monsterDatas[e])return!1;var i=this.m_monsterDatas[e];return this.removeProperty(i.getName()),delete this.m_monsterDatas[e],!0},t.Name_MonsterBattleInfoPrefix="monster_bi_",t.Name_MonsterIDs="monster_ids",t}(o.StorageGroupData);i.CopyData=a,cc._RF.pop()},{"../../../Extension/Storage/StorageGroupData":"StorageGroupData","./BattleMonsterData":"BattleMonsterData","./IntListStorageProperty":"IntListStorageProperty"}],CopyStartItemUIView:[function(e,t,i){"use strict";cc._RF.push(t,"0f13a1eQ9RLR6OypLVhf0OG","CopyStartItemUIView"),Object.defineProperty(i,"__esModule",{value:!0}),i.CopyStartItemUIView=void 0;var o=e("../../../../Config/ConfigKeyDefine"),n=e("../../../../Extension/UI/Sprite/UISprite"),r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.m_icon=null,t.m_itemConfig=null,t}return __extends(t,e),t.prototype.onInitScript=function(){e.prototype.onInitScript.call(this);var t=this.getScript();t&&t.icon&&(this.m_icon||(this.m_icon=new n.UISprite),this.m_icon.bindScript(t.icon))},t.prototype.onSetData=function(t,i,n){return n&&(this.m_itemConfig=null),i?(this.m_itemConfig||(this.m_itemConfig=miniframe.Config.getData(o.ConfigKeyDefine.ITEM_INFO,i.x)),this.m_itemConfig?(this.m_icon&&(this.m_icon.hookAtlasSprite(this.m_itemConfig.getIconAt(0),this.m_itemConfig.getIconAt(1)),this.m_icon.getNode().setPosition(new cc.Vec2(miniframe.toNumber(this.m_itemConfig.getIconAt(2)),miniframe.toNumber(this.m_itemConfig.getIconAt(3))))),t.nameLabel&&t.nameLabel.setLanguage(this.m_itemConfig?this.m_itemConfig.getNameLan():0)):(this.m_icon&&this.m_icon.clear(),t.nameLabel&&(t.nameLabel.string="")),t.levelLabel&&(t.levelLabel.string=i.y+"")):this.m_icon&&this.m_icon.clear(),e.prototype.onSetData.call(this,t,i,n)},t.prototype.onButtonClick=function(t){e.prototype.onButtonClick.call(this,t)},t}(e("../Basic/BusinessItemUIView").BusinessItemUIView);i.CopyStartItemUIView=r,cc._RF.pop()},{"../../../../Config/ConfigKeyDefine":"ConfigKeyDefine","../../../../Extension/UI/Sprite/UISprite":"UISprite","../Basic/BusinessItemUIView":"BusinessItemUIView"}],CopyStartUIMediator:[function(e,t,i){"use strict";cc._RF.push(t,"560b96ruX5FTJ1oPwsQoTsb","CopyStartUIMediator"),Object.defineProperty(i,"__esModule",{value:!0}),i.CopyStartUIMediator=void 0;var o=e("../../../../Config/ConfigKeyDefine"),n=e("../../../../Extension/UI/Scroll/UIScrollList"),r=e("../../../../Extension/UI/Sprite/UISprite"),a=e("../../../Business/Control/BattleDataController"),s=e("../../../Business/Control/CharDataController"),p=e("../../../Business/Control/ConfigDataController"),u=e("../../../Business/Control/CopyDataController"),c=e("../../../Business/Define/AttrCategoryDefine"),l=e("../../../Business/Define/ValueTypeDefine"),d=e("../../../Business/Define/WindowTypeDefine"),f=e("../../../MiniGame"),g=e("../../MediatorNameDefine"),m=e("../Basic/BusinessUIMediator"),h=e("../Component/CopyStartUIScript"),_=e("../Define/BusinessUILayerDefine"),y=e("../View/AttrItemUIView"),C=e("../View/CopyStartItemUIView"),I=function(e){function t(){var t=e.call(this,"CopyStartUIMediator","PF_UI_StartCopy",_.BusinessUILayerDefine.UI,!1,!1,!0,!0,!0,d.WindowTypeDefine.Default)||this;return t.m_copyStartScript=null,t.m_selfIcon=null,t.m_selfItemScroll=null,t.m_selfPKAttrItems=[],t.m_enemyIcon=null,t.m_enemyItemScroll=null,t.m_enemyWeakPointItem=null,t.m_monsterID=0,t.m_monsterConfig=null,t.m_monsterData=null,t.m_cityID=0,t.m_cityConfig=null,t}return __extends(t,e),t.prototype.onUIMediatorInit=function(t,i){if(e.prototype.onUIMediatorInit.call(this,t,i),this.m_copyStartScript=t?t.getComponent(h.default):null,this.m_copyStartScript){this.m_copyStartScript.selfIcon&&(this.m_selfIcon||(this.m_selfIcon=new r.UISprite(this.getMediatorName())),this.m_selfIcon.bindScript(this.m_copyStartScript.selfIcon)),this.m_copyStartScript.selfScroll&&(this.m_selfItemScroll||(this.m_selfItemScroll=new n.UIScrollList(C.CopyStartItemUIView,this.getMediatorName()),this.m_selfItemScroll.bindScript(this.m_copyStartScript.selfScroll)));for(var o=this.m_copyStartScript.selfPKAttrNodes.length,a=0;a<o;a++)a>=this.m_selfPKAttrItems.length&&(this.m_selfPKAttrItems.push(new y.AttrItemUIView(this.getMediatorName())),this.m_selfPKAttrItems[a].setAttrCategory(c.AttrCategoryDefine.PKAttr)),this.m_selfPKAttrItems[a].bindNode(this.m_copyStartScript.selfPKAttrNodes[a]);this.m_copyStartScript.enemyIcon&&(this.m_enemyIcon||(this.m_enemyIcon=new r.UISprite(this.getMediatorName())),this.m_enemyIcon.bindScript(this.m_copyStartScript.enemyIcon)),this.m_copyStartScript.enemyScroll&&(this.m_enemyItemScroll||(this.m_enemyItemScroll=new n.UIScrollList(C.CopyStartItemUIView,this.getMediatorName()),this.m_enemyItemScroll.bindScript(this.m_copyStartScript.enemyScroll))),this.m_copyStartScript.enemyWeakPointNode&&(this.m_enemyWeakPointItem||(this.m_enemyWeakPointItem=new y.AttrItemUIView(this.getMediatorName()),this.m_enemyWeakPointItem.setAttrCategory(c.AttrCategoryDefine.PKAttr)),this.m_enemyWeakPointItem.bindNode(this.m_copyStartScript.enemyWeakPointNode))}},t.prototype.onUIMediatorUnInit=function(){for(this.m_selfIcon&&(this.m_selfIcon.dispose(),this.m_selfIcon=null),this.m_selfItemScroll&&(this.m_selfItemScroll.dispose(),this.m_selfItemScroll=null);this.m_selfPKAttrItems.length>0;)this.m_selfPKAttrItems.pop().dispose();this.m_enemyIcon&&(this.m_enemyIcon.dispose(),this.m_enemyIcon=null),this.m_enemyItemScroll&&(this.m_enemyItemScroll.dispose(),this.m_enemyItemScroll=null),this.m_enemyWeakPointItem&&(this.m_enemyWeakPointItem.dispose(),this.m_enemyWeakPointItem=null),this.m_copyStartScript=null,e.prototype.onUIMediatorUnInit.call(this)},t.prototype.onUIMediatorPrepare=function(t,i){e.prototype.onUIMediatorPrepare.call(this,t,i);var n=i;if(this.m_monsterID=n.x,this.m_cityID=n.y,this.m_monsterConfig=miniframe.Config.getData(o.ConfigKeyDefine.MONSTER_INFO,this.m_monsterID),this.m_monsterData=u.CopyDataController.Instance.getMonsterData(this.m_monsterID,!0),this.m_cityConfig=miniframe.Config.getData(o.ConfigKeyDefine.EXPRESS_CITY,this.m_cityID),this.m_copyStartScript){var r=p.ConfigDataController.Instance.getReputationPower(this.m_monsterConfig.getReputation());if(this.m_monsterConfig&&(this.m_copyStartScript.enemyNameLabel&&(this.m_copyStartScript.enemyNameLabel.string=this.m_monsterConfig.getNameLan()),this.m_enemyWeakPointItem&&this.m_enemyWeakPointItem.setData(this.m_monsterConfig.getWeakPoint()),this.m_copyStartScript.enemyReputationPowerLabel&&(this.m_copyStartScript.enemyReputationPowerLabel.string=r+""),this.m_enemyIcon&&(this.m_enemyIcon.hookAtlasSprite(this.m_monsterConfig.getIconAt(0),this.m_monsterConfig.getIconAt(1)),this.m_enemyIcon.getNode().setPosition(new cc.Vec2(miniframe.toNumber(this.m_monsterConfig.getIconAt(2)),miniframe.toNumber(this.m_monsterConfig.getIconAt(3)))))),this.m_monsterData){var c=0,d=this.m_monsterData.getEquips();if(d&&d.length>0)for(var f=d.length,g=0;g<f;g++)c+=d[g].y;c+=r,this.m_copyStartScript.enemyTotalPowerLabel&&(this.m_copyStartScript.enemyTotalPowerLabel.string=c+""),this.m_enemyItemScroll&&this.m_enemyItemScroll.setDataList(d)}this.m_selfIcon&&this.m_selfIcon.clear();var m=0,h=a.BattleDataController.Instance.getHostData(!0,!1);if(h.equips&&h.equips.length>0){var _=h.equips.length;for(g=0;g<_;g++)m+=h.equips[g].y}var y=p.ConfigDataController.Instance.getReputationPower(s.CharDataController.Instance.getCharRealValue(l.ValueTypeDefine.Reputation));m+=y,this.m_copyStartScript.selfTotalPowerLabel&&(this.m_copyStartScript.selfTotalPowerLabel.string=m+""),this.m_selfItemScroll&&this.m_selfItemScroll.setDataList(h.equips);var C=this.m_selfPKAttrItems.length;for(g=0;g<C;g++)this.m_selfPKAttrItems[g].setData(new cc.Vec2(g+1,h.attrs[g+1]||0));this.m_copyStartScript.selfReputationPowerLabel&&(this.m_copyStartScript.selfReputationPowerLabel.string=y+"");var I=!1,D="";if(this.m_cityConfig){var v=this.m_cityConfig.getMonsters().indexOf(this.m_monsterID);if(v>0){v--;var S=this.m_cityConfig.getMonstersAt(v),b=miniframe.Config.getData(o.ConfigKeyDefine.MONSTER_INFO,S);b&&(D=b.getNameLan()),I=u.CopyDataController.Instance.isMonsterClear(S)}else 0==v&&(I=!0)}this.m_copyStartScript.activeNode&&(this.m_copyStartScript.activeNode.active=I),this.m_copyStartScript.deactiveNode&&(this.m_copyStartScript.deactiveNode.active=!I),this.m_copyStartScript.conditionLabel&&this.m_copyStartScript.conditionLabel.setLanguageFormat(this.m_copyStartScript.conditionLabel.lanValue,D)}},t.prototype.onUIMediatorOpen=function(t,i){e.prototype.onUIMediatorOpen.call(this,t,i),this.m_selfItemScroll&&this.m_selfItemScroll.scrollToTop(),this.m_enemyItemScroll&&this.m_enemyItemScroll.scrollToTop()},t.prototype.onUIMediatorClose=function(t){e.prototype.onUIMediatorClose.call(this,t)},t.prototype.onButtonClick=function(t){switch(t){case"startcopy":var i=u.CopyDataController.Instance.createBattleFightData(this.m_monsterID);if(!i)return;f.MiniGame.MVC.openMediator(g.MediatorNameDefine.BattleUIMediator,i),f.MiniGame.MVC.closeMediator(g.MediatorNameDefine.CopyStartUIMediator);break;default:e.prototype.onButtonClick.call(this,t)}},t}(m.BusinessUIMediator);i.CopyStartUIMediator=I,cc._RF.pop()},{"../../../../Config/ConfigKeyDefine":"ConfigKeyDefine","../../../../Extension/UI/Scroll/UIScrollList":"UIScrollList","../../../../Extension/UI/Sprite/UISprite":"UISprite","../../../Business/Control/BattleDataController":"BattleDataController","../../../Business/Control/CharDataController":"CharDataController","../../../Business/Control/ConfigDataController":"ConfigDataController","../../../Business/Control/CopyDataController":"CopyDataController","../../../Business/Define/AttrCategoryDefine":"AttrCategoryDefine","../../../Business/Define/ValueTypeDefine":"ValueTypeDefine","../../../Business/Define/WindowTypeDefine":"WindowTypeDefine","../../../MiniGame":"MiniGame","../../MediatorNameDefine":"MediatorNameDefine","../Basic/BusinessUIMediator":"BusinessUIMediator","../Component/CopyStartUIScript":"CopyStartUIScript","../Define/BusinessUILayerDefine":"BusinessUILayerDefine","../View/AttrItemUIView":"AttrItemUIView","../View/CopyStartItemUIView":"CopyStartItemUIView"}],CopyStartUIScript:[function(e,t,i){"use strict";cc._RF.push(t,"98d94WGF3FIX7TynwHbP9M9","CopyStartUIScript"),Object.defineProperty(i,"__esModule",{value:!0});var o=e("../../../../Extension/UI/Label/UITextScript"),n=e("../../../../Extension/UI/Scroll/UIScrollScript"),r=cc._decorator,a=r.ccclass,s=r.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.selfIcon=null,t.selfTotalPowerLabel=null,t.selfReputationPowerLabel=null,t.selfPKAttrNodes=[],t.selfScroll=null,t.enemyIcon=null,t.enemyNameLabel=null,t.enemyTotalPowerLabel=null,t.enemyReputationPowerLabel=null,t.enemyWeakPointNode=null,t.enemyScroll=null,t.activeNode=null,t.deactiveNode=null,t.conditionLabel=null,t}return __extends(t,e),__decorate([s(cc.Sprite)],t.prototype,"selfIcon",void 0),__decorate([s(o.default)],t.prototype,"selfTotalPowerLabel",void 0),__decorate([s(o.default)],t.prototype,"selfReputationPowerLabel",void 0),__decorate([s([cc.Node])],t.prototype,"selfPKAttrNodes",void 0),__decorate([s(n.default)],t.prototype,"selfScroll",void 0),__decorate([s(cc.Sprite)],t.prototype,"enemyIcon",void 0),__decorate([s(o.default)],t.prototype,"enemyNameLabel",void 0),__decorate([s(o.default)],t.prototype,"enemyTotalPowerLabel",void 0),__decorate([s(o.default)],t.prototype,"enemyReputationPowerLabel",void 0),__decorate([s(cc.Node)],t.prototype,"enemyWeakPointNode",void 0),__decorate([s(n.default)],t.prototype,"enemyScroll",void 0),__decorate([s(cc.Node)],t.prototype,"activeNode",void 0),__decorate([s(cc.Node)],t.prototype,"deactiveNode",void 0),__decorate([s(o.default)],t.prototype,"conditionLabel",void 0),__decorate([a],t)}(cc.Component);i.default=p,cc._RF.pop()},{"../../../../Extension/UI/Label/UITextScript":"UITextScript","../../../../Extension/UI/Scroll/UIScrollScript":"UIScrollScript"}],CoreCommand:[function(e,t,i){"use strict";cc._RF.push(t,"26862TdID9J8Lx8Q5xUevF5","CoreCommand"),Object.defineProperty(i,"__esModule",{value:!0}),i.CoreCommand=void 0;var o=e("../Define/CoreNotificationDefine"),n=e("../Control/CoreGameController"),r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.onExecute=function(t,i){switch(e.prototype.onExecute.call(this,t,i),t){case o.CoreNotificationDefine.CORE_GAME_START_DO:n.CoreGameController.Instance.start(i)}},t}(miniframe.AbstractCommand);i.CoreCommand=r,cc._RF.pop()},{"../Control/CoreGameController":"CoreGameController","../Define/CoreNotificationDefine":"CoreNotificationDefine"}],CoreConsts:[function(e,t,i){"use strict";cc._RF.push(t,"5b86dPWD2VAdINuKyEu6srw","CoreConsts"),Object.defineProperty(i,"__esModule",{value:!0}),i.CoreConsts=void 0;var o=e("../../../MiniGame"),n=function(){function e(){}return e.GetChNumberStr=function(e){return e>10?o.MiniGame.Locale.getLanguage(this.ONE_LAN_ID+10-1)+o.MiniGame.Locale.getLanguage(this.ONE_LAN_ID+(e-10-1)):o.MiniGame.Locale.getLanguage(this.ONE_LAN_ID+e-1)},e.DoTradeShowShipTween=function(t,i,o,n){var r=cc.tween(t);r.stop(),r.to(e.TaskTradeMoveToShipDuration,{position:i}),r.to(e.TaskTradeScaleDuration,{scale:o}),n&&r.call(n),r.start()},e.DoTradeHideShipTween=function(t,i,o,n){var r=cc.tween(t);r.stop(),r.to(e.TaskTradeScaleDuration,{scale:o}),r.to(e.TaskTradeMoveToShipDuration,{position:i}),n&&r.call(n),r.start()},e.DoTradeScaleTween=function(t,i,o){var n=t.scale,r=i;if(n!=r||o){var a=e.TaskTradeScaleDuration,s=cc.tween(t);s.stop(),n>r?(s.to(a/3*1,{scale:n+.35*(n-r)}),s.to(a/3*2,{scale:r})):(s.to(a/3*2,{scale:r+.35*(r-n)}),s.to(a/3*1,{scale:r})),o&&s.call(o),s.start()}},e.DoGame2WrontShakeTween=function(e){e.stopAllActions();var t=e.getPosition(),i=cc.tween(e);i.to(.015,{position:new cc.Vec2(t.x-10,t.y)}),i.to(.015,{position:new cc.Vec2(t.x,t.y-10)}),i.to(.015,{position:new cc.Vec2(t.x+10,t.y)}),i.to(.015,{position:new cc.Vec2(t.x,t.y+10)}),i.to(.015,{position:new cc.Vec2(t.x-5,t.y)}),i.to(.015,{position:new cc.Vec2(t.x,t.y-5)}),i.to(.015,{position:new cc.Vec2(t.x+5,t.y)}),i.to(.015,{position:new cc.Vec2(t.x,t.y+5)}),i.to(.015,{position:t}),i.start()},e.ONE_LAN_ID=130101,e.FlyRangeX=new cc.Vec2(100,300),e.FlyRangeY=new cc.Vec2(-500,-100),e.FlyAbreastCounts=new cc.Vec2(4,6),e.FlyIntervalMS=100,e.FlyDurationSec=.8,e.SceneValueFlyNums={1:new cc.Vec2(3,4),2:new cc.Vec2(3,4),3:new cc.Vec2(3,4)},e.BenefitValueFlyNums={1:new cc.Vec2(10,14),2:new cc.Vec2(3,6),3:new cc.Vec2(3,6)},e.GuideValueFlyNums={1:new cc.Vec2(10,14),2:new cc.Vec2(3,6),3:new cc.Vec2(3,6)},e.FlyValueAudioIDs={1:62,2:63,3:0},e.DropValueAudioIDs={1:59,2:60,3:0},e.CityCreateFocusDurationMS=500,e.CityCreateBackDurationMS=500,e.CityDevelopFocusDurationMS=500,e.CityDevelopBackDurationMS=500,e.CityTaskFocusDurationMS=500,e.CityTaskFocusDelayMS=0,e.CityFocusRatio=1.5,e.CityInViewportPercent=80,e.TaskTradeListScale=1,e.TaskTradeStartScale=.5,e.TaskTradeMoveInRoadScale=.5,e.TaskTradeMoveInCityScale=.3,e.TaskTradeStayInCityScale=.8,e.TaskTradeCityStayDurationMS=1e3,e.TaskTradeScaleDuration=.2,e.TaskTradeMoveToShipDuration=.2,e.TaskTradeFollowGap=50,e.TaskTradeFollowOffset=new cc.Vec2(0,-20),e.TaskTradeVehicleOffset=new cc.Vec2(0,0),e.DefaultRatio=1,e.CameraBackDurationMS=500,e.DesktopCameraMoveScale=.5,e.MobileCameraMoveScale=.8,e.DesktopCameraZoomScale=.001,e.MobileCameraZoomScale=.005,e.CameraZoomMax=2,e.CameraMoveMinDist=30,e.OnlineAwardAwardSecondsCell=60,e.OnlineAwardCalculateSecondsCell=5,e.BattleStartFightAniEndDelayMS=500,e.BattleWeakStep1AniEndDelayMS=500,e.BattleWeakStep2AniEndDelayMS=500,e.BattleWeakStep3AniEndDelayMS=500,e.BattleWeakStep4AniEndDelayMS=500,e.BattleItemPKStep1AniEndDelayMS=500,e.BattleItemShopCompleteDelayMS=500,e.BattleItemShowGapMS=200,e.BattleItemMoveSpeed=300,e.BattleItemMoveGapMS=400,e.BattleItemMoveEndDelayMS=1500,e.BattleItemSlotCell=50,e.BattlePowerProgressMoveSpeed=.7,e.ProgressCompleteHideDealyMS=2e3,e.ProgressHideDealyMS=500,e.RoadDisableColor=new cc.Color(0,0,0),e.RoadDisableOpacity=30,e.RoadCanActiveColor=new cc.Color(0,0,0),e.RoadCanActiveOpacity=30,e.RoadNormalColor=new cc.Color(0,0,0),e.RoadNormalOpacity=168,e.DropPickRadius=150,e.SystemActiveScaleDuration=.25,e.Game1PieceInitStaySec=.5,e.Game1PieceInitMoveSec=.3,e.Game1PieceTouchMoveSec=.2,e.Game1PieceRandomAngles=[new cc.Vec2(-90,90)],e.Game1PieceRandomPosXRanges=[new cc.Vec2(-50,50)],e.Game1PieceRandomPosYRanges=[new cc.Vec2(-50,50)],e.Game2PieceShowDelaySec=.02,e.Game2PieceShowSec=.2,e.Game2WrongTimeCutValue=5,e.Game2PieceFlySec=.5,e.Game2WrongPieceColor=new cc.Color(98,98,98),e.Game3PieceInitStaySec=.3,e.Game3PieceInitMoveSec=.3,e.Game3PieceInitMoveDelaySec=.2,e.Game3PieceTouchMoveSec=.2,e}();i.CoreConsts=n,cc._RF.pop()},{"../../../MiniGame":"MiniGame"}],CoreGameController:[function(e,t,i){"use strict";cc._RF.push(t,"de44duD5JZC4pf5F6G3z616","CoreGameController"),Object.defineProperty(i,"__esModule",{value:!0}),i.CoreGameController=void 0;var o=e("../../../Core/Express/ExpressWorld"),n=e("../../../../Extension/Storage/StorageTypeDefine"),r=e("../../MediatorNameDefine"),a=e("../../../Business/Control/CharDataController"),s=e("../../../Business/Control/ExpressDataController"),p=e("../../../Business/Control/ItemDataController"),u=e("../../../Business/Control/TaskDataController"),c=e("../../../Business/Control/GiftDataController"),l=e("../../../Business/Control/LimitDataController"),d=e("../../Business/Define/BusinessUILayerDefine"),f=e("../../../Core/Express/Control/ExpressResources"),g=e("../../../MiniGame"),m=e("./CoreConsts"),h=e("../../../Business/Define/ValueTypeDefine"),_=e("../../../Business/Define/ItemPackTypeDefine"),y=e("../../../../Config/ConfigKeyDefine"),C=e("../../../Business/Define/ItemTypeDefine"),I=e("../../../Business/Define/ExpressItemParameterDefine"),D=e("../../../Business/Control/NoticeStateController"),v=e("../../../Business/Control/SystemDataController"),S=e("../../../Business/Control/StorageDataController"),b=e("../../../../App/Define/EditorModeDefine"),T=e("../../Guide/Define/GuideNotificationDefine"),P=e("../../../Business/Control/GuideDataController"),M=e("../../../Business/Control/BattleDataController"),E=e("../../../Business/Control/CDDataController"),B=e("../../../Business/Control/ConfigDataController"),L=e("../../Business/Define/BusinessNotificationDefine"),w=e("../../../Business/Control/StayStateController"),A=e("../../../../Extension/UI/Label/UILabelScript"),U=e("../../../Business/Define/AwardTypeDefine"),x=e("../../../../Extension/UI/Label/UITextScript"),N=e("../../../Business/Control/CopyDataController"),k=function(){function e(){this.m_isFirstLogin=!1,this.m_today=0,this.m_flyNodes={},e.ms_instance=this}return Object.defineProperty(e,"Instance",{get:function(){return e.ms_instance||new e},enumerable:!1,configurable:!0}),e.prototype.start=function(e){var t=this;if(console.info("core start"),this.m_today=miniframe.today(),setInterval(function(){var e=miniframe.today();t.m_today!=e&&(t.m_today=e,t.checkOnDailySwitch())},1e3),g.MiniGame.UserData=e?e.userdata:null,cc.game.on(cc.game.EVENT_SHOW,this.onGameShow,this),cc.game.on(cc.game.EVENT_HIDE,this.onGameHide,this),g.MiniGame.MVC.openMediator(r.MediatorNameDefine.CoreMediator),g.MiniGame.Effect.registerEffectInitHandler("income",this),g.MiniGame.Effect.registerEffectInitHandler("consume",this),g.MiniGame.Effect.registerEffectInitHandler("award",this),g.MiniGame.Effect.registerEffectInitHandler("time",this),g.MiniGame.EditorMode>0){if(g.MiniGame.Console.setup(),g.MiniGame.Console.setListener(this),g.MiniGame.ContainsEditorParameter("sysopen")&&g.MiniGame.GetEditorParameter("sysopen")){var i=miniframe.Config.getDataMap(y.ConfigKeyDefine.OPENCOND);for(var d in i)g.MiniGame.SystemOpen.setSystemState(i[d].getId(),!0,!1)}g.MiniGame.ContainsEditorParameter("guideopen")&&g.MiniGame.Guide.setGuideOpen(g.MiniGame.GetEditorParameter("guideopen"))}var f=n.StorageTypeDefine.None;if(g.MiniGame.EditorMode==b.EditorModeDefine.None?f=n.StorageTypeDefine.Both:g.MiniGame.EditorMode==b.EditorModeDefine.Standalone&&(f=n.StorageTypeDefine.Local),console.info("init storage",f),S.StorageDataController.Instance.initController(f),a.CharDataController.Instance.initController(),l.LimitDataController.Instance.initController(),E.CDDataController.Instance.initController(),c.GiftDataController.Instance.initController(),p.ItemDataController.Instance.initController(),u.TaskDataController.Instance.initController(),s.ExpressDataController.Instance.initController(),M.BattleDataController.Instance.initController(),N.CopyDataController.Instance.initController(),P.GuideDataController.Instance.initController(),v.SystemDataController.Instance.initController(),D.NoticeStateController.Instance,v.SystemDataController.Instance,this.m_isFirstLogin=!1,g.MiniGame.EditorMode==b.EditorModeDefine.Develop)this.m_isFirstLogin=g.MiniGame.GetEditorParameter("storyopen"),a.CharDataController.Instance.initValues();else{var m=miniframe.toNumber(minisdk.getLocalStorageSync("init_time"));m<=0&&(this.m_isFirstLogin=!0,g.MiniGame.EditorMode==b.EditorModeDefine.Standalone&&g.MiniGame.ContainsEditorParameter("storyopen")&&(this.m_isFirstLogin=g.MiniGame.GetEditorParameter("storyopen")),m=miniframe.now(),minisdk.setLocalStorageSync("init_time",m),a.CharDataController.Instance.initValues())}var h=g.MiniGame.Instance.findNode("Scene",!1),_=[],C=g.MiniGame.Instance.findNode("BackgroundCamera",!1);C&&_.push(C.getComponent(cc.Camera)),(C=g.MiniGame.Instance.findNode("MiddleCamera",!1))&&_.push(C.getComponent(cc.Camera)),o.ExpressWorld.Instance.setup(g.MiniGame.Instance.getMainCamera(),_,h),S.StorageDataController.Instance.start(this.onStoragePrepared,this)},e.prototype.onGameShow=function(){console.info("on game show"),w.StayStateController.Instance.resetStayTime()},e.prototype.onGameHide=function(){console.info("on game hide"),w.StayStateController.Instance.resetStayTime()},e.prototype.onStoragePrepared=function(){this.m_isFirstLogin?g.MiniGame.MVC.openMediator(r.MediatorNameDefine.StoryUIMediator):(this.storyOpen(),this.storyClose())},e.prototype.storyOpen=function(){s.ExpressDataController.Instance.initData(),v.SystemDataController.Instance.initData(),o.ExpressWorld.Instance.start(),g.MiniGame.SystemOpen.checkAllSystems(),l.LimitDataController.Instance.initData(),E.CDDataController.Instance.initData(),c.GiftDataController.Instance.initData(),u.TaskDataController.Instance.initData(),P.GuideDataController.Instance.initData(),g.MiniGame.EditorMode==b.EditorModeDefine.None&&this.checkInvite(!0)},e.prototype.storyClose=function(){var e=!0;g.MiniGame.EditorMode==b.EditorModeDefine.Develop?e=g.MiniGame.GetEditorParameter("guideopen"):g.MiniGame.EditorMode==b.EditorModeDefine.Standalone&&g.MiniGame.ContainsEditorParameter("guideopen")&&(e=g.MiniGame.GetEditorParameter("guideopen")),e?g.MiniGame.MVC.sendNotification(T.GuideNotificationDefine.FIRST_GUIDE):this.startGame()},e.prototype.startGame=function(){g.MiniGame.MVC.openMediator(r.MediatorNameDefine.IdleUIMediator),g.MiniGame.MVC.openMediator(r.MediatorNameDefine.NavigatorUIMediator),g.MiniGame.MVC.openMediator(r.MediatorNameDefine.NavigatorTopUIMediator),w.StayStateController.Instance.start()},e.prototype.registerFlyNode=function(e){if(e){var t=e.name;this.m_flyNodes[t]?miniframe.safePush(this.m_flyNodes[t],e):this.m_flyNodes[t]=[e]}},e.prototype.unregisterFlyNode=function(e){if(e){var t=e.name;this.m_flyNodes[t]&&miniframe.safeRemove(this.m_flyNodes[t],e)}},e.prototype.getFlyNodePosition=function(e){return!this.m_flyNodes[e]||this.m_flyNodes[e].length<=0?cc.Vec2.ZERO:this.m_flyNodes[e][0].getPosition()},e.prototype.getFlyNodePositionByValueType=function(e){var t="value_"+e;return this.getFlyNodePosition(t)},e.prototype.flyValueNodeTo=function(e,t,i,o,n,r,a){void 0===n&&(n=void 0),void 0===r&&(r=!0),void 0===a&&(a=!1);var s=this.getFlyNodePositionByValueType(e),p=3==e?9:2==e?6:4;a?this.flyUINodeTo(i,o,s,p,t,void 0,void 0,void 0,r?[L.BusinessNotificationDefine.REFRESH_VALUES]:void 0):this.flySceneNodeTo(i,o,s,n,p,t,void 0,void 0,void 0,r?[L.BusinessNotificationDefine.REFRESH_VALUES]:void 0)},e.prototype.flyEventNodeTo=function(e,t,i,o,n,r,a,s,p,u,c,l){void 0===o&&(o=void 0),void 0===n&&(n=!1),void 0===r&&(r=void 0),void 0===a&&(a=void 0),void 0===s&&(s=void 0),void 0===p&&(p=void 0),void 0===u&&(u=void 0),void 0===c&&(c=void 0),void 0===l&&(l=void 0);var d=this.getFlyNodePosition(e);n?this.flyUINodeTo(t,i,d,r,a,s,p,u,c,l):this.flySceneNodeTo(t,i,d,o,r,a,s,p,u,c,l)},e.prototype.flySceneNodeTo=function(e,t,i,o,n,r,a,s,p,u,c){var l=this;if(void 0===o&&(o=void 0),void 0===n&&(n=void 0),void 0===r&&(r=void 0),void 0===a&&(a=void 0),void 0===s&&(s=void 0),void 0===p&&(p=void 0),void 0===u&&(u=void 0),void 0===c&&(c=void 0),e.isLoading())return console.warn("flyNodeTo.no body.wait loading"),void e.setLoadCallback(function(){l.flySceneNodeTo(e,t,i,o,n,r,a,s,p,u,c)},this);var d=e.getNode();if(!d)return console.warn("flyNodeTo.no body"),void e.dispose();var f=g.MiniGame.Instance.toWorldPosition(d),m=miniframe.UI.toUIPosition(f);o&&(m=miniframe.add(m,o)),this.flyAnyNodeTo(e,t,i,m,n,r,a,s,p,u,c)},e.prototype.flyUINodeTo=function(e,t,i,o,n,r,a,s,p,u){var c=this;if(void 0===o&&(o=void 0),void 0===n&&(n=void 0),void 0===r&&(r=void 0),void 0===a&&(a=void 0),void 0===s&&(s=void 0),void 0===p&&(p=void 0),void 0===u&&(u=void 0),e.isLoading())return console.warn("flyNodeTo.no body.wait loading"),void e.setLoadCallback(function(){c.flyUINodeTo(e,t,i,o,n,r,a,s,p,u)},this);var l=e.getNode();if(!l)return console.warn("flyNodeTo.no body"),void e.dispose();var d=l.convertToWorldSpaceAR(cc.Vec2.ZERO),f=miniframe.UI.toUIPosition(d);this.flyAnyNodeTo(e,t,i,f,o,n,r,a,s,p,u)},e.prototype.flyAnyNodeTo=function(e,t,i,o,n,r,a,s,p,u,c){void 0===n&&(n=void 0),void 0===r&&(r=void 0),void 0===a&&(a=void 0),void 0===s&&(s=void 0),void 0===p&&(p=void 0),void 0===u&&(u=void 0),void 0===c&&(c=void 0);var l=e.getNode(),h=null,_=miniframe.random.randomIntWith(m.CoreConsts.FlyAbreastCounts);if(t>1){for(var y=0,C=0,I=null,D=t,v=0;v<D;v++)(h=new cc.Vec2).x=o.x+miniframe.random.randomIntWith(m.CoreConsts.FlyRangeX)*(v%2==0?-1:1),h.y=o.y+miniframe.random.randomIntWith(m.CoreConsts.FlyRangeY),I=e.clone(),this.flyNodeDirectlyTo(I,I.getNode(),o,i,h,a,s,p,0==v?u:void 0,y,c),++C>=_&&(C=0,y+=m.CoreConsts.FlyIntervalMS);f.ExpressResources.Instance.recycleDropBody(e)}else(h=new cc.Vec2).x=o.x+miniframe.random.randomIntWith(m.CoreConsts.FlyRangeX)*(miniframe.random.randomIn100()%2==0?-1:1),h.y=o.y+miniframe.random.randomIntWith(m.CoreConsts.FlyRangeY),this.flyNodeDirectlyTo(e,l,o,i,h,a,s,p,u,0,c);null!=n&&g.MiniGame.Effect.playEffect(n,miniframe.UI.getUILayer(d.BusinessUILayerDefine.Special,!0),o,null,null,r)},e.prototype.flyNodeDirectlyTo=function(e,t,i,o,n,r,a,s,p,u,c){var l=this;if(void 0===r&&(r=void 0),void 0===a&&(a=void 0),void 0===s&&(s=void 0),void 0===p&&(p=void 0),void 0===u&&(u=0),void 0===c&&(c=void 0),u>0)setTimeout(function(){l.flyNodeDirectlyTo(e,t,i,o,n,r,a,s,p,0)},u);else{miniframe.UI.addLazyChild(e,d.BusinessUILayerDefine.TopNavigator),t.setPosition(i);var h=cc.tween(t);null!=c?h.parallel(cc.tween(t).bezierTo(m.CoreConsts.FlyDurationSec,i,n,o),cc.tween(t).to(m.CoreConsts.FlyDurationSec,{scale:c})):h.bezierTo(m.CoreConsts.FlyDurationSec,i,n,o),h.call(function(){if(f.ExpressResources.Instance.recycleDropBody(e),r&&r.call(a,s),p&&p.length>0)for(var t=p.length,i=0;i<t;i++)g.MiniGame.MVC.sendNotification(p[i],s)}),h.start()}},e.prototype.tryFlyAwardText=function(e){this.flyAwardText(e[0],e[1])},e.prototype.flyAwardText=function(e,t){var i=this.getFlyNodePosition(e);g.MiniGame.Effect.playEffect(10,miniframe.UI.getUILayer(d.BusinessUILayerDefine.Special,!0),i,null,null,t)},e.prototype.playValueDownEffect=function(e,t){var i=this.getFlyNodePositionByValueType(e),o=3==e?0:2==e?8:7;o>0&&g.MiniGame.Effect.playEffect(o,miniframe.UI.getUILayer(d.BusinessUILayerDefine.Special,!0),i,null,null,t)},e.prototype.checkInvite=function(e){void 0===e&&(e=!1)},e.prototype.checkOnDailySwitch=function(){l.LimitDataController.Instance.onDailySwitch()},e.prototype.onEffectInit=function(e,t){if("income"==e)(a=t.getNode().getComponentInChildren(A.default))&&(a.string="+"+t.getProps());else if("consume"==e)(a=t.getNode().getComponentInChildren(A.default))&&(a.string="-"+t.getProps());else if("award"==e){if(a=t.getNode().getComponentInChildren(x.default)){var i=t.getProps();if(i.x==U.AwardTypeDefine.Item){var o=miniframe.Config.getData(y.ConfigKeyDefine.ITEM_INFO,i.y),n=o?g.MiniGame.Locale.getLanguage(o.getNameLan()):"";a.string=g.MiniGame.Locale.getLanguageFormat(170034,n,i.z)}else if(i.x==U.AwardTypeDefine.BookEvent||i.x==U.AwardTypeDefine.WeaponEvent){var r=miniframe.Config.getData(y.ConfigKeyDefine.EXPRESS_EVENT_BAG,i.y);n=r?g.MiniGame.Locale.getLanguage(r.getTitleLan()):"",a.string=g.MiniGame.Locale.getLanguageFormat(170034,n,i.z)}}}else if("time"==e){var a;(a=t.getNode().getComponentInChildren(x.default))&&(a.string=t.getProps())}},e.prototype.onConsoleSubmit=function(e){var t=e.split(" ");switch(t[0]){case"clearcache":cc.sys.localStorage.clear(),g.MiniGame.MVC.openMediator(r.MediatorNameDefine.PromptSimpleUIMediator,"\u6570\u636e\u5df2\u6e05\u7a7a\uff0c\u5237\u65b0\u540e\u751f\u6548");break;case"coin":(i=miniframe.toNumber(t[1]))>0?a.CharDataController.Instance.handleAddCharValue(h.ValueTypeDefine.Coin,i):i<0&&a.CharDataController.Instance.handleRemoveCharValue(h.ValueTypeDefine.Coin,-i);break;case"gold":var i;(i=miniframe.toNumber(t[1]))>0?a.CharDataController.Instance.handleAddCharValue(h.ValueTypeDefine.Gold,i):i<0&&a.CharDataController.Instance.handleRemoveCharValue(h.ValueTypeDefine.Gold,-i);break;case"value":var o=miniframe.toNumber(t[1]),n=miniframe.toNumber(t[2]);o>0&&(n>0?a.CharDataController.Instance.handleAddCharValue(o,n):n<0&&a.CharDataController.Instance.handleRemoveCharValue(o,-n));break;case"item":var u=miniframe.toNumber(t[1]),c=miniframe.toNumber(t[2]);if(u>0)if(c>0){if(p.ItemDataController.Instance.handleAddItem(_.ItemPackTypeDefine.Default,u,c)){var l=miniframe.Config.getData(y.ConfigKeyDefine.ITEM_INFO,u);if(l){var d=p.ItemDataController.Instance.getItemDataByConfigID(_.ItemPackTypeDefine.Default,u);d&&(l.getType()!=C.ItemTypeDefine.Book&&l.getType()!=C.ItemTypeDefine.Weapon||d.getParameterAt(I.ExpressItemParameterDefine.Level)<=0&&d.setParameterAt(I.ExpressItemParameterDefine.Level,1))}}}else c<0&&p.ItemDataController.Instance.handleRemoveItem(_.ItemPackTypeDefine.Default,u,c);break;case"battle":var f=miniframe.Config.getDataMap(y.ConfigKeyDefine.ITEM_INFO),m=[],D=[];for(var S in f)f[S].getType()==C.ItemTypeDefine.Book?m.push(f[S]):f[S].getType()==C.ItemTypeDefine.Weapon&&D.push(f[S]);var b={},T=miniframe.Config.getDataMap(y.ConfigKeyDefine.EXPRESS_EVENT_BAG);for(var S in T)b[T[S].getAwardId()]=T[S];var P=miniframe.toNumber(t[1]),M=miniframe.toNumber(t[2]);if(P>0)for(var E=null,L=0;L<P&&!(m.length<=0);L++)E=miniframe.random.randomWithList(m,!0),p.ItemDataController.Instance.getItemCountByConfigID(_.ItemPackTypeDefine.Default,E.getId())<=0&&(this.onConsoleSubmit("item "+E.getId()+" 1"),(A=b[E.getId()])&&this.onConsoleSubmit("eventbag "+A.getId()));if(M>0){var w=null;for(L=0;L<M&&!(D.length<=0);L++){var A;w=miniframe.random.randomWithList(D,!0),p.ItemDataController.Instance.getItemCountByConfigID(_.ItemPackTypeDefine.Default,w.getId())<=0&&(this.onConsoleSubmit("item "+w.getId()+" 1"),(A=b[w.getId()])&&this.onConsoleSubmit("eventbag "+A.getId()))}}break;case"event":if((F=miniframe.toNumber(t[1]))>0){var U=B.ConfigDataController.Instance.getEventGroupID(F);if(!s.ExpressDataController.Instance.isEventUsed(U,F,!1)){var x=void 0;(N=miniframe.Config.getData(y.ConfigKeyDefine.EXPRESS_EVENT_BAG,U))&&(x=N.getEventsCount()),s.ExpressDataController.Instance.handleAddUsedEvent(U,F,!1,x)}}break;case"eventbag":var N,k=miniframe.toNumber(t[1]);if(k>0)if(U=k,N=miniframe.Config.getData(y.ConfigKeyDefine.EXPRESS_EVENT_BAG,U)){var F=0;for(x=N.getEventsCount(),L=0;L<x;L++)F=N.getEventsAt(L),s.ExpressDataController.Instance.isEventUsed(U,F,!1)||s.ExpressDataController.Instance.handleAddUsedEvent(U,F,!1,x)}break;case"system":var R=miniframe.toNumber(t[1]);v.SystemDataController.Instance.openSystem(R)}},e.ms_instance=null,e}();i.CoreGameController=k,cc._RF.pop()},{"../../../../App/Define/EditorModeDefine":"EditorModeDefine","../../../../Config/ConfigKeyDefine":"ConfigKeyDefine","../../../../Extension/Storage/StorageTypeDefine":"StorageTypeDefine","../../../../Extension/UI/Label/UILabelScript":"UILabelScript","../../../../Extension/UI/Label/UITextScript":"UITextScript","../../../Business/Control/BattleDataController":"BattleDataController","../../../Business/Control/CDDataController":"CDDataController","../../../Business/Control/CharDataController":"CharDataController","../../../Business/Control/ConfigDataController":"ConfigDataController","../../../Business/Control/CopyDataController":"CopyDataController","../../../Business/Control/ExpressDataController":"ExpressDataController","../../../Business/Control/GiftDataController":"GiftDataController","../../../Business/Control/GuideDataController":"GuideDataController","../../../Business/Control/ItemDataController":"ItemDataController","../../../Business/Control/LimitDataController":"LimitDataController","../../../Business/Control/NoticeStateController":"NoticeStateController","../../../Business/Control/StayStateController":"StayStateController","../../../Business/Control/StorageDataController":"StorageDataController","../../../Business/Control/SystemDataController":"SystemDataController","../../../Business/Control/TaskDataController":"TaskDataController","../../../Business/Define/AwardTypeDefine":"AwardTypeDefine","../../../Business/Define/ExpressItemParameterDefine":"ExpressItemParameterDefine","../../../Business/Define/ItemPackTypeDefine":"ItemPackTypeDefine","../../../Business/Define/ItemTypeDefine":"ItemTypeDefine","../../../Business/Define/ValueTypeDefine":"ValueTypeDefine","../../../Core/Express/Control/ExpressResources":"ExpressResources","../../../Core/Express/ExpressWorld":"ExpressWorld","../../../MiniGame":"MiniGame","../../Business/Define/BusinessNotificationDefine":"BusinessNotificationDefine","../../Business/Define/BusinessUILayerDefine":"BusinessUILayerDefine","../../Guide/Define/GuideNotificationDefine":"GuideNotificationDefine","../../MediatorNameDefine":"MediatorNameDefine","./CoreConsts":"CoreConsts"}],CoreInitializer:[function(e,t,i){"use strict";cc._RF.push(t,"ad2b2LjP2JJRpKao6sLwEbm","CoreInitializer"),Object.defineProperty(i,"__esModule",{value:!0}),i.CoreInitializer=void 0;var o=e("../Command/CoreCommand"),n=e("../Mediator/CoreMediator"),r=e("../../MediatorNameDefine"),a=e("../Define/CoreNotificationDefine"),s=function(){function e(){}return e.CreateCoreCommand=function(){return e.ms_coreCommand},e.CreateCoreMediator=function(){return new n.CoreMediator},e.prototype.initialize=function(){e.ms_coreCommand||(e.ms_coreCommand=new o.CoreCommand),miniframe.Facade.registerCommand(a.CoreNotificationDefine.CORE_GAME_START_DO,e.CreateCoreCommand),miniframe.Facade.registerMediatorClass(r.MediatorNameDefine.CoreMediator,e.CreateCoreMediator)},e.prototype.uninitialize=function(){miniframe.Facade.unregisterCommand(a.CoreNotificationDefine.CORE_GAME_START_DO),miniframe.Facade.unregisterMediatorClass(r.MediatorNameDefine.CoreMediator)},e.prototype.dispose=function(){e.ms_coreCommand=null},e.ms_coreCommand=null,e}();i.CoreInitializer=s,cc._RF.pop()},{"../../MediatorNameDefine":"MediatorNameDefine","../Command/CoreCommand":"CoreCommand","../Define/CoreNotificationDefine":"CoreNotificationDefine","../Mediator/CoreMediator":"CoreMediator"}],CoreMediator:[function(e,t,i){"use strict";cc._RF.push(t,"205ffNriqRIwJnLqOgJmswL","CoreMediator"),Object.defineProperty(i,"__esModule",{value:!0}),i.CoreMediator=void 0;var o=function(e){function t(){return e.call(this,"CoreMediator","",0,!1,!1,!1)||this}return __extends(t,e),t.prototype.onInitInterestNotifications=function(t){e.prototype.onInitInterestNotifications.call(this,t)},t.prototype.onHandleNotification=function(t,i){e.prototype.onHandleNotification.call(this,t,i)},t}(miniframe.AbstractUIMediator);i.CoreMediator=o,cc._RF.pop()},{}],CoreModuleConfig:[function(e,t,i){"use strict";cc._RF.push(t,"91f95GzYFpLer81GPlpf8wX","CoreModuleConfig"),Object.defineProperty(i,"__esModule",{value:!0}),i.CoreModuleConfig=void 0;var o=e("../Define/CoreNotificationDefine"),n=e("../Initialize/CoreInitializer"),r=function(e){function t(i){void 0===i&&(i=null);var r=e.call(this)||this;return r.name=t.ModuleName,r.type=miniframe.ModuleTypeDefine.MAIN,r.entryCommand=o.CoreNotificationDefine.CORE_GAME_START_DO,r.entryMediator="",r.entryParameter=null,r.isEntryModule=!1,r.isDefaultModule=!1,r.isAutoLaunch=!1,r.isAutoDispose=!1,r.isAutoNext=!1,r.nextModules=null,r.backgroundModules=i,r.initializerClass=function(){return new n.CoreInitializer},r}return __extends(t,e),t.ModuleName="Core",t}(miniframe.ModuleConfig);i.CoreModuleConfig=r,cc._RF.pop()},{"../Define/CoreNotificationDefine":"CoreNotificationDefine","../Initialize/CoreInitializer":"CoreInitializer"}],CoreNotificationDefine:[function(e,t,i){"use strict";cc._RF.push(t,"dea6eENK35LqLusYXpwaMhv","CoreNotificationDefine"),Object.defineProperty(i,"__esModule",{value:!0}),i.CoreNotificationDefine=void 0;var o=function(){function e(){}return e.CORE_GAME_START_DO="CORE_GAME_START_DO",e}();i.CoreNotificationDefine=o,cc._RF.pop()},{}],CueInfoUIMediator:[function(e,t,i){"use strict";cc._RF.push(t,"26ceeSHX8tEqKH/ZutcpbPW","CueInfoUIMediator"),Object.defineProperty(i,"__esModule",{value:!0}),i.CueInfoUIMediator=void 0;var o=e("../../../../Config/ConfigKeyDefine"),n=e("../../../../Extension/UI/Sprite/UISprite"),r=e("../../../Business/Control/CharDataController"),a=e("../../../Business/Control/ExpressDataController"),s=e("./BusinessUIMediator"),p=e("../Component/CueInfoUIScript"),u=e("../Define/BusinessUILayerDefine"),c=e("../../../Business/Define/WindowTypeDefine"),l=function(e){function t(t,i){var o=e.call(this,t,i,u.BusinessUILayerDefine.UI,!1,!1,!0,!0,!0,c.WindowTypeDefine.Default)||this;return o.m_cueInfoScript=null,o.m_icon=null,o.m_drop=null,o.m_groupID=0,o.m_eventID=0,o.m_groupConfig=null,o.m_eventConfig=null,o.m_targetConfig=null,o.m_nextDrops=[],o.m_currentOptionIndexes=[],o}return __extends(t,e),t.prototype.onUIMediatorInit=function(t,i){e.prototype.onUIMediatorInit.call(this,t,i),this.m_cueInfoScript=t?t.getComponent(p.default):null,this.m_cueInfoScript&&this.m_cueInfoScript.icon&&(this.m_icon||(this.m_icon=new n.UISprite),this.m_icon.bindScript(this.m_cueInfoScript.icon))},t.prototype.onUIMediatorUnInit=function(){this.m_icon&&(this.m_icon.dispose(),this.m_icon=null),this.m_cueInfoScript=null,e.prototype.onUIMediatorUnInit.call(this)},t.prototype.onUIMediatorPrepare=function(t,i){e.prototype.onUIMediatorPrepare.call(this,t,i),this.showNext(i)},t.prototype.onUIMediatorClose=function(t){e.prototype.onUIMediatorClose.call(this,t),this.m_drop=null},t.prototype.onUIMediatorRefresh=function(t){e.prototype.onUIMediatorRefresh.call(this,t),this.m_nextDrops.push(t)},t.prototype.onButtonClick=function(t){if(0!=t.indexOf("option_"))switch(t){case"next":var i=void 0;if(this.m_eventConfig.getOptionsCount()<=0){i=this.onGetDropBag(0);var o=void 0;this.m_groupConfig&&(o=this.m_groupConfig.getEventsCount()),a.ExpressDataController.Instance.handleAddUsedEvent(this.m_groupID,this.m_eventID,!1,o)}this.m_drop&&this.m_drop.fly(i),this.m_drop=null,this.hidePopup(),this.m_nextDrops.length>0?this.showNext(this.m_nextDrops.shift()):this.onClose();break;default:e.prototype.onButtonClick.call(this,t)}else{var n=parseInt(t.substring(7));this.onSelectOption(n)}},t.prototype.showNext=function(e){this.m_drop=e;var t=this.m_drop.getDropData();if(t?(this.m_groupID=t.getParameterAt(0),this.m_eventID=t.getParameterAt(1)):(this.m_groupID=0,this.m_eventID=0),this.hidePopup(),this.m_currentOptionIndexes.length>0&&this.m_currentOptionIndexes.splice(0,this.m_currentOptionIndexes.length),this.m_groupConfig=miniframe.Config.getData(o.ConfigKeyDefine.EXPRESS_EVENT_BAG,this.m_groupID),this.m_targetConfig=null,this.m_groupConfig&&(this.m_targetConfig=miniframe.Config.getData(o.ConfigKeyDefine.EXPRESS_TARGET,this.m_groupConfig.getTargetId())),this.m_targetConfig?(this.m_icon&&(this.m_icon.hookAtlasSprite(this.m_targetConfig.getFigureAt(0),this.m_targetConfig.getFigureAt(1)),this.m_icon.getNode().setPosition(new cc.Vec2(miniframe.toNumber(this.m_targetConfig.getFigureAt(2)),miniframe.toNumber(this.m_targetConfig.getFigureAt(3))))),this.m_cueInfoScript.titleLabel&&this.m_cueInfoScript.titleLabel.setLanguage(this.m_targetConfig.getNameLan())):(this.m_icon&&this.m_icon.clear(),this.m_cueInfoScript.titleLabel&&(this.m_cueInfoScript.titleLabel.string="")),this.m_eventConfig=miniframe.Config.getData(o.ConfigKeyDefine.EXPRESS_EVENT,this.m_eventID),this.m_eventConfig)if(this.m_cueInfoScript.contentLabel&&(this.m_cueInfoScript.contentLabel.string=this.m_eventConfig.getContent()),this.m_eventConfig.getOptionsCount()>0){this.m_cueInfoScript.optionNode&&(this.m_cueInfoScript.optionNode.active=!0);var i=miniframe.random.randomIn100()%2;this.m_currentOptionIndexes.push(0==i?0:1),this.m_currentOptionIndexes.push(0==i?1:0);for(var n=0,r=this.m_currentOptionIndexes.length,a=0;a<r;a++)n=this.m_currentOptionIndexes[a],a<this.m_cueInfoScript.optionLabels.length&&(this.m_cueInfoScript.optionLabels[a].string=this.m_eventConfig.getOptionsAt(n)),a<this.m_cueInfoScript.optionButtons.length&&(this.m_cueInfoScript.optionButtons[a].switchOnNode.active=!1,this.m_cueInfoScript.optionButtons[a].switchOffNode.active=!1);if(r<this.m_cueInfoScript.optionLabels.length){var s=this.m_cueInfoScript.optionLabels.length;for(a=r;a<s;a++)this.m_cueInfoScript.optionLabels[a].string=""}}else this.onSetAward(0),this.m_cueInfoScript.optionNode&&(this.m_cueInfoScript.optionNode.active=!1)},t.prototype.onSelectOption=function(e){if(this.m_eventConfig&&!(this.m_eventConfig.getOptionsCount()<=0||this.m_currentOptionIndexes.length<=0)){var t=this.m_currentOptionIndexes[e];this.onGetDropBag(t),this.onSetAward(t),this.showPopup(t,e);var i=void 0;this.m_groupConfig&&(i=this.m_groupConfig.getEventsCount()),a.ExpressDataController.Instance.handleAddUsedEvent(this.m_groupID,this.m_eventID,!1,i)}},t.prototype.onGetDropBag=function(e){if(!(e<0||e>=this.m_eventConfig.getDropbagCount())){var t=a.ExpressDataController.Instance.isEventGroupFull(this.m_groupID,this.m_groupConfig),i=t?this.m_eventConfig.getDropbagAt(e):this.m_eventConfig.getDropbagFirstAt(e),n=miniframe.Config.getData(o.ConfigKeyDefine.DROPBAG,i);if(n)return r.CharDataController.Instance.handleAddCharValues(n.getDrops()),t?n.getDropsAt(0).toVec2():void 0}},t.prototype.onSetAward=function(e){this.m_cueInfoScript.awardLabel&&(this.m_cueInfoScript.awardLabel.string=this.m_eventConfig.getAwardContentAt(e));for(var t=this.m_cueInfoScript.awardValueNodes.length,i=0;i<t;i++)this.m_cueInfoScript.awardValueNodes[i].active=!1;var n=this.m_eventConfig.getDropbagAt(e),r=miniframe.Config.getData(o.ConfigKeyDefine.DROPBAG,n);if(r){r.getDrops().sort(this.compareDropValue);var a=r.getDropsCount();for(i=0;i<a;i++)i<this.m_cueInfoScript.awardValueNodes.length&&(this.m_cueInfoScript.awardValueNodes[i].active=!0),i<this.m_cueInfoScript.awardValueLabels.length&&(this.m_cueInfoScript.awardValueLabels[i].string=r.getDropsAt(i).y+"")}else this.m_cueInfoScript.awardLabel.string=""},t.prototype.compareDropValue=function(e,t){return e.x-t.x},t.prototype.showPopup=function(e,t){this.m_cueInfoScript&&this.m_cueInfoScript.popupNode&&(this.m_cueInfoScript.popupNode.active=!0,this.m_eventConfig.getOptionsCount()>0&&(this.m_script&&this.m_script.viewAniComp&&(this.m_script.viewAniComp.stop(),this.m_script.viewAniComp.play("answer_award_show_"+(t+1))),t<this.m_cueInfoScript.optionButtons.length&&(this.m_cueInfoScript.optionButtons[t].switchOnNode.active=0==e,this.m_cueInfoScript.optionButtons[t].switchOffNode.active=0!=e)))},t.prototype.hidePopup=function(){this.m_cueInfoScript&&this.m_cueInfoScript.popupNode&&(this.m_cueInfoScript.popupNode.active=!1)},t.prototype.onDataControllerUpdate=function(){},t}(s.BusinessUIMediator);i.CueInfoUIMediator=l,cc._RF.pop()},{"../../../../Config/ConfigKeyDefine":"ConfigKeyDefine","../../../../Extension/UI/Sprite/UISprite":"UISprite","../../../Business/Control/CharDataController":"CharDataController","../../../Business/Control/ExpressDataController":"ExpressDataController","../../../Business/Define/WindowTypeDefine":"WindowTypeDefine","../Component/CueInfoUIScript":"CueInfoUIScript","../Define/BusinessUILayerDefine":"BusinessUILayerDefine","./BusinessUIMediator":"BusinessUIMediator"}],CueInfoUIScript:[function(e,t,i){"use strict";cc._RF.push(t,"a26599iH5pFz50FUxfvnH4m","CueInfoUIScript"),Object.defineProperty(i,"__esModule",{value:!0});var o=e("../../../../Extension/UI/Button/UIButtonScript"),n=e("../../../../Extension/UI/Label/UITextScript"),r=cc._decorator,a=r.ccclass,s=r.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.icon=null,t.titleLabel=null,t.contentLabel=null,t.awardLabel=null,t.awardValueNodes=[],t.awardValueLabels=[],t.optionNode=null,t.optionLabels=[],t.optionButtons=[],t.popupNode=null,t}return __extends(t,e),__decorate([s(cc.Sprite)],t.prototype,"icon",void 0),__decorate([s(n.default)],t.prototype,"titleLabel",void 0),__decorate([s(n.default)],t.prototype,"contentLabel",void 0),__decorate([s(n.default)],t.prototype,"awardLabel",void 0),__decorate([s([cc.Node])],t.prototype,"awardValueNodes",void 0),__decorate([s([n.default])],t.prototype,"awardValueLabels",void 0),__decorate([s(cc.Node)],t.prototype,"optionNode",void 0),__decorate([s([n.default])],t.prototype,"optionLabels",void 0),__decorate([s([o.default])],t.prototype,"optionButtons",void 0),__decorate([s(cc.Node)],t.prototype,"popupNode",void 0),__decorate([a],t)}(cc.Component);i.default=p,cc._RF.pop()},{"../../../../Extension/UI/Button/UIButtonScript":"UIButtonScript","../../../../Extension/UI/Label/UITextScript":"UITextScript"}],CurrentEventUIMediator:[function(e,t,i){"use strict";cc._RF.push(t,"41e06dzuWlEZ4caB0PNIgID","CurrentEventUIMediator"),Object.defineProperty(i,"__esModule",{value:!0}),i.CurrentEventUIMediator=void 0;var o=e("../../../../Extension/UI/Scroll/UIScrollScript"),n=e("../../../../Extension/UI/Scroll/UIScrollList"),r=e("../../../Business/Control/ConfigDataController"),a=e("../../../Business/Control/ItemDataController"),s=e("../../../Business/Define/ControlCodeDefine"),p=e("../../../Business/Define/ExpressEventTypeDefine"),u=e("../Basic/BusinessUIMediator"),c=e("../Define/BusinessUILayerDefine"),l=e("../View/EventListItemUIView"),d=e("../../../Business/Define/WindowTypeDefine"),f=function(e){function t(){var t=e.call(this,"CurrentEventUIMediator","PF_UI_CurrentEvent",c.BusinessUILayerDefine.UI,!1,!1,!0,!0,!0,d.WindowTypeDefine.Default)||this;return t.m_configs=null,t.m_scroll=null,t}return __extends(t,e),t.prototype.onUIMediatorInit=function(t,i){e.prototype.onUIMediatorInit.call(this,t,i);var r=t.getComponentInChildren(o.default);r&&(this.m_scroll=new n.UIScrollList(l.EventListItemUIView,this.getMediatorName()),this.m_scroll.bindScript(r))},t.prototype.onUIMediatorUnInit=function(){e.prototype.onUIMediatorUnInit.call(this)},t.prototype.onUIMediatorPrepare=function(t,i){e.prototype.onUIMediatorPrepare.call(this,t,i),this.m_configs||(this.m_configs=r.ConfigDataController.Instance.getExpressEventBagsByType(p.ExpressEventTypeDefine.Message)),this.m_scroll&&this.m_scroll.setDataList(this.m_configs),a.ItemDataController.Instance.addListener(this)},t.prototype.onUIMediatorOpen=function(t,i){e.prototype.onUIMediatorOpen.call(this,t,i),this.m_scroll&&this.m_scroll.scrollToTop()},t.prototype.onUIMediatorClose=function(t){e.prototype.onUIMediatorClose.call(this,t),a.ItemDataController.Instance.removeListener(this)},t.prototype.onButtonClick=function(t){e.prototype.onButtonClick.call(this,t)},t.prototype.compareItemDatas=function(e,t,i){for(var o=i.length,n=0;n<o;n++)if(i[n].getConfigID()==e.getAwardNeedItemID())return!0;return!1},t.prototype.onDataControllerUpdate=function(e,t){switch(e){case s.ControlCodeDefine.ItemListRemove:var i=t;this.m_scroll&&this.m_scroll.refreshDataListWith(this.compareItemDatas,i,!1)}},t}(u.BusinessUIMediator);i.CurrentEventUIMediator=f,cc._RF.pop()},{"../../../../Extension/UI/Scroll/UIScrollList":"UIScrollList","../../../../Extension/UI/Scroll/UIScrollScript":"UIScrollScript","../../../Business/Control/ConfigDataController":"ConfigDataController","../../../Business/Control/ItemDataController":"ItemDataController","../../../Business/Define/ControlCodeDefine":"ControlCodeDefine","../../../Business/Define/ExpressEventTypeDefine":"ExpressEventTypeDefine","../../../Business/Define/WindowTypeDefine":"WindowTypeDefine","../Basic/BusinessUIMediator":"BusinessUIMediator","../Define/BusinessUILayerDefine":"BusinessUILayerDefine","../View/EventListItemUIView":"EventListItemUIView"}],DropbagConfigData:[function(e,t,i){"use strict";cc._RF.push(t,"a12bdTp5XNCP7RvIQJhPDK6","DropbagConfigData"),Object.defineProperty(i,"__esModule",{value:!0}),i.DropbagConfigData=void 0;var o=function(){function e(e){this.m_data=null,this.m_drops=[],this.m_data=e,this.init()}return e.prototype.getId=function(){return this.m_data.getId()},e.prototype.getDrops=function(){return this.m_drops},e.prototype.getDropsCount=function(){return this.m_drops.length},e.prototype.getDropsAt=function(e){return e<0||e>=this.m_drops.length?null:this.m_drops[e]},e.prototype.getDropCount=function(){return this.m_data.getDropCount()},e.prototype.init=function(){this.m_drops=miniframe.Number3.parseListFrom(this.m_data.getDropsList())},e.prototype.getConfigKey=function(){return this.getId()},e}();i.DropbagConfigData=o,cc._RF.pop()},{}],EditorModeDefine:[function(e,t,i){"use strict";cc._RF.push(t,"105930qF/dJWZH7Sa+lOD66","EditorModeDefine"),Object.defineProperty(i,"__esModule",{value:!0}),i.EditorModeDefine=void 0,function(e){e[e.None=0]="None",e[e.Develop=1]="Develop",e[e.Standalone=2]="Standalone"}(i.EditorModeDefine||(i.EditorModeDefine={})),cc._RF.pop()},{}],EffectClip:[function(e,t,i){"use strict";cc._RF.push(t,"e75d7iniZpD1bhouI+Axd0B","EffectClip"),Object.defineProperty(i,"__esModule",{value:!0}),i.EffectClip=void 0;var o=e("../../Config/ConfigKeyDefine"),n=e("../Audio/AudioController"),r=e("./EffectController"),a=e("./EffectScript"),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.m_uid=0,t.m_script=null,t.m_effectID=0,t.m_effectConfig=null,t.m_props=null,t.m_isLoop=!1,t.m_duration=0,t.m_isPlaying=!1,t.m_timerID=void 0,t.m_audioID=0,t.m_effectCallback=null,t.m_effectCallbackTarget=null,t}return __extends(t,e),t.prototype.onInitNode=function(t){e.prototype.onInitNode.call(this,t),this.m_script=t?t.getComponent(a.default):null,this.m_isPlaying&&this.onPlayEffect()},t.prototype.onUnInitNode=function(t){this.m_script=null,e.prototype.onUnInitNode.call(this,t)},t.prototype.setUID=function(e){this.m_uid=e},t.prototype.getUID=function(){return this.m_uid},t.prototype.setEffect=function(e,t){void 0===t&&(t=null),this.m_effectID!=e&&(this.m_effectID=e,this.m_effectConfig=t||miniframe.Config.getData(o.ConfigKeyDefine.EFFECT,this.m_effectID),this.m_effectConfig?this.loadResource(this.m_effectConfig.getResource()):this.unloadResource())},t.prototype.getEffectID=function(){return this.m_effectID},t.prototype.getEffectCacheCount=function(){return this.m_effectConfig?this.m_effectConfig.getCacheCount():NaN},t.prototype.setProps=function(e){this.m_props=e},t.prototype.getProps=function(){return this.m_props},t.prototype.playEffect=function(e,t,i){return void 0===i&&(i=!0),!(!i&&this.m_isPlaying||(this.m_isPlaying=!0,this.m_effectCallback=e,this.m_effectCallbackTarget=t,this.onPlayEffect(),0))},t.prototype.stopEffect=function(e){null!=this.m_timerID&&(clearTimeout(this.m_timerID),this.m_timerID=void 0),e&&this.notify()},t.prototype.isDisposeOnComplete=function(){return this.m_script&&this.m_script.disposeOnComplete},t.prototype.reset=function(){null!=this.m_timerID&&(clearTimeout(this.m_timerID),this.m_timerID=void 0),this.m_audioID=0,this.m_isPlaying=!1,this.m_uid=0},t.prototype.notify=function(){if(this.m_effectCallback){var e=this.m_effectCallback,t=this.m_effectCallbackTarget;this.m_effectCallback=null,this.m_effectCallbackTarget=null,e.call(t,this)}},t.prototype.onPlayEffect=function(){var e=this;if(this.m_script){var t;if(this.m_isLoop=this.m_script.loop,this.m_duration=this.m_script.duration,""!=this.m_script.initHandler&&(t=r.EffectController.Instance.getEffectInitHandler(this.m_script.initHandler))&&t.onEffectInit(this.m_script.initHandler,this),this.m_script.animationComp&&(this.m_script.animationName&&""!=this.m_script.animationName||this.m_script.animationComp.defaultClip&&(this.m_script.animationName=this.m_script.animationComp.defaultClip.name),this.m_script.animationName&&""!=this.m_script.animationName)){var i=this.m_script.animationComp.getAnimationState(this.m_script.animationName);i&&(this.m_isLoop||(this.m_isLoop=i.wrapMode==cc.WrapMode.Loop||i.wrapMode==cc.WrapMode.LoopReverse||i.wrapMode==cc.WrapMode.PingPong||i.wrapMode==cc.WrapMode.PingPongReverse),0==this.m_duration&&(this.m_duration=1e3*i.duration))}if(this.m_script.mainParticle&&this.m_script.mainParticle.resetSystem(),this.m_script.animationComp&&this.m_script.animationComp.play(this.m_script.animationName),this.m_audioID=n.AudioController.Instance.playAudioAuto(this.m_script.audioID,this.m_script.audio),""!=this.m_script.playHandler&&(t=r.EffectController.Instance.getEffectPlayHandler(this.m_script.playHandler)))return void t.onEffectPlay(this.m_script.playHandler,this,function(){e.onCompleteEffect()});this.m_isLoop||(this.m_timerID=setTimeout(function(){e.onCompleteEffect()},this.m_duration))}},t.prototype.onCompleteEffect=function(){this.m_timerID=void 0,this.m_script&&(this.m_script.hideOnComplete&&this.hide(),this.m_script.stopAudioOnComplete&&(n.AudioController.Instance.stopAudio(this.m_audioID),this.m_audioID=0)),this.notify(),this.m_script&&this.m_script.disposeOnComplete&&this.dispose()},t}(miniframe.LazyNode);i.EffectClip=s,cc._RF.pop()},{"../../Config/ConfigKeyDefine":"ConfigKeyDefine","../Audio/AudioController":"AudioController","./EffectController":"EffectController","./EffectScript":"EffectScript"}],EffectConfigData:[function(e,t,i){"use strict";cc._RF.push(t,"e77ecIz3ahC+72pMRbpkzec","EffectConfigData"),Object.defineProperty(i,"__esModule",{value:!0}),i.EffectConfigData=void 0;var o=function(){function e(e){this.m_data=null,this.m_data=e,this.init()}return e.prototype.getId=function(){return this.m_data.getId()},e.prototype.getResource=function(){return this.m_data.getResource()},e.prototype.getAbreastCount=function(){return this.m_data.getAbreastCount()},e.prototype.getCacheCount=function(){return this.m_data.getCacheCount()},e.prototype.init=function(){},e.prototype.getConfigKey=function(){return this.getId()},e}();i.EffectConfigData=o,cc._RF.pop()},{}],EffectController:[function(e,t,i){"use strict";cc._RF.push(t,"fa02aB7W9tBYYIqA+U+1GuC","EffectController"),Object.defineProperty(i,"__esModule",{value:!0}),i.EffectController=void 0;var o=e("../../Config/ConfigKeyDefine"),n=e("./EffectClip"),r=function(){function e(){this.m_effectUIDCounter=0,this.m_busyEffectInsts={},this.m_busyEffectCallbacks={},this.m_busyEffectIDToUIDs={},this.m_freeEffects={},this.m_effectInitHandlers={},this.m_effectPlayHandlers={},e.ms_instance=this}return Object.defineProperty(e,"Instance",{get:function(){return e.ms_instance||new e},enumerable:!1,configurable:!0}),e.prototype.registerEffectInitHandler=function(e,t){this.m_effectInitHandlers[e]=t},e.prototype.getEffectInitHandler=function(e){return this.m_effectInitHandlers[e]},e.prototype.registerEffectPlayHandler=function(e,t){this.m_effectPlayHandlers[e]=t},e.prototype.getEffectPlayHandler=function(e){return this.m_effectPlayHandlers[e]},e.prototype.playEffect=function(e,t,i,r,a,s){void 0===r&&(r=null),void 0===a&&(a=null),void 0===s&&(s=null);var p=miniframe.Config.getData(o.ConfigKeyDefine.EFFECT,e);if(!p)return console.warn("missing effect config",e),0;var u=null;if(this.m_freeEffects[e]&&this.m_freeEffects[e].length>0)u=this.m_freeEffects[e].pop();else{var c=p.getAbreastCount();if(c>0&&this.m_busyEffectIDToUIDs[e]&&this.m_busyEffectIDToUIDs[e].length>=c){var l=this.m_busyEffectIDToUIDs[e].shift(),d=this.m_busyEffectInsts[l];d&&(delete this.m_busyEffectInsts[l],u=d)}}u||(u=new n.EffectClip),this.m_effectUIDCounter++;var f=this.m_effectUIDCounter;return u.setUID(f),u.setProps(s),u.setParent(t),u.setPosition(i),u.show(),u.loadResource(p.getResource()),this.m_busyEffectInsts[f]=u,r&&(this.m_busyEffectCallbacks[f]=new miniframe.Callback(r,a)),this.m_busyEffectIDToUIDs[e]?miniframe.safePush(this.m_busyEffectIDToUIDs[e],f):this.m_busyEffectIDToUIDs[e]=[f],u.playEffect(this.onEffectPlayComplete,this,!0),f},e.prototype.stopEffect=function(e){var t=this.m_busyEffectInsts[e];t&&(delete this.m_busyEffectInsts[e],delete this.m_busyEffectCallbacks[e],t.stopEffect(!0))},e.prototype.onEffectPlayComplete=function(e){var t=e.getUID(),i=e.getEffectID(),o=this.m_busyEffectCallbacks[t];if(delete this.m_busyEffectInsts[t],delete this.m_busyEffectCallbacks[t],this.m_busyEffectIDToUIDs[i]&&miniframe.safeRemove(this.m_busyEffectIDToUIDs[i],t),!e.isDisposeOnComplete()){var n=e.getEffectCacheCount();isNaN(n)?(e.dispose(),e=null):n>0&&this.m_freeEffects[i]&&this.m_freeEffects[i].length>=n&&(e.dispose(),e=null),e&&(e.reset(),e.setParent(null),e.hide(),this.m_freeEffects[i]?miniframe.safePush(this.m_freeEffects[i],e):this.m_freeEffects[i]=[e])}o&&o.invokeOnce()},e.ms_instance=null,e}();i.EffectController=r,cc._RF.pop()},{"../../Config/ConfigKeyDefine":"ConfigKeyDefine","./EffectClip":"EffectClip"}],EffectScript:[function(e,t,i){"use strict";cc._RF.push(t,"aed40+1EXpAj4ISXXEfY6uR","EffectScript"),Object.defineProperty(i,"__esModule",{value:!0});var o=cc._decorator,n=o.ccclass,r=o.property,a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.duration=0,t.animationComp=null,t.animationName="",t.mainParticle=null,t.loop=!1,t.hideOnComplete=!0,t.disposeOnComplete=!1,t.audio="",t.audioID=0,t.stopAudioOnComplete=!1,t.initHandler="",t.playHandler="",t}return __extends(t,e),__decorate([r(cc.Integer)],t.prototype,"duration",void 0),__decorate([r(cc.Animation)],t.prototype,"animationComp",void 0),__decorate([r(cc.String)],t.prototype,"animationName",void 0),__decorate([r(cc.ParticleSystem)],t.prototype,"mainParticle",void 0),__decorate([r(cc.Boolean)],t.prototype,"loop",void 0),__decorate([r(cc.Boolean)],t.prototype,"hideOnComplete",void 0),__decorate([r(cc.Boolean)],t.prototype,"disposeOnComplete",void 0),__decorate([r(cc.String)],t.prototype,"audio",void 0),__decorate([r(cc.Integer)],t.prototype,"audioID",void 0),__decorate([r(cc.Boolean)],t.prototype,"stopAudioOnComplete",void 0),__decorate([r(cc.String)],t.prototype,"initHandler",void 0),__decorate([r(cc.String)],t.prototype,"playHandler",void 0),__decorate([n],t)}(cc.Component);i.default=a,cc._RF.pop()},{}],EventContentItemUIViewScript:[function(e,t,i){"use strict";cc._RF.push(t,"2a59bvD2RFKHoN46mr7Ltcf","EventContentItemUIViewScript"),Object.defineProperty(i,"__esModule",{value:!0});var o=e("../../../../Extension/UI/Label/UITextScript"),n=e("../../../../Extension/UI/Item/ItemUIViewScript"),r=cc._decorator,a=r.ccclass,s=r.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.contentLabel=null,t.noticeNode=null,t}return __extends(t,e),__decorate([s(o.default)],t.prototype,"contentLabel",void 0),__decorate([s(cc.Node)],t.prototype,"noticeNode",void 0),__decorate([a],t)}(n.default);i.default=p,cc._RF.pop()},{"../../../../Extension/UI/Item/ItemUIViewScript":"ItemUIViewScript","../../../../Extension/UI/Label/UITextScript":"UITextScript"}],EventContentItemUIView:[function(e,t,i){"use strict";cc._RF.push(t,"b91aeFdPblNRb0wpYR6i/Sd","EventContentItemUIView"),Object.defineProperty(i,"__esModule",{value:!0}),i.EventContentItemUIView=void 0;var o=e("../../../../Config/ConfigKeyDefine"),n=e("../../../Business/Control/ExpressDataController"),r=e("../../../Business/Control/ConfigDataController"),a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.m_eventConfig=null,t.m_groupID=0,t.m_isActivated=!1,t.m_isNewEvent=!0,t}return __extends(t,e),t.prototype.onInitScript=function(){e.prototype.onInitScript.call(this)},t.prototype.onSetData=function(e,t,i){return i&&(this.m_groupID=0,this.m_eventConfig=null,this.m_isActivated=!1,this.m_isNewEvent=!0),t&&(i&&(this.m_groupID=r.ConfigDataController.Instance.getEventGroupID(t),this.m_eventConfig=miniframe.Config.getData(o.ConfigKeyDefine.EXPRESS_EVENT,t),e.contentLabel.string=this.m_eventConfig.getContent(),this.m_isNewEvent=n.ExpressDataController.Instance.isNewEvent(this.m_groupID,t),e.noticeNode&&(e.noticeNode.active=this.m_isNewEvent)),this.m_isActivated=n.ExpressDataController.Instance.isEventGroupFull(this.m_groupID,null)||n.ExpressDataController.Instance.isEventUsed(this.m_groupID,t,!0),this.m_isActivated&&this.m_isNewEvent&&(this.m_isNewEvent=n.ExpressDataController.Instance.isNewEvent(this.m_groupID,t),e.noticeNode&&(e.noticeNode.active=this.m_isNewEvent))),this.m_isActivated},t.prototype.onButtonClick=function(t){e.prototype.onButtonClick.call(this,t)},t}(e("../Basic/BusinessItemUIView").BusinessItemUIView);i.EventContentItemUIView=a,cc._RF.pop()},{"../../../../Config/ConfigKeyDefine":"ConfigKeyDefine","../../../Business/Control/ConfigDataController":"ConfigDataController","../../../Business/Control/ExpressDataController":"ExpressDataController","../Basic/BusinessItemUIView":"BusinessItemUIView"}],EventContentUIMediator:[function(e,t,i){"use strict";cc._RF.push(t,"2f0c6b0sB5IWrwQvV300Hd2","EventContentUIMediator"),Object.defineProperty(i,"__esModule",{value:!0}),i.EventContentUIMediator=void 0;var o=e("../../../../Config/ConfigKeyDefine"),n=e("../../../../Extension/UI/Scroll/UIScrollScript"),r=e("../../../../Extension/UI/Scroll/UIScrollList"),a=e("../../../../Extension/UI/Sprite/UISprite"),s=e("../../../Business/Control/ConfigDataController"),p=e("../../../Business/Control/ExpressDataController"),u=e("../../../Business/Control/ItemDataController"),c=e("../../../Business/Define/ItemPackTypeDefine"),l=e("../Basic/BusinessUIMediator"),d=e("../Component/EventContentUIScript"),f=e("../Define/BusinessUILayerDefine"),g=e("../View/EventContentItemUIView"),m=e("../../../Business/Define/WindowTypeDefine"),h=function(e){function t(){var t=e.call(this,"EventContentUIMediator","PF_UI_EventContent",f.BusinessUILayerDefine.UI,!1,!1,!0,!0,!0,m.WindowTypeDefine.Default)||this;return t.m_eventContentScript=null,t.m_icon=null,t.m_half=null,t.m_eventBagConfig=null,t.m_eventV2=null,t.m_scroll=null,t}return __extends(t,e),t.prototype.onUIMediatorInit=function(t,i){e.prototype.onUIMediatorInit.call(this,t,i),this.m_eventContentScript=t?t.getComponent(d.default):null,this.m_eventContentScript&&(this.m_eventContentScript.icon&&(this.m_icon||(this.m_icon=new a.UISprite),this.m_icon.bindScript(this.m_eventContentScript.icon)),this.m_eventContentScript.half&&(this.m_half||(this.m_half=new a.UISprite),this.m_half.bindScript(this.m_eventContentScript.half)));var o=t.getComponentInChildren(n.default);o&&(this.m_scroll=new r.UIScrollList(g.EventContentItemUIView,this.getMediatorName()),this.m_scroll.bindScript(o))},t.prototype.onUIMediatorUnInit=function(){this.m_icon&&(this.m_icon.dispose(),this.m_icon=null),this.m_half&&(this.m_half.dispose(),this.m_half=null),this.m_eventContentScript=null,e.prototype.onUIMediatorUnInit.call(this)},t.prototype.onUIMediatorPrepare=function(t,i){if(e.prototype.onUIMediatorPrepare.call(this,t,i),this.m_eventBagConfig=i,this.m_eventV2=null,this.m_eventBagConfig){this.m_eventV2=s.ConfigDataController.Instance.getCombineItemNeeeds(this.m_eventBagConfig.getAwardId());var n=this.m_eventV2?u.ItemDataController.Instance.getItemCountByConfigID(c.ItemPackTypeDefine.Default,this.m_eventV2.x):0,r=this.m_eventV2?this.m_eventV2.y:0;if(this.m_eventContentScript){this.m_eventContentScript.countLabel&&this.m_eventContentScript.countLabel.setLanguageFormat(this.m_eventContentScript.countLabel.lanValue,n,r),this.m_eventContentScript.titleLabel&&this.m_eventContentScript.titleLabel.setLanguage(this.m_eventBagConfig.getTitleLan());var a=miniframe.Config.getData(o.ConfigKeyDefine.EXPRESS_TARGET,this.m_eventBagConfig.getTargetId());a?(this.m_eventContentScript.targetLabel&&this.m_eventContentScript.targetLabel.setLanguage(a.getNameLan()),this.m_half&&(this.m_half.hookAtlasSprite(a.getFigureAt(0),a.getFigureAt(1)),this.m_half.getNode().setPosition(new cc.Vec2(miniframe.toNumber(a.getFigureAt(2)),miniframe.toNumber(a.getFigureAt(3)))))):(this.m_eventContentScript.targetLabel&&(this.m_eventContentScript.targetLabel.string=""),this.m_half&&this.m_half.clear());var p=miniframe.Config.getData(o.ConfigKeyDefine.ITEM_INFO,this.m_eventBagConfig.getAwardId());p?(this.m_eventContentScript.awardLabel&&this.m_eventContentScript.awardLabel.setLanguage(p.getNameLan()),this.m_icon&&(this.m_icon.hookAtlasSprite(p.getIconAt(0),p.getIconAt(1)),this.m_icon.getNode().setPosition(new cc.Vec2(miniframe.toNumber(p.getIconAt(2)),miniframe.toNumber(p.getIconAt(3)))))):(this.m_eventContentScript.awardLabel&&(this.m_eventContentScript.awardLabel.string=""),this.m_icon&&this.m_icon.clear())}this.m_scroll&&this.m_scroll.setDataList(this.m_eventBagConfig.getEvents())}},t.prototype.onUIMediatorOpen=function(t,i){e.prototype.onUIMediatorOpen.call(this,t,i),this.m_scroll&&this.m_scroll.scrollToTop()},t.prototype.onUIMediatorClose=function(t){e.prototype.onUIMediatorClose.call(this,t),this.m_eventBagConfig&&p.ExpressDataController.Instance.clearNewEvents(this.m_eventBagConfig.getId())},t.prototype.onButtonClick=function(t){e.prototype.onButtonClick.call(this,t)},t.prototype.onDataControllerUpdate=function(){},t}(l.BusinessUIMediator);i.EventContentUIMediator=h,cc._RF.pop()},{"../../../../Config/ConfigKeyDefine":"ConfigKeyDefine","../../../../Extension/UI/Scroll/UIScrollList":"UIScrollList","../../../../Extension/UI/Scroll/UIScrollScript":"UIScrollScript","../../../../Extension/UI/Sprite/UISprite":"UISprite","../../../Business/Control/ConfigDataController":"ConfigDataController","../../../Business/Control/ExpressDataController":"ExpressDataController","../../../Business/Control/ItemDataController":"ItemDataController","../../../Business/Define/ItemPackTypeDefine":"ItemPackTypeDefine","../../../Business/Define/WindowTypeDefine":"WindowTypeDefine","../Basic/BusinessUIMediator":"BusinessUIMediator","../Component/EventContentUIScript":"EventContentUIScript","../Define/BusinessUILayerDefine":"BusinessUILayerDefine","../View/EventContentItemUIView":"EventContentItemUIView"}],EventContentUIScript:[function(e,t,i){"use strict";cc._RF.push(t,"527a06xfzlHIruWWZKzq3Ri","EventContentUIScript"),Object.defineProperty(i,"__esModule",{value:!0});var o=e("../../../../Extension/UI/Label/UITextScript"),n=cc._decorator,r=n.ccclass,a=n.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.icon=null,t.half=null,t.titleLabel=null,t.targetLabel=null,t.countLabel=null,t.awardLabel=null,t}return __extends(t,e),__decorate([a(cc.Sprite)],t.prototype,"icon",void 0),__decorate([a(cc.Sprite)],t.prototype,"half",void 0),__decorate([a(o.default)],t.prototype,"titleLabel",void 0),__decorate([a(o.default)],t.prototype,"targetLabel",void 0),__decorate([a(o.default)],t.prototype,"countLabel",void 0),__decorate([a(o.default)],t.prototype,"awardLabel",void 0),__decorate([r],t)}(cc.Component);i.default=s,cc._RF.pop()},{"../../../../Extension/UI/Label/UITextScript":"UITextScript"}],EventListItemUIViewScript:[function(e,t,i){"use strict";cc._RF.push(t,"a8490IHQm5Bxa3dAJRacMMQ","EventListItemUIViewScript"),Object.defineProperty(i,"__esModule",{value:!0});var o=e("../../../../Extension/UI/Label/UITextScript"),n=e("../../../../Extension/UI/Item/ItemUIViewScript"),r=cc._decorator,a=r.ccclass,s=r.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.icon=null,t.titleLabel=null,t.countLabel=null,t.awardLabel=null,t.doingNode=null,t.canGoNode=null,t.finishNode=null,t.noticeNode=null,t}return __extends(t,e),__decorate([s(cc.Sprite)],t.prototype,"icon",void 0),__decorate([s(o.default)],t.prototype,"titleLabel",void 0),__decorate([s(o.default)],t.prototype,"countLabel",void 0),__decorate([s(o.default)],t.prototype,"awardLabel",void 0),__decorate([s(cc.Node)],t.prototype,"doingNode",void 0),__decorate([s(cc.Node)],t.prototype,"canGoNode",void 0),__decorate([s(cc.Node)],t.prototype,"finishNode",void 0),__decorate([s(cc.Node)],t.prototype,"noticeNode",void 0),__decorate([a],t)}(n.default);i.default=p,cc._RF.pop()},{"../../../../Extension/UI/Item/ItemUIViewScript":"ItemUIViewScript","../../../../Extension/UI/Label/UITextScript":"UITextScript"}],EventListItemUIView:[function(e,t,i){"use strict";cc._RF.push(t,"f738e6dTRNP5pcP50xsbO5n","EventListItemUIView"),Object.defineProperty(i,"__esModule",{value:!0}),i.EventListItemUIView=void 0;var o=e("../../../../Config/ConfigKeyDefine"),n=e("../../../../Extension/UI/Sprite/UISprite"),r=e("../../../Business/Control/ConfigDataController"),a=e("../../../Business/Control/ExpressDataController"),s=e("../../../Business/Control/ItemDataController"),p=e("../../../Business/Define/ItemPackTypeDefine"),u=e("../../../MiniGame"),c=e("../../MediatorNameDefine"),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.m_icon=null,t.m_awardItemConfig=null,t.m_awardV2=null,t.m_isFull=!1,t.m_isComplete=!1,t.m_guideInited=!1,t}return __extends(t,e),t.prototype.onInitScript=function(){e.prototype.onInitScript.call(this);var t=this.getScript();t&&t.icon&&(this.m_icon||(this.m_icon=new n.UISprite),this.m_icon.bindScript(t.icon))},t.prototype.onSetData=function(t,i,n){if(n&&(t.noticeNode&&(t.noticeNode.active=!1),this.m_awardItemConfig=null,this.m_awardV2=null,this.m_isFull=!1,this.m_isComplete=!1),i){if(n&&(this.initGuide(),t.titleLabel&&t.titleLabel.setLanguage(i.getTitleLan()),this.m_awardItemConfig=miniframe.Config.getData(o.ConfigKeyDefine.ITEM_INFO,i.getAwardId()),this.m_awardV2=r.ConfigDataController.Instance.getCombineItemNeeeds(i.getAwardId()),this.m_awardItemConfig?(t.awardLabel&&t.awardLabel.setLanguage(this.m_awardItemConfig.getNameLan()),this.m_icon&&(this.m_icon.hookAtlasSprite(this.m_awardItemConfig.getIconAt(0),this.m_awardItemConfig.getIconAt(1)),this.m_icon.getNode().setPosition(new cc.Vec2(miniframe.toNumber(this.m_awardItemConfig.getIconAt(2)),miniframe.toNumber(this.m_awardItemConfig.getIconAt(3)))))):(t.awardLabel&&(t.awardLabel.string=""),this.m_icon&&this.m_icon.clear())),this.m_isComplete=s.ItemDataController.Instance.getItemCountByConfigID(p.ItemPackTypeDefine.Default,i.getAwardId())>0,this.m_isComplete){var u=this.m_awardV2?this.m_awardV2.y:0;return t.countLabel&&t.countLabel.setLanguageFormat(t.countLabel.lanValue,u,u),t.noticeNode&&(t.noticeNode.active=!1),t.canGoNode&&(t.canGoNode.active=!1),t.finishNode&&(t.finishNode.active=!1),t.doingNode&&(t.doingNode.active=!1),!1}t.noticeNode&&(t.noticeNode.active=a.ExpressDataController.Instance.hasNewEvent(i.getId()));var c=this.m_awardV2?s.ItemDataController.Instance.getItemCountByConfigID(p.ItemPackTypeDefine.Default,this.m_awardV2.x):0;return u=this.m_awardV2?this.m_awardV2.y:0,t.countLabel&&t.countLabel.setLanguageFormat(t.countLabel.lanValue,c,u),this.m_isFull=u>0&&c>=u,this.m_isFull?(t.noticeNode&&(t.noticeNode.active=!1),t.canGoNode&&(t.canGoNode.active=!0),t.finishNode&&(t.finishNode.active=!1),t.doingNode&&(t.doingNode.active=!1)):(t.canGoNode&&(t.canGoNode.active=!1),t.finishNode&&(t.finishNode.active=!1),t.doingNode&&(t.doingNode.active=!0)),c>0}return n&&this.uninitGuide(),t.canGoNode&&(t.canGoNode.active=!1),t.finishNode&&(t.finishNode.active=!1),t.doingNode&&(t.doingNode.active=!1),e.prototype.onSetData.call(this,t,i,n)},t.prototype.onButtonClick=function(t){switch(t){case"check":if(!this.getData())return;u.MiniGame.MVC.openMediator(c.MediatorNameDefine.EventContentUIMediator,this.getData());var i=this.getScript();i&&i.noticeNode&&(i.noticeNode.active=!1);break;case"go":if(!this.m_isFull)return;if(this.m_isComplete)return;if(!this.m_awardV2)return;u.MiniGame.MVC.openMediator(c.MediatorNameDefine.Game1UIMediator,this.m_awardV2.x);break;default:e.prototype.onButtonClick.call(this,t)}},t.prototype.onButtonInit=function(){},t.prototype.onButtonUnInit=function(){this.uninitGuide()},t.prototype.initGuide=function(){if(!this.m_guideInited){this.m_guideInited=!0;var e=this.getButton("go");u.MiniGame.Guide.addButton(this.getMediatorName(),this.getItemButtonKey(),e?e.getNode():this.getNode())}},t.prototype.uninitGuide=function(){this.m_guideInited&&(this.m_guideInited=!1,u.MiniGame.Guide.removeButton(this.getMediatorName(),this.getItemButtonKey()))},t.prototype.getAwardNeedItemID=function(){return this.m_awardV2?this.m_awardV2.x:0},t.prototype.getRealButtonKey=function(e){return this.getData()&&e&&"go"==e.getButtonKey()?this.getItemButtonKey():""},t.prototype.getItemButtonKey=function(){return t.ButtonKeyPrefix+this.getData().getId()},t.ButtonKeyPrefix="eventitem_",t}(e("../Basic/BusinessItemUIView").BusinessItemUIView);i.EventListItemUIView=l,cc._RF.pop()},{"../../../../Config/ConfigKeyDefine":"ConfigKeyDefine","../../../../Extension/UI/Sprite/UISprite":"UISprite","../../../Business/Control/ConfigDataController":"ConfigDataController","../../../Business/Control/ExpressDataController":"ExpressDataController","../../../Business/Control/ItemDataController":"ItemDataController","../../../Business/Define/ItemPackTypeDefine":"ItemPackTypeDefine","../../../MiniGame":"MiniGame","../../MediatorNameDefine":"MediatorNameDefine","../Basic/BusinessItemUIView":"BusinessItemUIView"}],ExpressAreaConfigData:[function(e,t,i){"use strict";cc._RF.push(t,"c2745lGP/RI6Jw5EL7HNnIP","ExpressAreaConfigData"),Object.defineProperty(i,"__esModule",{value:!0}),i.ExpressAreaConfigData=void 0;var o=function(){function e(e){this.m_data=null,this.m_conditions=[],this.m_data=e,this.init()}return e.prototype.getId=function(){return this.m_data.getId()},e.prototype.getNameLan=function(){return this.m_data.getNameLan()},e.prototype.getConditions=function(){return this.m_conditions},e.prototype.getConditionsCount=function(){return this.m_conditions.length},e.prototype.getConditionsAt=function(e){return e<0||e>=this.m_conditions.length?null:this.m_conditions[e]},e.prototype.getResource=function(){return this.m_data.getResource()},e.prototype.init=function(){this.m_conditions=miniframe.Number3.parseListFrom(this.m_data.getConditionsList())},e.prototype.getConfigKey=function(){return this.getId()},e}();i.ExpressAreaConfigData=o,cc._RF.pop()},{}],ExpressAreaData:[function(e,t,i){"use strict";cc._RF.push(t,"370d6ePs9VF6otA10ZLOhjq","ExpressAreaData"),Object.defineProperty(i,"__esModule",{value:!0}),i.ExpressAreaData=void 0;var o=e("../Control/ExpressDataController"),n=function(){function e(){this.m_areaID=0,this.m_cityIDs=[],this.m_taskRate={}}return e.prototype.setAreaID=function(e){this.m_areaID=e},e.prototype.getAreaID=function(){return this.m_areaID},e.prototype.addCityID=function(e){-1==this.m_cityIDs.indexOf(e)&&this.m_cityIDs.push(e)},e.prototype.getTaskRate=function(e){this.m_taskRate[e]=0;for(var t=this.m_cityIDs.length,i=0;i<t;i++)this.m_taskRate[e]+=o.ExpressDataController.Instance.getCityTaskRate(this.m_cityIDs[i],e);return this.m_taskRate[e]},e}();i.ExpressAreaData=n,cc._RF.pop()},{"../Control/ExpressDataController":"ExpressDataController"}],ExpressAreaLayerDefine:[function(e,t,i){"use strict";cc._RF.push(t,"e2cb3UYK5ZLnaj6545XQ4NC","ExpressAreaLayerDefine"),Object.defineProperty(i,"__esModule",{value:!0}),i.ExpressAreaLayerDefine=void 0,function(e){e[e.Background=0]="Background",e[e.Middle=1]="Middle",e[e.Dynamic=2]="Dynamic",e[e.Front=3]="Front",e[e.Touch=4]="Touch",e[e.UI=5]="UI",e[e.Tips=6]="Tips",e[e.DropScene=7]="DropScene",e[e.DropUI=8]="DropUI",e[e.Effect=9]="Effect"}(i.ExpressAreaLayerDefine||(i.ExpressAreaLayerDefine={})),cc._RF.pop()},{}],ExpressAreaScript:[function(e,t,i){"use strict";cc._RF.push(t,"d95695RsU5IkoS31jAaEuqE","ExpressAreaScript"),Object.defineProperty(i,"__esModule",{value:!0});var o=cc._decorator,n=o.ccclass,r=o.property,a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.locNode=null,t.monsterLocNode=null,t.routeNode=null,t.layerNodes=[],t}return __extends(t,e),__decorate([r(cc.Node)],t.prototype,"locNode",void 0),__decorate([r(cc.Node)],t.prototype,"monsterLocNode",void 0),__decorate([r(cc.Node)],t.prototype,"routeNode",void 0),__decorate([r([cc.Node])],t.prototype,"layerNodes",void 0),__decorate([n],t)}(cc.Component);i.default=a,cc._RF.pop()},{}],ExpressArea:[function(e,t,i){"use strict";cc._RF.push(t,"3b3eeo2GJBKsbNUTHDGERa9","ExpressArea"),Object.defineProperty(i,"__esModule",{value:!0}),i.ExpressArea=void 0;var o=e("../../../../Config/ConfigKeyDefine"),n=e("../../../Business/Control/CharDataController"),r=e("../../../Business/Control/ConfigDataController"),a=e("../../../Business/Control/CopyDataController"),s=e("../../../Business/Control/ExpressDataController"),p=e("../../../Business/Control/GuideDataController"),u=e("../../../Business/Control/StayStateController"),c=e("../../../Business/Control/TaskDataController"),l=e("../../../Business/Define/AttrTypeDefine"),d=e("../../../Business/Define/ConditionTypeDefine"),f=e("../../../Business/Define/ExpressEventTypeDefine"),g=e("../../../Business/Define/ExpressTaskParameterDefine"),m=e("../../../Business/Define/SystemIDDefine"),h=e("../../../Business/Define/TaskTypeDefine"),_=e("../../../Business/Define/ValueTypeDefine"),y=e("../../../MiniGame"),C=e("../../../Module/Business/Define/BusinessNotificationDefine"),I=e("../../../Module/Core/Control/CoreConsts"),D=e("../../../Module/MediatorNameDefine"),v=e("../../Sequence/SequenceController"),S=e("../Component/ExpressAreaScript"),b=e("../Component/ExpressRouteScript"),T=e("../Data/ExpressDropData"),P=e("../Define/ExpressAreaLayerDefine"),M=e("../Define/ExpressDropTypeDefine"),E=e("../ExpressWorld"),B=e("./ExpressCity"),L=e("./ExpressCityBenefitInfo"),w=e("./ExpressCityTips"),A=e("./ExpressCityTitle"),U=e("./ExpressMonster"),x=e("./ExpressObject"),N=e("./ExpressResources"),k=e("./ExpressRoute"),F=e("./ExpressTrade"),R=function(){function e(){this.uid=0,this.state=0,this.node=null,this.childNode=null,e.ms_uidCounter++,this.uid=e.ms_uidCounter}return e.prototype.updateState=function(){this.node&&(this.state>0?(this.node.active=!0,this.childNode&&(1==this.state?(this.childNode.color=I.CoreConsts.RoadDisableColor,this.childNode.opacity=I.CoreConsts.RoadDisableOpacity):2==this.state?(this.childNode.color=I.CoreConsts.RoadCanActiveColor,this.childNode.opacity=I.CoreConsts.RoadCanActiveOpacity):(this.state,this.childNode.color=I.CoreConsts.RoadNormalColor,this.childNode.opacity=I.CoreConsts.RoadNormalOpacity))):this.node.active=!1)},e.ms_uidCounter=0,e}(),G=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.m_script=null,t.m_locs={},t.m_monsterLocs={},t.m_routes={},t.m_innerRoutes={},t.m_connections={},t.m_routeToVisualUIDs={},t.m_routeVisuals={},t.m_dropSceneLayer=null,t.m_dropSceneLimitRange=new cc.Vec4,t.m_resizeLayers=[],t.m_touchLayer=null,t.m_areaConfig=null,t.m_cities={},t.m_activatedCities=[],t.m_trades={},t.m_taskTrades={},t.m_dropItems=[],t.m_benefitItems={},t.m_titleItems={},t.m_tipsItems={},t.m_taskItems={},t.m_taskSortGroup={},t.m_waitCommitTaskUIDs=[],t.m_monsterItems={},t.m_waitActiveCityID=0,t.m_touchEnabled=!1,t.m_touchLocked=!1,t.m_touchMode=0,t.m_lastTouchPoint=null,t.m_lastTouchDistance=0,t.m_moveDist=0,t}return __extends(t,e),t.prototype.onInitNode=function(t){e.prototype.onInitNode.call(this,t),this.m_script=t?t.getComponent(S.default):null;var i=this.m_script.routeNode;if(i)for(var o=null,n=null,r=i.children.length,a=0;a<r;a++)o=i.children[a],(n=new k.ExpressRoute).parseFrom(o),this.m_routes[n.getKey()]=n,this.addCityConnection(n.getFrom(),n.getTo()),this.addCityRouteVisual(n.getFrom(),n.getTo(),o);var s=this.m_script.locNode;if(s){var p=null,u=0,c=null;for(r=s.children.length,a=0;a<r;a++)u=parseInt(s.children[a].name),c=s.children[a],this.m_locs[u]=c,p=c.getChildByName("center"),this.addCityInnerRouteByConnections(u,p||c)}var l=this.m_script.monsterLocNode;if(l){var d=null,f=null,g=null,m=0,h=0;for(r=l.children.length,a=0;a<r;a++){for(m=(d=(g=l.children[a]).name.split("_")).length>0?miniframe.toNumber(d[0]):0,h=d.length>0?miniframe.toNumber(d[1]):0,(f=this.m_monsterLocs[m])||(f=[],this.m_monsterLocs[m]=f);h>=f.length;)f.push(null);f[h]=g}}var _=this.getLayNode(P.ExpressAreaLayerDefine.Dynamic);if(_){var C=null;for(r=_.childrenCount,a=0;a<r;a++)(C=new x.ExpressObject).bindNode(_.children[a]),C.setSequenceStatic(!0),console.info("add static object",C.getNode().name),v.SequenceController.Instance.addElement(this.getAreaID(),C)}this.m_dropSceneLayer=this.getLayNode(P.ExpressAreaLayerDefine.DropScene);var I=this.m_dropSceneLayer?this.m_dropSceneLayer.getComponent(cc.Widget):null;I&&(this.m_dropSceneLimitRange.x=I.left,this.m_dropSceneLimitRange.y=I.top,this.m_dropSceneLimitRange.z=I.right,this.m_dropSceneLimitRange.w=I.bottom,I.destroy(),I=null);var D=this.m_dropSceneLayer;D&&this.m_resizeLayers.push(D),(D=this.getLayNode(P.ExpressAreaLayerDefine.DropUI))&&this.m_resizeLayers.push(D),(D=this.getLayNode(P.ExpressAreaLayerDefine.Tips))&&this.m_resizeLayers.push(D),this.m_touchLayer=this.getLayNode(P.ExpressAreaLayerDefine.Touch),this.m_touchLayer&&(this.m_touchLayer.width=y.MiniGame.Instance.getCanvasWidth(),this.m_touchLayer.height=y.MiniGame.Instance.getCanvasHeight(),this.m_touchLayer.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.m_touchLayer.on(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this),this.m_touchLayer.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this.m_touchLayer.on(cc.Node.EventType.TOUCH_CANCEL,this.onTouchEnd,this),cc.sys.platform==cc.sys.DESKTOP_BROWSER&&(this.m_touchLayer.on(cc.Node.EventType.MOUSE_WHEEL,this.onMouseWheel,this),this.m_touchLayer.on(cc.Node.EventType.MOUSE_UP,this.onMouseUp,this))),E.ExpressWorld.Instance.addCameraListener(this),this.onFlush()},t.prototype.onUnInitNode=function(t){for(var i in E.ExpressWorld.Instance.removeCameraListener(this),this.m_touchLayer&&(this.m_touchLayer.off(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.m_touchLayer.off(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this),this.m_touchLayer.off(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this.m_touchLayer.off(cc.Node.EventType.TOUCH_CANCEL,this.onTouchEnd,this),cc.sys.platform==cc.sys.DESKTOP_BROWSER&&(this.m_touchLayer.off(cc.Node.EventType.MOUSE_WHEEL,this.onMouseWheel,this),this.m_touchLayer.off(cc.Node.EventType.MOUSE_UP,this.onMouseUp,this))),this.m_benefitItems)this.m_benefitItems[i].dispose();for(var i in this.m_titleItems)this.m_titleItems[i].dispose();for(var i in this.m_tipsItems)this.m_tipsItems[i].dispose();for(var i in this.m_taskItems)this.m_taskItems[i].dispose();for(var i in this.m_benefitItems={},this.m_titleItems={},this.m_tipsItems={},this.m_taskItems={},this.m_locs={},this.m_monsterLocs={},this.m_routes={},this.m_innerRoutes={},this.m_connections={},this.m_cities)this.m_cities[i].dispose();this.m_cities={},this.m_activatedCities.splice(0,this.m_activatedCities.length),this.m_dropSceneLayer=null,this.m_dropSceneLimitRange.x=0,this.m_dropSceneLimitRange.y=0,this.m_dropSceneLimitRange.z=0,this.m_dropSceneLimitRange.w=0,this.m_resizeLayers.splice(0,this.m_resizeLayers.length),this.m_touchLayer=null,this.m_script=null,e.prototype.onUnInitNode.call(this,t)},t.prototype.setAreaConfig=function(e){this.m_areaConfig=e},t.prototype.getAreaID=function(){return this.m_areaConfig?this.m_areaConfig.getId():0},t.prototype.flush=function(){this.m_areaConfig&&this.loadResource(this.m_areaConfig.getResource()),this.onFlush()},t.prototype.addChild=function(e,t){if(void 0===t&&(t=0),e){var i=this.getLayNode(t);i&&e.getParent()!=i&&(e.getParent()&&e.removeFromParent(!1),i.addChild(e))}},t.prototype.addLazyChild=function(e,t){void 0===t&&(t=0),e&&e.setParent(this.getLayNode(t))},t.prototype.getLayNode=function(e){return this.m_script?e<0||e>=this.m_script.layerNodes.length?null:this.m_script.layerNodes[e]:null},t.prototype.toAreaPositionByParent=function(e){if(!e)return cc.Vec2.ZERO;var t=this.pickAreaPosition(e),i=this.getLayNode(P.ExpressAreaLayerDefine.Dynamic);return i?miniframe.add(t,i.getPosition()):t},t.prototype.pickAreaPosition=function(e,t){return void 0===t&&(t=void 0),e?(null==t&&(t=e.getPosition()),e.getParent()==this.getNode()?t:(t=miniframe.add(t,e.getParent().getPosition()),this.pickAreaPosition(e.getParent(),t))):t},t.prototype.toAreaPosition=function(e){return y.MiniGame.Instance.toLocalPosition(this.getNode(),e,E.ExpressWorld.Instance.getCameraRatio())},t.prototype.getMonsterByTouchPoint=function(e){for(var t in this.m_monsterItems)if(this.m_monsterItems[t].containsPoint(e))return this.m_monsterItems[t];return null},t.prototype.getTradeByTouchPoint=function(e){for(var t in this.m_taskTrades)if(this.m_taskTrades[t].containsPoint(e))return this.m_taskTrades[t];return null},t.prototype.getCityByTouchPoint=function(e){for(var t in this.m_cities)if(this.m_cities[t].containsPoint(e))return this.m_cities[t];return null},t.prototype.getCityConnections=function(e){return this.m_connections[e]},t.prototype.refreshCity=function(e){var t=this.m_cities[e];if(t){var i=t.isActivated(),o=t.canActive();t.refresh(),i||i==t.isActivated()?!o&&t.canActive()&&this.onCityCanActive(t.getCityID()):this.onCityActivated(t.getCityID())}},t.prototype.activeCity=function(e,t){var i=this;void 0===t&&(t=!0),this.m_waitActiveCityID=0;var o=this.m_cities[e];o&&(t?(E.ExpressWorld.Instance.blockEvent(),this.m_waitActiveCityID=e,y.MiniGame.Effect.playEffect(2,this.getLayNode(P.ExpressAreaLayerDefine.Effect),o.getPosition(),function(){i.onCityActiveAniStart(e,o.getCityConfig())},this)):this.onCityActiveAniStart(e,o.getCityConfig()));var n=!1;for(var r in this.m_cities)this.m_cities[r].getCityID()!=e&&(this.m_cities[r].isActivated()||(n=this.m_cities[r].canActive(),this.m_cities[r].refresh(),this.m_cities[r].isActivated()?this.onCityActivated(this.m_cities[r].getCityID()):!n&&this.m_cities[r].canActive()&&this.onCityCanActive(this.m_cities[r].getCityID())));for(var r in this.m_taskItems)this.m_taskItems[r].refreshTask();for(var r in this.m_taskTrades)this.m_taskTrades[r].checkLock()},t.prototype.refreshCityStar=function(e){var t=this.m_cities[e];t&&(t.refreshStar(),y.MiniGame.Effect.playEffect(3,this.getLayNode(P.ExpressAreaLayerDefine.Effect),t.getPosition(),function(){s.ExpressDataController.Instance.handleCityExpressTargetUpdate(e)},this))},t.prototype.refreshCityTasks=function(e){var t=this.m_taskSortGroup[e];if(t&&!t.length)for(var i=null,o=t.length,n=0;n<o;n++)(i=this.m_taskItems[t[n]])&&i.refreshTask()},t.prototype.addCityCanAcceptTask=function(e,t){var i=c.TaskDataController.Instance.getTaskData(h.TaskTypeDefine.Trade,t);i&&(i.getParameterAt(g.ExpressTaskParameterDefine.EventTrigger)>0?y.MiniGame.Audio.playAudio(65):y.MiniGame.Audio.playAudio(64),this.addTaskItem(t,e))},t.prototype.removeCityCanAcceptTask=function(e){this.removeTaskItem(e)},t.prototype.addCityDoingTask=function(e){this.createTaskTrade(e)},t.prototype.removeCityDoingTask=function(e){this.removeTaskTrade(e)},t.prototype.addCityFinishTask=function(e,t){var i=c.TaskDataController.Instance.getTaskData(h.TaskTypeDefine.Trade,t);if(i){var n=miniframe.Config.getData(o.ConfigKeyDefine.TASK,i.getConfigID());if(n){var a=miniframe.Config.getData(o.ConfigKeyDefine.DROPBAG,n.getDropbag());if(!a||a.getDropsCount()<=0)miniframe.safePush(this.m_waitCommitTaskUIDs,t);else{for(var s=null,u=null,l=a.getDropsCount(),d=0;d<l;d++)a.getDropsAt(d).x==_.ValueTypeDefine.Coin?(s||(s=new cc.Vec2),s.y+=a.getDropsAt(d).y):(u||(u=[]),u.push(a.getDropsAt(d).toVec2()));var f=null,g=!1;if(u&&u.length>0){var m=u.length;for(d=0;d<m;d++)f=new T.ExpressDropData,0==d?(f.dropType=M.ExpressDropTypeDefine.Task,f.setParameterAt(0,t),g=!0):(f.dropType=M.ExpressDropTypeDefine.Value,f.setParameterAt(0,"")),f.setParameterAt(1,u[d].x),f.setParameterAt(2,u[d].y),this.dropItem(e,f)}if(s){var y=p.GuideDataController.Instance.isTaskGuideTaskID(n.getId())?1:r.ConfigDataController.Instance.getTradeCoinDropNum(),C=s.y,I=y>1?Math.floor(s.y/y):s.y;for(d=0;d<y;d++)f=new T.ExpressDropData,0!=d||g?(f.dropType=M.ExpressDropTypeDefine.Value,f.setParameterAt(0,"")):(f.dropType=M.ExpressDropTypeDefine.Task,f.setParameterAt(0,t)),f.setParameterAt(1,_.ValueTypeDefine.Coin),f.setParameterAt(2,d==y-1?C:I),this.dropItem(e,f),C-=I}}}}},t.prototype.refreshCityBenefits=function(){if(this.m_activatedCities.length>0)for(var e=this.m_activatedCities.length,t=0;t<e;t++)this.refreshCityBenefit(this.m_activatedCities[t])},t.prototype.onFlush=function(){if(this.m_areaConfig&&this.getNode()){for(var e=null,t=0,i=null,o=r.ConfigDataController.Instance.getAreaCityConfigs(this.m_areaConfig.getId()),n=null,a=null,p=null,u=o.length,c=0;c<u;c++)t=(i=o[c]).getId(),e=this.m_cities[t],n=this.getLocPosition(t),e||((e=new B.ExpressCity(this)).setSequenceStatic(!0),this.addLazyChild(e,P.ExpressAreaLayerDefine.Dynamic),v.SequenceController.Instance.addElement(this.getAreaID(),e),this.m_cities[i.getId()]=e,e.setLoadCallback(this.onCityLoadComplete,this),e.loadResource(i.getResource()),(a=new A.ExpressCityTitle).setCityID(t),a.setPosition(n),a.setTitle(y.MiniGame.Locale.getLanguage(i.getShortNameLan())),a.setStar(s.ExpressDataController.Instance.getCityStar(t)),a.setState(0),this.addLazyChild(a,P.ExpressAreaLayerDefine.Front),this.m_titleItems[t]=a,e.setTitle(a),(p=new w.ExpressCityTips).setCityID(t),p.setPosition(n),p.loadResource("PF_CityTips"),this.addLazyChild(p,P.ExpressAreaLayerDefine.Tips),this.m_tipsItems[t]=p),e.setPosition(n),e.setCityConfig(i),e.flush(),e.isActivated()?this.onCityActivated(t):e.canActive()&&this.onCityCanActive(t);this.refreshCityCopies(!1,!1),this.onExpressCameraZoom(E.ExpressWorld.Instance.getCameraRatio())}},t.prototype.onCityLoadComplete=function(e){if(e){var t=e.getCityID(),i=this.m_titleItems[t];if(i){var o=e.getPosition(),n=e.getTitleOffset();i.setPosition(new cc.Vec2(o.x+n.x,o.y+n.y))}var r=this.m_tipsItems[t];if(r){o=e.getPosition();var a=e.getBenefitOffset();r.setPosition(new cc.Vec2(o.x+a.x,o.y+a.y)),this.refreshTipsItemPosition(r)}this.refreshTaskItemPositionsByGroup(t),this.refreshDropItemPositionsByCityID(t)}},t.prototype.addCityConnection=function(e,t){this.m_connections[e]||(this.m_connections[e]=[]),miniframe.safePush(this.m_connections[e],t),this.m_connections[t]||(this.m_connections[t]=[]),miniframe.safePush(this.m_connections[t],e)},t.prototype.addCityInnerRouteByConnections=function(e,t){var i=this.m_connections[e];if(i&&!(i.length<=0))for(var o=i.length,n=0;n<o;n++)this.addCityInnerRouteByConnectionWith(e,i[n],t)},t.prototype.addCityInnerRouteByConnectionWith=function(e,t,i){var o=e<=t?e+"_"+t:t+"_"+e,n=this.m_routes[o];if(n){var r=e<=t?n.getFromNode():n.getToNode(),a=e+"_"+t,s=new k.ExpressRoute;s.parseBetween(a,e,t,i,r),this.m_innerRoutes[e]||(this.m_innerRoutes[e]={}),this.m_innerRoutes[e][t]=s}},t.prototype.addCityRouteVisual=function(e,t,i){var o=i.getComponent(b.default);if(o){var n=(e<=t?e:t)+"_"+(e<=t?t:e);this.m_routeToVisualUIDs[n]||(this.m_routeToVisualUIDs[n]=[]);for(var r=0,a=o.visualNodes.length,s=0;s<a;s++)r=this.createRouteVisual(o.visualNodes[s]),miniframe.safePush(this.m_routeToVisualUIDs[n],r)}},t.prototype.createRouteVisual=function(e){for(var t in this.m_routeVisuals)if(this.m_routeVisuals[t].node==e)return this.m_routeVisuals[t].uid;var i=new R;return i.state=0,i.node=e,i.childNode=e.childrenCount>0?e.children[0]:null,i.updateState(),this.m_routeVisuals[i.uid]=i,i.uid},t.prototype.getLocPosition=function(e){return this.m_locs[e]?this.m_script&&this.m_script.locNode?miniframe.add(this.m_script.locNode.getPosition(),this.m_locs[e].getPosition()):this.m_locs[e].getPosition():cc.Vec2.ZERO},t.prototype.getMonsterLocPosition=function(e,t){return!this.m_monsterLocs[e]||this.m_monsterLocs[e].length<=0?cc.Vec2.ZERO:t>=this.m_monsterLocs[e].length||!this.m_monsterLocs[e][t]?cc.Vec2.ZERO:this.m_script&&this.m_script.monsterLocNode?miniframe.add(this.m_script.monsterLocNode.getPosition(),this.m_monsterLocs[e][t].getPosition()):cc.Vec2.ZERO},t.prototype.onCityActivated=function(e){if(miniframe.safePush(this.m_activatedCities,e)){var t=this.m_connections[e];if(t&&t.length>0)for(var i=t.length,o=0;o<i;o++)this.onCityActiveWith(e,t[o],!0);var n=r.ConfigDataController.Instance.getCityActiveCityIDs(e);if(n&&n.length>0)for(i=n.length,o=0;o<i;o++)t&&-1!=t.indexOf(n[o])||this.onCityActiveWith(e,n[o],!1)}},t.prototype.onCityActiveWith=function(e,t,i){if(-1!=this.m_activatedCities.indexOf(t))i&&this.createCommonTrade(e,t),this.onUpdateCityVisual(e,t,3),this.onUpdateCityVisual(t,e,3);else if(r.ConfigDataController.Instance.getPreCityID(t)==e){var o=r.ConfigDataController.Instance.getPreDisplayCityID(t);this.onUpdateCityVisual(o,t,1),this.onUpdateCityVisual(t,o,1)}},t.prototype.onCityCanActive=function(e){var t=this.m_connections[e];if(t&&t.length>0){for(var i=t.length,o=0;o<i;o++)this.onCityCanActiveWith(e,t[o]);var n=r.ConfigDataController.Instance.getCityActiveCityIDs(e);if(n&&n.length>0){var a=n.length;for(o=0;o<a;o++)t&&-1!=t.indexOf(n[o])||this.onCityCanActiveWith(e,n[o])}}},t.prototype.onCityCanActiveWith=function(e,t){if(-1!=this.m_activatedCities.indexOf(t)){if(r.ConfigDataController.Instance.getPreCityID(e)==t){var i=r.ConfigDataController.Instance.getPreDisplayCityID(e);this.onUpdateCityVisual(e,i,2),this.onUpdateCityVisual(i,e,2)}}else r.ConfigDataController.Instance.getPreCityID(t)==e&&(i=r.ConfigDataController.Instance.getPreDisplayCityID(t),this.onUpdateCityVisual(i,t,1),this.onUpdateCityVisual(t,i,1))},t.prototype.onUpdateCityVisual=function(e,t,i){var o=(e<=t?e:t)+"_"+(e<=t?t:e);if(this.m_routeToVisualUIDs[o]&&!(this.m_routeToVisualUIDs[o].length<=0))for(var n=this.m_routeToVisualUIDs[o].length,r=0;r<n;r++)this.updateCityVisual(this.m_routeToVisualUIDs[o][r],i)},t.prototype.updateCityVisual=function(e,t){var i=this.m_routeVisuals[e];i&&(t<i.state||(i.state=t,i.updateState()))},t.prototype.createCommonTrade=function(e,t){var i=(e>t?t:e)+"_"+(e>t?e:t),o=this.m_trades[i];if(!o){var n=this.m_routes[i];if(n){(o=new F.ExpressTrade).setArea(this),o.setTradeKey(i),o.setSpeed(r.ConfigDataController.Instance.getTradeSpeed(0)),o.setGap(r.ConfigDataController.Instance.getTradeGapMS(0)),o.setParent(this.getLayNode(P.ExpressAreaLayerDefine.Dynamic)),o.setIsPingPong(!0),o.setTradeType(0),o.setListener(this),o.clearRoutes(),v.SequenceController.Instance.addElement(this.getAreaID(),o);var a=miniframe.random.randomIn100()%2==0?-1:1;o.addRoute(n,a,!1),this.m_trades[i]=o}}},t.prototype.createTaskTrade=function(e){if(this.m_taskTrades[e])return console.warn("create task trade failed: already exist",e),!1;var t=c.TaskDataController.Instance.getTaskData(h.TaskTypeDefine.Trade,e);if(!t)return console.warn("create task trade failed: no task data",e),!1;var i=t.getParameterAt(g.ExpressTaskParameterDefine.RouteCityCount);if(i<=0)return console.warn("create task trade failed: cityCount == 0",e),!1;var o=e,n=new F.ExpressTrade;n.setArea(this),n.setTradeKey(o),n.setSpeed(r.ConfigDataController.Instance.getTradeSpeed(1)),n.setGap(r.ConfigDataController.Instance.getTradeGapMS(1)),n.setParent(this.getLayNode(P.ExpressAreaLayerDefine.Dynamic)),n.setIsPingPong(!1),n.setTradeType(1),n.setListener(this),n.setTask(e),n.clearRoutes(),n.show(),v.SequenceController.Instance.addElement(this.getAreaID(),n),t.getParameterAt(g.ExpressTaskParameterDefine.EventTrigger)>0?y.MiniGame.Audio.playAudio(67):y.MiniGame.Audio.playAudio(66);for(var a=[],s=0;s<i;s++)a.push(t.getParameterAt(g.ExpressTaskParameterDefine.RouteCityStart+s));var p=a.length;for(s=0;s<p;s++)s==p-1?this.addTradeInnerRoute(n,a[s],a[s-1],0,!0):(0==s?this.addTradeInnerRoute(n,a[s],0,a[s+1],!1):this.addTradeInnerRoute(n,a[s],a[s-1],a[s+1],!0),this.addTradeRoute(n,a[s],a[s+1]));return n.hasRoute()||console.warn("no route content",a.join(",")),this.m_taskTrades[o]=n,!0},t.prototype.findBackupRouteCityIDs=function(e){return e.getBackupsCount()<=0?null:this.findBackupRouteWithStartCityID(e.getCitiesAt(0),e.getBackups())},t.prototype.findDestBackupRouteCityIDs=function(e){return e.getBackupsCount()<=0?null:this.findBackupRouteWithStartCityID(e.getDest(),e.getBackups())},t.prototype.findBackupRouteWithStartCityID=function(e,t){for(var i=[e],o=this.findMaxCityCountFrom(i[0],i),n=[],r=0,a=t.length,s=0;s<a;s++)o>=t[s].x&&(n.push(t[s]),r+=t[s].y);if(n.length<=0)return console.info("findBackupRouteCityIDs.failed 1",e,o),null;var p=null;if(n.length<=1)p=n[0];else{var u=miniframe.random.randomInt(0,r),c=0;for(a=n.length,s=0;s<a;s++)if(u<=(c+=n[s].y)){p=n[s];break}}if(!p)return console.info("findBackupRouteCityIDs.failed 2",e,o,n),null;i.splice(0,i.length),i.push(e);var l=[];return this.findCityIDsFrom(i,p.x,l)?i:(console.info("findBackupRouteCityIDs.failed 3",e,o,n,p.x,i,l),null)},t.prototype.findMaxCityCountFrom=function(e,t){var i=this.m_connections[e];if(!i||i.length<=0)return 1;t.push(e);for(var o=0,n=i.length,r=0;r<n;r++)s.ExpressDataController.Instance.hasCityData(i[r])&&-1==t.indexOf(i[r])&&(o=Math.max(o,this.findMaxCityCountFrom(i[r],t)));return 1+o},t.prototype.findCityIDsFrom=function(e,t,i){if(e.length>=t)return!0;var o=e[e.length-1],n=this.m_connections[o];if(!n||n.length<=0)return!(e.length<t)||e.length>1&&(i.push(e.pop()),this.findCityIDsFrom(e,t,i));for(var r=!1,a=n.length,p=0;p<a;p++)if(s.ExpressDataController.Instance.hasCityData(n[p])&&-1==e.indexOf(n[p])&&-1==i.indexOf(n[p])){e.push(n[p]),r=!0;break}return r?this.findCityIDsFrom(e,t,i):e.length>1&&(i.push(e.pop()),this.findCityIDsFrom(e,t,i))},t.prototype.removeTaskTrade=function(e){var t=e,i=this.m_taskTrades[t];return!!i&&(i.dispose(),!0)},t.prototype.addTaskItem=function(e,t){if(void 0===t&&(t=0),!this.m_taskItems[e]){var i=N.ExpressResources.Instance.requestCityTask();i.setTaskUID(e),i.setSortGroupID(t),i.setListener(this),this.addLazyChild(i,P.ExpressAreaLayerDefine.DropUI),i.animateShow(),i.setGuideMode(y.MiniGame.Guide.getGuideMode()),this.m_taskItems[e]=i,this.m_taskSortGroup[t]||(this.m_taskSortGroup[t]=[]),miniframe.safePush(this.m_taskSortGroup[t],e),this.refreshTaskItemPositionsByGroup(t)}},t.prototype.removeTaskItem=function(e){if(this.m_taskItems[e]){var t=this.m_taskItems[e],i=t.getSortGroupID();delete this.m_taskItems[e],N.ExpressResources.Instance.recycleCityTask(t),this.refreshTaskItemPositionsByGroup(i)}},t.prototype.addTradeRoute=function(e,t,i){var o=t>i?i:t,n=o+"_"+(t>i?t:i),r=this.m_routes[n];r?e.addRoute(r,o==t?1:-1,!1):console.warn("no route",n)},t.prototype.addTradeInnerRoute=function(e,t,i,o,n){var r=this.m_innerRoutes[t];if(r){var a=r[i];if(a&&e.addRoute(a,-1,!0),n){var s=new k.ExpressRoute;s.setFrom(t),s.setTo(t),s.setDurationMS(I.CoreConsts.TaskTradeCityStayDurationMS),e.addRoute(s,0,!0)}var p=r[o];p&&e.addRoute(p,1,!0)}else console.warn("no inner route",t)},t.prototype.update=function(e){for(var t in this.m_trades)this.m_trades[t].update(e);for(var t in this.m_taskTrades)this.m_taskTrades[t].update(e);if(this.refreshCityBenefits(),this.m_waitCommitTaskUIDs.length>0){for(var i=this.m_waitCommitTaskUIDs.length,o=0;o<i;o++)s.ExpressDataController.Instance.handleCommitTradeTask(this.m_waitCommitTaskUIDs[o],!1);this.m_waitCommitTaskUIDs.splice(0,this.m_waitCommitTaskUIDs.length)}},t.prototype.refreshCityBenefit=function(e,i){void 0===i&&(i=!1);var o=this.m_cities[e];if(o){var n=this.m_benefitItems[e],r=s.ExpressDataController.Instance.getCityCoinAwardIncome(e),a=s.ExpressDataController.Instance.getCityCoinAwardIsFull(e);if(a){var p=this.m_tipsItems[e];p&&p.hasTips()?n&&n.hide():(n?n.getParent()||p&&p.getNode()&&(n.setParent(p.getNode()),i=!0):((n=new L.ExpressCityBenefitInfo(t.MediatorName,t.CityButtonKeyBenefitInfo)).setCityID(e),n.setDropOffset(o.getBenefitOffset()),n.setValueType(_.ValueTypeDefine.Coin),this.m_benefitItems[e]=n,p&&p.getNode()&&n.setParent(p.getNode()),i=!0),!i&&n.getVisible()||(n.show(),n.setIncome(r.getValue()),n.setIsFull(a)))}else n&&n.hide()}},t.prototype.focusCity=function(e,t,i,o,n){void 0===o&&(o=void 0),void 0===n&&(n=!1);var r=e.getPosition();if(null==o&&(o=I.CoreConsts.CityFocusRatio),n){var a=E.ExpressWorld.Instance.getCameraPosition();r.y=a.y}E.ExpressWorld.Instance.cameraFocus(t,r,o,i)},t.prototype.tryCreateCity=function(e){var t=this,i=this.m_cities[e];i&&(i.isActivated()||i.canActive()&&this.focusCity(i,I.CoreConsts.CityCreateFocusDurationMS,function(){t.onExpressCameraZoom(E.ExpressWorld.Instance.getCameraRatio()),y.MiniGame.MVC.openMediator(D.MediatorNameDefine.CityCreateUIMediator,i.getCityConfig())}))},t.prototype.tryEnterCity=function(e){var t=this,i=this.m_cities[e];i&&(i.canActive()?this.focusCity(i,I.CoreConsts.CityCreateFocusDurationMS,function(){t.onExpressCameraZoom(E.ExpressWorld.Instance.getCameraRatio()),y.MiniGame.MVC.openMediator(D.MediatorNameDefine.CityCreateUIMediator,i.getCityConfig())}):i.isActivated()&&this.focusCity(i,I.CoreConsts.CityDevelopFocusDurationMS,function(){t.onExpressCameraZoom(E.ExpressWorld.Instance.getCameraRatio()),y.MiniGame.MVC.openMediator(D.MediatorNameDefine.CityDevelopUIMediator,i.getCityData())}))},t.prototype.onTradeLeaveCheck=function(e,t,i){return!(1==e.getTradeType()&&i>0&&!s.ExpressDataController.Instance.hasCityData(i))},t.prototype.onTradeLeave=function(){},t.prototype.onTradeArrive=function(e,t,i){if(t==i){var n=s.ExpressDataController.Instance.getCityData(i);if(0==e.getTradeType());else if(1==e.getTradeType()){if(n){var a=n.getAttr(l.AttrTypeDefine.IncomeRate),p=miniframe.random.randomIn100();if(console.info("incomeRate",p,a),p<=a){var u=n.getTradeIncomes();if(u){var d=0,m=void 0;for(var _ in u)d=parseInt(_),m=u[_].getValue(),(F=new T.ExpressDropData).dropType=M.ExpressDropTypeDefine.Value,F.setParameterAt(0,""),F.setParameterAt(1,d),F.setParameterAt(2,m),this.dropItem(n.getCityID(),F)}}}var C=e.getTask();if(C&&""!=C){var I=s.ExpressDataController.Instance.handleChangeTradeTask(C),D=c.TaskDataController.Instance.getTaskData(h.TaskTypeDefine.Trade,C);if(I){D&&(D.getParameterAt(g.ExpressTaskParameterDefine.EventTrigger)>0?y.MiniGame.Audio.playAudio(69):y.MiniGame.Audio.playAudio(68));var v=this.m_cities[i];y.MiniGame.Effect.playEffect(1,this.getLayNode(P.ExpressAreaLayerDefine.Effect),v?v.getPosition():cc.Vec2.ZERO)}if(!D)return;var S=D.getParameterAt(g.ExpressTaskParameterDefine.EventTrigger);if(S<=0)return;if(S!=D.getParameterAt(g.ExpressTaskParameterDefine.RouteIndex))return;var b=r.ConfigDataController.Instance.getTradeTaskEvents(D.getConfigID());if(!b||b.length<=0)return;for(var E=null,B=null,L=0,w=(p=miniframe.random.randomIn100(),0),A=null,U=b.length,x=0;x<U;x++)(A=miniframe.Config.getData(o.ConfigKeyDefine.EXPRESS_EVENT_BAG,b[x].x))&&(p>(w=b[x].y)||(!B||L>w?(B=A,L=w,E&&E.length>0&&E.splice(0,E.length)):L==w&&(E?E.push(A):E=[A])));if(E&&E.length>0&&(B=miniframe.random.randomWithList(E)),B){var N=B.getEvents();if(B.getType()!=f.ExpressEventTypeDefine.YinPiao&&N.length>0){var k=[];for(U=N.length,x=0;x<U;x++)s.ExpressDataController.Instance.isEventUsed(B.getId(),N[x],!1)||k.push(N[x]);N=k}var F,R=N.length>0?N[0]:0;R>0&&(s.ExpressDataController.Instance.handleAddUsedEvent(B.getId(),R,!0),(F=new T.ExpressDropData).dropType=M.ExpressDropTypeDefine.Event,F.setParameterAt(0,B.getId()),F.setParameterAt(1,R),F.setParameterAt(2,B.getType()),F.setParameterAt(3,B.getSubType()),this.dropItem(i,F))}}}}},t.prototype.onTradeFinish=function(e){var t=e.getTradeKey();1==e.getTradeType()?(delete this.m_taskTrades[t],e.clearTask(),e.dispose()):delete this.m_trades[t]},t.prototype.onTradeClick=function(e){e.getTaskBody()&&this.onExpressCityTaskClick(e.getTaskBody())},t.prototype.onExpressCityTaskClick=function(e){var i=this;if(e.hasTask()&&!e.isLocked()){if(y.MiniGame.Guide.hasWantedButton()){var o=e.getButtonKey();if(!y.MiniGame.Guide.onWantedButtonClick(t.MediatorName,o))return}var n=e.getTaskUID();if(e.hasTrade())y.MiniGame.MVC.openMediator(D.MediatorNameDefine.GuestInfoUIMediator,n),y.MiniGame.Audio.playAudio(54);else{var r=e.getSortGroupID();r>0&&!this.isCityInViewport(r)?(e.setLock(!0),this.focusCity(this.m_cities[r],I.CoreConsts.CityTaskFocusDurationMS,function(){e.isTaskRouteOpened()?I.CoreConsts.CityTaskFocusDelayMS>0?setTimeout(function(){i.onExpressCityTaskClickAnimateStart(e)},I.CoreConsts.CityTaskFocusDelayMS):i.onExpressCityTaskClickAnimateStart(e):(e.setLock(!1),y.MiniGame.MVC.openMediator(D.MediatorNameDefine.CityCreateGuideUIMediator,n))},E.ExpressWorld.Instance.getCameraRatio(),!0)):e.isTaskRouteOpened()?(e.setLock(!0),this.onExpressCityTaskClickAnimateStart(e)):(e.setLock(!1),y.MiniGame.MVC.openMediator(D.MediatorNameDefine.CityCreateGuideUIMediator,n))}}},t.prototype.onExpressCityTaskClickAnimateStart=function(e){var t=e.getTaskData();t&&y.MiniGame.Audio.playAudio(t.getParameterAt(g.ExpressTaskParameterDefine.EventTrigger)>0?73:72),e.animateStart(function(){e.setLock(!1),s.ExpressDataController.Instance.handleAcceptTradeTask(e.getTaskUID())},this)},t.prototype.filterDropPosition=function(e,t){return this.filterDropPositionOnLayer(e,t,this.m_dropSceneLayer,this.m_dropSceneLimitRange)},t.prototype.filterDropPositionOnLayer=function(e,t,i,o){if(void 0===i&&(i=null),void 0===o&&(o=null),i){var n=new cc.Vec2(e.x+t.x,e.y+t.y),r=.5*-i.width,a=.5*i.width,s=.5*i.height,p=.5*-i.height;return o&&(r+=o.x,a-=o.z,s-=o.y,p+=o.w),n.x<r?n.x=r:n.x>a&&(n.x=a),n.y>s?n.y=s:n.y<p&&(n.y=p),new cc.Vec2(n.x-e.x,n.y-e.y)}return t},t.prototype.getCityUIPosition=function(e){var t=this.m_cities[e];if(!t)return cc.Vec2.ZERO;var i=t.getNode();if(!i)return cc.Vec2.ZERO;var o=y.MiniGame.Instance.toWorldPosition(i,E.ExpressWorld.Instance.getCameraRatio());return miniframe.UI.toUIPosition(o)},t.prototype.isCityInViewport=function(e){var t=this.m_cities[e];if(!t)return!0;var i=this.getCityUIPosition(e);return!this.getPositionInUIViewport(i,t.getWidth(),t.getHeight(),.01*I.CoreConsts.CityInViewportPercent)},t.prototype.getCityPosition=function(e){var t=this.m_cities[e];return t?t.getPosition():cc.Vec2.ZERO},t.prototype.getPositionInUIViewport=function(e,t,i,o){var n=new cc.Vec2;n.x=NaN,n.y=NaN;var r=t*o,a=i*o,s=.5*Math.max(0,t-r),p=.5*Math.max(0,i-a),u=e.x-.5*t+s,c=e.x+.5*t-s,l=e.y+.5*i-p,d=e.y-.5*i+p,f=.5*y.MiniGame.Instance.getCanvasWidth(),g=.5*y.MiniGame.Instance.getCanvasHeight(),m=!1;return u<=-f?(n.x=-f,m=!0):c>=f&&(n.x=f,m=!0),d<=-g?(n.y=-g,m=!0):l>=g&&(n.y=g,m=!0),m?n:null},t.prototype.getCityDropOffset=function(e){var t=this.m_cities[e];return t?t.randomDropOffset():cc.Vec2.ZERO},t.prototype.getCityTaskOffset=function(e){var t=this.m_cities[e];return t?t.getTaskOffset():cc.Vec2.ZERO},t.prototype.dropItem=function(e,t){var i=this.getCityUIPosition(e),o=this.getCityDropOffset(e);o=this.filterDropPosition(i,o);var n=N.ExpressResources.Instance.requestDrop();miniframe.safePush(this.m_dropItems,n),this.addLazyChild(n,P.ExpressAreaLayerDefine.DropScene),n.setCityID(e),n.setDropOffset(o),n.setPosition(miniframe.add(i,o)),n.setDropClickCallback(this.onDropClick,this),n.setDropData(t),n.playDrop(i,this.onDropDrop,this),n.setGuideMode(t.dropType==M.ExpressDropTypeDefine.Task||t.dropType==M.ExpressDropTypeDefine.Event?y.MiniGame.Guide.getGuideMode():0);var r=t.getDropAudioID();r>0&&y.MiniGame.Audio.playAudio(r)},t.prototype.onDropDrop=function(e){this.refreshDropItemPosition(e)},t.prototype.onDropClick=function(e){miniframe.safeRemove(this.m_dropItems,e),this.onDropClickDirectly(e,!0)},t.prototype.onDropClickDirectly=function(e,t){u.StayStateController.Instance.resetStayTime();var i=e.getPosition(),r=e.getDropData();if(r){if(r.dropType==M.ExpressDropTypeDefine.Event){var a=r.getParameterAt(0),p=r.getParameterAt(1);if(p>0&&miniframe.Config.getData(o.ConfigKeyDefine.EXPRESS_EVENT,p)){var c,l=miniframe.Config.getData(o.ConfigKeyDefine.EXPRESS_EVENT_BAG,a);return c=l?l.getType()==f.ExpressEventTypeDefine.Dialog?D.MediatorNameDefine.AnswerCueInfoUIMediator:l.getType()==f.ExpressEventTypeDefine.YinPiao?D.MediatorNameDefine.YinPiaoInfoUIMediator:D.MediatorNameDefine.GetCueInfoUIMediator:D.MediatorNameDefine.GetCueInfoUIMediator,void y.MiniGame.MVC.openMediator(c,e,!0)}}if(r.dropType==M.ExpressDropTypeDefine.Task){var d=r.getParameterAt(0);return s.ExpressDataController.Instance.handleCommitTradeTask(d,!1),n.CharDataController.Instance.handleAddCharValue(r.getParameterAt(1),r.getParameterAt(2),!1),e.fly()||y.MiniGame.MVC.sendNotification(C.BusinessNotificationDefine.REFRESH_VALUES),void(t&&this.dropAround(i))}if(r.dropType==M.ExpressDropTypeDefine.Value)return n.CharDataController.Instance.handleAddCharValue(r.getParameterAt(1),r.getParameterAt(2),!1),e.fly()||y.MiniGame.MVC.sendNotification(C.BusinessNotificationDefine.REFRESH_VALUES),void(t&&this.dropAround(i))}e.clear(),N.ExpressResources.Instance.recycleDrop(e),t&&this.dropAround(i)},t.prototype.dropAround=function(e){if(!(this.m_dropItems.length<=0))for(var t=this.m_dropItems.length-1;t>=0;t--)this.m_dropItems[t]?this.m_dropItems[t].getDropData()&&this.m_dropItems[t].getDropData().dropType==M.ExpressDropTypeDefine.Event||miniframe.distance(this.m_dropItems[t].getPosition(),e)<=I.CoreConsts.DropPickRadius&&this.onDropClickDirectly(this.m_dropItems.splice(t,1)[0],!1):this.m_dropItems.splice(t,1)},t.prototype.enableTouch=function(){this.m_touchEnabled=!0},t.prototype.disableTouch=function(){this.m_touchEnabled=!1},t.prototype.lockTouch=function(){this.m_touchLocked=!0},t.prototype.unlockTouch=function(){this.m_touchLocked=!1},t.prototype.onTouchStart=function(e){if(this.m_touchEnabled&&!this.m_touchLocked){this.m_touchMode=0,this.m_lastTouchPoint=null,this.m_lastTouchDistance=NaN,this.m_moveDist=0;var t=e.getTouches();if(t&&!(t.length<=0))if(t.length>=2){if(y.MiniGame.Guide.getGuideMode()>0)return;var i=this.m_touchLayer.convertToNodeSpaceAR(t[0].getLocation()),o=this.m_touchLayer.convertToNodeSpaceAR(t[1].getLocation());this.m_lastTouchDistance=miniframe.distance(i,o)}else t.length>=1&&(this.m_lastTouchPoint=this.m_touchLayer.convertToNodeSpaceAR(t[0].getLocation()))}},t.prototype.onTouchMove=function(e){this.m_touchEnabled&&!this.m_touchLocked&&this.updateTouches(e.getTouches(),!1)},t.prototype.onTouchEnd=function(e){this.m_touchEnabled&&!this.m_touchLocked&&this.updateTouches(e.getTouches(),!0),this.m_touchMode=0,this.m_lastTouchPoint=null,this.m_lastTouchDistance=NaN,this.m_moveDist=0},t.prototype.onMouseWheel=function(e){E.ExpressWorld.Instance.cameraZoom(e.getScrollY()*I.CoreConsts.DesktopCameraZoomScale)},t.prototype.onMouseUp=function(e){2==e.getButton()&&E.ExpressWorld.Instance.cameraBack(I.CoreConsts.CameraBackDurationMS)},t.prototype.updateTouches=function(e,i){var o=this;if(e&&!(e.length<=0)){var n=!1;if(1==this.m_touchMode){if(e.length>=2&&y.MiniGame.Guide.getGuideMode()<=0){var a=this.m_touchLayer.convertToNodeSpaceAR(e[0].getLocation()),s=this.m_touchLayer.convertToNodeSpaceAR(e[1].getLocation()),p=(u=miniframe.distance(a,s))-this.m_lastTouchDistance;this.m_lastTouchDistance=u,E.ExpressWorld.Instance.cameraZoom(p*I.CoreConsts.MobileCameraZoomScale)}}else if(e.length>=2){if(this.m_touchMode=1,y.MiniGame.Guide.getGuideMode()<=0){var u;if(a=this.m_touchLayer.convertToNodeSpaceAR(e[0].getLocation()),s=this.m_touchLayer.convertToNodeSpaceAR(e[1].getLocation()),isNaN(this.m_lastTouchDistance))this.m_lastTouchDistance=miniframe.distance(a,s);else p=(u=miniframe.distance(a,s))-this.m_lastTouchDistance,this.m_lastTouchDistance=u,E.ExpressWorld.Instance.cameraZoom(p*I.CoreConsts.MobileCameraZoomScale)}}else if(e.length>=1)if(i&&this.m_moveDist<I.CoreConsts.CameraMoveMinDist){var c=this.m_touchLayer.convertToNodeSpaceAR(e[0].getLocation()),l=miniframe.UI.toWorldPosition(c),f=this.getLayNode(P.ExpressAreaLayerDefine.Dynamic);c=y.MiniGame.Instance.toLocalPosition(f,l,E.ExpressWorld.Instance.getCameraRatio());var g=this.getMonsterByTouchPoint(c);if(g)g.onTouchEnd();else{var h=this.getTradeByTouchPoint(c);if(h)h.onTouchEnd();else{var _=this.getCityByTouchPoint(c);if(_)if(_.isActivated())_.getCityData()&&(C=y.MiniGame.SystemOpen.isSystemOpen(m.SystemIDDefine.CityEntry),y.MiniGame.Guide.hasWantedButton()&&(C=y.MiniGame.Guide.onWantedButtonClick(t.MediatorName,t.CityButtonKeyPrefix+_.getCityID(),!C)),C&&this.focusCity(_,I.CoreConsts.CityDevelopFocusDurationMS,function(){o.onExpressCameraZoom(E.ExpressWorld.Instance.getCameraRatio()),y.MiniGame.MVC.openMediator(D.MediatorNameDefine.CityDevelopUIMediator,_.getCityData())}));else if(_.canActive()){var C=!0;y.MiniGame.Guide.hasWantedButton()&&(C=y.MiniGame.Guide.onWantedButtonClick(t.MediatorName,t.CityButtonKeyPrefix+_.getCityID(),!C)),C&&this.focusCity(_,I.CoreConsts.CityCreateFocusDurationMS,function(){o.onExpressCameraZoom(E.ExpressWorld.Instance.getCameraRatio()),y.MiniGame.MVC.openMediator(D.MediatorNameDefine.CityCreateUIMediator,_.getCityConfig())})}else{var v=r.ConfigDataController.Instance.getPreCityID(_.getCityID());if(r.ConfigDataController.Instance.checkCondition(d.ConditionTypeDefine.PreCity,v,0))y.MiniGame.SystemOpen.isSystemOpen(m.SystemIDDefine.CityMonsterCanFight)||y.MiniGame.MVC.openMediator(D.MediatorNameDefine.PromptAutoUIMediator,y.MiniGame.Locale.getLanguage(170042));else{var S=this.m_cities[v],b=S&&S.getCityConfig()?y.MiniGame.Locale.getLanguage(S.getCityConfig().getShortNameLan()):"",T=y.MiniGame.Locale.getLanguageFormat(170037,b);y.MiniGame.MVC.openMediator(D.MediatorNameDefine.PromptAutoUIMediator,T)}}}}n=!0}else if(!y.MiniGame.Guide.isEventsBlocked())if(this.m_lastTouchPoint){c=this.m_touchLayer.convertToNodeSpaceAR(e[0].getLocation());var M=miniframe.sub(c,this.m_lastTouchPoint);i||(this.m_moveDist+=M.mag()),this.m_lastTouchPoint=c,cc.sys.platform==cc.sys.DESKTOP_BROWSER?(M.x*=I.CoreConsts.DesktopCameraMoveScale,M.y*=I.CoreConsts.DesktopCameraMoveScale):(M.x*=I.CoreConsts.MobileCameraMoveScale,M.y*=I.CoreConsts.MobileCameraMoveScale),E.ExpressWorld.Instance.cameraMove(-M.x,-M.y)}else this.m_lastTouchPoint=this.m_touchLayer.convertToNodeSpaceAR(e[0].getLocation());i&&!n&&E.ExpressWorld.Instance.cameraBack(I.CoreConsts.CameraBackDurationMS)}},t.prototype.onExpressCameraZoom=function(e){if(this.m_resizeLayers.length>0)for(var t=this.m_resizeLayers.length,i=0;i<t;i++)this.m_resizeLayers[i].width=this.getNode().width*e,this.m_resizeLayers[i].height=this.getNode().height*e;this.refreshDropItemPositions(),this.refreshTipsItemPositions(),this.refreshTaskItemPositions()},t.prototype.onExpressCameraMove=function(){this.refreshDropItemPositions(),this.refreshTipsItemPositions(),this.refreshTaskItemPositions()},t.prototype.refreshDropItemPositions=function(){if(!(this.m_dropItems.length<=0))for(var e=this.m_dropItems.length,t=0;t<e;t++)this.refreshDropItemPosition(this.m_dropItems[t])},t.prototype.refreshDropItemPositionsByCityID=function(e){if(!(this.m_dropItems.length<=0))for(var t=this.m_dropItems.length,i=0;i<t;i++)this.m_dropItems[i].getCityID()==e&&this.refreshDropItemPosition(this.m_dropItems[i])},t.prototype.refreshDropItemPosition=function(e){if(!(e.getCityID()<=0)){var t=e.getCityID(),i=this.getCityUIPosition(t),o=e.getDropOffset();e.setPosition(new cc.Vec2(i.x+o.x,i.y+o.y))}},t.prototype.refreshTipsItemPositions=function(){for(var e in this.m_tipsItems)this.refreshTipsItemPosition(this.m_tipsItems[e])},t.prototype.refreshTipsItemPosition=function(e){if(!(e.getCityID()<=0)){var t=e.getCityID(),i=this.getCityUIPosition(t),o=e.getDropOffset();e.setPosition(new cc.Vec2(i.x+o.x,i.y+o.y))}},t.prototype.refreshTaskItemPositions=function(){for(var e in this.m_taskSortGroup)this.refreshTaskItemPositionsByGroup(parseInt(e),this.m_taskSortGroup[e])},t.prototype.refreshTaskItemPositionsByGroup=function(e,t){if(void 0===t&&(t=void 0),null==t&&(t=this.m_taskSortGroup[e]),t&&!(t.length<=0)){var i=this.m_cities[e];if(i){var o=this.getCityUIPosition(e),n=this.getPositionInUIViewport(o,i.getWidth(),i.getHeight(),.01*I.CoreConsts.CityInViewportPercent);if(n){for(var r=null,a=null,s=t.length,p=0;p<s;p++)(a=this.m_taskItems[t[p]])?r?r.compare(a)<0?(r.hide(),r=a):a.hide():r=a:(t.splice(p,1),p--,s--);r&&(r.show(),isNaN(n.x)?n.x=o.x:n.x<0?n.x+=.5*r.getWidth():n.x-=.5*r.getWidth(),isNaN(n.y)?n.y=o.y:n.y<0?n.y+=.5*r.getHeight():n.y-=.5*r.getHeight(),r.setPosition(n))}else{var u=0,c=0,l=0,d=null,f=t.length;for(p=0;p<f;p++)(d=this.m_taskItems[t[p]])?(u+=d.getWidth(),c=Math.max(d.getWidth(),c),l=Math.max(d.getHeight(),l)):(t.splice(p,1),p--,f--);var g=this.getCityTaskOffset(e);for(f=t.length,p=0;p<f;p++)(d=this.m_taskItems[t[p]]).show(),d.setPosition(new cc.Vec2(o.x+g.x-.5*u+.5*c+p*c,o.y+g.y))}}}},t.prototype.refreshCityCopies=function(e,t){var i=!1,o=null,n=null,a=null,s=0,p=!1,u=!1,c=0,l=!1;for(var f in this.m_cities)(o=this.m_cities[f]).isActivated()||o.canActive()||(n=o.getCityConfig(),s=r.ConfigDataController.Instance.getPreCityID(o.getCityID()),a=this.m_cities[s],p=r.ConfigDataController.Instance.checkCondition(d.ConditionTypeDefine.PreCity,s,0),u=!1,c=0,l=!1,a&&(p||(u=a.canActive(),c=r.ConfigDataController.Instance.getPreCityID(a.getCityID()),l=r.ConfigDataController.Instance.checkCondition(d.ConditionTypeDefine.PreCity,c,0))),p?(o.show(),this.refreshCityCopySpots(o.getCityID(),!!p,n,t,!1)):u?(o.show(),this.refreshCityCopySpots(o.getCityID(),!!p,n,e,e)&&(i=!0)):l&&o.show());e&&(i?E.ExpressWorld.Instance.blockEvent():this.onCityCanActiveAniComplete())},t.prototype.refreshCityCopySpots=function(e,t,i,n,r){var s=this;if(void 0===n&&(n=!1),void 0===r&&(r=!1),!y.MiniGame.SystemOpen.isSystemOpen(m.SystemIDDefine.CityMonsterCanFight))return!1;if(!i&&!(i=miniframe.Config.getData(o.ConfigKeyDefine.EXPRESS_CITY,e)))return!1;if(i.getMonstersCount()<=0)return!1;if(n&&r){for(var p=!0,u=i.getMonstersCount(),c=0;c<u;c++)if(!this.m_monsterItems[i.getMonstersAt(c)]){p=!1;break}if(!p)return E.ExpressWorld.Instance.cameraRecordPos(),this.focusCity(this.m_cities[e],I.CoreConsts.CityTaskFocusDurationMS,function(){s.refreshCityCopySpots(e,t,i,!0,!1)},E.ExpressWorld.Instance.getCameraRatio()),!0}var l=0,d=!0,f=0,g=i.getMonstersCount();for(c=0;c<g;c++){f=i.getMonstersAt(c);var h=this.m_monsterItems[f];h||(h=this.createMonsterItem(e,f,this.getMonsterLocPosition(e,c),c==g-1)),a.CopyDataController.Instance.isMonsterClear(f)?(h.setState(1),d=!0):(t&&d?h.setState(0):h.setState(-1),d=!1),n?1!=h.getState()&&(0==l?(h.show(),h.playAnimation("copy_show",this.onCityCanActiveNextCopySpotShowOneByOne,this)):h.hide(),l++):h.show()}return n&&0==l&&this.onCityCanActiveAniComplete(),!0},t.prototype.createMonsterItem=function(e,t,i,o){var n=this.m_monsterItems[t];return n||((n=new U.ExpressMonster).setCityID(e),n.setMonsterID(t),n.setListener(this),n.loadResource(o?"PF_City_Boss":"PF_City_Copy"),this.addLazyChild(n,P.ExpressAreaLayerDefine.Front),this.m_monsterItems[t]=n),n.setPosition(i),n},t.prototype.killMonster=function(e){var t=this.m_monsterItems[e];t&&t.playAnimation("copy_pass",this.onKillMonster,this)},t.prototype.onKillMonster=function(e,t){var i=t.getCityID(),n=miniframe.Config.getData(o.ConfigKeyDefine.EXPRESS_CITY,i);n.getMonsters().indexOf(t.getMonsterID())==n.getMonstersCount()-1?(this.refreshCityCopySpots(i,!1,n,!1),this.refreshCity(i),this.onCityCanActiveAniStart()):this.refreshCityCopySpots(i,!0,n,!1)},t.prototype.onCityActiveAniStart=function(e,t){t||(t=miniframe.Config.getData(o.ConfigKeyDefine.EXPRESS_CITY,e));var i=!1;if(t&&t.getMonstersCount()>0)for(var n=null,r=t.getMonstersCount(),a=0;a<r;a++)if(n=this.m_monsterItems[t.getMonstersAt(a)]){n.playAnimation("copy_hide",this.onCityActiveMonsterHideOneByOne,this),i=!0;break}this.m_cities[e]&&this.m_cities[e].showFlag(),i||this.onCityActiveMonsterHideOneByOne("",null)},t.prototype.onCityActiveMonsterHideOneByOne=function(e,t){if(t){var i=t.getCityID(),n=t.getMonsterID();delete this.m_monsterItems[n],t.dispose(),t=null;var r=miniframe.Config.getData(o.ConfigKeyDefine.EXPRESS_CITY,i);if(r){var a=r.getMonsters().indexOf(n);if(-1==a||a==r.getMonstersCount()-1)return void this.onCityActiveAniComplete();a++;var s=this.m_monsterItems[r.getMonstersAt(a)];if(s)return void s.playAnimation("copy_hide",this.onCityActiveMonsterHideOneByOne,this)}}this.onCityActiveAniComplete()},t.prototype.onCityActiveAniComplete=function(){if(this.refreshCityCopies(!1,!1),!(this.m_waitActiveCityID<=0)){var e=this.m_waitActiveCityID;this.m_waitActiveCityID=0;var t=this.m_cities[e];t&&(y.MiniGame.MVC.openMediator(D.MediatorNameDefine.CityDevelopUIMediator,t.getCityData()),s.ExpressDataController.Instance.handleCityExpressTargetUpdate(e))}},t.prototype.onCityCanActiveAniStart=function(){this.refreshCityCopies(!0,!1)},t.prototype.onCityCanActiveNextCopySpotShowOneByOne=function(e,t){if(t){var i=t.getCityID(),n=miniframe.Config.getData(o.ConfigKeyDefine.EXPRESS_CITY,i);if(n){var r=n.getMonsters().indexOf(t.getMonsterID());if(-1==r||r==n.getMonstersCount()-1)return void this.onCityCanActiveAniComplete();r++;var a=this.m_monsterItems[n.getMonstersAt(r)];if(a)return a.show(),void a.playAnimation("copy_show",this.onCityCanActiveNextCopySpotShowOneByOne,this)}}this.onCityCanActiveAniComplete()},t.prototype.onCityCanActiveAniComplete=function(){E.ExpressWorld.Instance.cameraBackToRecordPos(I.CoreConsts.CameraBackDurationMS,function(){E.ExpressWorld.Instance.unblockEvent()})},t.prototype.onMonsterClick=function(e){if(y.MiniGame.Guide.hasWantedButton()){var i=e.getButtonKey();if(!y.MiniGame.Guide.onWantedButtonClick(t.MediatorName,i))return}if(!a.CopyDataController.Instance.isMonsterClear(e.getMonsterID())){var o=e.getCityID(),n=this.m_cities[o],s=r.ConfigDataController.Instance.getPreCityID(n.getCityID()),p=this.m_cities[s];if(p.isActivated())y.MiniGame.MVC.openMediator(D.MediatorNameDefine.CopyStartUIMediator,new cc.Vec2(e.getMonsterID(),e.getCityID()));else{var u=p.getCityConfig()?y.MiniGame.Locale.getLanguage(p.getCityConfig().getShortNameLan()):"",c=y.MiniGame.Locale.getLanguageFormat(170035,u);y.MiniGame.MVC.openMediator(D.MediatorNameDefine.PromptAutoUIMediator,c)}}},t.MediatorName="ExpressArea",t.CityButtonKeyPrefix="city_",t.CityButtonKeyStartTradePrefix="start_trade_",t.CityButtonKeyPickDropPrefix="pick_drop_",t.CityButtonKeyPickEventPrefix="pick_event_",t.CityButtonKeyBenefitInfo="benefit_info",t}(miniframe.LazyNode);i.ExpressArea=G,cc._RF.pop()},{"../../../../Config/ConfigKeyDefine":"ConfigKeyDefine","../../../Business/Control/CharDataController":"CharDataController","../../../Business/Control/ConfigDataController":"ConfigDataController","../../../Business/Control/CopyDataController":"CopyDataController","../../../Business/Control/ExpressDataController":"ExpressDataController","../../../Business/Control/GuideDataController":"GuideDataController","../../../Business/Control/StayStateController":"StayStateController","../../../Business/Control/TaskDataController":"TaskDataController","../../../Business/Define/AttrTypeDefine":"AttrTypeDefine","../../../Business/Define/ConditionTypeDefine":"ConditionTypeDefine","../../../Business/Define/ExpressEventTypeDefine":"ExpressEventTypeDefine","../../../Business/Define/ExpressTaskParameterDefine":"ExpressTaskParameterDefine","../../../Business/Define/SystemIDDefine":"SystemIDDefine","../../../Business/Define/TaskTypeDefine":"TaskTypeDefine","../../../Business/Define/ValueTypeDefine":"ValueTypeDefine","../../../MiniGame":"MiniGame","../../../Module/Business/Define/BusinessNotificationDefine":"BusinessNotificationDefine","../../../Module/Core/Control/CoreConsts":"CoreConsts","../../../Module/MediatorNameDefine":"MediatorNameDefine","../../Sequence/SequenceController":"SequenceController","../Component/ExpressAreaScript":"ExpressAreaScript","../Component/ExpressRouteScript":"ExpressRouteScript","../Data/ExpressDropData":"ExpressDropData","../Define/ExpressAreaLayerDefine":"ExpressAreaLayerDefine","../Define/ExpressDropTypeDefine":"ExpressDropTypeDefine","../ExpressWorld":"ExpressWorld","./ExpressCity":"ExpressCity","./ExpressCityBenefitInfo":"ExpressCityBenefitInfo","./ExpressCityTips":"ExpressCityTips","./ExpressCityTitle":"ExpressCityTitle","./ExpressMonster":"ExpressMonster","./ExpressObject":"ExpressObject","./ExpressResources":"ExpressResources","./ExpressRoute":"ExpressRoute","./ExpressTrade":"ExpressTrade"}],ExpressBuildingConfigData:[function(e,t,i){"use strict";cc._RF.push(t,"3f9b60FV+ZEJ7Tj9pRoFyo6","ExpressBuildingConfigData"),Object.defineProperty(i,"__esModule",{value:!0}),i.ExpressBuildingConfigData=void 0;var o=function(){function e(e){this.m_data=null,this.m_data=e,this.init()}return e.prototype.getId=function(){return this.m_data.getId()},e.prototype.getNameLan=function(){return this.m_data.getNameLan()},e.prototype.getDescLan=function(){return this.m_data.getDescLan()},e.prototype.getAttrDescLan=function(){return this.m_data.getAttrDescLanList()},e.prototype.getAttrDescLanCount=function(){return this.m_data.getAttrDescLanList().length},e.prototype.getAttrDescLanAt=function(e){return e<0||e>=this.m_data.getAttrDescLanList().length?"":this.m_data.getAttrDescLanList()[e]},e.prototype.getCreateDescLan=function(){return this.m_data.getCreateDescLanList()},e.prototype.getCreateDescLanCount=function(){return this.m_data.getCreateDescLanList().length},e.prototype.getCreateDescLanAt=function(e){return e<0||e>=this.m_data.getCreateDescLanList().length?"":this.m_data.getCreateDescLanList()[e]},e.prototype.getType=function(){return this.m_data.getType()},e.prototype.getIcon=function(){return this.m_data.getIconList()},e.prototype.getIconCount=function(){return this.m_data.getIconList().length},e.prototype.getIconAt=function(e){return e<0||e>=this.m_data.getIconList().length?"":this.m_data.getIconList()[e]},e.prototype.init=function(){},e.prototype.getConfigKey=function(){return this.getId()},e}();i.ExpressBuildingConfigData=o,cc._RF.pop()},{}],ExpressBuildingGrowConfigData:[function(e,t,i){"use strict";cc._RF.push(t,"0f6b020uzxF26Xui3HQvlF2","ExpressBuildingGrowConfigData"),Object.defineProperty(i,"__esModule",{value:!0}),i.ExpressBuildingGrowConfigData=void 0;var o=function(){function e(e){this.m_data=null,this.m_attrs=[],this.m_incomes=[],this.m_levelup_incomes=[],this.m_rates=[],this.m_data=e,this.init()}return e.prototype.getId=function(){return this.m_data.getId()},e.prototype.getType=function(){return this.m_data.getType()},e.prototype.getLevel=function(){return this.m_data.getLevel()},e.prototype.getAttrs=function(){return this.m_attrs},e.prototype.getAttrsCount=function(){return this.m_attrs.length},e.prototype.getAttrsAt=function(e){return e<0||e>=this.m_attrs.length?null:this.m_attrs[e]},e.prototype.getIncomes=function(){return this.m_incomes},e.prototype.getIncomesCount=function(){return this.m_incomes.length},e.prototype.getIncomesAt=function(e){return e<0||e>=this.m_incomes.length?null:this.m_incomes[e]},e.prototype.getLevelupIncomes=function(){return this.m_levelup_incomes},e.prototype.getLevelupIncomesCount=function(){return this.m_levelup_incomes.length},e.prototype.getLevelupIncomesAt=function(e){return e<0||e>=this.m_levelup_incomes.length?null:this.m_levelup_incomes[e]},e.prototype.getRates=function(){return this.m_rates},e.prototype.getRatesCount=function(){return this.m_rates.length},e.prototype.getRatesAt=function(e){return e<0||e>=this.m_rates.length?null:this.m_rates[e]},e.prototype.init=function(){this.m_attrs=miniframe.Number2.parseListFrom(this.m_data.getAttrsList()),this.m_incomes=miniframe.Number2.parseListFrom(this.m_data.getIncomesList()),this.m_levelup_incomes=miniframe.Number2.parseListFrom(this.m_data.getLevelupIncomesList()),this.m_rates=miniframe.Number2.parseListFrom(this.m_data.getRatesList())},e.prototype.getConfigKey=function(){return this.getId()},e}();i.ExpressBuildingGrowConfigData=o,cc._RF.pop()},{}],ExpressBuildingLevelupConfigData:[function(e,t,i){"use strict";cc._RF.push(t,"444944kTNlBmpxq9C4/mN7g","ExpressBuildingLevelupConfigData"),Object.defineProperty(i,"__esModule",{value:!0}),i.ExpressBuildingLevelupConfigData=void 0;var o=function(){function e(e){this.m_data=null,this.m_consumes=[],this.m_data=e,this.init()}return e.prototype.getId=function(){return this.m_data.getId()},e.prototype.getStarLimit=function(){return this.m_data.getStarLimit()},e.prototype.getConsumes=function(){return this.m_consumes},e.prototype.getConsumesCount=function(){return this.m_consumes.length},e.prototype.getConsumesAt=function(e){return e<0||e>=this.m_consumes.length?null:this.m_consumes[e]},e.prototype.getExp=function(){return this.m_data.getExp()},e.prototype.init=function(){this.m_consumes=miniframe.Number2.parseListFrom(this.m_data.getConsumesList())},e.prototype.getConfigKey=function(){return this.getId()},e}();i.ExpressBuildingLevelupConfigData=o,cc._RF.pop()},{}],ExpressCameraScript:[function(e,t,i){"use strict";cc._RF.push(t,"4d581u/SndD/6A/Z/48XY0J","ExpressCameraScript"),Object.defineProperty(i,"__esModule",{value:!0});var o=cc._decorator,n=o.ccclass,r=o.property,a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.moveSpeedScale=1,t}return __extends(t,e),__decorate([r(cc.Float)],t.prototype,"moveSpeedScale",void 0),__decorate([n],t)}(cc.Component);i.default=a,cc._RF.pop()},{}],ExpressCamera:[function(e,t,i){"use strict";cc._RF.push(t,"767d6SibLlNqLdZqWIEJE3g","ExpressCamera"),Object.defineProperty(i,"__esModule",{value:!0}),i.ExpressCamera=void 0;var o=e("../../../MiniGame"),n=e("../../../Module/Core/Control/CoreConsts"),r=e("../Component/ExpressCameraScript"),a=e("../ExpressWorld"),s=function(){function e(){this.m_mainCamera=null,this.m_node=null,this.m_subCameras=null,this.m_subCameraScripts=null,this.m_cameraWidth=0,this.m_cameraHeight=0,this.m_originalRatio=1,this.m_originalPos=cc.Vec2.ZERO,this.m_defaultRatio=1,this.m_defaultPos=cc.Vec2.ZERO,this.m_sceneLeft=NaN,this.m_sceneRight=NaN,this.m_sceneTop=NaN,this.m_sceneBottom=NaN,this.m_zoomMin=NaN,this.m_zoomMax=NaN,this.m_ratio=0,this.m_listeners=[],this.m_standardPos=cc.Vec2.ZERO,this.m_focusState=0,this.m_focusPos=cc.Vec2.ZERO,this.m_focusRatio=0,this.m_focusDuration=0,this.m_focusCallback=null,this.m_focusStartPos=cc.Vec2.ZERO,this.m_focusStartRatio=0,this.m_focusPassedTime=0,this.m_recordedPos=null}return e.prototype.addListener=function(e){miniframe.safePush(this.m_listeners,e)},e.prototype.removeListener=function(e){miniframe.safeRemove(this.m_listeners,e)},e.prototype.setCamera=function(e,t,i,o){if(this.m_mainCamera=e,this.m_node=this.m_mainCamera?this.m_mainCamera.node:null,this.m_subCameras=t,this.m_subCameraScripts=null,this.m_subCameras){this.m_subCameraScripts=[];for(var a=this.m_subCameras.length,s=0;s<a;s++)this.m_subCameraScripts.push(this.m_subCameras[s].getComponent(r.default))}this.m_cameraWidth=i,this.m_cameraHeight=o,this.m_originalRatio=this.m_mainCamera?this.m_mainCamera.zoomRatio:n.CoreConsts.DefaultRatio,this.m_originalPos=this.m_node?this.m_node.getPosition():cc.Vec2.ZERO,this.m_defaultRatio=this.m_originalRatio,this.m_defaultPos.x=this.m_originalPos.x,this.m_defaultPos.y=this.m_originalPos.y,this.m_ratio=this.m_defaultRatio,this.m_standardPos.x=this.m_defaultPos.x,this.m_standardPos.y=this.m_defaultPos.y},e.prototype.resetCamera=function(){this.m_sceneLeft=0,this.m_sceneRight=0,this.m_sceneTop=0,this.m_sceneBottom=0,this.m_zoomMin=1,this.m_zoomMax=1,this.m_ratio=this.m_defaultRatio,this.applyCameraRatio(this.m_ratio),this.applyCameraPosition(this.m_defaultPos),this.m_standardPos.x=this.m_defaultPos.x,this.m_standardPos.y=this.m_defaultPos.y},e.prototype.setLimitRange=function(e,t,i){var r=i*this.m_originalRatio,a=o.MiniGame.Instance.getCanvasHeight();r<a?(r=a,this.m_defaultRatio=r/i):this.m_defaultRatio=this.m_originalRatio,this.m_ratio=this.m_defaultRatio,this.m_sceneLeft=e.x-.5*t,this.m_sceneRight=e.x+.5*t,this.m_sceneTop=e.y+.5*i,this.m_sceneBottom=e.y-.5*i;var s=this.m_cameraWidth/t,p=this.m_cameraHeight/i;this.m_zoomMin=Math.max(s,p),this.m_zoomMax=n.CoreConsts.CameraZoomMax,this.checkPosition(this.m_defaultPos),this.m_standardPos.x=this.m_defaultPos.x,this.m_standardPos.y=this.m_defaultPos.y,this.applyCameraRatio(this.m_ratio),this.applyCameraPosition(this.m_defaultPos)},e.prototype.getLimitLeft=function(){return this.m_sceneLeft+this.m_cameraWidth/this.m_mainCamera.zoomRatio*.5},e.prototype.getLimitRight=function(){return this.m_sceneRight-this.m_cameraWidth/this.m_mainCamera.zoomRatio*.5},e.prototype.getLimitTop=function(){return this.m_sceneTop-this.m_cameraHeight/this.m_mainCamera.zoomRatio*.5},e.prototype.getLimitBottom=function(){return this.m_sceneBottom+this.m_cameraHeight/this.m_mainCamera.zoomRatio*.5},e.prototype.moveOffset=function(e,t){var i=this.m_node.getPosition();i.x+=e,i.y+=t,this.checkPosition(i)},e.prototype.checkPosition=function(e){e||(e=this.m_node.getPosition());var t=this.getLimitLeft();if(e.x<t)e.x=t;else{var i=this.getLimitRight();e.x>i&&(e.x=i)}var o=this.getLimitTop();if(e.y>o)e.y=o;else{var n=this.getLimitBottom();e.y<n&&(e.y=n)}if(this.applyCameraPosition(e),this.m_standardPos.x=e.x,this.m_listeners.length>0)for(var r=this.m_listeners.length,a=0;a<r;a++)this.m_listeners[a].onExpressCameraMove(e.x,e.y)},e.prototype.zoom=function(e){if(this.m_ratio+=e,this.m_ratio<this.m_zoomMin?this.m_ratio=this.m_zoomMin:this.m_ratio>this.m_zoomMax&&(this.m_ratio=this.m_zoomMax),this.applyCameraRatio(this.m_ratio),e<0&&this.checkPosition(this.m_node.getPosition()),this.m_listeners.length>0)for(var t=this.m_listeners.length,i=0;i<t;i++)this.m_listeners[i].onExpressCameraZoom(this.m_ratio)},e.prototype.getRatio=function(){return this.m_mainCamera?this.m_mainCamera.zoomRatio:this.m_ratio},e.prototype.recordPos=function(){this.m_recordedPos=this.getPosition()},e.prototype.lookAt=function(e){this.m_node.setPosition(e),this.m_standardPos.x=e.x},e.prototype.focus=function(e,t,i,o,n){void 0===i&&(i=void 0),void 0===o&&(o=void 0),void 0===n&&(n=!1),n||null!=i&&this.getRatio()!=i||!this.getPosition().equals(t)?(this.m_focusState=1,this.m_focusPos=t,this.m_focusStartPos=this.m_node.getPosition(),this.m_focusRatio=i||this.m_ratio,this.m_focusStartRatio=this.m_mainCamera.zoomRatio,this.m_focusDuration=e,this.m_focusCallback=o,this.m_focusPassedTime=0,a.ExpressWorld.Instance.blockEvent()):o&&o()},e.prototype.back=function(e,t){void 0===t&&(t=void 0),this.focus(e,this.m_standardPos,this.m_defaultRatio,t)},e.prototype.backToRecordPos=function(e,t,i){if(void 0===t&&(t=void 0),void 0===i&&(i=!0),this.m_recordedPos){var o=this.m_recordedPos;return i&&(this.m_recordedPos=null),this.focus(e,o,this.m_defaultRatio,t),!0}t&&t()},e.prototype.getPosition=function(){return this.m_node.getPosition()},e.prototype.getLeft=function(){return this.m_node.x-.5*this.m_cameraWidth},e.prototype.getRight=function(){return this.m_node.x+.5*this.m_cameraWidth},e.prototype.getTop=function(){return this.m_node.y+.5*this.m_cameraHeight},e.prototype.getBottom=function(){return this.m_node.y-.5*this.m_cameraHeight},e.prototype.update=function(e){this.m_focusState>0&&this.updateLookAt(e)},e.prototype.updateLookAt=function(e){this.m_focusPassedTime+=e;var t=Math.min(1,this.m_focusPassedTime/this.m_focusDuration),i=null;if(this.m_focusStartRatio!=this.m_focusRatio){var o=this.m_focusStartRatio+(this.m_focusRatio-this.m_focusStartRatio)*t;this.applyCameraRatio(o),i=this.m_node.getPosition()}if(this.m_focusStartPos.x==this.m_focusPos.x&&this.m_focusStartPos.y==this.m_focusPos.y||(i=this.m_focusStartPos.lerp(this.m_focusPos,t)),i&&(this.checkPosition(i),this.applyCameraPosition(i)),t>=1){if(this.m_focusState=0,this.m_focusCallback){var n=this.m_focusCallback;this.m_focusCallback=null,n()}a.ExpressWorld.Instance.unblockEvent()}},e.prototype.applyCameraRatio=function(e){if(this.m_mainCamera&&(this.m_mainCamera.zoomRatio=e),this.m_subCameras)for(var t=this.m_subCameras.length,i=0;i<t;i++)this.m_subCameras[i].zoomRatio=e},e.prototype.applyCameraPosition=function(e){if(this.m_node&&this.m_node.setPosition(e),this.m_subCameras)for(var t=null,i=this.m_subCameras.length,o=0;o<i;o++)this.m_subCameraScripts[o]?((t=new cc.Vec2).x=e.x*this.m_subCameraScripts[o].moveSpeedScale,t.y=e.y,this.m_subCameras[o].node.setPosition(t)):this.m_subCameras[o].node.setPosition(e)},e}();i.ExpressCamera=s,cc._RF.pop()},{"../../../MiniGame":"MiniGame","../../../Module/Core/Control/CoreConsts":"CoreConsts","../Component/ExpressCameraScript":"ExpressCameraScript","../ExpressWorld":"ExpressWorld"}],ExpressCityBenefitInfoScript:[function(e,t,i){"use strict";cc._RF.push(t,"92d06GaHLpN4aDAQc4kJxgE","ExpressCityBenefitInfoScript"),Object.defineProperty(i,"__esModule",{value:!0});var o=e("../../../../Extension/UI/Label/UITextScript"),n=cc._decorator,r=n.ccclass,a=n.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.clickMask=null,t.coinAwardLeftNode=null,t.coinAwardFullNode=null,t.coinAwardLabel=null,t}return __extends(t,e),__decorate([a(cc.Node)],t.prototype,"clickMask",void 0),__decorate([a(cc.Node)],t.prototype,"coinAwardLeftNode",void 0),__decorate([a(cc.Node)],t.prototype,"coinAwardFullNode",void 0),__decorate([a(o.default)],t.prototype,"coinAwardLabel",void 0),__decorate([r],t)}(cc.Component);i.default=s,cc._RF.pop()},{"../../../../Extension/UI/Label/UITextScript":"UITextScript"}],ExpressCityBenefitInfo:[function(e,t,i){"use strict";cc._RF.push(t,"95630Psi+xNgbKs7OsoS5u/","ExpressCityBenefitInfo"),Object.defineProperty(i,"__esModule",{value:!0}),i.ExpressCityBenefitInfo=void 0;var o=e("../../../Business/Control/CharDataController"),n=e("../../../Business/Control/ExpressDataController"),r=e("../../../Business/Control/StayStateController"),a=e("../../../MiniGame"),s=e("../../../Module/Core/Control/CoreConsts"),p=e("../../../Module/Core/Control/CoreGameController"),u=e("../Component/ExpressCityBenefitInfoScript"),c=e("../ExpressWorld"),l=e("./ExpressResources"),d=function(e){function t(t,i,o){void 0===o&&(o=!1);var n=e.call(this)||this;return n.m_script=null,n.m_mediatorName="",n.m_buttonKey="",n.m_cityID=0,n.m_dropOffset=cc.Vec2.ZERO,n.m_valueType=0,n.m_income="",n.m_isFull=!1,n.m_isShowing=!1,n.m_guideMode=0,n.m_mediatorName=t,n.m_buttonKey=i,o||n.loadResource("PF_CityBenefitInfo"),n}return __extends(t,e),t.prototype.onInitNode=function(t){e.prototype.onInitNode.call(this,t),this.m_script=t?t.getComponent(u.default):null,this.m_script&&this.m_script.clickMask&&this.m_script.clickMask.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this.onSetIncome(),this.onSetIsFull(),this.onSetGuideMode()},t.prototype.onUnInitNode=function(t){this.setGuideMode(0),this.m_script&&this.m_script.clickMask&&this.m_script.clickMask.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this.m_script=null,e.prototype.onUnInitNode.call(this,t)},t.prototype.setCityID=function(e){this.m_cityID=e},t.prototype.getCityID=function(){return this.m_cityID},t.prototype.setDropOffset=function(e){this.m_dropOffset=e},t.prototype.getDropOffset=function(){return this.m_dropOffset},t.prototype.setValueType=function(e){this.m_valueType=e},t.prototype.setIncome=function(e){this.m_income=e,this.onSetIncome()},t.prototype.onSetIncome=function(){this.m_script&&this.m_script.coinAwardLabel&&(this.m_script.coinAwardLabel.string=o.CharDataController.Instance.formatValueString(this.m_income))},t.prototype.setIsFull=function(e){this.m_isFull!=e&&(this.m_isFull=e,this.onSetIsFull(),this.m_isFull&&(this.m_isShowing||this.playAnimation("citybenefit_full")))},t.prototype.onSetIsFull=function(){this.m_script&&(this.m_script.coinAwardLeftNode&&(this.m_script.coinAwardLeftNode.active=!this.m_isFull),this.m_script.coinAwardFullNode&&(this.m_script.coinAwardFullNode.active=this.m_isFull))},t.prototype.onTouchEnd=function(){if(!a.MiniGame.Guide.hasWantedButton()||a.MiniGame.Guide.onWantedButtonClick(this.m_mediatorName,this.m_buttonKey)){r.StayStateController.Instance.resetStayTime(),o.CharDataController.Instance.handleAddCharValue(this.m_valueType,this.m_income,!1),n.ExpressDataController.Instance.handleDrawCityCoinAward(this.m_cityID);var e=s.CoreConsts.BenefitValueFlyNums[this.m_valueType],t=miniframe.random.randomIntWith(e),i=l.ExpressResources.Instance.requestDropValueBody(this.m_valueType);i.setParent(this.getNode()),p.CoreGameController.Instance.flyValueNodeTo(this.m_valueType,this.m_income,i,t,c.ExpressWorld.Instance.getCameraPosition(),!0,!0);var u=s.CoreConsts.FlyValueAudioIDs[this.m_valueType];a.MiniGame.Audio.playAudio(u)}},t.prototype.show=function(){this.m_isShowing=!1,e.prototype.show.call(this)},t.prototype.onShow=function(){this.m_isShowing=!0,this.playAnimation("citybenefit_show",this.onShowComplete,this)},t.prototype.onShowComplete=function(){this.m_isShowing=!1,this.m_isFull&&this.playAnimation("citybenefit_full")},t.prototype.setGuideMode=function(e){this.m_guideMode!=e&&(this.m_guideMode=e,this.onSetGuideMode())},t.prototype.onSetGuideMode=function(){this.getNode()&&""!=this.m_mediatorName&&(this.m_guideMode>0?a.MiniGame.Guide.addButton(this.m_mediatorName,this.m_buttonKey,this.getNode()):a.MiniGame.Guide.removeButtonSafely(this.m_mediatorName,this.m_buttonKey,this.getNode()))},t}(miniframe.LazyNode);i.ExpressCityBenefitInfo=d,cc._RF.pop()},{"../../../Business/Control/CharDataController":"CharDataController","../../../Business/Control/ExpressDataController":"ExpressDataController","../../../Business/Control/StayStateController":"StayStateController","../../../MiniGame":"MiniGame","../../../Module/Core/Control/CoreConsts":"CoreConsts","../../../Module/Core/Control/CoreGameController":"CoreGameController","../Component/ExpressCityBenefitInfoScript":"ExpressCityBenefitInfoScript","../ExpressWorld":"ExpressWorld","./ExpressResources":"ExpressResources"}],ExpressCityConfigData:[function(e,t,i){"use strict";cc._RF.push(t,"df08eiMY+hLMpxxPPuIBDAv","ExpressCityConfigData"),Object.defineProperty(i,"__esModule",{value:!0}),i.ExpressCityConfigData=void 0;var o=function(){function e(e){this.m_data=null,this.m_conditions=[],this.m_data=e,this.init()}return e.prototype.getId=function(){return this.m_data.getId()},e.prototype.getNameLan=function(){return this.m_data.getNameLan()},e.prototype.getShortNameLan=function(){return this.m_data.getShortNameLan()},e.prototype.getDescLan=function(){return this.m_data.getDescLan()},e.prototype.getArea=function(){return this.m_data.getArea()},e.prototype.getPreDisplayCity=function(){return this.m_data.getPreDisplayCity()},e.prototype.getConditions=function(){return this.m_conditions},e.prototype.getConditionsCount=function(){return this.m_conditions.length},e.prototype.getConditionsAt=function(e){return e<0||e>=this.m_conditions.length?null:this.m_conditions[e]},e.prototype.getCheckType=function(){return this.m_data.getCheckType()},e.prototype.getResource=function(){return this.m_data.getResource()},e.prototype.getTargets=function(){return this.m_data.getTargetsList()},e.prototype.getTargetsCount=function(){return this.m_data.getTargetsList().length},e.prototype.getTargetsAt=function(e){return e<0||e>=this.m_data.getTargetsList().length?0:this.m_data.getTargetsList()[e]},e.prototype.getStationCount=function(){return this.m_data.getStationCount()},e.prototype.getStationSize=function(){return this.m_data.getStationSize()},e.prototype.getMonsters=function(){return this.m_data.getMonstersList()},e.prototype.getMonstersCount=function(){return this.m_data.getMonstersList().length},e.prototype.getMonstersAt=function(e){return e<0||e>=this.m_data.getMonstersList().length?0:this.m_data.getMonstersList()[e]},e.prototype.init=function(){this.m_conditions=miniframe.Number3.parseListFrom(this.m_data.getConditionsList())},e.prototype.getConfigKey=function(){return this.getId()},e}();i.ExpressCityConfigData=o,cc._RF.pop()},{}],ExpressCityData:[function(e,t,i){"use strict";cc._RF.push(t,"44882TIeHVOWodi7IDE+3lw","ExpressCityData"),Object.defineProperty(i,"__esModule",{value:!0}),i.ExpressCityData=void 0;var o=e("../../../Config/ConfigKeyDefine"),n=e("../../../Extension/Storage/StorageGroupData"),r=e("../../../Extension/Storage/StorageValueTypeDefine"),a=e("../../MiniGame"),s=e("../../Module/Core/Control/CoreConsts"),p=e("../Define/AttrTypeDefine"),u=e("../Define/SystemIDDefine"),c=e("../Define/ValueTypeDefine"),l=e("./CharPropertyValue"),d=e("./ExpressStationData"),f=function(e){function t(t){var i=e.call(this,"e_city_"+t)||this;return i.m_cityID=0,i.m_stations={},i.m_coinAwardIncomeCache=null,i.m_cityConfig=null,i.m_tradeIncomes={},i.m_perIncomes={},i.m_attrs={},i.m_taskRates={},i.m_coinAwardIncome=null,i.m_coinAwardIncomeNew=null,i.m_coinAwardIsFull=!1,i.m_coinAwardPassedTime=0,i.m_coinAwardUpdateFrame=0,i.m_cityID=t,i}return __extends(t,e),t.prototype.onCreateProperty=function(i){if(i==t.Name_CoinAwardTime)return this.createMetaProperty(i,r.StorageValueTypeDefine.Int);if(i==t.Name_CoinAwardIncome)return this.m_coinAwardIncomeCache||(this.m_coinAwardIncomeCache=new l.CharPropertyValue(c.ValueTypeDefine.Coin)),this.m_coinAwardIncomeCache;if(0==i.indexOf(t.Name_StationPrefix)){var o=parseInt(i.substring(t.Name_StationPrefix.length));return this.m_stations[o]||(this.m_stations[o]=new d.ExpressStationData(i)),this.m_stations[o]}return e.prototype.onCreateProperty.call(this,i)},t.prototype.getAreaID=function(){return this.m_cityConfig?this.m_cityConfig.getArea():0},t.prototype.init=function(){this.m_cityConfig||(this.m_stations[t.DefaultStationID]||(this.initProperty(t.Name_StationPrefix+t.DefaultStationID),this.m_stations[t.DefaultStationID]&&this.m_stations[t.DefaultStationID].handleSetSlot(1,1,1)),this.m_cityConfig=miniframe.Config.getData(o.ConfigKeyDefine.EXPRESS_CITY,this.m_cityID),this.getCoinAwardTime()<=0&&this.handleInitCoinAwardTime())},t.prototype.flush=function(){for(var e in this.m_tradeIncomes)this.m_tradeIncomes[e].clearValue();for(var e in this.m_perIncomes)this.m_perIncomes[e].clearValue();for(var e in this.m_attrs)this.m_attrs[e]=0;for(var e in this.m_taskRates)this.m_taskRates[e]=0;for(var e in this.m_stations)this.m_stations[e].flush(this.m_tradeIncomes,this.m_perIncomes,this.m_attrs,this.m_taskRates)},t.prototype.getCityID=function(){return this.m_cityID},t.prototype.getCoinAwardTime=function(){var e=this.getProperty(t.Name_CoinAwardTime);return e?e.getValue():0},t.prototype.getTradeIncomes=function(){return this.m_tradeIncomes},t.prototype.getPerIncome=function(e){return this.m_perIncomes[e]},t.prototype.getAttr=function(e){return this.m_attrs[e]||0},t.prototype.getTaskRate=function(e){return this.m_taskRates[e]||0},t.prototype.getStar=function(e){void 0===e&&(e=t.DefaultStationID);var i=this.m_stations[e];return i?i.getStar():0},t.prototype.getStarExp=function(e){void 0===e&&(e=t.DefaultStationID);var i=this.m_stations[e];return i?i.getStarExp():0},t.prototype.getSlots=function(e){void 0===e&&(e=t.DefaultStationID);var i=this.m_stations[e];return i?i.getSlots():null},t.prototype.getSlot=function(e,i){void 0===i&&(i=t.DefaultStationID);var o=this.m_stations[i];return o?o.getSlotAt(e-1):null},t.prototype.getBuildingCount=function(){var e=0,t=null,i=0;for(var o in this.m_stations){i=(t=this.m_stations[o].getSlots()).length;for(var n=0;n<i;n++)t[n]&&t[n].getBuildingLevel()>0&&e++}return e},t.prototype.handleDrawCoinAward=function(){var e=this.requestProperty(t.Name_CoinAwardTime);return e&&e.setValue(miniframe.now()),this.m_coinAwardIncomeCache&&this.m_coinAwardIncomeCache.setValue("0"),!0},t.prototype.handleResetCoinAwardTime=function(){if(this.m_coinAwardPassedTime>=s.CoreConsts.OnlineAwardCalculateSecondsCell){this.m_coinAwardIncomeCache||this.initProperty(t.Name_CoinAwardIncome),this.m_coinAwardIncomeCache.addValue(this.m_coinAwardIncomeNew.getValue()),this.m_coinAwardIncomeNew.clearValue();var e=this.requestProperty(t.Name_CoinAwardTime);e&&e.setValue(miniframe.now())}return!0},t.prototype.handleInitCoinAwardTime=function(){var e=this.requestProperty(t.Name_CoinAwardTime);return e&&e.setValue(miniframe.now()),!0},t.prototype.handleSetStar=function(e,i){void 0===i&&(i=t.DefaultStationID);var o=this.m_stations[i];return!!o&&o.handleSetStar(e)},t.prototype.handleAddStarExp=function(e,i){void 0===i&&(i=t.DefaultStationID);var o=this.m_stations[i];return!!o&&o.handleAddStarExp(e)},t.prototype.handleSetSlot=function(e,i,o,n){void 0===n&&(n=t.DefaultStationID);var r=this.m_stations[n];return!!r&&r.handleSetSlot(e,i,o)},t.prototype.handleSetSlotLevel=function(e,i,o){void 0===o&&(o=t.DefaultStationID);var n=this.m_stations[o];return!!n&&n.handleSetSlotLevel(e,i)},t.prototype.updateCoinAwardIncome=function(){if(!a.MiniGame.SystemOpen.isSystemOpen(u.SystemIDDefine.CityBenefit))return this.m_coinAwardIncome||(this.m_coinAwardIncome=new l.CharPropertyValue(c.ValueTypeDefine.Coin)),void(this.m_coinAwardIsFull=!1);if(!(this.m_coinAwardUpdateFrame>0&&this.m_coinAwardUpdateFrame==cc.director.getTotalFrames())){this.m_coinAwardUpdateFrame=cc.director.getTotalFrames();var e=s.CoreConsts.OnlineAwardAwardSecondsCell,t=s.CoreConsts.OnlineAwardCalculateSecondsCell,i=Math.floor(t/e*100),o=this.getCoinAwardTime(),n=miniframe.now()-o,r=Math.floor(n/t);this.m_coinAwardIncomeNew?this.m_coinAwardIncomeNew.clearValue():this.m_coinAwardIncomeNew=new l.CharPropertyValue(c.ValueTypeDefine.Coin);var d="0",f=this.getPerIncome(c.ValueTypeDefine.Coin);f&&(d=f.getValue()),this.m_coinAwardIncomeNew.setValue(d),this.m_coinAwardIsFull=n>=60*this.getAttr(p.AttrTypeDefine.IncomeMaxMinutes),this.m_coinAwardIsFull?(this.m_coinAwardPassedTime=60*this.getAttr(p.AttrTypeDefine.IncomeMaxMinutes),this.m_coinAwardIncomeNew.multiplyValue(this.getAttr(p.AttrTypeDefine.IncomeMaxMinutes))):(this.m_coinAwardPassedTime=n,this.m_coinAwardIncomeNew.multiplyValue(i),this.m_coinAwardIncomeNew.multiplyValue(r),this.m_coinAwardIncomeNew.divideValue(100)),this.m_coinAwardIncome?this.m_coinAwardIncome.clearValue():this.m_coinAwardIncome=new l.CharPropertyValue(c.ValueTypeDefine.Coin),this.m_coinAwardIncome.setValue(this.m_coinAwardIncomeNew.getValue()),this.m_coinAwardIncomeCache&&this.m_coinAwardIncome.addValue(this.m_coinAwardIncomeCache.getValue())}},t.prototype.getCoinAwardIncome=function(e){return void 0===e&&(e=!0),this.m_coinAwardIncome&&!e||this.updateCoinAwardIncome(),this.m_coinAwardIncome},t.prototype.getCoinAwardIsFull=function(e){return void 0===e&&(e=!1),this.m_coinAwardIncome&&!e||this.updateCoinAwardIncome(),this.m_coinAwardIsFull},t.Name_CoinAwardTime="coinaward_t",t.Name_CoinAwardIncome="coinaward_i",t.Name_StationPrefix="station_",t.DefaultStationID=1,t}(n.StorageGroupData);i.ExpressCityData=f,cc._RF.pop()},{"../../../Config/ConfigKeyDefine":"ConfigKeyDefine","../../../Extension/Storage/StorageGroupData":"StorageGroupData","../../../Extension/Storage/StorageValueTypeDefine":"StorageValueTypeDefine","../../MiniGame":"MiniGame","../../Module/Core/Control/CoreConsts":"CoreConsts","../Define/AttrTypeDefine":"AttrTypeDefine","../Define/SystemIDDefine":"SystemIDDefine","../Define/ValueTypeDefine":"ValueTypeDefine","./CharPropertyValue":"CharPropertyValue","./ExpressStationData":"ExpressStationData"}],ExpressCityScript:[function(e,t,i){"use strict";cc._RF.push(t,"bf89d1eJFhE2ojpblJ5wwQb","ExpressCityScript"),Object.defineProperty(i,"__esModule",{value:!0});var o=e("./ExpressObjectScript"),n=cc._decorator,r=n.ccclass,a=n.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.activeNode=null,t.canActiveNode=null,t.deactiveNode=null,t.titleHook=null,t.taskHook=null,t.dropHook=null,t.benifitHook=null,t.flagNode=null,t.flagAniComp=null,t}return __extends(t,e),__decorate([a(cc.Node)],t.prototype,"activeNode",void 0),__decorate([a(cc.Node)],t.prototype,"canActiveNode",void 0),__decorate([a(cc.Node)],t.prototype,"deactiveNode",void 0),__decorate([a(cc.Node)],t.prototype,"titleHook",void 0),__decorate([a(cc.Node)],t.prototype,"taskHook",void 0),__decorate([a(cc.Node)],t.prototype,"dropHook",void 0),__decorate([a(cc.Node)],t.prototype,"benifitHook",void 0),__decorate([a(cc.Node)],t.prototype,"flagNode",void 0),__decorate([a(cc.Animation)],t.prototype,"flagAniComp",void 0),__decorate([r],t)}(o.default);i.default=s,cc._RF.pop()},{"./ExpressObjectScript":"ExpressObjectScript"}],ExpressCitySlotScript:[function(e,t,i){"use strict";cc._RF.push(t,"59aedKJFWZMKY3VQLGC1FXc","ExpressCitySlotScript"),Object.defineProperty(i,"__esModule",{value:!0});var o=cc._decorator,n=o.ccclass,r=o.property,a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.activeNode=null,t.canActiveNode=null,t.deactiveNode=null,t.bodyHook=null,t.titleHook=null,t.taskHook=null,t.dropHook=null,t.benifitHook=null,t}return __extends(t,e),__decorate([r(cc.Node)],t.prototype,"activeNode",void 0),__decorate([r(cc.Node)],t.prototype,"canActiveNode",void 0),__decorate([r(cc.Node)],t.prototype,"deactiveNode",void 0),__decorate([r(cc.Node)],t.prototype,"bodyHook",void 0),__decorate([r(cc.Node)],t.prototype,"titleHook",void 0),__decorate([r(cc.Node)],t.prototype,"taskHook",void 0),__decorate([r(cc.Node)],t.prototype,"dropHook",void 0),__decorate([r(cc.Node)],t.prototype,"benifitHook",void 0),__decorate([n],t)}(cc.Component);i.default=a,cc._RF.pop()},{}],ExpressCityTaskScript:[function(e,t,i){"use strict";cc._RF.push(t,"5acfbXaT1pJ56d+S9JkZCaE","ExpressCityTaskScript"),Object.defineProperty(i,"__esModule",{value:!0});var o=cc._decorator,n=o.ccclass,r=o.property,a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.icon=null,t.warningNode=null,t.bgNodes=[],t.aniComp=null,t.hookNode=null,t.clickMask=null,t.taskNode=null,t.tradeNode=null,t}return __extends(t,e),__decorate([r(cc.Sprite)],t.prototype,"icon",void 0),__decorate([r(cc.Node)],t.prototype,"warningNode",void 0),__decorate([r([cc.Node])],t.prototype,"bgNodes",void 0),__decorate([r(cc.Animation)],t.prototype,"aniComp",void 0),__decorate([r(cc.Node)],t.prototype,"hookNode",void 0),__decorate([r(cc.Node)],t.prototype,"clickMask",void 0),__decorate([r(cc.Node)],t.prototype,"taskNode",void 0),__decorate([r(cc.Node)],t.prototype,"tradeNode",void 0),__decorate([n],t)}(cc.Component);i.default=a,cc._RF.pop()},{}],ExpressCityTask:[function(e,t,i){"use strict";cc._RF.push(t,"fcbfaZ4FW1J44XcCG3LgE2R","ExpressCityTask"),Object.defineProperty(i,"__esModule",{value:!0}),i.ExpressCityTask=void 0;var o=e("../../../../Config/ConfigKeyDefine"),n=e("../../../../Extension/UI/Sprite/UISprite"),r=e("../../../Business/Control/ExpressDataController"),a=e("../../../Business/Control/TaskDataController"),s=e("../../../Business/Define/ExpressTaskParameterDefine"),p=e("../../../Business/Define/TaskTypeDefine"),u=e("../../../MiniGame"),c=e("../Component/ExpressCityTaskScript"),l=e("./ExpressArea"),d=function(e){function t(t){var i=e.call(this)||this;return i.m_script=null,i.m_icon=null,i.m_mediatorName="",i.m_taskUID="",i.m_taskData=null,i.m_taskConfig=null,i.m_taskTargetConfig=null,i.m_expressTargetConfig=null,i.m_taskTradeType=0,i.m_sortGroupID=0,i.m_abandonCheckTimer=void 0,i.m_animateShowing=!1,i.m_trade=null,i.m_listener=null,i.m_startCallback=null,i.m_startCallbackTarget=null,i.m_locked=!1,i.m_guideMode=0,i.m_mediatorName=t,i.loadResource("PF_City_Task"),i}return __extends(t,e),t.prototype.onInitNode=function(t){e.prototype.onInitNode.call(this,t),this.m_script=t?t.getComponent(c.default):null,this.m_script&&(this.m_script.icon&&(this.m_icon||(this.m_icon=new n.UISprite),this.m_icon.bindScript(this.m_script.icon)),this.m_script.warningNode&&(this.m_script.warningNode.active=!1),this.m_script.clickMask&&this.m_script.clickMask.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this)),this.onSetTask(),this.m_animateShowing&&this.onAnimateShow(),this.onSetGuideMode()},t.prototype.onUnInitNode=function(t){this.setGuideMode(0),this.m_script&&this.m_script.clickMask&&this.m_script.clickMask.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this.m_icon&&(this.m_icon.dispose(),this.m_icon=null),this.m_script=null,this.m_guideMode=0,e.prototype.onUnInitNode.call(this,t)},t.prototype.setLock=function(e){this.m_locked=e},t.prototype.isLocked=function(){return this.m_locked},t.prototype.setListener=function(e){this.m_listener=e},t.prototype.setTaskUID=function(e){this.m_taskUID!=e&&(this.m_taskUID=e,this.m_taskData=null,this.m_taskConfig=null,this.m_taskTargetConfig=null,this.m_taskTradeType=0,this.m_animateShowing=!1,null!=this.m_abandonCheckTimer&&(clearTimeout(this.m_abandonCheckTimer),this.m_abandonCheckTimer=void 0),this.onSetTask())},t.prototype.hasTask=function(){return!!this.m_taskData},t.prototype.getTaskUID=function(){return this.m_taskUID},t.prototype.getTaskData=function(){return this.m_taskData},t.prototype.refreshTask=function(){this.onSetTask()},t.prototype.onSetTask=function(){if(this.m_taskData||(this.m_taskData=a.TaskDataController.Instance.getTaskData(p.TaskTypeDefine.Trade,this.m_taskUID)),this.m_taskData){this.m_taskConfig||(this.m_taskConfig=miniframe.Config.getData(o.ConfigKeyDefine.TASK,this.m_taskData.getConfigID()),this.m_taskTargetConfig=null,this.m_expressTargetConfig=null,this.m_taskConfig&&(this.m_taskTargetConfig=miniframe.Config.getData(o.ConfigKeyDefine.TASK_TARGET,this.m_taskConfig.getTargetsAt(0)),this.m_taskTargetConfig&&(this.m_taskTradeType=this.m_taskTargetConfig.getParam3Count()>0?1:0,this.m_expressTargetConfig=miniframe.Config.getData(o.ConfigKeyDefine.EXPRESS_TARGET,this.m_taskTargetConfig.getParam1()))));var e=!1,t=!1;if(this.m_taskData&&(this.m_expressTargetConfig&&(this.m_icon&&(this.m_icon.hookAtlasSprite(this.m_expressTargetConfig.getIconAt(0),this.m_expressTargetConfig.getIconAt(1)),this.m_icon.getNode().setPosition(new cc.Vec2(miniframe.toNumber(this.m_expressTargetConfig.getIconAt(2)),miniframe.toNumber(this.m_expressTargetConfig.getIconAt(3))))),t=!0),this.isTaskRouteOpened()||(e=!0)),this.m_script){this.m_script.warningNode&&(this.m_script.warningNode.active=e);for(var i=this.m_script.bgNodes.length,n=0;n<i;n++)this.m_script.bgNodes[n]&&(this.m_script.bgNodes[n].active=this.m_taskTradeType==n);this.m_script.taskNode&&(this.m_script.taskNode.active=!this.m_trade),this.m_script.tradeNode&&(this.m_script.tradeNode.active=!!this.m_trade)}e||null!=this.m_abandonCheckTimer&&(clearTimeout(this.m_abandonCheckTimer),this.m_abandonCheckTimer=void 0),t||this.m_icon&&this.m_icon.clear()}},t.prototype.setSortGroupID=function(e){this.m_sortGroupID=e},t.prototype.getSortGroupID=function(){return this.m_sortGroupID},t.prototype.animateShow=function(){this.m_animateShowing||(this.m_animateShowing=!0,this.show(),this.onAnimateShow())},t.prototype.animateStart=function(e,t){this.m_startCallback=e,this.m_startCallbackTarget=t,this.m_script.aniComp?(this.m_script.aniComp.on(cc.Animation.EventType.FINISHED,this.onAnimateStartComplete,this),this.m_script.aniComp.play("task_start")):this.onAnimateStartComplete()},t.prototype.animateEnd=function(){this.m_script.aniComp&&this.m_script.aniComp.play("task_end")},t.prototype.onAnimateShow=function(){this.m_taskData&&this.m_script&&(this.m_script.aniComp?(this.m_script.aniComp.on(cc.Animation.EventType.FINISHED,this.onAnimateShowComplete,this),this.m_script.aniComp.play(1==this.m_taskTradeType?"task_special":"task_normal")):this.onAnimateShowComplete())},t.prototype.onAnimateShowComplete=function(){this.m_script&&this.m_script.aniComp&&this.m_script.aniComp.off(cc.Animation.EventType.FINISHED,this.onAnimateShowComplete,this),this.m_animateShowing=!1},t.prototype.onAnimateStartComplete=function(){if(this.m_script&&this.m_script.aniComp&&this.m_script.aniComp.off(cc.Animation.EventType.FINISHED,this.onAnimateStartComplete,this),this.m_startCallback){var e=this.m_startCallback,t=this.m_startCallbackTarget;this.m_startCallback=null,this.m_startCallbackTarget=null,e.call(t,this)}},t.prototype.setTrade=function(e){this.m_trade=e,this.m_script&&(this.m_script.taskNode&&(this.m_script.taskNode.active=!this.m_trade),this.m_script.tradeNode&&(this.m_script.tradeNode.active=!!this.m_trade))},t.prototype.hasTrade=function(){return!!this.m_trade},t.prototype.isTaskRouteOpened=function(){var e=this.m_taskData.getParameterAt(s.ExpressTaskParameterDefine.RouteCityCount);if(e>0){for(var t=0;t<e;t++)if(!r.ExpressDataController.Instance.getCityData(this.m_taskData.getParameterAt(s.ExpressTaskParameterDefine.RouteCityStart+t)))return!1;return!0}return!1},t.prototype.getClickMask=function(){return this.m_script?this.m_script.clickMask:null},t.prototype.onTouchEnd=function(){this.m_listener&&this.m_listener.onExpressCityTaskClick(this)},t.prototype.clear=function(){this.m_script&&this.m_script.aniComp&&this.m_script.aniComp.play("task_reset");var e=this.getNode();e&&(e.scale=1),this.m_taskUID="",this.m_icon&&this.m_icon.clear(),this.m_trade=null,this.m_sortGroupID=0,this.m_listener=null,this.m_locked=!1,this.m_guideMode=0},t.prototype.compare=function(e){var t=e.getTaskData();if(!this.m_taskData&&!t)return 0;if(!this.m_taskData)return 1;if(!t)return-1;var i=this.m_taskData.getParameterAt(s.ExpressTaskParameterDefine.EventTrigger),o=t.getParameterAt(s.ExpressTaskParameterDefine.EventTrigger);return i>0&&o>0?0:i>0?1:o>0?-1:0},t.prototype.setGuideMode=function(e){this.m_guideMode!=e&&(this.m_guideMode=e,this.onSetGuideMode())},t.prototype.onSetGuideMode=function(){this.getNode()&&""!=this.m_mediatorName&&(this.m_guideMode>0?u.MiniGame.Guide.addButton(this.m_mediatorName,this.getButtonKey(),this.getNode()):u.MiniGame.Guide.removeButtonSafely(this.m_mediatorName,this.getButtonKey(),this.getNode()))},t.prototype.getButtonKey=function(){var e=this.m_taskData?this.m_taskData.getConfigID():"";return l.ExpressArea.CityButtonKeyStartTradePrefix+e},t}(miniframe.LazyNode);i.ExpressCityTask=d,cc._RF.pop()},{"../../../../Config/ConfigKeyDefine":"ConfigKeyDefine","../../../../Extension/UI/Sprite/UISprite":"UISprite","../../../Business/Control/ExpressDataController":"ExpressDataController","../../../Business/Control/TaskDataController":"TaskDataController","../../../Business/Define/ExpressTaskParameterDefine":"ExpressTaskParameterDefine","../../../Business/Define/TaskTypeDefine":"TaskTypeDefine","../../../MiniGame":"MiniGame","../Component/ExpressCityTaskScript":"ExpressCityTaskScript","./ExpressArea":"ExpressArea"}],ExpressCityTipsScript:[function(e,t,i){"use strict";cc._RF.push(t,"72c599RAPJIJ7/iX3kDpIrK","ExpressCityTipsScript"),Object.defineProperty(i,"__esModule",{value:!0});var o=e("../../../../Extension/UI/Button/UIButtonScript"),n=cc._decorator,r=n.ccclass,a=n.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.goButton=null,t}return __extends(t,e),__decorate([a(o.default)],t.prototype,"goButton",void 0),__decorate([r],t)}(cc.Component);i.default=s,cc._RF.pop()},{"../../../../Extension/UI/Button/UIButtonScript":"UIButtonScript"}],ExpressCityTips:[function(e,t,i){"use strict";cc._RF.push(t,"6b406Sh1TxGabiTj0J/Iu0+","ExpressCityTips"),Object.defineProperty(i,"__esModule",{value:!0}),i.ExpressCityTips=void 0;var o=e("../../../../Extension/UI/Button/UIButton"),n=e("../../../Business/Define/ButtonTipsHandlerDefine"),r=e("../../../MiniGame"),a=e("../Component/ExpressCityTipsScript"),s=e("../ExpressWorld"),p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.m_script=null,t.m_button=null,t.m_cityID=0,t.m_dropOffset=cc.Vec2.ZERO,t}return __extends(t,e),t.prototype.onInitNode=function(t){e.prototype.onInitNode.call(this,t),this.m_script=t?t.getComponent(a.default):null,this.m_script&&this.m_script.goButton&&(this.m_button||(this.m_button=new o.UIButton,this.m_button.setListener(this)),this.m_button.bindScript(this.m_script.goButton),this.m_script.goButton.tipsHandler=n.ButtonTipsHandlerDefine.CityTipsPrefix+this.getCityID(),this.m_script.goButton.buttonKey=n.ButtonTipsHandlerDefine.CityTips,this.onButtonInit(this.m_button))},t.prototype.onUnInitNode=function(t){this.m_button&&(this.onButtonUnInit(this.m_button),this.m_button.dispose(),this.m_button=null),this.m_script=null,e.prototype.onUnInitNode.call(this,t)},t.prototype.onButtonInit=function(e){var t=e.getScript();t&&t.tipsHandler&&""!=t.tipsHandler&&(t.tipsNode||t.tipsNodeList.length>0)&&r.MiniGame.ButtonTips.registerButton(this.getMediatorName(),e,t.tipsHandler,t.tipsParent)},t.prototype.onButtonUnInit=function(e){var t=e.getScript();t&&t.tipsHandler&&""!=t.tipsHandler&&(t.tipsNode||t.tipsNodeList.length>0)&&r.MiniGame.ButtonTips.unregisterButton(this.getMediatorName(),e)},t.prototype.getMediatorName=function(){return n.ButtonTipsHandlerDefine.CityTipsPrefix+this.getCityID()},t.prototype.setCityID=function(e){this.m_cityID=e},t.prototype.getCityID=function(){return this.m_cityID},t.prototype.setDropOffset=function(e){this.m_dropOffset=e},t.prototype.getDropOffset=function(){return this.m_dropOffset},t.prototype.hasTips=function(){return!!this.m_button&&this.m_button.getTipsState()>0},t.prototype.onUIButtonTouchEnd=function(){r.MiniGame.Guide.hasWantedButton()&&!r.MiniGame.Guide.onWantedButtonClick("","")||s.ExpressWorld.Instance.tryEnterCity(this.getCityID())},t}(miniframe.LazyNode);i.ExpressCityTips=p,cc._RF.pop()},{"../../../../Extension/UI/Button/UIButton":"UIButton","../../../Business/Define/ButtonTipsHandlerDefine":"ButtonTipsHandlerDefine","../../../MiniGame":"MiniGame","../Component/ExpressCityTipsScript":"ExpressCityTipsScript","../ExpressWorld":"ExpressWorld"}],ExpressCityTitleScript:[function(e,t,i){"use strict";cc._RF.push(t,"dad45PiBExHgryI2XVcm5e3","ExpressCityTitleScript"),Object.defineProperty(i,"__esModule",{value:!0});var o=e("../../../../Extension/UI/Label/UITextScript"),n=cc._decorator,r=n.ccclass,a=n.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.titleLabel=null,t.starNodes=[],t.activeNode=null,t.canActiveNode=null,t}return __extends(t,e),__decorate([a(o.default)],t.prototype,"titleLabel",void 0),__decorate([a([cc.Node])],t.prototype,"starNodes",void 0),__decorate([a(cc.Node)],t.prototype,"activeNode",void 0),__decorate([a(cc.Node)],t.prototype,"canActiveNode",void 0),__decorate([r],t)}(cc.Component);i.default=s,cc._RF.pop()},{"../../../../Extension/UI/Label/UITextScript":"UITextScript"}],ExpressCityTitle:[function(e,t,i){"use strict";cc._RF.push(t,"03d8bahqd5LkYGIcvoLRO8s","ExpressCityTitle"),Object.defineProperty(i,"__esModule",{value:!0}),i.ExpressCityTitle=void 0;var o=e("../Component/ExpressCityTitleScript"),n=function(e){function t(){var t=e.call(this)||this;return t.m_script=null,t.m_title="",t.m_star=0,t.m_state=0,t.m_cityID=0,t.m_dropOffset=cc.Vec2.ZERO,t.loadResource("PF_City_Title"),t}return __extends(t,e),t.prototype.onInitNode=function(t){e.prototype.onInitNode.call(this,t),this.m_script=t?t.getComponent(o.default):null,this.onSetTitle(),this.onSetStar(),this.onSetState()},t.prototype.onUnInitNode=function(t){this.m_script=null,e.prototype.onUnInitNode.call(this,t)},t.prototype.setTitle=function(e){this.m_title=e,this.onSetTitle()},t.prototype.onSetTitle=function(){this.m_script&&this.m_script.titleLabel&&(this.m_script.titleLabel.string=this.m_title)},t.prototype.setStar=function(e){this.m_star=e,this.onSetStar()},t.prototype.onSetStar=function(){if(this.m_script)for(var e=this.m_script.starNodes.length,t=0;t<e;t++)this.m_script.starNodes[t]&&(this.m_script.starNodes[t].active=t<this.m_star)},t.prototype.getState=function(){return this.m_state},t.prototype.setState=function(e){this.m_state=e,this.onSetState()},t.prototype.onSetState=function(){this.m_script&&(this.m_script.activeNode&&(this.m_script.activeNode.active=2==this.m_state),this.m_script.canActiveNode&&(this.m_script.canActiveNode.active=1==this.m_state))},t.prototype.setCityID=function(e){this.m_cityID=e},t.prototype.getCityID=function(){return this.m_cityID},t.prototype.setDropOffset=function(e){this.m_dropOffset=e},t.prototype.getDropOffset=function(){return this.m_dropOffset},t}(miniframe.LazyNode);i.ExpressCityTitle=n,cc._RF.pop()},{"../Component/ExpressCityTitleScript":"ExpressCityTitleScript"}],ExpressCityWaitScript:[function(e,t,i){"use strict";cc._RF.push(t,"39bbcUMQY1Pwaiz2mq8eJdV","ExpressCityWaitScript"),Object.defineProperty(i,"__esModule",{value:!0});var o=cc._decorator,n=o.ccclass,r=o.property,a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.progressBar=null,t}return __extends(t,e),__decorate([r(cc.ProgressBar)],t.prototype,"progressBar",void 0),__decorate([n],t)}(cc.Component);i.default=a,cc._RF.pop()},{}],ExpressCityWait:[function(e,t,i){"use strict";cc._RF.push(t,"8ce0dYQJ6RIUor+Zs7qUVWE","ExpressCityWait"),Object.defineProperty(i,"__esModule",{value:!0}),i.ExpressCityWait=void 0;var o=e("../Component/ExpressCityWaitScript"),n=function(e){function t(){var t=e.call(this)||this;return t.m_script=null,t.m_progress=0,t.loadResource("PF_City_Wait"),t}return __extends(t,e),t.prototype.onInitNode=function(t){e.prototype.onInitNode.call(this,t),this.m_script=t?t.getComponent(o.default):null,this.onSetProgress()},t.prototype.onUnInitNode=function(t){this.m_script=null,e.prototype.onUnInitNode.call(this,t)},t.prototype.setProgress=function(e){this.m_progress=e,this.onSetProgress()},t.prototype.onSetProgress=function(){this.m_script&&this.m_script.progressBar&&(this.m_script.progressBar.progress=this.m_progress)},t}(miniframe.LazyNode);i.ExpressCityWait=n,cc._RF.pop()},{"../Component/ExpressCityWaitScript":"ExpressCityWaitScript"}],ExpressCity:[function(e,t,i){"use strict";cc._RF.push(t,"f5f858eyzpKBq9U6lCVQo5f","ExpressCity"),Object.defineProperty(i,"__esModule",{value:!0}),i.ExpressCity=void 0;var o=e("../../../Business/Control/ConfigDataController"),n=e("../../../Business/Control/ExpressDataController"),r=e("../../../MiniGame"),a=e("./ExpressObject"),s=e("./ExpressArea"),p=function(e){function t(t){var i=e.call(this)||this;return i.m_area=null,i.m_hookBody=null,i.m_cityConfig=null,i.m_cityData=null,i.m_canActive=!1,i.m_isActivated=!1,i.m_title=null,i.m_area=t,i}return __extends(t,e),Object.defineProperty(t.prototype,"cityScript",{get:function(){return this.m_script},enumerable:!1,configurable:!0}),t.prototype.onInitNode=function(t){e.prototype.onInitNode.call(this,t),this.m_isActivated?this.onCityActive():this.onCityDeactive()},t.prototype.onUnInitNode=function(t){this.m_hookBody&&(this.m_hookBody.dispose(),this.m_hookBody=null),this.m_script=null,e.prototype.onUnInitNode.call(this,t)},t.prototype.setCityConfig=function(e){this.m_cityConfig=e},t.prototype.getCityID=function(){return this.m_cityConfig?this.m_cityConfig.getId():0},t.prototype.getAreaID=function(){return this.m_cityConfig?this.m_cityConfig.getArea():0},t.prototype.getCityConfig=function(){return this.m_cityConfig},t.prototype.getCityData=function(){return this.m_cityData},t.prototype.flush=function(){this.onFlush()},t.prototype.refresh=function(){this.m_cityData||this.onFlush()},t.prototype.refreshStar=function(){this.m_cityData&&this.m_title&&this.m_title.setStar(this.m_cityData?this.m_cityData.getStar():0)},t.prototype.setTitle=function(e){this.m_title=e},t.prototype.onFlush=function(){if(this.m_cityConfig){if(this.m_canActive=!1,this.m_isActivated=!1,this.m_cityData=n.ExpressDataController.Instance.getCityData(this.m_cityConfig.getId()),this.m_cityData)this.m_isActivated=!0;else{if(r.MiniGame.EditorMode>0&&r.MiniGame.GetEditorParameter("allopen"))return void n.ExpressDataController.Instance.handleOpenCity(this.m_cityConfig.getId());if(this.m_cityConfig.getConditionsCount()<=0)return void n.ExpressDataController.Instance.handleOpenCity(this.m_cityConfig.getId())}this.m_isActivated?(this.show(),this.onCityActive()):(this.m_canActive=o.ConfigDataController.Instance.isConditionAchieved(this.m_cityConfig.getConditions(),this.m_cityConfig.getCheckType()),this.onCityDeactive(),this.m_canActive?this.show():this.hide())}},t.prototype.isActivated=function(){return this.m_isActivated},t.prototype.canActive=function(){return this.m_canActive},t.prototype.onCityActive=function(){this.m_cityConfig&&(this.onUpdateCityState(),r.MiniGame.Guide.addButton(s.ExpressArea.MediatorName,s.ExpressArea.CityButtonKeyPrefix+this.getCityID(),this.getNode()))},t.prototype.onCityDeactive=function(){this.m_cityConfig&&(this.onUpdateCityState(),this.cityScript&&this.cityScript.flagNode&&(this.cityScript.flagNode.active=!1))},t.prototype.onUpdateCityState=function(){this.cityScript&&(this.cityScript.activeNode&&(this.cityScript.activeNode.active=this.m_isActivated),this.cityScript.canActiveNode&&(this.cityScript.canActiveNode.active=!this.m_isActivated&&this.m_canActive),this.cityScript.deactiveNode&&(this.cityScript.deactiveNode.active=!this.m_isActivated&&!this.m_canActive)),this.m_isActivated?(this.m_title.setState(2),this.m_title.show()):this.m_canActive?(this.m_title.setState(1),this.m_title.show()):this.m_title.hide()},t.prototype.containsPoint=function(e){var t=this.getNode();return!(!t||!t.active||e.x<t.x-.5*t.width||e.x>t.x+.5*t.width||e.y<t.y-.5*t.height||e.y>t.y+.5*t.height)},t.prototype.randomDropOffset=function(){if(!this.cityScript||!this.cityScript.dropHook)return cc.Vec2.ZERO;var e=.5*this.cityScript.dropHook.width,t=.5*this.cityScript.dropHook.height,i=miniframe.random.randomInt(-e,e),o=miniframe.random.randomInt(-t,t);return new cc.Vec2(i,o)},t.prototype.getBenefitOffset=function(){return this.cityScript&&this.cityScript.benifitHook?this.cityScript.benifitHook.getPosition():cc.Vec2.ZERO},t.prototype.getTitleOffset=function(){return this.cityScript&&this.cityScript.titleHook?this.cityScript.titleHook.getPosition():cc.Vec2.ZERO},t.prototype.getTaskOffset=function(){return this.cityScript&&this.cityScript.taskHook?this.cityScript.taskHook.getPosition():cc.Vec2.ZERO},t.prototype.changeParent=function(e,t){t&&e&&e.getParent()!=t&&(e.getParent()&&e.removeFromParent(),t.addChild(e))},t.prototype.showFlag=function(){this.cityScript&&(this.cityScript.flagNode&&(this.cityScript.flagNode.active=!0),this.cityScript.flagAniComp&&this.cityScript.flagAniComp.play("citybiaoqi_created"))},t}(a.ExpressObject);i.ExpressCity=p,cc._RF.pop()},{"../../../Business/Control/ConfigDataController":"ConfigDataController","../../../Business/Control/ExpressDataController":"ExpressDataController","../../../MiniGame":"MiniGame","./ExpressArea":"ExpressArea","./ExpressObject":"ExpressObject"}],ExpressDataController:[function(e,t,i){"use strict";cc._RF.push(t,"cad111ap3BLX5PVBQk2KxAz","ExpressDataController"),Object.defineProperty(i,"__esModule",{value:!0}),i.ExpressDataController=void 0;var o=e("../../../Config/ConfigKeyDefine"),n=e("../../../Extension/DataControl/BasicDataController"),r=e("../../Core/Express/ExpressWorld"),a=e("../../Module/Guide/Define/GuideConditionTypeDefine"),s=e("../Data/ExpressAreaData"),p=e("../Data/ExpressCityData"),u=e("../Data/ExpressEventGroupsData"),c=e("../Data/ExpressTargetsData"),l=e("../Data/TaskData"),d=e("../Define/ControlCodeDefine"),f=e("../Define/ExpressTaskParameterDefine"),g=e("../Define/ItemPackTypeDefine"),m=e("../Define/LimitIDDefine"),h=e("../Define/TaskStateDefine"),_=e("../Define/TaskTypeDefine"),y=e("../Utility/UIDUtility"),C=e("./CharDataController"),I=e("./ConfigDataController"),D=e("./GuideDataController"),v=e("./ItemDataController"),S=e("./LimitDataController"),b=e("./StorageDataController"),T=e("./TaskDataController"),P=function(e){function t(){var i=e.call(this)||this;return i.m_eventsData=null,i.m_targetsData=null,i.m_areaDatas={},i.m_cityDatas={},i.m_cityTotalCount=NaN,i.m_cityChanged=!1,i.m_cityTaskTotal=0,i.m_cityTradeCount=0,i.m_cityTradeTotal=0,i.m_perCityTaskTotal=0,i.m_cachedUsedEvents={},i.m_newEvents={},i.m_cityTasks={},t.ms_instance=i,i}return __extends(t,e),Object.defineProperty(t,"Instance",{get:function(){return t.ms_instance||new t},enumerable:!1,configurable:!0}),t.prototype.initController=function(){this.m_eventsData||(this.m_eventsData=new u.ExpressEventGroupsData,b.StorageDataController.Instance.addGroup(this.m_eventsData)),this.m_targetsData||(this.m_targetsData=new c.ExpressTargetsData,b.StorageDataController.Instance.addGroup(this.m_targetsData));var e=miniframe.Config.getData(o.ConfigKeyDefine.CONST,1006);e&&(this.m_perCityTaskTotal=e.getValueAt(0)),(e=miniframe.Config.getData(o.ConfigKeyDefine.CONST,1001))&&(this.m_cityTradeTotal=e.getValueAt(0)),T.TaskDataController.Instance.addListener(this)},t.prototype.initData=function(){var e=0,t=miniframe.Config.getDataMap(o.ConfigKeyDefine.EXPRESS_CITY);for(var i in t)e=t[i].getId(),this.m_cityDatas[e]?this.m_cityDatas[e].getCoinAwardTime()<=0&&this.m_cityDatas[e].handleInitCoinAwardTime():b.StorageDataController.Instance.containsGroup("e_city_"+e)&&this.createCity(e)},t.prototype.getAreaID=function(){return 1},t.prototype.isEventUsed=function(e,t,i){return!(i||!this.m_cachedUsedEvents[e]||-1==this.m_cachedUsedEvents[e].indexOf(t))||!!this.m_eventsData&&this.m_eventsData.containsEvent(e,t)},t.prototype.hasNewEvent=function(e){return!!this.m_newEvents[e]},t.prototype.isNewEvent=function(e,t){return!(!this.m_newEvents[e]||-1==this.m_newEvents[e].indexOf(t))},t.prototype.clearNewEvents=function(e){this.m_newEvents[e]&&delete this.m_newEvents[e]},t.prototype.getEventGroups=function(){return this.m_eventsData.getEventGroups()},t.prototype.getEventGroupFullHouseCount=function(e){return this.m_eventsData?this.m_eventsData.getEventFullHouseCount(e):0},t.prototype.isEventGroupFull=function(e,t){if(void 0===t&&(t=void 0),!t&&!(t=miniframe.Config.getData(o.ConfigKeyDefine.EXPRESS_EVENT_BAG,e)))return!1;if(v.ItemDataController.Instance.getItemCountByConfigID(g.ItemPackTypeDefine.Default,t.getAwardId())>0)return!0;if(this.getEventGroupFullHouseCount(e)>0)return!0;var i=I.ConfigDataController.Instance.getCombineItemNeeeds(t.getAwardId());return!!i&&v.ItemDataController.Instance.getItemCountByConfigID(g.ItemPackTypeDefine.Default,i.x)>=i.y},t.prototype.isTargetActivated=function(e){return!!this.m_targetsData&&this.m_targetsData.isTargetActivated(e)},t.prototype.hasAnyTargetActivated=function(){return!!this.m_targetsData&&this.m_targetsData.hasAnyTargetActivated()},t.prototype.isTargetAwardHasDrawn=function(e){return!!this.m_targetsData&&this.m_targetsData.isTargetAwardHasDrawn(e)},t.prototype.createCity=function(e){var t=this.m_cityDatas[e];if(!t){t=new p.ExpressCityData(e),b.StorageDataController.Instance.addGroup(t),t.init(),t.flush(),this.m_cityDatas[e]=t;var i=t.getAreaID();if(i>0){var o=this.m_areaDatas[i];o||((o=new s.ExpressAreaData).setAreaID(i),this.m_areaDatas[i]=o),o.addCityID(e)}this.m_cityChanged=!0}},t.prototype.addCityData=function(e){return this.m_cityDatas[e]||this.createCity(e),this.m_cityDatas[e]},t.prototype.hasCityData=function(e){return!!this.m_cityDatas[e]},t.prototype.getCityData=function(e){return this.m_cityDatas[e]},t.prototype.getCityStar=function(e){if(this.m_cityDatas[e])return this.m_cityDatas[e].getStar()},t.prototype.getCityTaskRate=function(e,t){var i=this.m_cityDatas[e];return i?i.getTaskRate(t):0},t.prototype.getCitySlot=function(e,t){var i=this.m_cityDatas[e];return i?i.getSlot(t):null},t.prototype.getCityCount=function(){return this.initCityCounts(),this.m_cityTotalCount},t.prototype.getCurrentTaskCount=function(){return T.TaskDataController.Instance.getTaskCountByStates(_.TaskTypeDefine.Trade,[h.TaskStateDefine.CanAccept,h.TaskStateDefine.Doing])},t.prototype.getCurrentTaskLeftCount=function(){return this.getCityTaskTotal()-this.getCurrentTaskCount()},t.prototype.getCityTaskTotal=function(){return this.initCityCounts(),this.m_cityTaskTotal},t.prototype.getPerCityTaskTotal=function(){return this.m_perCityTaskTotal},t.prototype.initCityCounts=function(){if(isNaN(this.m_cityTotalCount)||this.m_cityChanged){for(var e in this.m_cityChanged=!1,this.m_cityTotalCount=0,this.m_cityDatas)this.m_cityTotalCount++;var t=miniframe.Config.getData(o.ConfigKeyDefine.EXPRESS_STATION_CONSUME,this.m_cityTotalCount);t&&(this.m_cityTaskTotal=t.getHorseCount())}},t.prototype.addCityTask=function(e,t){this.m_cityTasks[e]?miniframe.safePush(this.m_cityTasks[e],t):this.m_cityTasks[e]=[t]},t.prototype.removeCityTask=function(e,t){this.m_cityTasks[e]&&miniframe.safeRemove(this.m_cityTasks[e],t)},t.prototype.getAreaTaskRate=function(e,t){var i=this.m_areaDatas[e];return i?i.getTaskRate(t):0},t.prototype.getCityCoinAwardIncome=function(e,t){void 0===t&&(t=!0);var i=this.m_cityDatas[e];return i?i.getCoinAwardIncome(t):null},t.prototype.getCityCoinAwardIsFull=function(e,t){void 0===t&&(t=!1);var i=this.m_cityDatas[e];return i?i.getCoinAwardIsFull(t):null},t.prototype.getCityRealConsumeMap=function(e){if(e.length<=0)return null;for(var t={},i=e.length,n=0;n<i;n++)t[e[n].x]=e[n].y;var r=this.getCityCount(),a=miniframe.Config.getData(o.ConfigKeyDefine.EXPRESS_STATION_CONSUME,r);if(a)for(i=a.getConsumeAddiCount(),n=0;n<i;n++)"number"==typeof t[a.getConsumeAddiAt(n).x]&&(t[a.getConsumeAddiAt(n).x]=Math.floor(t[a.getConsumeAddiAt(n).x]*a.getConsumeAddiAt(n).y*.01));return t},t.prototype.isCityCanBuild=function(e){if(this.isCityActivated(e))return!1;var t=miniframe.Config.getData(o.ConfigKeyDefine.EXPRESS_CITY,e);if(!t)return!1;if(!I.ConfigDataController.Instance.isConditionAchieved(t.getConditions(),t.getCheckType()))return!1;var i=this.getCityCount(),n=miniframe.Config.getData(o.ConfigKeyDefine.EXPRESS_STATION_CONSUME,i),r=n?n.getConditions():null;if(!I.ConfigDataController.Instance.isConditionAchieved(r))return!1;var a=n?n.getConsumes():null;return!!C.CharDataController.Instance.compareCharValues(a,!1)},t.prototype.isCityCanActive=function(e){if(this.isCityActivated(e))return!1;var t=miniframe.Config.getData(o.ConfigKeyDefine.EXPRESS_CITY,e);return!!t&&!!I.ConfigDataController.Instance.isConditionAchieved(t.getConditions(),t.getCheckType())},t.prototype.isCityActivated=function(e){return!!this.m_cityDatas[e]},t.prototype.isCityCanStarUp=function(e){var i=this.m_cityDatas[e];if(!i)return!1;var n=miniframe.Config.getData(o.ConfigKeyDefine.EXPRESS_STATION_GROW,i.getStar()+1);if(!n)return!1;if(i.getStarExp()<n.getExp())return!1;var r=t.Instance.getCityRealConsumeMap(n.getConsumes());if(r){for(var a in r)if(C.CharDataController.Instance.compareCharValue(parseInt(a),r[a])<0)return!1}else if(!C.CharDataController.Instance.compareCharValues(n.getConsumes(),!1))return!1;return!0},t.prototype.isCityHasBuildingCanLevelUp=function(e){var t=this.m_cityDatas[e];if(!t)return!1;for(var i=t.getSlots(),o=i.length,n=0;n<o;n++)if(this.checkCityBuildingLevelUp(t,i[n]))return!0;return!1},t.prototype.isCityBuildingCanLevelUp=function(e,t){var i=this.m_cityDatas[e];if(!i)return!1;var o=i.getSlot(t);return this.checkCityBuildingLevelUp(i,o)},t.prototype.checkCityBuildingLevelUp=function(e,i){if(!i)return!1;if(i.getBuildingLevel()<=0)return!1;var n=miniframe.Config.getData(o.ConfigKeyDefine.EXPRESS_BUILDING_LEVELUP,i.getBuildingLevel()+1);if(!n)return!1;if(e.getStar()<n.getStarLimit())return!1;var r=t.Instance.getCityRealConsumeMap(n.getConsumes());if(r){for(var a in r)if(C.CharDataController.Instance.compareCharValue(parseInt(a),r[a])<0)return!1}else if(!C.CharDataController.Instance.compareCharValues(n.getConsumes(),!1))return!1;return!0},t.prototype.isCityCoinAwardAvailable=function(e,t){var i=this.m_cityDatas[e];if(!i)return!1;var o=i.getCoinAwardIncome(!1);return!!o&&o.compareValue(t)>=0},t.prototype.isCityBuildingLevelAvailable=function(e,t,i){var o=this.m_cityDatas[e];if(!o)return!1;var n=o.getSlot(t);return!!n&&n.getBuildingLevel()>=i},t.prototype.handleOpenCity=function(e,t){void 0===t&&(t=!0),this.addCityData(e),this.m_targetsData&&this.m_targetsData.handleActiveTargets(I.ConfigDataController.Instance.getActivatedCityExpressTargets(e)),t&&(this.notifyUpdate(d.ControlCodeDefine.ExpressCityUpdate,e),this.notifyUpdate(d.ControlCodeDefine.ExpressCityOpen,e))},t.prototype.handleActiveCity=function(e,t){void 0===t&&(t=!0),this.addCityData(e),t&&(this.notifyUpdate(d.ControlCodeDefine.ExpressCityUpdate,e),this.notifyUpdate(d.ControlCodeDefine.ExpressCityActive,e))},t.prototype.handleUpgradeCityStar=function(e,t,i){void 0===i&&(i=!0);var o=this.m_cityDatas[e];return!!o&&!!o.handleSetStar(t)&&(i&&this.notifyUpdate(d.ControlCodeDefine.ExpressCityStarChange,e),!0)},t.prototype.handleCityExpressTargetUpdate=function(e){var t=I.ConfigDataController.Instance.getActivatedCityExpressTargets(e);if(t&&t.length>0)for(var i=t.length,o=0;o<i;o++)this.m_targetsData.handleActiveTarget(t[o])||(t.splice(o,1),o--,i--);return t&&t.length>0&&this.notifyUpdate(d.ControlCodeDefine.ExpressTargetListActive,t),!0},t.prototype.handleAddCityStarExp=function(e,t,i){void 0===i&&(i=!0);var o=this.m_cityDatas[e];return!!o&&!!o.handleAddStarExp(t)&&(i&&this.notifyUpdate(d.ControlCodeDefine.ExpressCityStarExpChange,e),!0)},t.prototype.handleActiveCitySlot=function(e,t,i,o){void 0===o&&(o=!0);var n=this.m_cityDatas[e];return!!n&&!!n.handleSetSlot(t,i,1)&&(n.flush(),o&&this.notifyUpdate(d.ControlCodeDefine.ExpressCitySlotActive,new cc.Vec2(e,t)),!0)},t.prototype.handleSetCitySlotLevel=function(e,t,i,o){void 0===o&&(o=!0);var n=this.m_cityDatas[e];return!!n&&!!n.handleSetSlotLevel(t,i)&&(n.flush(),o&&this.notifyUpdate(d.ControlCodeDefine.ExpressCitySlotUpdate,new cc.Vec2(e,t)),!0)},t.prototype.handleDrawCityCoinAward=function(e,t){void 0===t&&(t=!0);var i=this.m_cityDatas[e];return!!i&&(i.handleDrawCoinAward(),t&&this.notifyUpdate(d.ControlCodeDefine.ExpressCityCoinAwardUpdate,e),!0)},t.prototype.handleResetCityCoinAwardTime=function(e,t){void 0===t&&(t=!0);var i=this.m_cityDatas[e];return!!i&&!!i.handleResetCoinAwardTime()&&(t&&this.notifyUpdate(d.ControlCodeDefine.ExpressCityCoinAwardUpdate,e),!0)},t.prototype.handleGenerateTradeTaskData=function(e){if(void 0===e&&(e=0),0==e&&(e=this.getAreaID()),this.getCurrentTaskCount()>=this.getCityTaskTotal())return null;console.info("======================");var i=D.GuideDataController.Instance.handleGenerateTradeTaskData();if(i)return i;var o=0,n=0,r=0,a=0,s=0,p=0,u=0,c=I.ConfigDataController.Instance.getTargetTradeTasks();for(var l in c)a=parseInt(l),"number"==typeof(o=I.ConfigDataController.Instance.getTargetTradeBasicRate(a))&&(r=o*(1+.01*(n=t.Instance.getAreaTaskRate(e,a))),s=miniframe.random.randomIn100(),console.info("express target type",a,", basic rate",o,", extra rate",n,", total rate",r,", current rnd",s),s<=r&&(p<=0||u>r)&&(p=a,u=r));var d=null;if(console.info("task target pick",p),p>0&&c[p]&&c[p].length>0){for(var f=c[p].slice(),g=f.length-1;g>=0;g--)this.isTaskAvailable(f[g])||f.splice(g,1);d=miniframe.random.randomWithList(f)}if(d)return d;var m=I.ConfigDataController.Instance.getCommonTradeTasks().slice();for(g=m.length-1;g>=0;g--)this.isTaskAvailable(m[g])||m.splice(g,1);return(d=miniframe.random.randomWithList(m))?console.info("pick common task",d.taskConfigID):console.info("no task"),d},t.prototype.handlePackTradeTaskData=function(e){if(!e)return null;var t=y.UIDUtility.GenerateUID(y.UIDUtility.TypeTask,e.taskConfigID),i=new l.TaskData(t);i.setConfigID(e.taskConfigID),i.setState(h.TaskStateDefine.CanAccept);var n=miniframe.random.randomWithList(e.routeIDs),a=null,s=miniframe.Config.getData(o.ConfigKeyDefine.EXPRESS_ROUTE,n);if(s){if(s.getDest()>0){var p=r.ExpressWorld.Instance.findDestBackupRouteCityIDs(s);p&&p.length>1?(p.reverse(),a=p,console.info("use dest route",t,a.join(","))):console.info("can not use dest route",t,s.getId())}else{for(var u=!0,c=(m=s.getCitiesCount())-1;c>=0;c--)if(!this.hasCityData(s.getCitiesAt(c))){u=!1;break}if(!u&&s.getBackupsCount()>0){var d=r.ExpressWorld.Instance.findBackupRouteCityIDs(s);d&&d.length>1?(a=d,console.info("use backup route",t,a.join(","))):console.info("can not use backup route",t,s.getId())}}a||(a=s.getCities())}var g=0;if(a){1==e.tradeType&&(g=miniframe.random.randomInt(1,a.length-1),console.info("pick event task",e.taskConfigID," and trigger event at",g)),i.setParameterAt(f.ExpressTaskParameterDefine.RouteCityCount,a.length);var m=a.length;for(c=0;c<m;c++)i.setParameterAt(f.ExpressTaskParameterDefine.RouteCityStart+c,a[c])}return i.setParameterAt(f.ExpressTaskParameterDefine.RouteIndex,0),i.setParameterAt(f.ExpressTaskParameterDefine.EventTrigger,g),i},t.prototype.handleExecuteTradeTaskData=function(e){return!!e&&(T.TaskDataController.Instance.handleAddTask(_.TaskTypeDefine.Trade,e,!1)&&(D.GuideDataController.Instance.triggerGuideByTask(a.GuideConditionTypeDefine.CanAcceptTask,e),T.TaskDataController.Instance.notifyUpdate(d.ControlCodeDefine.TaskAdd,e),D.GuideDataController.Instance.allTaskGuideComplete()&&S.LimitDataController.Instance.handleAddLimit(m.LimitIDDefine.DailyRecord_TradeTask,1)),this.notifyUpdate(d.ControlCodeDefine.ExpressGenerateTask,e),console.info("======================"),!0)},t.prototype.isTradeTaskCanBeGenerated=function(e){var t=I.ConfigDataController.Instance.getTradeTaskData(e);return!!t&&this.isTaskAvailable(t)},t.prototype.isTaskAvailable=function(e){if(!e.routeIDs||e.routeIDs.length<=0)return!1;var t=miniframe.Config.getData(o.ConfigKeyDefine.TASK,e.taskConfigID);if(!I.ConfigDataController.Instance.isConditionAchieved(t.getConditions()))return!1;var i=miniframe.Config.getData(o.ConfigKeyDefine.EXPRESS_TARGET,e.targetID);if(!i)return!1;if(!I.ConfigDataController.Instance.isConditionAchieved(i.getConditions()))return!1;var n=miniframe.Config.getData(o.ConfigKeyDefine.EXPRESS_ROUTE,e.routeIDs[0]);if(!n)return!1;var r=n.getCitiesAt(0);return!((this.m_cityTasks[r]?this.m_cityTasks[r].length:0)>=this.getPerCityTaskTotal())},t.prototype.handleAcceptTradeTask=function(e){var t=T.TaskDataController.Instance.getTaskData(_.TaskTypeDefine.Trade,e);t&&t.getState()==h.TaskStateDefine.CanAccept&&T.TaskDataController.Instance.handleSetTaskState(_.TaskTypeDefine.Trade,e,h.TaskStateDefine.Doing,!1)&&(D.GuideDataController.Instance.triggerGuideByTask(a.GuideConditionTypeDefine.AcceptTask,t),T.TaskDataController.Instance.notifyUpdate(d.ControlCodeDefine.TaskStateUpdate,t))},t.prototype.handleChangeTradeTask=function(e){var t=!1,i=T.TaskDataController.Instance.getTaskData(_.TaskTypeDefine.Trade,e);if(i){var o=i.getParameterAt(f.ExpressTaskParameterDefine.RouteCityCount),n=i.getParameterAt(f.ExpressTaskParameterDefine.RouteIndex);t=(n+=1)>=o-1,T.TaskDataController.Instance.handleSetTaskParameter(_.TaskTypeDefine.Trade,e,f.ExpressTaskParameterDefine.RouteIndex,n,!1)}return t&&T.TaskDataController.Instance.handleSetTaskState(_.TaskTypeDefine.Trade,e,h.TaskStateDefine.Finish,!1)&&(D.GuideDataController.Instance.triggerGuideByTask(a.GuideConditionTypeDefine.FinishTask,i),T.TaskDataController.Instance.notifyUpdate(d.ControlCodeDefine.TaskStateUpdate,i),this.notifyUpdate(d.ControlCodeDefine.ExpressFinishTask,i)),t},t.prototype.handleCommitTradeTask=function(e,t){var i=T.TaskDataController.Instance.getTaskData(_.TaskTypeDefine.Trade,e);if(i&&t){var n=miniframe.Config.getData(o.ConfigKeyDefine.TASK,i.getConfigID());if(n){var r=miniframe.Config.getData(o.ConfigKeyDefine.DROPBAG,n.getDropbag());r&&C.CharDataController.Instance.handleAddCharValues(r.getDrops())}}T.TaskDataController.Instance.handleRemoveTask(_.TaskTypeDefine.Trade,e)&&(this.notifyUpdate(d.ControlCodeDefine.ExpressCommitTask,i),D.GuideDataController.Instance.triggerGuideByTask(a.GuideConditionTypeDefine.CommitTask,i))},t.prototype.handleAbandonTradeTask=function(e){var t=T.TaskDataController.Instance.getTaskData(_.TaskTypeDefine.Trade,e);t&&T.TaskDataController.Instance.handleRemoveTask(_.TaskTypeDefine.Trade,e)&&this.notifyUpdate(d.ControlCodeDefine.ExpressAbandonTask,t)},t.prototype.handleIncreaseCityTradeCount=function(){this.m_cityTradeCount++,this.m_cityTradeCount>=this.m_cityTradeTotal&&(this.m_cityTradeCount=0)},t.prototype.handleAddUsedEvent=function(e,t,i,o){void 0===o&&(o=void 0),i?this.m_cachedUsedEvents[e]?miniframe.safePush(this.m_cachedUsedEvents[e],t):this.m_cachedUsedEvents[e]=[t]:(this.m_cachedUsedEvents[e]&&miniframe.safeRemove(this.m_cachedUsedEvents[e],t),this.m_eventsData&&this.m_eventsData.handleAddEvent(e,t,o)&&(this.m_newEvents[e]?miniframe.safePush(this.m_newEvents[e],t):this.m_newEvents[e]=[t]))},t.prototype.handleDrawTargetAward=function(e,t){if(void 0===t&&(t=!0),this.m_targetsData&&this.m_targetsData.handleSetTargetAwardState(e,1)){var i=miniframe.Config.getData(o.ConfigKeyDefine.EXPRESS_TARGET,e);if(i){var n=miniframe.Config.getData(o.ConfigKeyDefine.DROPBAG,i.getDropbag());n&&C.CharDataController.Instance.handleAddCharValues(n.getDrops(),t)}t&&this.notifyUpdate(d.ControlCodeDefine.ExpressTargetAwardUpdate,e)}},t.prototype.onDataControllerUpdate=function(e,t){switch(e){case d.ControlCodeDefine.TaskAdd:if((n=t).getTaskType()==_.TaskTypeDefine.Trade&&(o=n.getParameterAt(f.ExpressTaskParameterDefine.RouteCityCount))>0){var i=n.getParameterAt(f.ExpressTaskParameterDefine.RouteIndex);(r=n.getParameterAt(f.ExpressTaskParameterDefine.RouteCityStart))>0&&(n.getState()==h.TaskStateDefine.Doing||n.getState()==h.TaskStateDefine.CanAccept?this.addCityTask(r,n.getUID()):this.removeCityTask(r,n.getUID())),(a=n.getParameterAt(f.ExpressTaskParameterDefine.RouteCityStart+i))>0&&(n.getState()==h.TaskStateDefine.CanAccept?this.notifyUpdate(d.ControlCodeDefine.ExpressCityAddTask,[a,n.getUID()]):n.getState()==h.TaskStateDefine.Doing?this.notifyUpdate(d.ControlCodeDefine.ExpressCityDoingTask,[a,n.getUID()]):n.getState()==h.TaskStateDefine.Finish&&this.notifyUpdate(d.ControlCodeDefine.ExpressCityFinishTask,[a,n.getUID()]))}break;case d.ControlCodeDefine.TaskRemove:if((n=t).getTaskType()==_.TaskTypeDefine.Trade){var o=n.getParameterAt(f.ExpressTaskParameterDefine.RouteCityCount);(r=n.getParameterAt(f.ExpressTaskParameterDefine.RouteCityStart))>0&&this.removeCityTask(r,n.getUID()),o>0&&(i=n.getParameterAt(f.ExpressTaskParameterDefine.RouteIndex),(a=n.getParameterAt(f.ExpressTaskParameterDefine.RouteCityStart+i))>0&&this.notifyUpdate(d.ControlCodeDefine.ExpressCityRemoveTask,[a,n.getUID()]))}break;case d.ControlCodeDefine.TaskStateUpdate:var n,r,a;if((n=t).getTaskType()==_.TaskTypeDefine.Trade&&(o=n.getParameterAt(f.ExpressTaskParameterDefine.RouteCityCount))>0)i=n.getParameterAt(f.ExpressTaskParameterDefine.RouteIndex),(r=n.getParameterAt(f.ExpressTaskParameterDefine.RouteCityStart))>0&&(n.getState()==h.TaskStateDefine.Doing||n.getState()==h.TaskStateDefine.CanAccept?this.addCityTask(r,n.getUID()):this.removeCityTask(r,n.getUID())),(a=n.getParameterAt(f.ExpressTaskParameterDefine.RouteCityStart+i))>0&&(n.getState()==h.TaskStateDefine.Finish?this.notifyUpdate(d.ControlCodeDefine.ExpressCityFinishTask,[a,n.getUID()]):n.getState()==h.TaskStateDefine.Doing?this.notifyUpdate(d.ControlCodeDefine.ExpressCityDoingTask,[a,n.getUID()]):n.getState()==h.TaskStateDefine.CanAccept&&this.notifyUpdate(d.ControlCodeDefine.ExpressCityAddTask,[a,n.getUID()]))}},t.ms_instance=null,t}(n.BasicDataController);i.ExpressDataController=P,cc._RF.pop()},{"../../../Config/ConfigKeyDefine":"ConfigKeyDefine","../../../Extension/DataControl/BasicDataController":"BasicDataController","../../Core/Express/ExpressWorld":"ExpressWorld","../../Module/Guide/Define/GuideConditionTypeDefine":"GuideConditionTypeDefine","../Data/ExpressAreaData":"ExpressAreaData","../Data/ExpressCityData":"ExpressCityData","../Data/ExpressEventGroupsData":"ExpressEventGroupsData","../Data/ExpressTargetsData":"ExpressTargetsData","../Data/TaskData":"TaskData","../Define/ControlCodeDefine":"ControlCodeDefine","../Define/ExpressTaskParameterDefine":"ExpressTaskParameterDefine","../Define/ItemPackTypeDefine":"ItemPackTypeDefine","../Define/LimitIDDefine":"LimitIDDefine","../Define/TaskStateDefine":"TaskStateDefine","../Define/TaskTypeDefine":"TaskTypeDefine","../Utility/UIDUtility":"UIDUtility","./CharDataController":"CharDataController","./ConfigDataController":"ConfigDataController","./GuideDataController":"GuideDataController","./ItemDataController":"ItemDataController","./LimitDataController":"LimitDataController","./StorageDataController":"StorageDataController","./TaskDataController":"TaskDataController"}],ExpressDropBodyScript:[function(e,t,i){"use strict";cc._RF.push(t,"91ee0YGGEpAUp+JDYfe4Apm","ExpressDropBodyScript"),Object.defineProperty(i,"__esModule",{value:!0});var o=cc._decorator,n=o.ccclass,r=o.property,a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.icon=null,t}return __extends(t,e),__decorate([r(cc.Sprite)],t.prototype,"icon",void 0),__decorate([n],t)}(cc.Component);i.default=a,cc._RF.pop()},{}],ExpressDropBody:[function(e,t,i){"use strict";cc._RF.push(t,"0602aDYL8RHw5sGSJnhETEz","ExpressDropBody"),Object.defineProperty(i,"__esModule",{value:!0}),i.ExpressDropBody=void 0;var o=e("../../../../Extension/UI/Sprite/UISprite"),n=e("../Component/ExpressDropBodyScript"),r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.m_inited=!1,t.m_dropBodyScript=null,t.m_icon=null,t.m_dropBodyType=0,t.m_dropBodyValue=0,t.m_dropBodyExtra=0,t.m_atlasName="",t.m_spriteName="",t}return __extends(t,e),t.prototype.onInitNode=function(t){e.prototype.onInitNode.call(this,t),this.m_inited=!0,this.m_dropBodyScript=t?t.getComponent(n.default):null,this.m_dropBodyScript&&this.m_dropBodyScript.icon&&(this.m_icon||(this.m_icon=new o.UISprite),this.m_icon.bindScript(this.m_dropBodyScript.icon)),this.onSetIcon()},t.prototype.onUnInitNode=function(t){this.m_inited=!1,this.m_icon&&(this.m_icon.dispose(),this.m_icon=null),this.m_dropBodyScript=null,e.prototype.onUnInitNode.call(this,t)},t.prototype.setDropBodyType=function(e){this.m_dropBodyType=e},t.prototype.getDropBodyType=function(){return this.m_dropBodyType},t.prototype.setDropBodyValue=function(e){this.m_dropBodyValue=e},t.prototype.getDropBodyValue=function(){return this.m_dropBodyValue},t.prototype.setDropBodyExtra=function(e){this.m_dropBodyExtra=e},t.prototype.getDropBodyExtra=function(){return this.m_dropBodyExtra},t.prototype.clone=function(){var e=new t;return e.setResource(this.getResource()),e.bindNode(this.cloneNode()),e},t.prototype.setIcon=function(e,t){this.m_atlasName=e,this.m_spriteName=t,this.onSetIcon()},t.prototype.onSetIcon=function(){this.m_inited&&this.m_icon&&(""==this.m_atlasName&&""==this.m_spriteName||this.m_icon.hookAtlasSprite(this.m_atlasName,this.m_spriteName))},t}(miniframe.LazyNode);i.ExpressDropBody=r,cc._RF.pop()},{"../../../../Extension/UI/Sprite/UISprite":"UISprite","../Component/ExpressDropBodyScript":"ExpressDropBodyScript"}],ExpressDropData:[function(e,t,i){"use strict";cc._RF.push(t,"9d4b6nhwRZIJJMv05T4HeZt","ExpressDropData"),Object.defineProperty(i,"__esModule",{value:!0}),i.ExpressDropData=void 0;var o=e("../../../Module/Core/Control/CoreConsts"),n=e("../Define/ExpressDropTypeDefine"),r=function(){function e(){this.dropType=0,this.parameters=[]}return e.prototype.setParameterAt=function(e,t){for(;e>=this.parameters.length;)this.parameters.push(0);this.parameters[e]=t},e.prototype.getParameterAt=function(e){if(!(e<0||e>=this.parameters.length))return this.parameters[e]},e.prototype.getDropAudioID=function(){if(this.dropType==n.ExpressDropTypeDefine.Task||this.dropType==n.ExpressDropTypeDefine.Value){var e=this.getParameterAt(1);return o.CoreConsts.DropValueAudioIDs[e]}if(this.dropType==n.ExpressDropTypeDefine.Event){var t=this.getParameterAt(2);if(1==t)return 70;if(2==t)return 71}return 0},e.prototype.getFlyAudioID=function(){if(this.dropType==n.ExpressDropTypeDefine.Task||this.dropType==n.ExpressDropTypeDefine.Value){var e=this.getParameterAt(1);return o.CoreConsts.FlyValueAudioIDs[e]}return this.dropType==n.ExpressDropTypeDefine.Event?61:0},e}();i.ExpressDropData=r,cc._RF.pop()},{"../../../Module/Core/Control/CoreConsts":"CoreConsts","../Define/ExpressDropTypeDefine":"ExpressDropTypeDefine"}],ExpressDropScript:[function(e,t,i){"use strict";cc._RF.push(t,"6cf99nM3W9BCZluer5Z7Bau","ExpressDropScript"),Object.defineProperty(i,"__esModule",{value:!0});var o=cc._decorator,n=o.ccclass,r=o.property,a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.hookNode=null,t.clickMask=null,t}return __extends(t,e),__decorate([r(cc.Node)],t.prototype,"hookNode",void 0),__decorate([r(cc.Node)],t.prototype,"clickMask",void 0),__decorate([n],t)}(cc.Component);i.default=a,cc._RF.pop()},{}],ExpressDropTypeDefine:[function(e,t,i){"use strict";cc._RF.push(t,"e85d6tZWcpGiJVpiDhDUjiJ","ExpressDropTypeDefine"),Object.defineProperty(i,"__esModule",{value:!0}),i.ExpressDropTypeDefine=void 0,function(e){e[e.Task=0]="Task",e[e.Event=1]="Event",e[e.Value=2]="Value"}(i.ExpressDropTypeDefine||(i.ExpressDropTypeDefine={})),cc._RF.pop()},{}],ExpressDrop:[function(e,t,i){"use strict";cc._RF.push(t,"8f542FMIMJJF5R0gm5p/IW+","ExpressDrop"),Object.defineProperty(i,"__esModule",{value:!0}),i.ExpressDrop=void 0;var o=e("../../../../Config/ConfigKeyDefine"),n=e("../../../Business/Control/TaskDataController"),r=e("../../../Business/Define/AwardTypeDefine"),a=e("../../../Business/Define/ExpressEventTypeDefine"),s=e("../../../Business/Define/TaskTypeDefine"),p=e("../../../MiniGame"),u=e("../../../Module/Core/Control/CoreConsts"),c=e("../../../Module/Core/Control/CoreGameController"),l=e("../Component/ExpressDropScript"),d=e("../Define/ExpressDropTypeDefine"),f=e("../ExpressWorld"),g=e("./ExpressArea"),m=e("./ExpressResources"),h=function(e){function t(t){var i=e.call(this)||this;return i.m_script=null,i.m_mediatorName="",i.m_cityID=0,i.m_dropNode=null,i.m_dropOffset=cc.Vec2.ZERO,i.m_dropData=null,i.m_clickCallback=null,i.m_clickCallbackTarget=null,i.m_cachedCityPos=null,i.m_dropCallback=null,i.m_dropCallbackTarget=null,i.m_guideMode=0,i.m_mediatorName=t,i.loadResource("PF_Drop_Slot"),i}return __extends(t,e),t.prototype.onInitNode=function(t){e.prototype.onInitNode.call(this,t),this.m_script=t?t.getComponent(l.default):null,this.m_script&&this.m_script.clickMask&&this.m_script.clickMask.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this.onSetDropData(),this.onPlayDrop(),this.onSetGuideMode()},t.prototype.onUnInitNode=function(t){this.setGuideMode(0),this.m_script&&this.m_script.clickMask&&this.m_script.clickMask.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this.m_script=null,e.prototype.onUnInitNode.call(this,t)},t.prototype.setCityID=function(e){this.m_cityID=e},t.prototype.getCityID=function(){return this.m_cityID},t.prototype.setDropData=function(e){this.m_dropData=e,this.onSetDropData()},t.prototype.getDropData=function(){return this.m_dropData},t.prototype.setDropOffset=function(e){this.m_dropOffset=e},t.prototype.getDropOffset=function(){return this.m_dropOffset},t.prototype.setDropClickCallback=function(e,t){this.m_clickCallback=e,this.m_clickCallbackTarget=t},t.prototype.onSetDropData=function(){this.m_dropData&&this.m_script&&(this.m_dropNode||(this.m_dropNode=m.ExpressResources.Instance.requestDropBodyByDropData(this.m_dropData)),this.m_dropNode.setParent(this.m_script.hookNode),this.m_dropNode.setPosition(cc.Vec2.ZERO),this.m_dropNode.show())},t.prototype.onTouchEnd=function(){if(p.MiniGame.Guide.hasWantedButton()&&this.m_dropData){if(this.m_dropData.dropType==d.ExpressDropTypeDefine.Task&&!p.MiniGame.Guide.onWantedButtonClick(this.m_mediatorName,this.getButtonKey()))return;if(this.m_dropData.dropType==d.ExpressDropTypeDefine.Event&&!p.MiniGame.Guide.onWantedButtonClick(this.m_mediatorName,this.getButtonKey()))return}if(this.m_clickCallback){var e=this.m_clickCallback,t=this.m_clickCallbackTarget;this.m_clickCallback=null,this.m_clickCallbackTarget=null,e.call(t,this)}},t.prototype.playDrop=function(e,t,i){this.m_cachedCityPos=e,this.m_dropCallback=t,this.m_dropCallbackTarget=i,this.onPlayDrop()},t.prototype.onPlayDrop=function(){var e=this;if(this.m_cachedCityPos&&this.getNode()){this.stopAllActions();var t=this.m_cachedCityPos,i=miniframe.add(this.m_cachedCityPos,this.m_dropOffset),o=miniframe.lerp(t,i,.5).add(new cc.Vec2(0,100));this.m_cachedCityPos=null;var n=cc.tween(this.getNode());if(n.bezierTo(.2,t,o,i),this.m_dropCallback){var r=this.m_dropCallback,a=this.m_dropCallbackTarget;this.m_dropCallback=null,this.m_dropCallbackTarget=null,n.call(function(){r.call(a,e)})}n.start()}},t.prototype.clear=function(){this.m_dropNode&&(m.ExpressResources.Instance.recycleDropBody(this.m_dropNode),this.m_dropNode=null),this.m_dropData=null,this.m_cityID=0},t.prototype.fly=function(e){void 0===e&&(e=void 0);var t=!1;if(this.m_dropNode&&this.m_dropData){var i=this.m_dropNode,n=this.m_dropData;if(this.m_dropNode=null,this.m_dropData=null,n.dropType==d.ExpressDropTypeDefine.Event){var s=n.getParameterAt(0);if(s>0){var l=!1,g=miniframe.Config.getData(o.ConfigKeyDefine.EXPRESS_EVENT_BAG,s);if(g)if(g.getType()==a.ExpressEventTypeDefine.Message)l=!0,null!=e?c.CoreGameController.Instance.flyEventNodeTo("bookweapon",i,1,f.ExpressWorld.Instance.getCameraPosition(),!1,void 0,void 0,c.CoreGameController.Instance.tryFlyAwardText,c.CoreGameController.Instance,["bookweapon_text",new cc.Vec3(r.AwardTypeDefine.Item,e.x,e.y)]):c.CoreGameController.Instance.flyEventNodeTo("event",i,1,f.ExpressWorld.Instance.getCameraPosition(),!1,void 0,void 0,c.CoreGameController.Instance.tryFlyAwardText,c.CoreGameController.Instance,["event_text",new cc.Vec3(r.AwardTypeDefine.BookEvent,s,1)]),t=!0;else if(g.getType()==a.ExpressEventTypeDefine.YinPiao){var h=n.getParameterAt(1),_=miniframe.Config.getData(o.ConfigKeyDefine.EXPRESS_EVENT,h);if(_){var y=miniframe.Config.getData(o.ConfigKeyDefine.DROPBAG,_.getDropbagAt(0));if(y){var C=y.getDropsAt(0).x,I=y.getDropsAt(0).y,D=u.CoreConsts.SceneValueFlyNums[C],v=miniframe.random.randomIntWith(D),S=m.ExpressResources.Instance.requestDropValueBody(C);S.setParent(this.getNode()),c.CoreGameController.Instance.flyValueNodeTo(C,I,S,v,f.ExpressWorld.Instance.getCameraPosition()),t=!0}}}l||(m.ExpressResources.Instance.recycleDropBody(i),i=null)}else m.ExpressResources.Instance.recycleDropBody(i),i=null}else n.dropType==d.ExpressDropTypeDefine.Task||n.dropType==d.ExpressDropTypeDefine.Value?(C=n.getParameterAt(1),I=n.getParameterAt(2),D=u.CoreConsts.SceneValueFlyNums[C],v=miniframe.random.randomIntWith(D),c.CoreGameController.Instance.flyValueNodeTo(C,I,i,v,f.ExpressWorld.Instance.getCameraPosition()),t=!0):(m.ExpressResources.Instance.recycleDropBody(i),i=null);var b=n.getFlyAudioID();b>0&&p.MiniGame.Audio.playAudio(b)}return m.ExpressResources.Instance.recycleDrop(this),t},t.prototype.getButtonKey=function(){if(this.m_dropData){if(this.m_dropData.dropType==d.ExpressDropTypeDefine.Task){var e=this.m_dropData.getParameterAt(0),t=n.TaskDataController.Instance.getTaskData(s.TaskTypeDefine.Trade,e),i=t?t.getConfigID():"";return g.ExpressArea.CityButtonKeyPickDropPrefix+i}if(this.m_dropData.dropType==d.ExpressDropTypeDefine.Event){var o=this.m_dropData.getParameterAt(0),r=this.m_dropData.getParameterAt(1);return g.ExpressArea.CityButtonKeyPickEventPrefix+(100*o+r)}}return""},t.prototype.setGuideMode=function(e){this.m_guideMode!=e&&(this.m_guideMode=e,this.onSetGuideMode())},t.prototype.onSetGuideMode=function(){this.getNode()&&""!=this.m_mediatorName&&(this.m_guideMode>0?p.MiniGame.Guide.addButton(this.m_mediatorName,this.getButtonKey(),this.getNode()):p.MiniGame.Guide.removeButtonSafely(this.m_mediatorName,this.getButtonKey(),this.getNode()))},t}(miniframe.LazyNode);i.ExpressDrop=h,cc._RF.pop()},{"../../../../Config/ConfigKeyDefine":"ConfigKeyDefine","../../../Business/Control/TaskDataController":"TaskDataController","../../../Business/Define/AwardTypeDefine":"AwardTypeDefine","../../../Business/Define/ExpressEventTypeDefine":"ExpressEventTypeDefine","../../../Business/Define/TaskTypeDefine":"TaskTypeDefine","../../../MiniGame":"MiniGame","../../../Module/Core/Control/CoreConsts":"CoreConsts","../../../Module/Core/Control/CoreGameController":"CoreGameController","../Component/ExpressDropScript":"ExpressDropScript","../Define/ExpressDropTypeDefine":"ExpressDropTypeDefine","../ExpressWorld":"ExpressWorld","./ExpressArea":"ExpressArea","./ExpressResources":"ExpressResources"}],ExpressEventBagConfigData:[function(e,t,i){"use strict";cc._RF.push(t,"dc27ey0MJ9JCb5OL6fzicFB","ExpressEventBagConfigData"),Object.defineProperty(i,"__esModule",{value:!0}),i.ExpressEventBagConfigData=void 0;var o=function(){function e(e){this.m_data=null,this.m_data=e,this.init()}return e.prototype.getId=function(){return this.m_data.getId()},e.prototype.getType=function(){return this.m_data.getType()},e.prototype.getSubType=function(){return this.m_data.getSubType()},e.prototype.getTitleLan=function(){return this.m_data.getTitleLan()},e.prototype.getAwardId=function(){return this.m_data.getAwardId()},e.prototype.getTargetId=function(){return this.m_data.getTargetId()},e.prototype.getEvents=function(){return this.m_data.getEventsList()},e.prototype.getEventsCount=function(){return this.m_data.getEventsList().length},e.prototype.getEventsAt=function(e){return e<0||e>=this.m_data.getEventsList().length?0:this.m_data.getEventsList()[e]},e.prototype.init=function(){},e.prototype.getConfigKey=function(){return this.getId()},e}();i.ExpressEventBagConfigData=o,cc._RF.pop()},{}],ExpressEventConfigData:[function(e,t,i){"use strict";cc._RF.push(t,"c559eE31KBElavWqjdn+S3I","ExpressEventConfigData"),Object.defineProperty(i,"__esModule",{value:!0}),i.ExpressEventConfigData=void 0;var o=function(){function e(e){this.m_data=null,this.m_data=e,this.init()}return e.prototype.getId=function(){return this.m_data.getId()},e.prototype.getDropbagFirst=function(){return this.m_data.getDropbagFirstList()},e.prototype.getDropbagFirstCount=function(){return this.m_data.getDropbagFirstList().length},e.prototype.getDropbagFirstAt=function(e){return e<0||e>=this.m_data.getDropbagFirstList().length?0:this.m_data.getDropbagFirstList()[e]},e.prototype.getDropbag=function(){return this.m_data.getDropbagList()},e.prototype.getDropbagCount=function(){return this.m_data.getDropbagList().length},e.prototype.getDropbagAt=function(e){return e<0||e>=this.m_data.getDropbagList().length?0:this.m_data.getDropbagList()[e]},e.prototype.getTitleLan=function(){return this.m_data.getTitleLan()},e.prototype.getContent=function(){return this.m_data.getContent()},e.prototype.getAwardContent=function(){return this.m_data.getAwardContentList()},e.prototype.getAwardContentCount=function(){return this.m_data.getAwardContentList().length},e.prototype.getAwardContentAt=function(e){return e<0||e>=this.m_data.getAwardContentList().length?"":this.m_data.getAwardContentList()[e]},e.prototype.getOptions=function(){return this.m_data.getOptionsList()},e.prototype.getOptionsCount=function(){return this.m_data.getOptionsList().length},e.prototype.getOptionsAt=function(e){return e<0||e>=this.m_data.getOptionsList().length?"":this.m_data.getOptionsList()[e]},e.prototype.init=function(){},e.prototype.getConfigKey=function(){return this.getId()},e}();i.ExpressEventConfigData=o,cc._RF.pop()},{}],ExpressEventGroupData:[function(e,t,i){"use strict";cc._RF.push(t,"22e70KpFJ1BI6nu/Ja8Q3dP","ExpressEventGroupData"),Object.defineProperty(i,"__esModule",{value:!0}),i.ExpressEventGroupData=void 0;var o=function(e){function t(t){var i=e.call(this,t+"")||this;return i.m_groupID=0,i.m_groupID=t,i}return __extends(t,e),t.prototype.getGroupID=function(){return this.m_groupID},t.prototype.getFullHouseCount=function(){return this.getIntValueAt(t.Index_FullHouse)},t.prototype.setFullHouseCount=function(e,i){void 0===i&&(i=!0),this.setIntValueAt(t.Index_FullHouse,e,i)},t.prototype.addFullHouseCount=function(e,i){void 0===i&&(i=!0),this.addIntValueAt(t.Index_FullHouse,e,i)},t.prototype.getEventCount=function(){return this.getIntValueCount(t.Index_EventStart)},t.prototype.containsEvent=function(e){return this.containsIntValue(e,t.Index_EventStart)},t.prototype.addEvent=function(e,i){void 0===i&&(i=!0),this.pushIntValue(e,t.Index_EventStart,i)},t.prototype.clearEvents=function(e){void 0===e&&(e=!0),this.removeIntValues(t.Index_EventStart,-1,e)},t.Index_FullHouse=0,t.Index_EventStart=1,t}(e("./IntListStorageProperty").IntListStorageProperty);i.ExpressEventGroupData=o,cc._RF.pop()},{"./IntListStorageProperty":"IntListStorageProperty"}],ExpressEventGroupsData:[function(e,t,i){"use strict";cc._RF.push(t,"34e51BL5rRF24OURTWFvrDc","ExpressEventGroupsData"),Object.defineProperty(i,"__esModule",{value:!0}),i.ExpressEventGroupsData=void 0;var o=e("../../../Extension/Storage/StorageGroupData"),n=e("./ExpressEventGroupData"),r=function(e){function t(){var t=e.call(this,"e_event")||this;return t.m_map={},t}return __extends(t,e),t.prototype.onCreateProperty=function(e){var t=parseInt(e);return this.m_map[t]||(this.m_map[t]=new n.ExpressEventGroupData(t)),this.m_map[t]},t.prototype.getEventFullHouseCount=function(e){return this.m_map[e]?this.m_map[e].getFullHouseCount():0},t.prototype.containsEvent=function(e,t){return!!this.m_map[e]&&this.m_map[e].containsEvent(t)},t.prototype.getEventCount=function(e){return this.m_map[e]?this.m_map[e].getEventCount():0},t.prototype.getEventGroups=function(){return this.m_map},t.prototype.handleAddEvent=function(e,t,i){return this.m_map[e]||this.initProperty(e+""),!(!this.m_map[e]||this.m_map[e].containsEvent(t)||(this.m_map[e].addEvent(t),null!=i&&this.m_map[e].getEventCount()>=i&&(this.m_map[e].addFullHouseCount(1),this.m_map[e].clearEvents()),0))},t}(o.StorageGroupData);i.ExpressEventGroupsData=r,cc._RF.pop()},{"../../../Extension/Storage/StorageGroupData":"StorageGroupData","./ExpressEventGroupData":"ExpressEventGroupData"}],ExpressEventTypeDefine:[function(e,t,i){"use strict";cc._RF.push(t,"0eceevWJFpDqbM08A5XAjQf","ExpressEventTypeDefine"),Object.defineProperty(i,"__esModule",{value:!0}),i.ExpressEventTypeDefine=void 0,function(e){e[e.None=0]="None",e[e.Message=1]="Message",e[e.Dialog=2]="Dialog",e[e.Hijack=3]="Hijack",e[e.YinPiao=4]="YinPiao"}(i.ExpressEventTypeDefine||(i.ExpressEventTypeDefine={})),cc._RF.pop()},{}],ExpressItemParameterDefine:[function(e,t,i){"use strict";cc._RF.push(t,"02eadpp/7RDtpdUThcCvQdk","ExpressItemParameterDefine"),Object.defineProperty(i,"__esModule",{value:!0}),i.ExpressItemParameterDefine=void 0,function(e){e[e.Level=0]="Level"}(i.ExpressItemParameterDefine||(i.ExpressItemParameterDefine={})),cc._RF.pop()},{}],ExpressMonsterScript:[function(e,t,i){"use strict";cc._RF.push(t,"defabKI9GJGFJOZJeSV12Tx","ExpressMonsterScript"),Object.defineProperty(i,"__esModule",{value:!0});var o=e("../../../../Extension/UI/Label/UITextScript"),n=cc._decorator,r=n.ccclass,a=n.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.nameLabel=null,t.icon=null,t.activeNode=null,t.deactiveNode=null,t.passNode=null,t.unPassNode=null,t.clickMask=null,t}return __extends(t,e),__decorate([a(o.default)],t.prototype,"nameLabel",void 0),__decorate([a(cc.Sprite)],t.prototype,"icon",void 0),__decorate([a(cc.Node)],t.prototype,"activeNode",void 0),__decorate([a(cc.Node)],t.prototype,"deactiveNode",void 0),__decorate([a(cc.Node)],t.prototype,"passNode",void 0),__decorate([a(cc.Node)],t.prototype,"unPassNode",void 0),__decorate([a(cc.Node)],t.prototype,"clickMask",void 0),__decorate([r],t)}(cc.Component);i.default=s,cc._RF.pop()},{"../../../../Extension/UI/Label/UITextScript":"UITextScript"}],ExpressMonster:[function(e,t,i){"use strict";cc._RF.push(t,"21880wvRYBDApGSewbzDYPe","ExpressMonster"),Object.defineProperty(i,"__esModule",{value:!0}),i.ExpressMonster=void 0;var o=e("../../../../Config/ConfigKeyDefine"),n=e("../../../../Extension/UI/Sprite/UISprite"),r=e("../Component/ExpressMonsterScript"),a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.m_script=null,t.m_icon=null,t.m_cityID=0,t.m_monsterID=0,t.m_state=0,t.m_listener=null,t}return __extends(t,e),t.prototype.onInitNode=function(t){e.prototype.onInitNode.call(this,t),this.m_script=t?t.getComponent(r.default):null,this.m_script&&this.m_script.icon&&(this.m_icon||(this.m_icon=new n.UISprite),this.m_icon.bindScript(this.m_script.icon)),this.onSetMonster(),this.onSetState()},t.prototype.onUnInitNode=function(t){this.m_icon&&(this.m_icon.dispose(),this.m_icon=null),this.m_script=null,e.prototype.onUnInitNode.call(this,t)},t.prototype.getCityID=function(){return this.m_cityID},t.prototype.setCityID=function(e){this.m_cityID=e},t.prototype.getMonsterID=function(){return this.m_monsterID},t.prototype.setMonsterID=function(e){this.m_monsterID=e,this.onSetMonster()},t.prototype.onSetMonster=function(){if(this.m_script){var e=miniframe.Config.getData(o.ConfigKeyDefine.MONSTER_INFO,this.m_monsterID);e?(this.m_script.nameLabel&&(this.m_script.nameLabel.string=e.getNameLan()),this.m_icon&&(this.m_icon.hookAtlasSprite(e.getIconAt(0),e.getIconAt(1)),this.m_icon.getNode().setPosition(new cc.Vec2(miniframe.toNumber(e.getIconAt(2)),miniframe.toNumber(e.getIconAt(3)))))):(this.m_script.nameLabel&&(this.m_script.nameLabel.string=""),this.m_icon&&this.m_icon.clear())}},t.prototype.getState=function(){return this.m_state},t.prototype.setState=function(e){this.m_state=e,this.onSetState()},t.prototype.onSetState=function(){this.m_script&&(this.m_script.activeNode&&(this.m_script.activeNode.active=0==this.m_state),this.m_script.deactiveNode&&(this.m_script.deactiveNode.active=this.m_state<0),this.m_script.passNode&&(this.m_script.passNode.active=this.m_state>0),this.m_script.unPassNode&&(this.m_script.unPassNode.active=this.m_state<=0))},t.prototype.setListener=function(e){this.m_listener=e},t.prototype.containsPoint=function(e){if(!this.m_script)return!1;if(!this.m_script.clickMask)return!1;var t=this.getNode();if(!t.active)return!1;var i=t.x,o=t.y;return!(e.x<i+this.m_script.clickMask.x-.5*this.m_script.clickMask.width||e.x>i+this.m_script.clickMask.x+.5*this.m_script.clickMask.width||e.y<o+this.m_script.clickMask.y-.5*this.m_script.clickMask.height||e.y>o+this.m_script.clickMask.y+.5*this.m_script.clickMask.height)},t.prototype.onTouchEnd=function(){this.m_listener&&this.m_listener.onMonsterClick(this)},t.prototype.getButtonKey=function(){return""},t}(miniframe.LazyNode);i.ExpressMonster=a,cc._RF.pop()},{"../../../../Config/ConfigKeyDefine":"ConfigKeyDefine","../../../../Extension/UI/Sprite/UISprite":"UISprite","../Component/ExpressMonsterScript":"ExpressMonsterScript"}],ExpressObjectScript:[function(e,t,i){"use strict";cc._RF.push(t,"62379MoLK1KUr7sgMORtR8A","ExpressObjectScript"),Object.defineProperty(i,"__esModule",{value:!0});var o=cc._decorator,n=o.ccclass,r=o.property,a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.sortRange=null,t.sortMask=null,t.sortPolygon=null,t}return __extends(t,e),__decorate([r(cc.Node)],t.prototype,"sortRange",void 0),__decorate([r(cc.Node)],t.prototype,"sortMask",void 0),__decorate([r(cc.PolygonCollider)],t.prototype,"sortPolygon",void 0),__decorate([n],t)}(cc.Component);i.default=a,cc._RF.pop()},{}],ExpressObject:[function(e,t,i){"use strict";cc._RF.push(t,"c7d107tCgZG+ql45IKK4NN7","ExpressObject"),Object.defineProperty(i,"__esModule",{value:!0}),i.ExpressObject=void 0;var o=e("../../Sequence/SequenceRect"),n=e("../Component/ExpressObjectScript"),r=function(e){function t(){var i=e.call(this)||this;return i.m_script=null,i.m_uid=0,i.m_sequencer=null,i.m_sequenceIndex=0,i.m_areaID=0,i.m_polyPoints=null,i.m_isSequenceStatic=!1,i.m_sequenceRect=null,i.m_sequenceRectUpdateFrame=0,t.ms_uidCounter++,i.m_uid=t.ms_uidCounter,i}return __extends(t,e),t.prototype.getUID=function(){return this.m_uid},t.prototype.setAreaID=function(e){this.m_areaID=e},t.prototype.getAreaID=function(){return this.m_areaID},t.prototype.onInitNode=function(t){e.prototype.onInitNode.call(this,t),this.m_script=t?t.getComponent(n.default):null,this.m_sequencer&&this.m_sequencer.setDirty()},t.prototype.onUnInitNode=function(t){this.m_polyPoints=null,this.m_script=null,e.prototype.onUnInitNode.call(this,t)},t.prototype.updateSequenceRect=function(e){if(void 0===e&&(e=!1),!e&&this.m_sequenceRect&&this.m_sequenceRectUpdateFrame>0){if(this.isSequenceStatic())return;if(this.m_sequenceRectUpdateFrame>=cc.director.getTotalFrames())return}this.m_sequenceRect||(this.m_sequenceRect=new o.SequenceRect);var t=this.getPosition();this.m_sequenceRect.outer.x=t.x,this.m_sequenceRect.outer.y=t.y,this.m_sequenceRect.outer.width=this.getWidth(),this.m_sequenceRect.outer.height=this.getHeight(),this.m_sequenceRect.inner.x=t.x,this.m_sequenceRect.inner.y=t.y,this.m_sequenceRect.inner.width=this.getWidth(),this.m_sequenceRect.inner.height=this.getHeight(),this.onUpdateSequenceRect(this.m_sequenceRect)&&(this.m_sequenceRectUpdateFrame=cc.director.getTotalFrames())},t.prototype.onUpdateSequenceRect=function(e){if(!this.m_script)return!1;if(this.m_script.sortMask&&(e.inner.x+=this.m_script.sortMask.x,e.inner.y+=this.m_script.sortMask.y,e.inner.width=this.m_script.sortMask.width,e.inner.height=this.m_script.sortMask.height),this.m_script.sortRange)e.outer.x+=this.m_script.sortRange.x,e.outer.y+=this.m_script.sortRange.y,e.outer.width=this.m_script.sortRange.width,e.outer.height=this.m_script.sortRange.height;else{var t=this.getNode();t?(e.outer.width=t.width,e.outer.height=t.height):(e.outer.x=e.inner.x,e.outer.y=e.inner.y,e.outer.width=e.inner.width,e.outer.height=e.inner.height)}return!0},t.prototype.setSequenceStatic=function(e){this.m_isSequenceStatic=e},t.prototype.setSequenceDirty=function(){this.m_sequencer&&this.m_sequencer.setDirty()},t.prototype.isSequenceStatic=function(){return this.m_isSequenceStatic},t.prototype.setSequencer=function(e){this.m_sequencer=e},t.prototype.setSequenceIndex=function(e){this.m_sequenceIndex=e},t.prototype.getSequenceIndex=function(){return this.m_sequenceIndex},t.prototype.getSequenceRect=function(){return this.updateSequenceRect(),this.m_sequenceRect},t.prototype.isInSequencePolyCollider=function(e){if(!this.m_script)return!1;if(!this.m_script.sortPolygon)return!1;if(!this.m_polyPoints){this.m_polyPoints=[];for(var t=this.m_script.sortPolygon.points.length,i=0;i<t;i++)this.m_polyPoints.push(miniframe.add(this.getPosition(),this.m_script.sortPolygon.points[i]))}return cc.Intersection.pointInPolygon(e,this.m_polyPoints)},t.ms_uidCounter=0,t}(miniframe.LazyNode);i.ExpressObject=r,cc._RF.pop()},{"../../Sequence/SequenceRect":"SequenceRect","../Component/ExpressObjectScript":"ExpressObjectScript"}],ExpressResources:[function(e,t,i){"use strict";cc._RF.push(t,"596ecuuQvNHiKy9/VU7aBT7","ExpressResources"),Object.defineProperty(i,"__esModule",{value:!0}),i.ExpressResources=void 0;var o=e("./ExpressDrop"),n=e("./ExpressCityTask"),r=e("../Define/ExpressDropTypeDefine"),a=e("./ExpressDropBody"),s=e("./ExpressArea"),p=function(){function e(){this.m_cityTasks=[],this.m_dropNodes=[],this.m_dropBodyNodes={},e.ms_instance=this}return Object.defineProperty(e,"Instance",{get:function(){return e.ms_instance||new e},enumerable:!1,configurable:!0}),e.prototype.requestCityTask=function(){var e=null;return this.m_cityTasks.length>0?(e=this.m_cityTasks.pop()).show():e=new n.ExpressCityTask(s.ExpressArea.MediatorName),e},e.prototype.recycleCityTask=function(e){e.clear(),e.setParent(null),e.hide(),miniframe.safePush(this.m_cityTasks,e)},e.prototype.requestDrop=function(){var e=null;return this.m_dropNodes.length>0?(e=this.m_dropNodes.pop()).show():e=new o.ExpressDrop(s.ExpressArea.MediatorName),e},e.prototype.recycleDrop=function(e){e.clear(),e.setParent(null),e.hide(),miniframe.safePush(this.m_dropNodes,e)},e.prototype.requestDropBodyByDropData=function(e){return e.dropType==r.ExpressDropTypeDefine.Event?this.requestDropBody(1,e.getParameterAt(2),e.getParameterAt(3)):e.dropType==r.ExpressDropTypeDefine.Task||e.dropType==r.ExpressDropTypeDefine.Value?this.requestDropBody(0,e.getParameterAt(1)):null},e.prototype.requestDropValueBody=function(e){return this.requestDropBody(0,e)},e.prototype.requestDropBody=function(e,t,i){void 0===t&&(t=0),void 0===i&&(i=0);var o=100*t+i,n=null;return this.m_dropBodyNodes[e]&&this.m_dropBodyNodes[e][o]&&this.m_dropBodyNodes[e][o].length>0&&(n=this.m_dropBodyNodes[e][o].pop()),n||(n=new a.ExpressDropBody,0==e?n.loadResource("PF_Drop_Value_"+t):1==e?n.loadResource("PF_Drop_Event_"+t+"_"+i):2==e?n.loadResource("PF_Effect_FlyTask"):3==e&&n.loadResource("PF_Drop_Item")),n},e.prototype.recycleDropBody=function(e){if(e.isAutoDestroyNode())e.dispose();else{var t=e.getDropBodyType(),i=100*e.getDropBodyValue()+e.getDropBodyExtra();e.setParent(null),e.hide(),this.m_dropBodyNodes[t]||(this.m_dropBodyNodes[t]={}),this.m_dropBodyNodes[t][i]?miniframe.safePush(this.m_dropBodyNodes[t][i],e):this.m_dropBodyNodes[t][i]=[e]}},e.ms_instance=null,e}();i.ExpressResources=p,cc._RF.pop()},{"../Define/ExpressDropTypeDefine":"ExpressDropTypeDefine","./ExpressArea":"ExpressArea","./ExpressCityTask":"ExpressCityTask","./ExpressDrop":"ExpressDrop","./ExpressDropBody":"ExpressDropBody"}],ExpressRouteConfigData:[function(e,t,i){"use strict";cc._RF.push(t,"a1e509Hr89Dv5ruRiHUv00K","ExpressRouteConfigData"),Object.defineProperty(i,"__esModule",{value:!0}),i.ExpressRouteConfigData=void 0;var o=function(){function e(e){this.m_data=null,this.m_backups=[],this.m_data=e,this.init()}return e.prototype.getId=function(){return this.m_data.getId()},e.prototype.getCities=function(){return this.m_data.getCitiesList()},e.prototype.getCitiesCount=function(){return this.m_data.getCitiesList().length},e.prototype.getCitiesAt=function(e){return e<0||e>=this.m_data.getCitiesList().length?0:this.m_data.getCitiesList()[e]},e.prototype.getBackups=function(){return this.m_backups},e.prototype.getBackupsCount=function(){return this.m_backups.length},e.prototype.getBackupsAt=function(e){return e<0||e>=this.m_backups.length?null:this.m_backups[e]},e.prototype.getDest=function(){return this.m_data.getDest()},e.prototype.init=function(){this.m_backups=miniframe.Number2.parseListFrom(this.m_data.getBackupsList())},e.prototype.getConfigKey=function(){return this.getId()},e}();i.ExpressRouteConfigData=o,cc._RF.pop()},{}],ExpressRouteScript:[function(e,t,i){"use strict";cc._RF.push(t,"d78efvsdbJNZqYUwvNcK1mv","ExpressRouteScript"),Object.defineProperty(i,"__esModule",{value:!0});var o=cc._decorator,n=o.ccclass,r=o.property,a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.visualNodes=[],t}return __extends(t,e),__decorate([r([cc.Node])],t.prototype,"visualNodes",void 0),__decorate([n],t)}(cc.Component);i.default=a,cc._RF.pop()},{}],ExpressRoute:[function(e,t,i){"use strict";cc._RF.push(t,"376bbOLNOlF2pj5X8v56C+4","ExpressRoute"),Object.defineProperty(i,"__esModule",{value:!0}),i.ExpressRoute=void 0;var o=e("../../../MiniGame"),n=e("../ExpressWorld"),r=function(){this.start=null,this.end=null,this.distance=0,this.distanceFrom=0,this.distanceTo=0,this.type=0},a=function(){function e(){this.m_key="",this.m_from=0,this.m_to=0,this.m_points=[],this.m_segments=[],this.m_distance=0,this.m_durationMS=0}return e.prototype.getKey=function(){return this.m_key},e.prototype.getFrom=function(){return this.m_from},e.prototype.setFrom=function(e){this.m_from=e},e.prototype.getTo=function(){return this.m_to},e.prototype.setTo=function(e){this.m_to=e},e.prototype.getFromNode=function(){return this.m_points.length>0?this.m_points[0]:null},e.prototype.getToNode=function(){return this.m_points.length>0?this.m_points[this.m_points.length-1]:null},e.prototype.getDistance=function(){return this.m_distance},e.prototype.setDurationMS=function(e){this.m_durationMS=e},e.prototype.getDurationMS=function(){return this.m_durationMS},e.prototype.parseFrom=function(e){this.m_key=e.name;var t=this.m_key.split("_");this.m_from=parseInt(t[0]),this.m_to=parseInt(t[1]),this.m_points=e.children,this.m_distance=0;for(var i=0,o=null,n=this.m_points.length,a=0;a<n-1;a++)(o=new r).start=this.m_points[a],o.end=this.m_points[a+1],o.distance=this.calDistance(o.start,o.end),o.distanceFrom=this.m_distance,o.distanceTo=o.distanceFrom+o.distance,o.start.name.endsWith("river_start")&&(i=1),o.type=i,this.m_segments.push(o),this.m_distance+=o.distance,o.end.name.endsWith("river_end")&&(i=0)},e.prototype.parseBetween=function(e,t,i,o,n){this.m_key=e,this.m_from=t,this.m_to=i,this.m_points.length>0&&this.m_points.splice(0,this.m_points.length),this.m_points.push(o),this.m_points.push(n),this.m_distance=this.calDistance(o,n),this.m_segments.length>0&&this.m_segments.splice(0,this.m_segments.length);var a=new r;a.start=o,a.end=n,a.distance=this.m_distance,a.distanceFrom=0,a.distanceTo=a.distanceFrom+a.distance,this.m_segments.push(a)},e.prototype.parseWith=function(e,t,i,o){this.m_key=e,this.m_from=t,this.m_to=i,this.m_points.length>0&&this.m_points.splice(0,this.m_points.length);for(var n=o.length,a=0;a<n;a++)this.m_points.push(o[a]);this.m_distance=0;var s=null;for(n=this.m_points.length,a=0;a<n-1;a++)(s=new r).start=this.m_points[a],s.end=this.m_points[a+1],s.distance=this.calDistance(s.start,s.end),s.distanceFrom=this.m_distance,s.distanceTo=s.distanceFrom+s.distance,this.m_segments.push(s),this.m_distance+=s.distance},e.prototype.calDistance=function(e,t){return e.getParent()==t.getParent()?miniframe.distance(e.getPosition(),t.getPosition()):miniframe.distance(o.MiniGame.Instance.toWorldPosition(e),o.MiniGame.Instance.toWorldPosition(t))},e.prototype.getPosByPercent=function(e,t){if(!(this.m_points.length<=0)){if(t&&(e=1-e),this.m_points.length<=1)return this.getPosByIndex(0);if(this.m_points.length<=2)return this.getPosByIndex(0).lerp(this.getPosByIndex(1),e);var i=Math.floor(this.m_points.length*e),o=i+1;if(o>=this.m_points.length)return this.getPosByIndex(i);var n=1/this.m_points.length,r=(e-i*n)/n;return this.getPosByIndex(i).lerp(this.getPosByIndex(o),r)}},e.prototype.getPosByDistance=function(e,t){if(!(this.m_segments.length<=0)){t&&(e=this.m_distance-e);for(var i=this.m_segments.length,o=0;o<i;o++){if(0==o&&e<=this.m_segments[o].distanceFrom)return this.getPosByNode(this.m_segments[o].start);if(o==i-1&&e>=this.m_segments[o].distanceTo)return this.getPosByNode(this.m_segments[o].end);if(e>=this.m_segments[o].distanceFrom&&e<=this.m_segments[o].distanceTo){var n=(e-this.m_segments[o].distanceFrom)/this.m_segments[o].distance,r=this.getPosByNode(this.m_segments[o].start),a=this.getPosByNode(this.m_segments[o].end);return r.lerp(a,n)}}}},e.prototype.getRouteTypeByDistance=function(e,t){if(this.m_segments.length<=0)return 0;t&&(e=this.m_distance-e);for(var i=this.m_segments.length,o=0;o<i;o++){if(0==o&&e<=this.m_segments[o].distanceFrom)return this.m_segments[o].type;if(o==i-1&&e>=this.m_segments[o].distanceTo)return this.m_segments[o].type;if(e>=this.m_segments[o].distanceFrom&&e<=this.m_segments[o].distanceTo)return this.m_segments[o].type}return 0},e.prototype.getPosByIndex=function(e){return e>=0&&e<this.m_points.length?n.ExpressWorld.Instance.toAreaPositionByParent(this.m_points[e]):cc.Vec2.ZERO},e.prototype.getPosByNode=function(e){return n.ExpressWorld.Instance.toAreaPositionByParent(e)},e}();i.ExpressRoute=a,cc._RF.pop()},{"../../../MiniGame":"MiniGame","../ExpressWorld":"ExpressWorld"}],ExpressScene:[function(e,t,i){"use strict";cc._RF.push(t,"4d183KOHE5ONKyvGndE2zlN","ExpressScene"),Object.defineProperty(i,"__esModule",{value:!0}),i.ExpressScene=void 0;var o=function(){function e(){this.m_root=null}return e.prototype.setRoot=function(e){this.m_root=e},e.prototype.addChild=function(e){e&&e.getParent()!=this.m_root&&(e.getParent()&&e.removeFromParent(!1),this.m_root.addChild(e))},e.prototype.addLazyChild=function(e){e&&e.setParent(this.m_root)},e.prototype.blockEvent=function(){this.m_root&&this.m_root.pauseSystemEvents(!0)},e.prototype.unblockEvent=function(){this.m_root&&this.m_root.resumeSystemEvents(!0)},e}();i.ExpressScene=o,cc._RF.pop()},{}],ExpressStationConsumeConfigData:[function(e,t,i){"use strict";cc._RF.push(t,"18aaauQkstNq5PIhUZ72QpX","ExpressStationConsumeConfigData"),Object.defineProperty(i,"__esModule",{value:!0}),i.ExpressStationConsumeConfigData=void 0;var o=function(){function e(e){this.m_data=null,this.m_conditions=[],this.m_consumes=[],this.m_consume_addi=[],this.m_data=e,this.init()}return e.prototype.getId=function(){return this.m_data.getId()},e.prototype.getConditions=function(){return this.m_conditions},e.prototype.getConditionsCount=function(){return this.m_conditions.length},e.prototype.getConditionsAt=function(e){return e<0||e>=this.m_conditions.length?null:this.m_conditions[e]},e.prototype.getConsumes=function(){return this.m_consumes},e.prototype.getConsumesCount=function(){return this.m_consumes.length},e.prototype.getConsumesAt=function(e){return e<0||e>=this.m_consumes.length?null:this.m_consumes[e]},e.prototype.getHorseCount=function(){return this.m_data.getHorseCount()},e.prototype.getConsumeAddi=function(){return this.m_consume_addi},e.prototype.getConsumeAddiCount=function(){return this.m_consume_addi.length},e.prototype.getConsumeAddiAt=function(e){return e<0||e>=this.m_consume_addi.length?null:this.m_consume_addi[e]},e.prototype.init=function(){this.m_conditions=miniframe.Number3.parseListFrom(this.m_data.getConditionsList()),this.m_consumes=miniframe.Number2.parseListFrom(this.m_data.getConsumesList()),this.m_consume_addi=miniframe.Number2.parseListFrom(this.m_data.getConsumeAddiList())},e.prototype.getConfigKey=function(){return this.getId()},e}();i.ExpressStationConsumeConfigData=o,cc._RF.pop()},{}],ExpressStationData:[function(e,t,i){"use strict";cc._RF.push(t,"20726Wlee9BGrgQ7bBhiwom","ExpressStationData"),Object.defineProperty(i,"__esModule",{value:!0}),i.ExpressStationData=void 0;var o=e("./ExpressStationSlotData"),n=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.m_slots=[],t}return __extends(t,e),t.prototype.decode=function(i){e.prototype.decode.call(this,i);var n=this.getInt2Values(t.Index_SlotStart);if(this.m_slots=[],n&&n.length>0)for(var r=n.length,a=0;a<r;a++)this.m_slots.push(new o.ExpressStationSlotData),this.m_slots[a].setup(n[a].x,n[a].y)},t.prototype.flush=function(e,t,i,o){if(this.m_slots.length>0)for(var n=this.m_slots.length,r=0;r<n;r++)this.m_slots[r].flush(e,t,i,o)},t.prototype.getStar=function(){return this.getInt2XValueAt(t.Index_Star)},t.prototype.getStarExp=function(){return this.getInt2YValueAt(t.Index_Star)},t.prototype.getSlots=function(){return this.m_slots},t.prototype.getSlotAt=function(e){return e<0||e>=this.m_slots.length?null:this.m_slots[e]},t.prototype.handleSetStar=function(e,i){return void 0===i&&(i=!0),!(this.getStar()>=e||(this.setInt2XValueAt(t.Index_Star,e,i),0))},t.prototype.handleAddStarExp=function(e,i){return void 0===i&&(i=!0),this.addInt2YValueAt(t.Index_Star,e,i),!0},t.prototype.handleSetSlot=function(e,i,n,r){void 0===r&&(r=!0);for(var a=e-1;a>=this.m_slots.length;)this.setInt2ValueAt(t.Index_SlotStart+this.m_slots.length,0,0,!1),this.m_slots.push(new o.ExpressStationSlotData);return this.m_slots[a].setBuildingID(i),this.m_slots[a].setBuildingLevel(n),this.setInt2ValueAt(t.Index_SlotStart+a,i,n,r),!0},t.prototype.handleSetSlotLevel=function(e,i,o){void 0===o&&(o=!0);var n=e-1;return!(n<0||n>=this.m_slots.length||(this.m_slots[n].setBuildingLevel(i),this.setInt2YValueAt(t.Index_SlotStart+n,i,o),0))},t.Index_Star=0,t.Index_SlotStart=1,t}(e("./Int2ListStorageProperty").Int2ListStorageProperty);i.ExpressStationData=n,cc._RF.pop()},{"./ExpressStationSlotData":"ExpressStationSlotData","./Int2ListStorageProperty":"Int2ListStorageProperty"}],ExpressStationGrowConfigData:[function(e,t,i){"use strict";cc._RF.push(t,"4e16eexH3NJ3r+Z+aUcUlAi","ExpressStationGrowConfigData"),Object.defineProperty(i,"__esModule",{value:!0}),i.ExpressStationGrowConfigData=void 0;var o=function(){function e(e){this.m_data=null,this.m_consumes=[],this.m_data=e,this.init()}return e.prototype.getId=function(){return this.m_data.getId()},e.prototype.getExp=function(){return this.m_data.getExp()},e.prototype.getBuildingCount=function(){return this.m_data.getBuildingCount()},e.prototype.getConsumes=function(){return this.m_consumes},e.prototype.getConsumesCount=function(){return this.m_consumes.length},e.prototype.getConsumesAt=function(e){return e<0||e>=this.m_consumes.length?null:this.m_consumes[e]},e.prototype.init=function(){this.m_consumes=miniframe.Number2.parseListFrom(this.m_data.getConsumesList())},e.prototype.getConfigKey=function(){return this.getId()},e}();i.ExpressStationGrowConfigData=o,cc._RF.pop()},{}],ExpressStationSlotData:[function(e,t,i){"use strict";cc._RF.push(t,"6e802O4XuVIeo+eizdBR9ut","ExpressStationSlotData"),Object.defineProperty(i,"__esModule",{value:!0}),i.ExpressStationSlotData=void 0;var o=e("../../../Config/ConfigKeyDefine"),n=e("../Define/AttrTypeDefine"),r=e("./CharPropertyValue"),a=function(){function e(){this.m_buildingID=0,this.m_buildingLevel=0,this.m_buildingConfig=null,this.m_growConfig=null}return e.prototype.setup=function(e,t){this.m_buildingID=e,this.m_buildingLevel=t},e.prototype.flush=function(e,t,i,a){if(!this.m_growConfig||this.m_growConfig.getType()!=this.getBuildingType()||this.m_growConfig.getLevel()!=this.m_buildingLevel){var s=100*this.m_buildingID+this.m_buildingLevel;this.m_growConfig=miniframe.Config.getData(o.ConfigKeyDefine.EXPRESS_BUILDING_GROW,s)}if(this.m_growConfig){var p=!1,u=!1,c=null,l=0;l=this.m_growConfig.getAttrsCount();for(var d=0;d<l;d++)(c=this.m_growConfig.getAttrsAt(d)).x==n.AttrTypeDefine.IncomeMaxMinutes?p=!0:c.x==n.AttrTypeDefine.IncomeRate&&(u=!0),i[c.x]?i[c.x]+=c.y:i[c.x]=c.y;for(l=this.m_growConfig.getRatesCount(),d=0;d<l;d++)a[(c=this.m_growConfig.getRatesAt(d)).x]?a[c.x]+=c.y:a[c.x]=c.y;for(l=this.m_growConfig.getIncomesCount(),d=0;d<l;d++)c=this.m_growConfig.getIncomesAt(d),p?(t[c.x]||(t[c.x]=new r.CharPropertyValue(c.x)),t[c.x].addValue(c.y)):u&&(e[c.x]||(e[c.x]=new r.CharPropertyValue(c.x)),e[c.x].addValue(c.y))}},e.prototype.getBuildingID=function(){return this.m_buildingID},e.prototype.setBuildingID=function(e){this.m_buildingID=e},e.prototype.getBuildingLevel=function(){return this.m_buildingLevel},e.prototype.setBuildingLevel=function(e){this.m_buildingLevel=e},e.prototype.getBuildingType=function(){if(this.m_buildingID>0){if(this.m_buildingConfig||(this.m_buildingConfig=miniframe.Config.getData(o.ConfigKeyDefine.EXPRESS_BUILDING,this.m_buildingID)),this.m_buildingConfig)return this.m_buildingConfig.getType()}else this.m_buildingConfig&&(this.m_buildingConfig=null);return 0},e}();i.ExpressStationSlotData=a,cc._RF.pop()},{"../../../Config/ConfigKeyDefine":"ConfigKeyDefine","../Define/AttrTypeDefine":"AttrTypeDefine","./CharPropertyValue":"CharPropertyValue"}],ExpressTargetConfigData:[function(e,t,i){"use strict";cc._RF.push(t,"e607aBtAVxK9rZnnkRRjlrr","ExpressTargetConfigData"),Object.defineProperty(i,"__esModule",{value:!0}),i.ExpressTargetConfigData=void 0;var o=function(){function e(e){this.m_data=null,this.m_conditions=[],this.m_data=e,this.init()}return e.prototype.getId=function(){return this.m_data.getId()},e.prototype.getConditions=function(){return this.m_conditions},e.prototype.getConditionsCount=function(){return this.m_conditions.length},e.prototype.getConditionsAt=function(e){return e<0||e>=this.m_conditions.length?null:this.m_conditions[e]},e.prototype.getType=function(){return this.m_data.getType()},e.prototype.getNameLan=function(){return this.m_data.getNameLan()},e.prototype.getDescLan=function(){return this.m_data.getDescLan()},e.prototype.getDescLan2=function(){return this.m_data.getDescLan2()},e.prototype.getDropbag=function(){return this.m_data.getDropbag()},e.prototype.getIcon=function(){return this.m_data.getIconList()},e.prototype.getIconCount=function(){return this.m_data.getIconList().length},e.prototype.getIconAt=function(e){return e<0||e>=this.m_data.getIconList().length?"":this.m_data.getIconList()[e]},e.prototype.getHead=function(){return this.m_data.getHeadList()},e.prototype.getHeadCount=function(){return this.m_data.getHeadList().length},e.prototype.getHeadAt=function(e){return e<0||e>=this.m_data.getHeadList().length?"":this.m_data.getHeadList()[e]},e.prototype.getFigure=function(){return this.m_data.getFigureList()},e.prototype.getFigureCount=function(){return this.m_data.getFigureList().length},e.prototype.getFigureAt=function(e){return e<0||e>=this.m_data.getFigureList().length?"":this.m_data.getFigureList()[e]},e.prototype.init=function(){this.m_conditions=miniframe.Number3.parseListFrom(this.m_data.getConditionsList())},e.prototype.getConfigKey=function(){return this.getId()},e}();i.ExpressTargetConfigData=o,cc._RF.pop()},{}],ExpressTargetData:[function(e,t,i){"use strict";cc._RF.push(t,"d0f2aMiEMtCX5DsWWo91XgL","ExpressTargetData"),Object.defineProperty(i,"__esModule",{value:!0}),i.ExpressTargetData=void 0;var o=function(e){function t(t){var i=e.call(this,t+"")||this;return i.m_targetID=0,i.m_targetID=t,i}return __extends(t,e),t.prototype.getTargetID=function(){return this.m_targetID},t.prototype.getDrawState=function(){return this.getIntValueAt(t.Index_AwardState)},t.prototype.setDrawState=function(e,i){void 0===i&&(i=!0),this.setIntValueAt(t.Index_AwardState,e,i)},t.Index_AwardState=0,t}(e("./IntListStorageProperty").IntListStorageProperty);i.ExpressTargetData=o,cc._RF.pop()},{"./IntListStorageProperty":"IntListStorageProperty"}],ExpressTargetsData:[function(e,t,i){"use strict";cc._RF.push(t,"03109xoZL5CLadSuCaNRugT","ExpressTargetsData"),Object.defineProperty(i,"__esModule",{value:!0}),i.ExpressTargetsData=void 0;var o=e("../../../Config/ConfigKeyDefine"),n=e("../../../Extension/Storage/StorageGroupData"),r=e("../Define/ConditionTypeDefine"),a=e("./ExpressTargetData"),s=function(e){function t(){var t=e.call(this,"e_target")||this;return t.m_map={},t}return __extends(t,e),t.prototype.onCreateProperty=function(e){var t=parseInt(e);return this.m_map[t]||(this.m_map[t]=new a.ExpressTargetData(t)),this.m_map[t]},t.prototype.isTargetActivated=function(e){return!!this.m_map[e]},t.prototype.hasAnyTargetActivated=function(){var e=null;for(var t in this.m_map)if(e=this.m_map[t],this.isTargetNeedCondition(e.getTargetID()))return!0;return!1},t.prototype.isTargetAwardHasDrawn=function(e){return!!this.m_map[e]&&1==this.m_map[e].getDrawState()},t.prototype.isTargetNeedCondition=function(e){var t=miniframe.Config.getData(o.ConfigKeyDefine.EXPRESS_TARGET,e);if(!t)return!1;if(t.getConditionsCount()<=0)return!1;for(var i=t.getConditionsCount(),n=0;n<i;n++)if(t.getConditionsAt(n).x==r.ConditionTypeDefine.CityStar&&t.getConditionsAt(n).z>0)return!0;return!1},t.prototype.handleActiveTargets=function(e){if(e&&!(e.length<=0))for(var t=e.length,i=0;i<t;i++)this.handleActiveTarget(e[i])},t.prototype.handleActiveTarget=function(e){return!this.m_map[e]&&(this.initProperty(e+""),!0)},t.prototype.handleSetTargetAwardState=function(e,t,i){return void 0===i&&(i=!0),!!this.m_map[e]&&(this.m_map[e].setDrawState(t,i),!0)},t}(n.StorageGroupData);i.ExpressTargetsData=s,cc._RF.pop()},{"../../../Config/ConfigKeyDefine":"ConfigKeyDefine","../../../Extension/Storage/StorageGroupData":"StorageGroupData","../Define/ConditionTypeDefine":"ConditionTypeDefine","./ExpressTargetData":"ExpressTargetData"}],ExpressTaskParameterDefine:[function(e,t,i){"use strict";cc._RF.push(t,"b8945ABJ8ZGK7K8cS7iCecR","ExpressTaskParameterDefine"),Object.defineProperty(i,"__esModule",{value:!0}),i.ExpressTaskParameterDefine=void 0,function(e){e[e.RouteIndex=0]="RouteIndex",e[e.EventTrigger=1]="EventTrigger",e[e.RouteCityCount=2]="RouteCityCount",e[e.RouteCityStart=3]="RouteCityStart"}(i.ExpressTaskParameterDefine||(i.ExpressTaskParameterDefine={})),cc._RF.pop()},{}],ExpressTradeRoute:[function(e,t,i){"use strict";cc._RF.push(t,"adceain145AX6d2vnNtyvTk","ExpressTradeRoute"),Object.defineProperty(i,"__esModule",{value:!0}),i.ExpressTradeRoute=void 0;var o=function(){function e(){this.m_route=null,this.m_dir=0,this.m_isInner=!1}return e.prototype.setup=function(e,t,i){this.m_route=e,this.m_dir=t,this.m_isInner=i},e.prototype.reverse=function(){this.m_dir=-this.m_dir},e.prototype.getCityFrom=function(){return this.m_route?this.m_dir<0?this.m_route.getTo():this.m_route.getFrom():null},e.prototype.getCityFromNode=function(){return this.m_route?this.m_dir<0?this.m_route.getToNode():this.m_route.getFromNode():null},e.prototype.getCityTo=function(){return this.m_route?this.m_dir<0?this.m_route.getFrom():this.m_route.getTo():null},e.prototype.getCityToNode=function(){return this.m_route?this.m_dir<0?this.m_route.getFromNode():this.m_route.getToNode():null},e.prototype.getPosByPercent=function(e){return this.m_route?this.m_route.getPosByPercent(e,this.m_dir<0):cc.Vec2.ZERO},e.prototype.getPosByDistance=function(e){return this.m_route?this.m_route.getPosByDistance(e,this.m_dir<0):cc.Vec2.ZERO},e.prototype.getRouteTypeByDistance=function(e){return this.m_route?this.m_route.getRouteTypeByDistance(e,this.m_dir<0):0},e.prototype.getDistance=function(){return this.m_route?this.m_route.getDistance():0},e.prototype.getDurationMS=function(){return this.m_route?this.m_route.getDurationMS():0},e.prototype.getDir=function(){return this.m_dir},e.prototype.isInner=function(){return this.m_isInner},e}();i.ExpressTradeRoute=o,cc._RF.pop()},{}],ExpressTradeScript:[function(e,t,i){"use strict";cc._RF.push(t,"f0c53gfkZdELpUk/vq88bVq","ExpressTradeScript"),Object.defineProperty(i,"__esModule",{value:!0});var o=e("./ExpressObjectScript"),n=cc._decorator,r=n.ccclass,a=n.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bodyNode=null,t.peopleNode=null,t.vehicleNode=null,t.taskNode=null,t.range=null,t.clickMask=null,t}return __extends(t,e),__decorate([a(cc.Node)],t.prototype,"bodyNode",void 0),__decorate([a(cc.Node)],t.prototype,"peopleNode",void 0),__decorate([a(cc.Node)],t.prototype,"vehicleNode",void 0),__decorate([a(cc.Node)],t.prototype,"taskNode",void 0),__decorate([a(cc.Node)],t.prototype,"range",void 0),__decorate([a(cc.Node)],t.prototype,"clickMask",void 0),__decorate([r],t)}(o.default);i.default=s,cc._RF.pop()},{"./ExpressObjectScript":"ExpressObjectScript"}],ExpressTrade:[function(e,t,i){"use strict";cc._RF.push(t,"591c1+GCrlF96nZ07BaC0ax","ExpressTrade"),Object.defineProperty(i,"__esModule",{value:!0}),i.ExpressTrade=void 0;var o=e("../../../Module/Core/Control/CoreConsts"),n=e("./ExpressObject"),r=e("./ExpressResources"),a=e("./ExpressTradeRoute"),s=e("./ExpressCityWait"),p=e("../../../Business/Control/ConfigDataController"),u=e("../Define/ExpressAreaLayerDefine"),c=function(e){function t(){var t=e.call(this)||this;return t.m_area=null,t.m_speed=0,t.m_speedScale=1,t.m_gap=0,t.m_routes=[],t.m_isPingPong=!1,t.m_passedDistance=0,t.m_followDistance=0,t.m_delay=0,t.m_currentRouteIndex=0,t.m_currentRoute=null,t.m_tradeKey="",t.m_tradeType=0,t.m_tradeBodies=[],t.m_taskUID="",t.m_taskBody=null,t.m_listener=null,t.m_lockType=0,t.m_locked=!1,t.m_routeType=0,t.m_shipBody=null,t.m_waitIcon=null,t.m_speedChangeInterval=0,t.loadResource("PF_Trade"),t}return __extends(t,e),Object.defineProperty(t.prototype,"tradeScript",{get:function(){return this.m_script},enumerable:!1,configurable:!0}),t.prototype.setArea=function(e){this.m_area=e},t.prototype.setTradeKey=function(e){this.m_tradeKey=e},t.prototype.getTradeKey=function(){return this.m_tradeKey},t.prototype.onInitNode=function(t){e.prototype.onInitNode.call(this,t),this.onSetTask(),this.randomTradeBody(),this.m_currentRoute&&this.tradeScript&&this.tradeScript.vehicleNode&&(this.tradeScript.vehicleNode.scale=this.m_currentRoute.isInner()?0:1,this.tradeScript.vehicleNode.setPosition(o.CoreConsts.TaskTradeVehicleOffset))},t.prototype.onUnInitNode=function(t){for(;this.m_tradeBodies.length>0;)this.m_tradeBodies.pop().dispose();this.m_taskBody&&(r.ExpressResources.Instance.recycleCityTask(this.m_taskBody),this.m_taskBody=null),this.m_shipBody&&(this.m_shipBody.dispose(),this.m_shipBody=null),this.m_waitIcon&&(this.m_waitIcon.dispose(),this.m_waitIcon=null),this.m_script=null,e.prototype.onUnInitNode.call(this,t)},t.prototype.setSpeed=function(e){this.m_speed=e},t.prototype.setGap=function(e){this.m_gap=e},t.prototype.clearRoutes=function(){this.m_routes.length>0&&this.m_routes.splice(0,this.m_routes.length),this.m_currentRouteIndex=0,this.m_currentRoute=null,this.m_delay=0,this.m_routeType=0},t.prototype.addRoute=function(e,t,i){var o=new a.ExpressTradeRoute;o.setup(e,t,i),this.m_routes.push(o)},t.prototype.reverseRoute=function(){for(var e=this.m_routes.length,t=0;t<e;t++)this.m_routes[t].reverse();this.m_routes.reverse()},t.prototype.setIsPingPong=function(e){this.m_isPingPong=e},t.prototype.setTradeType=function(e){this.m_tradeType=e},t.prototype.getTradeType=function(){return this.m_tradeType},t.prototype.setListener=function(e){this.m_listener=e},t.prototype.setLock=function(e,t){void 0===t&&(t=0),t<this.m_lockType||(this.m_lockType=t,this.m_locked=e)},t.prototype.checkLock=function(){this.m_locked&&this.onTradeLeaveCheck()&&(this.setLock(!1),0==this.m_currentRouteIndex&&this.onTradeStart(),this.onTradeLeave())},t.prototype.hasRoute=function(){return this.m_routes.length>0},t.prototype.update=function(e){if(this.getNode()&&!this.m_locked){if(this.m_delay>0)return this.m_delay-=e,void(this.m_delay<=0&&0==this.getTradeType()&&this.tradeScript&&this.tradeScript.bodyNode&&(this.tradeScript.bodyNode.active=!0));if(this.m_speedChangeInterval<=0?(this.m_speedChangeInterval=p.ConfigDataController.Instance.getTradeSpeedScaleChangeInterval(this.getTradeType()),this.m_speedScale=.01*p.ConfigDataController.Instance.getTradeSpeedScale(this.getTradeType())):this.m_speedChangeInterval-=e,this.m_currentRoute){var t=!1;if(this.m_currentRoute.getDurationMS()>0){if(this.m_routeType=0,this.m_passedDistance+=e,this.m_followDistance=this.m_passedDistance,(n=this.m_currentRoute.getPosByPercent(this.m_passedDistance))&&(this.setPosition(n),1==this.getTradeType()&&this.m_taskBody&&((r=this.m_currentRoute.getPosByPercent(this.m_followDistance)).x+=o.CoreConsts.TaskTradeFollowOffset.x,r.y+=o.CoreConsts.TaskTradeFollowOffset.y,r.x-=n.x,r.y-=n.y,this.m_taskBody.setPosition(r))),this.m_waitIcon){var i=Math.min(1,this.m_passedDistance/this.m_currentRoute.getDurationMS());this.m_waitIcon.setProgress(i)}t=this.m_passedDistance>=this.m_currentRoute.getDurationMS()}else{var n,r,a=this.m_passedDistance+this.m_speed*this.m_speedScale*e*.001;if(0==this.m_routeType){if(1==this.m_currentRoute.getRouteTypeByDistance(a))return this.setLock(!0,1),void this.showShip()}else if(1==this.m_routeType&&0==this.m_currentRoute.getRouteTypeByDistance(a))return this.setLock(!0,1),void this.hideShip();this.m_passedDistance=a,this.m_currentRoute.isInner()?this.m_followDistance=Math.max(this.m_followDistance,this.m_passedDistance-o.CoreConsts.TaskTradeFollowGap*(1-this.m_passedDistance/this.m_currentRoute.getDistance())):this.m_followDistance=Math.max(this.m_followDistance,this.m_passedDistance-o.CoreConsts.TaskTradeFollowGap),(n=this.m_currentRoute.getPosByDistance(this.m_passedDistance))&&(this.setPosition(n),1==this.getTradeType()&&this.m_taskBody&&((r=this.m_currentRoute.getPosByDistance(this.m_followDistance)).x+=o.CoreConsts.TaskTradeFollowOffset.x,r.y+=o.CoreConsts.TaskTradeFollowOffset.y,r.x-=n.x,r.y-=n.y,this.m_taskBody.setPosition(r))),t=this.m_passedDistance>=this.m_currentRoute.getDistance()}t&&(this.onTradeArrive(),this.m_isPingPong||this.m_currentRouteIndex>=this.m_routes.length&&this.onTradeComplete())}else{if(this.m_routes.length<=0)return;this.m_currentRouteIndex>=this.m_routes.length?this.m_isPingPong&&(this.reverseRoute(),this.m_currentRouteIndex=0,this.m_currentRoute=this.m_routes[this.m_currentRouteIndex],this.m_currentRoute&&this.onTradeStart(),this.onTradeLocate()):(this.m_currentRoute=this.m_routes[this.m_currentRouteIndex],this.m_currentRoute&&(this.onTradeLeaveCheck()?(0==this.m_currentRouteIndex&&this.onTradeStart(),this.onTradeLeave()):this.setLock(!0),this.onTradeLocate()))}this.setSequenceDirty()}},t.prototype.randomTradeBody=function(){if(this.m_script)if(0==this.m_tradeType){for(var e=0,t=miniframe.random.randomInt(1,4),i=0;i<t;i++)i>=this.m_tradeBodies.length&&(e++,this.m_tradeBodies.push(new miniframe.LazyNode),this.m_tradeBodies[i].setParent(this.tradeScript.peopleNode),this.m_tradeBodies[i].setLoadCallback(this.onTradeBodyPrepared,this),this.m_tradeBodies[i].loadResource("PF_People_"+(i+1))),this.m_tradeBodies[i].show(),this.tradeScript.range?this.m_tradeBodies[i].setPosition(new cc.Vec2(miniframe.random.randomInt(.5*-this.tradeScript.range.width,.5*this.tradeScript.range.width),miniframe.random.randomInt(.5*-this.tradeScript.range.height,.5*this.tradeScript.range.height))):this.m_tradeBodies[i].setPosition(new cc.Vec2(miniframe.random.randomInt(-20,20),miniframe.random.randomInt(-20,20)));if(t<this.m_tradeBodies.length)for(;t<this.m_tradeBodies.length;)this.m_tradeBodies.pop().dispose();e<=0&&this.onTradeBodyPrepared(null)}else 1==this.m_tradeType&&this.m_tradeBodies.length<=0&&(this.m_tradeBodies.push(new miniframe.LazyNode),this.m_tradeBodies[0].setParent(this.tradeScript.vehicleNode),this.m_tradeBodies[0].loadResource("PF_Train"),this.m_tradeBodies[0].show())},t.prototype.comparePos=function(e,t){return e.getPosition().y-t.getPosition().y},t.prototype.onTradeBodyPrepared=function(e){e&&e.setLoadCallback(null,null);for(var t=this.m_tradeBodies.length,i=0;i<t;i++)if(!this.m_tradeBodies[i].getNode())return;for(this.m_tradeBodies.sort(this.comparePos),t=this.m_tradeBodies.length,i=0;i<t;i++)this.m_tradeBodies[i].getNode().setSiblingIndex(i)},t.prototype.onTradeLocate=function(){if(this.m_currentRoute){var e=this.m_currentRoute.getPosByDistance(0);if(e?(this.setPosition(e),1==this.getTradeType()&&(this.m_taskBody&&this.m_taskBody.setPosition(cc.Vec2.ZERO),this.m_area.addLazyChild(this,u.ExpressAreaLayerDefine.Dynamic))):1==this.getTradeType()&&(this.m_waitIcon||(this.m_waitIcon=new s.ExpressCityWait,this.m_area.addLazyChild(this.m_waitIcon,u.ExpressAreaLayerDefine.Front)),this.m_waitIcon.show(),this.m_waitIcon.setProgress(0),this.m_waitIcon.setPosition(this.getPosition()),this.m_area.addLazyChild(this,u.ExpressAreaLayerDefine.Front)),1==this.getTradeType()){if(this.tradeScript.vehicleNode){var t=this.m_currentRoute.isInner()?0:1;o.CoreConsts.DoTradeScaleTween(this.tradeScript.vehicleNode,t,null)}var i=this.m_taskBody.getNode();i&&(t=this.m_currentRoute.isInner()?this.m_currentRoute.getDurationMS()>0?o.CoreConsts.TaskTradeStayInCityScale:o.CoreConsts.TaskTradeMoveInCityScale:o.CoreConsts.TaskTradeMoveInRoadScale,o.CoreConsts.DoTradeScaleTween(i,t,null))}}},t.prototype.onTradeStart=function(){this.randomTradeBody(),this.tradeScript&&this.tradeScript.bodyNode&&(this.tradeScript.bodyNode.active=!0),this.m_waitIcon&&this.m_waitIcon.hide(),1==this.getTradeType()&&this.m_taskBody&&this.m_taskBody.setScale(new cc.Vec2(o.CoreConsts.TaskTradeStartScale,o.CoreConsts.TaskTradeStartScale))},t.prototype.onTradeLeaveCheck=function(){return!this.m_listener||this.m_listener.onTradeLeaveCheck(this,this.m_currentRoute.getCityFrom(),this.m_currentRoute.getCityTo())},t.prototype.onTradeLeave=function(){this.m_listener&&this.m_listener.onTradeLeave(this,this.m_currentRoute.getCityFrom(),this.m_currentRoute.getCityTo())},t.prototype.onTradeArrive=function(){var e=this.m_currentRoute;this.m_currentRoute=null,this.m_currentRouteIndex++,this.m_delay=1==this.getTradeType()?0:this.m_gap,this.m_passedDistance=0,this.m_followDistance=0,this.m_waitIcon&&this.m_waitIcon.hide(),0==this.getTradeType()&&this.tradeScript&&this.tradeScript.bodyNode&&(this.tradeScript.bodyNode.active=!1),e&&this.m_listener&&this.m_listener.onTradeArrive(this,e.getCityFrom(),e.getCityTo())},t.prototype.onTradeComplete=function(){this.m_listener&&this.m_listener.onTradeFinish(this)},t.prototype.setTask=function(e){if(this.m_taskUID!=e){for(this.m_taskUID=e;this.m_tradeBodies.length>0;)this.m_tradeBodies.pop().dispose();this.onSetTask()}},t.prototype.onSetTask=function(){this.m_script&&this.m_taskUID&&""!=this.m_taskUID&&(this.m_taskBody||(this.m_taskBody=r.ExpressResources.Instance.requestCityTask(),this.m_taskBody.setParent(this.tradeScript.taskNode)),this.m_taskBody.show(),this.m_taskBody.setPosition(cc.Vec2.ZERO),this.m_taskBody.setScale(new cc.Vec2(o.CoreConsts.TaskTradeStartScale,o.CoreConsts.TaskTradeStartScale)),this.m_taskBody.setTaskUID(this.m_taskUID),this.m_taskBody.setTrade(this))},t.prototype.getTask=function(){return this.m_taskUID},t.prototype.getTaskBody=function(){return this.m_taskBody},t.prototype.clearTask=function(){this.m_taskUID="",this.m_taskBody&&this.m_taskBody.hide()},t.prototype.onDispose=function(){e.prototype.onDispose.call(this),this.m_taskBody&&(r.ExpressResources.Instance.recycleCityTask(this.m_taskBody),this.m_taskBody=null),this.m_listener=null},t.prototype.containsPoint=function(e){var t=this.getNode();if(!t)return!1;if(!t.active)return!1;var i=t.x,o=t.y,n=0,r=0;if(this.m_taskBody){var a=this.m_taskBody.getNode();if(a){i+=a.x,o+=a.y,n=a.width,r=a.height;var s=this.m_taskBody.getClickMask();s&&(i+=s.x,o+=s.y,n=s.width,r=s.height)}}return e.x<i-.5*n?this.containsPointInClickMask(e):e.x>i+.5*n?this.containsPointInClickMask(e):e.y<o-.5*r?this.containsPointInClickMask(e):!(e.y>o+.5*r)||this.containsPointInClickMask(e)},t.prototype.containsPointInClickMask=function(e){if(!this.tradeScript)return!1;if(!this.tradeScript.clickMask)return!1;var t=this.getNode();if(!t)return!1;var i=t.x,o=t.y;return!(e.x<i+this.tradeScript.clickMask.x-.5*this.tradeScript.clickMask.width||e.x>i+this.tradeScript.clickMask.x+.5*this.tradeScript.clickMask.width||e.y<o+this.tradeScript.clickMask.y-.5*this.tradeScript.clickMask.height||e.y>o+this.tradeScript.clickMask.y+.5*this.tradeScript.clickMask.height)},t.prototype.showShip=function(){var e=this;this.m_shipBody||(this.m_shipBody=new miniframe.LazyNode,this.m_shipBody.loadResource("PF_Ship"),this.m_shipBody.setParent(this.tradeScript.bodyNode)),this.m_shipBody.show();var t=1;if(this.m_currentRoute){var i=this.m_currentRoute.getCityFromNode(),n=this.m_currentRoute.getCityToNode();i&&n&&(t=i.x<n.x?1:-1)}if(this.m_shipBody.setScale(new cc.Vec2(t,1)),1==this.getTradeType()){if(this.m_currentRoute&&!this.m_currentRoute.isInner()&&this.tradeScript.vehicleNode){var r=0;o.CoreConsts.DoTradeShowShipTween(this.tradeScript.vehicleNode,o.CoreConsts.TaskTradeVehicleOffset,r,null)}var a=this.m_taskBody?this.m_taskBody.getNode():null;a?(r=0,o.CoreConsts.DoTradeShowShipTween(a,cc.Vec2.ZERO,r,function(){e.onShipShow()})):setTimeout(function(){e.onShipShow()},1e3*o.CoreConsts.TaskTradeScaleDuration)}else r=0,o.CoreConsts.DoTradeScaleTween(this.tradeScript.peopleNode,r,function(){e.onShipShow()})},t.prototype.onShipShow=function(){this.m_routeType=1,this.setLock(!1,1)},t.prototype.hideShip=function(){var e=this;if(this.m_shipBody&&this.m_shipBody.hide(),1==this.getTradeType()){if(this.m_currentRoute&&!this.m_currentRoute.isInner()&&this.tradeScript.vehicleNode){var t=1;o.CoreConsts.DoTradeHideShipTween(this.tradeScript.vehicleNode,o.CoreConsts.TaskTradeVehicleOffset,t,null)}var i=this.m_taskBody?this.m_taskBody.getNode():null;if(i){i.setPosition(cc.Vec2.ZERO),this.m_followDistance=this.m_passedDistance;var n=this.getPosition(),r=this.m_currentRoute?this.m_currentRoute.getPosByDistance(this.m_followDistance):n;r.x+=o.CoreConsts.TaskTradeFollowOffset.x,r.y+=o.CoreConsts.TaskTradeFollowOffset.y,r.x-=n.x,r.y-=n.y,t=o.CoreConsts.TaskTradeMoveInRoadScale,o.CoreConsts.DoTradeHideShipTween(i,r,t,function(){e.onHideShip()})}else setTimeout(function(){e.onHideShip()},1e3*o.CoreConsts.TaskTradeScaleDuration)}else t=1,o.CoreConsts.DoTradeScaleTween(this.tradeScript.peopleNode,t,function(){e.onHideShip()})},t.prototype.onHideShip=function(){this.m_routeType=0,this.setLock(!1,1)},t.prototype.onUpdateSequenceRect=function(e){if(!this.m_script)return!1;if(1==this.m_routeType&&this.m_shipBody)e.inner.x+=this.m_shipBody.getPosition().x,e.inner.y+=this.m_shipBody.getPosition().y,e.inner.width=this.m_shipBody.getWidth(),e.inner.height=this.m_shipBody.getHeight();else{for(var t=0,i=0,o=0,n=0,r=this.m_tradeBodies.length,a=0;a<r;a++)0==a?(t=this.m_tradeBodies[a].getPosition().x-.5*this.m_tradeBodies[a].getWidth(),i=this.m_tradeBodies[a].getPosition().x+.5*this.m_tradeBodies[a].getWidth(),o=this.m_tradeBodies[a].getPosition().y+.5*this.m_tradeBodies[a].getHeight(),n=this.m_tradeBodies[a].getPosition().y-.5*this.m_tradeBodies[a].getHeight()):(t=Math.min(t,this.m_tradeBodies[a].getPosition().x-.5*this.m_tradeBodies[a].getWidth()),i=Math.max(i,this.m_tradeBodies[a].getPosition().x+.5*this.m_tradeBodies[a].getWidth()),o=Math.max(o,this.m_tradeBodies[a].getPosition().y+.5*this.m_tradeBodies[a].getHeight()),n=Math.max(n,this.m_tradeBodies[a].getPosition().y-.5*this.m_tradeBodies[a].getHeight()));var s=i-t,p=o-n,u=t+.5*s,c=o-.5*p;e.inner.x+=u,e.inner.y+=c,e.inner.width=s,e.inner.height=p}return e.outer.x=e.inner.x,e.outer.y=e.inner.y,e.outer.width=e.inner.width,e.outer.height=e.inner.height,!0},t.prototype.onTouchEnd=function(){this.m_listener&&this.m_listener.onTradeClick(this)},t}(n.ExpressObject);i.ExpressTrade=c,cc._RF.pop()},{"../../../Business/Control/ConfigDataController":"ConfigDataController","../../../Module/Core/Control/CoreConsts":"CoreConsts","../Define/ExpressAreaLayerDefine":"ExpressAreaLayerDefine","./ExpressCityWait":"ExpressCityWait","./ExpressObject":"ExpressObject","./ExpressResources":"ExpressResources","./ExpressTradeRoute":"ExpressTradeRoute"}],ExpressWorld:[function(e,t,i){"use strict";cc._RF.push(t,"cca0faxFitEY4Y14xrVM4fe","ExpressWorld"),Object.defineProperty(i,"__esModule",{value:!0}),i.ExpressWorld=void 0;var o=e("../../../Config/ConfigKeyDefine"),n=e("../../../Extension/SystemOpen/SystemOpenController"),r=e("../../Business/Control/CharDataController"),a=e("../../Business/Control/CopyDataController"),s=e("../../Business/Control/ExpressDataController"),p=e("../../Business/Define/ButtonTipsHandlerDefine"),u=e("../../Business/Define/ControlCodeDefine"),c=e("../../Business/Define/SystemIDDefine"),l=e("../../Business/Define/ValueTypeDefine"),d=e("../../MiniGame"),f=e("../../Module/Business/Define/BusinessNotificationDefine"),g=e("../../Module/MediatorNameDefine"),m=e("../Sequence/SequenceController"),h=e("./Control/ExpressArea"),_=e("./Scene/ExpressCamera"),y=e("./Scene/ExpressScene"),C=function(){function e(){this.m_camera=null,this.m_scene=null,this.m_area=null,this.m_listeningTime=!1,e.ms_instance=this}return Object.defineProperty(e,"Instance",{get:function(){return e.ms_instance||new e},enumerable:!1,configurable:!0}),e.prototype.setup=function(e,t,i){this.m_camera||(this.m_camera=new _.ExpressCamera),this.m_camera.setCamera(e,t,i.width,i.height),this.m_scene||(this.m_scene=new y.ExpressScene),this.m_scene.setRoot(i),s.ExpressDataController.Instance.addListener(this),r.CharDataController.Instance.addListener(this),a.CopyDataController.Instance.addListener(this),d.MiniGame.SystemOpen.isSystemOpen(c.SystemIDDefine.CityMonsterCanFight)||n.SystemOpenController.Instance.addListener(this)},e.prototype.start=function(){var e=miniframe.Config.getData(o.ConfigKeyDefine.EXPRESS_AREA,1);e?(this.m_area||(this.m_area=new h.ExpressArea,this.m_scene.addLazyChild(this.m_area)),this.m_camera.resetCamera(),this.m_camera.lookAt(cc.Vec2.ZERO),this.m_area.setLoadCallback(this.onAreaLoadComplete,this),this.m_area.setAreaConfig(e),this.m_area.flush(),d.MiniGame.Audio.playBGM(101),this.enableTouch(),this.listenTime()):console.info("missing express area config",1)},e.prototype.blockEvent=function(){this.m_scene&&this.m_scene.blockEvent(),this.lockTouch(),miniframe.UI.blockEvent(),d.MiniGame.MVC.sendNotification(f.BusinessNotificationDefine.BLOCK_EVENT)},e.prototype.unblockEvent=function(){this.m_scene&&this.m_scene.unblockEvent(),this.unlockTouch(),miniframe.UI.unblockEvent()},e.prototype.enableTouch=function(){this.m_area.enableTouch()},e.prototype.disableTouch=function(){this.m_area.disableTouch()},e.prototype.lockTouch=function(){this.m_area.lockTouch()},e.prototype.unlockTouch=function(){this.m_area.unlockTouch()},e.prototype.addCameraListener=function(e){this.m_camera.addListener(e)},e.prototype.removeCameraListener=function(e){this.m_camera.removeListener(e)},e.prototype.cameraZoom=function(e){this.m_camera.zoom(e)},e.prototype.getCameraRatio=function(){return this.m_camera.getRatio()},e.prototype.cameraMove=function(e,t){this.m_camera.moveOffset(e,t)},e.prototype.getCameraPosition=function(){return this.m_camera.getPosition()},e.prototype.getCameraLeft=function(){return this.m_camera.getLeft()},e.prototype.getCameraRight=function(){return this.m_camera.getRight()},e.prototype.toAreaPositionByParent=function(e){return this.m_area.toAreaPositionByParent(e)},e.prototype.toAreaPosition=function(e){return this.m_area.toAreaPosition(e)},e.prototype.onAreaLoadComplete=function(){var e=this.m_area.getNode();e&&this.m_camera.setLimitRange(e.getPosition(),e.width,e.height)},e.prototype.cameraRecordPos=function(){this.m_camera.recordPos()},e.prototype.cameraFocus=function(e,t,i,o,n){void 0===i&&(i=void 0),void 0===o&&(o=void 0),void 0===n&&(n=!1),this.m_camera.focus(e,t,i,o,n)},e.prototype.cameraBack=function(e,t){void 0===t&&(t=void 0),this.m_camera.back(e,t)},e.prototype.cameraBackToRecordPos=function(e,t){void 0===t&&(t=void 0),this.m_camera.backToRecordPos(e,t)},e.prototype.findBackupRouteCityIDs=function(e){return this.m_area.findBackupRouteCityIDs(e)},e.prototype.findDestBackupRouteCityIDs=function(e){return this.m_area.findDestBackupRouteCityIDs(e)},e.prototype.getCityConnections=function(e){return this.m_area.getCityConnections(e)},e.prototype.getCityUIPosition=function(e){return this.m_area.getCityUIPosition(e)},e.prototype.tryCreateCity=function(e){this.m_area.tryCreateCity(e)},e.prototype.tryEnterCity=function(e){this.m_area.tryEnterCity(e)},e.prototype.refreshCamera=function(){this.m_area.onExpressCameraZoom(e.Instance.getCameraRatio())},e.prototype.onSystemOpen=function(e){e==c.SystemIDDefine.CityMonsterCanFight&&(this.m_area.refreshCityCopies(!1,!0),d.MiniGame.SystemOpen.removeListener(this))},e.prototype.listenTime=function(){this.m_listeningTime||(this.m_listeningTime=!0,miniframe.Timer.addUpdateEventListener(this))},e.prototype.unlistenTime=function(){this.m_listeningTime&&(this.m_listeningTime=!1,miniframe.Timer.removeUpdateEventListener(this))},e.prototype.onTimeSystemUpdate=function(e){return this.m_area.update(e),this.m_camera.update(e),m.SequenceController.Instance.update(),!1},e.prototype.onDataControllerUpdate=function(e,t){switch(e){case u.ControlCodeDefine.ExpressCityOpen:this.m_area.activeCity(t,!1);break;case u.ControlCodeDefine.ExpressCityActive:this.m_area.activeCity(t);break;case u.ControlCodeDefine.ExpressCityUpdate:this.m_area.refreshCity(t);break;case u.ControlCodeDefine.ExpressCityStarChange:this.m_area.refreshCityStar(t);break;case u.ControlCodeDefine.ExpressCityAddTask:this.m_area.addCityCanAcceptTask(t[0],t[1]);break;case u.ControlCodeDefine.ExpressCityRemoveTask:this.m_area.removeCityCanAcceptTask(t[1]),this.m_area.removeCityDoingTask(t[1]);break;case u.ControlCodeDefine.ExpressCityDoingTask:this.m_area.removeCityCanAcceptTask(t[1]),this.m_area.addCityDoingTask(t[1]);break;case u.ControlCodeDefine.ExpressCityFinishTask:this.m_area.removeCityCanAcceptTask(t[1]),this.m_area.removeCityDoingTask(t[1]),this.m_area.addCityFinishTask(t[0],t[1]);break;case u.ControlCodeDefine.ExpressCityCoinAwardUpdate:this.m_area.refreshCityBenefits();break;case u.ControlCodeDefine.ExpressTargetListActive:d.MiniGame.MVC.openMediator(g.MediatorNameDefine.GuestActiveUIMediator,t,!0);break;case u.ControlCodeDefine.CharValueListChange:var i=t;-1==i.indexOf(l.ValueTypeDefine.Coin)&&-1==i.indexOf(l.ValueTypeDefine.Gold)||d.MiniGame.ButtonTips.refreshButtonTipsByHandler(p.ButtonTipsHandlerDefine.CityTips,!0,!0);break;case u.ControlCodeDefine.CopyMonsterClear:this.m_area.killMonster(t)}},e.ms_instance=null,e}();i.ExpressWorld=C,cc._RF.pop()},{"../../../Config/ConfigKeyDefine":"ConfigKeyDefine","../../../Extension/SystemOpen/SystemOpenController":"SystemOpenController","../../Business/Control/CharDataController":"CharDataController","../../Business/Control/CopyDataController":"CopyDataController","../../Business/Control/ExpressDataController":"ExpressDataController","../../Business/Define/ButtonTipsHandlerDefine":"ButtonTipsHandlerDefine","../../Business/Define/ControlCodeDefine":"ControlCodeDefine","../../Business/Define/SystemIDDefine":"SystemIDDefine","../../Business/Define/ValueTypeDefine":"ValueTypeDefine","../../MiniGame":"MiniGame","../../Module/Business/Define/BusinessNotificationDefine":"BusinessNotificationDefine","../../Module/MediatorNameDefine":"MediatorNameDefine","../Sequence/SequenceController":"SequenceController","./Control/ExpressArea":"ExpressArea","./Scene/ExpressCamera":"ExpressCamera","./Scene/ExpressScene":"ExpressScene"}],FlyContainerUIScript:[function(e,t,i){"use strict";cc._RF.push(t,"61d62AvpqNFSowAQJnKWAOc","FlyContainerUIScript"),Object.defineProperty(i,"__esModule",{value:!0});var o=cc._decorator,n=o.ccclass,r=o.property,a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.flyNodes=[],t}return __extends(t,e),__decorate([r([cc.Node])],t.prototype,"flyNodes",void 0),__decorate([n],t)}(cc.Component);i.default=a,cc._RF.pop()},{}],Game1UIMediator:[function(e,t,i){"use strict";cc._RF.push(t,"b966fkiiQJJhpNgf68QxFKC","Game1UIMediator"),Object.defineProperty(i,"__esModule",{value:!0}),i.Game1UIMediator=void 0;var o=e("../../../../Config/ConfigKeyDefine"),n=e("../../../Business/Control/ItemDataController"),r=e("../../../Business/Define/AwardTypeDefine"),a=e("../../../Business/Define/ButtonTipsHandlerDefine"),s=e("../../../Business/Define/ItemPackTypeDefine"),p=e("../../../Business/Define/ItemTypeDefine"),u=e("../../../Core/Express/Control/ExpressResources"),c=e("../../../Core/Express/ExpressWorld"),l=e("../../../MiniGame"),d=e("../../Core/Control/CoreConsts"),f=e("../../Core/Control/CoreGameController"),g=e("../../MediatorNameDefine"),m=e("../Basic/AbstractGameUIMediator"),h=e("../View/CluePieceItemUIView"),_=function(e){function t(){var t=e.call(this,"Game1UIMediator","PF_UI_Game_1")||this;return t.m_itemID=0,t.m_itemConfig=null,t.m_targetItemConfig=null,t.m_baseConfig=null,t.m_clueConfig=null,t.m_puzzleBodyOffset=cc.Vec2.ZERO,t.m_puzzleTop=0,t.m_puzzleCellHeight=0,t.m_pieceTotal=0,t.m_pieces=[],t.m_holdingPiece=null,t.m_holdingOffset=cc.Vec2.ZERO,t.m_freePieces=[],t.m_iconConfigs=null,t}return __extends(t,e),t.prototype.onUIMediatorInit=function(t,i){e.prototype.onUIMediatorInit.call(this,t,i);var n=this.getLayerNodeAt(2);n&&(n.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),n.on(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this),n.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),n.on(cc.Node.EventType.TOUCH_CANCEL,this.onTouchEnd,this));var r=this.getLayerNodeAt(0);this.m_puzzleBodyOffset=r.getPosition(),this.m_iconConfigs=miniframe.Config.getDataList(o.ConfigKeyDefine.GAME_CLUE_ICON,!1,!0)},t.prototype.onUIMediatorUnInit=function(){var t=this.getLayerNodeAt(2);t&&(t.off(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),t.off(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this),t.off(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),t.off(cc.Node.EventType.TOUCH_CANCEL,this.onTouchEnd,this)),e.prototype.onUIMediatorUnInit.call(this)},t.prototype.onUIMediatorPrepare=function(t,i){e.prototype.onUIMediatorPrepare.call(this,t,i),this.m_itemID=i,this.m_itemConfig=miniframe.Config.getData(o.ConfigKeyDefine.ITEM_INFO,this.m_itemID),this.m_baseConfig=miniframe.Config.getData(o.ConfigKeyDefine.GAME_CLUE_BASE,1),this.m_clueConfig=miniframe.Config.getData(o.ConfigKeyDefine.GAME_CLUE_CLUE,this.m_itemConfig.getId()),this.m_pieceTotal=this.m_baseConfig.getClueCount(),this.m_targetItemConfig=miniframe.Config.getData(o.ConfigKeyDefine.ITEM_INFO,this.m_itemConfig.getFuncParam2());for(var n=l.MiniGame.Locale.getLanguage(this.m_targetItemConfig.getNameLan()),r=this.m_gameScript.nameLabels.length,a=0;a<r;a++)this.m_gameScript.nameLabels[a].setLanguageFormat(this.m_gameScript.nameLabels[a].lanValue,n);this.setAnswerTime(this.m_baseConfig.getAnswerTime()),this.setAnswerCount(this.m_baseConfig.getAnswerCount()),this.gameReset()},t.prototype.onUIMediatorOpen=function(t,i){e.prototype.onUIMediatorOpen.call(this,t,i),this.m_clueConfig?this.onGameOpen():console.error("missing clue config",this.m_itemConfig.getId())},t.prototype.onUIMediatorClose=function(t){e.prototype.onUIMediatorClose.call(this,t)},t.prototype.onButtonClick=function(t){switch(t){case"info":if(!this.m_itemConfig)return;if(!this.m_targetItemConfig)return;this.m_targetItemConfig.getType()==p.ItemTypeDefine.Book?(l.MiniGame.MVC.openMediator(g.MediatorNameDefine.ItemBookUIMediator,this.m_targetItemConfig),this.onClose()):this.m_targetItemConfig.getType()==p.ItemTypeDefine.Weapon&&(l.MiniGame.MVC.openMediator(g.MediatorNameDefine.ItemWeaponUIMediator,this.m_targetItemConfig),this.onClose());break;default:e.prototype.onButtonClick.call(this,t)}},t.prototype.onGameOpen=function(){this.m_puzzleTop=0,this.onInitPuzzle(!0),l.MiniGame.MVC.openMediator(g.MediatorNameDefine.GameRuleUIMediator,{desc:this.m_baseConfig.getRuleIntroLan(),callback:this.onGameCanStart,target:this})},t.prototype.onGameCanStart=function(){this.preparePuzzle()},t.prototype.getGameConsumes=function(){return this.m_baseConfig?this.m_baseConfig.getConsumes():null},t.prototype.onInitPuzzle=function(e){if(this.m_gameScript&&this.m_gameScript.itemTemplate){this.m_puzzleCellHeight=this.m_gameScript.itemTemplate.data.height;var t=this.m_gameScript.itemTemplate.data.height*this.m_pieceTotal;for(this.m_puzzleTop=this.m_puzzleBodyOffset.y+.5*t;this.m_pieces.length>0;)this.recyclePiece(this.m_pieces.pop());var i=[],o=0,n=[];if(this.m_pieceTotal<this.m_clueConfig.getLansCount()){o=this.m_clueConfig.getLansCount();for(var r=0;r<o;r++)i.push(r)}else for(o=this.m_pieceTotal,r=0;r<o;r++)i.push(r);for(o=this.m_pieceTotal,r=0;r<o;r++)n.push(miniframe.random.randomWithList(i,!0));var a=n.slice();a.sort(miniframe.compareNumber);var s=miniframe.random.randomWithList(this.m_iconConfigs),p=0,u=0,c=cc.Vec2.ZERO,l=0,f=null,g=null;for(r=0;r<o;r++)p=n[r],u=a.indexOf(p),r>=this.m_pieces.length&&this.m_pieces.push(this.requestPiece()),this.m_pieces[r].setPieceIndex(p),this.m_pieces[r].setSortIndex(u),this.m_pieces[r].setDisplayIndex(r),this.m_pieces[r].setIconConfig(s),this.m_pieces[r].setData(this.m_clueConfig),this.m_pieces[r].playAnimation("findcue_init"),f=this.m_pieces[r].getNode(),g=this.getPiecePosByDisplayIndex(r),e?((c=new cc.Vec2).x=miniframe.random.randomIntWith(miniframe.random.randomWithList(d.CoreConsts.Game1PieceRandomPosXRanges)),c.y=miniframe.random.randomIntWith(miniframe.random.randomWithList(d.CoreConsts.Game1PieceRandomPosYRanges)),l=miniframe.random.randomIntWith(miniframe.random.randomWithList(d.CoreConsts.Game1PieceRandomAngles)),f.setPosition(c),f.angle=l):(f.setPosition(g),f.angle=0)}},t.prototype.preparePuzzle=function(){for(var e=this,t=this.m_pieceTotal,i=null,o=null,n=null,r=0;r<t&&!(r>=this.m_pieces.length);r++)i=this.m_pieces[r].getNode(),o=this.getPiecePosByDisplayIndex(r),(n=cc.tween(i)).to(d.CoreConsts.Game1PieceInitStaySec,{position:i.getPosition()}),n.parallel(cc.tween(i).to(d.CoreConsts.Game1PieceInitMoveSec,{position:o}),cc.tween(i).to(d.CoreConsts.Game1PieceInitMoveSec,{angle:0})),r==this.m_pieces.length-1&&n.call(function(){e.onPuzzlePrepared()}),n.start()},t.prototype.onPuzzlePrepared=function(){this.gameStart()},t.prototype.requestPiece=function(){this.m_freePieces.length>0&&this.m_freePieces.pop();var e=cc.instantiate(this.m_gameScript.itemTemplate),t=new h.CluePieceItemUIView(this.getMediatorName());t.bindNode(e);var i=this.getLayerNodeAt(0);return i!=e.getParent()&&(e.getParent()&&e.removeFromParent(!1),i&&i.addChild(e)),t},t.prototype.recyclePiece=function(e){var t=e.getNode();t.setParent(null),t.active=!1,miniframe.safePush(this.m_freePieces,e)},t.prototype.onGameRestart=function(){this.onInitPuzzle(!0),this.preparePuzzle()},t.prototype.onRoundStart=function(){},t.prototype.onRoundComplete=function(e){var t=this;this.m_holdingPiece=null,e>0?setTimeout(function(){t.roundNext()},1e3):setTimeout(function(){t.roundRestart()},1e3)},t.prototype.onGameEndBegin=function(e){if(e>0){var t=this.m_itemConfig.getFuncParam2();if(n.ItemDataController.Instance.handleCombineItem(s.ItemPackTypeDefine.Default,this.m_itemConfig.getId())){var i=u.ExpressResources.Instance.requestDropBody(3,t);i.setParent(this.m_script.node);var p=miniframe.Config.getData(o.ConfigKeyDefine.ITEM_INFO,t);p&&i.setIcon(p.getIconAt(0),p.getIconAt(1)),f.CoreGameController.Instance.flyEventNodeTo("bookweapon",i,1,c.ExpressWorld.Instance.getCameraPosition(),!0,void 0,void 0,f.CoreGameController.Instance.tryFlyAwardText,f.CoreGameController.Instance,["bookweapon_text",new cc.Vec3(r.AwardTypeDefine.Item,t,1)]),l.MiniGame.ButtonTips.refreshButtonTipsByHandler(a.ButtonTipsHandlerDefine.EventCombine)}}},t.prototype.onGameEndEnd=function(){},t.prototype.onTouchStart=function(e){if(this.isRoundRunning()){var t=this.getLayerNodeAt(2).convertToNodeSpaceAR(e.touch.getLocation());t=t.sub(this.m_puzzleBodyOffset),this.m_holdingPiece=this.getPieceByPos(t),this.m_holdingPiece&&(this.m_holdingPiece.playAnimation("findcue_pressed"),this.m_holdingPiece.getNode().removeFromParent(!1),this.getLayerNodeAt(1).addChild(this.m_holdingPiece.getNode()),this.m_holdingOffset=this.m_holdingPiece.getNode().getPosition().sub(t))}},t.prototype.onTouchMove=function(e){if(this.isRoundRunning()&&this.m_holdingPiece){var t=this.getLayerNodeAt(2).convertToNodeSpaceAR(e.touch.getLocation());t=t.sub(this.m_puzzleBodyOffset);var i=this.m_holdingOffset.add(t);this.m_holdingPiece.getNode().setPosition(i);var o=this.getPieceIndexByPos(i);if(o!=this.m_holdingPiece.getDisplayIndex()){var n=this.getPieceByDisplayIndex(o);n&&(n.setDisplayIndex(this.m_holdingPiece.getDisplayIndex()),this.m_holdingPiece.setDisplayIndex(o),this.resortPieces(!0))}}},t.prototype.onTouchEnd=function(){this.isRoundRunning()&&(this.m_holdingPiece&&(this.m_holdingPiece.getNode().setPosition(this.getPiecePosByDisplayIndex(this.m_holdingPiece.getDisplayIndex())),this.m_holdingPiece.playAnimation("findcue_released")),this.m_holdingPiece=null,this.checkPieces())},t.prototype.resortPieces=function(e){for(var t=null,i=null,o=null,n=0;n<this.m_pieceTotal;n++)this.m_pieces[n]!=this.m_holdingPiece&&(t=this.m_pieces[n].getNode(),i=this.getPiecePosByDisplayIndex(this.m_pieces[n].getDisplayIndex()),e?((o=cc.tween(t)).to(d.CoreConsts.Game1PieceTouchMoveSec,{position:i}),o.start()):t.setPosition(i))},t.prototype.checkPieces=function(){for(var e=!0,t=this.m_pieces.length,i=0;i<t;i++)if(this.m_pieces[i].getSortIndex()!=this.m_pieces[i].getDisplayIndex()){e=!1;break}e&&this.roundComplete(1)},t.prototype.getPieceIndexByPos=function(e){return Math.floor((this.m_puzzleTop-e.y)/this.m_puzzleCellHeight)},t.prototype.getPieceByPos=function(e){var t=this.getPieceIndexByPos(e);return this.getPieceByDisplayIndex(t)},t.prototype.getPieceByDisplayIndex=function(e){for(var t=this.m_pieces.length,i=0;i<t;i++)if(this.m_pieces[i].getDisplayIndex()==e)return this.m_pieces[i];return null},t.prototype.getPiecePosByDisplayIndex=function(e){return new cc.Vec2(0,this.m_puzzleTop-e*this.m_puzzleCellHeight-.5*this.m_puzzleCellHeight)},t}(m.AbstractGameUIMediator);i.Game1UIMediator=_,cc._RF.pop()},{"../../../../Config/ConfigKeyDefine":"ConfigKeyDefine","../../../Business/Control/ItemDataController":"ItemDataController","../../../Business/Define/AwardTypeDefine":"AwardTypeDefine","../../../Business/Define/ButtonTipsHandlerDefine":"ButtonTipsHandlerDefine","../../../Business/Define/ItemPackTypeDefine":"ItemPackTypeDefine","../../../Business/Define/ItemTypeDefine":"ItemTypeDefine","../../../Core/Express/Control/ExpressResources":"ExpressResources","../../../Core/Express/ExpressWorld":"ExpressWorld","../../../MiniGame":"MiniGame","../../Core/Control/CoreConsts":"CoreConsts","../../Core/Control/CoreGameController":"CoreGameController","../../MediatorNameDefine":"MediatorNameDefine","../Basic/AbstractGameUIMediator":"AbstractGameUIMediator","../View/CluePieceItemUIView":"CluePieceItemUIView"}],Game2UIMediator:[function(e,t,i){"use strict";cc._RF.push(t,"613a0CNibBE34vTi8EQ4Z5n","Game2UIMediator"),Object.defineProperty(i,"__esModule",{value:!0}),i.Game2UIMediator=void 0;var o=e("../../../../Config/ConfigKeyDefine"),n=e("../../../../Extension/UI/Scroll/UIScrollScript"),r=e("../../../../Extension/UI/Scroll/UIScrollList"),a=e("../../../Business/Control/ConfigDataController"),s=e("../../../Business/Control/ItemDataController"),p=e("../../../Business/Define/ButtonTipsHandlerDefine"),u=e("../../../Business/Define/ExpressItemParameterDefine"),c=e("../../../Business/Define/ItemPackTypeDefine"),l=e("../../../MiniGame"),d=e("../Basic/AbstractGameUIMediator"),f=e("../View/PieceListItemUIView"),g=e("../../MediatorNameDefine"),m=e("../../Core/Control/CoreConsts"),h=e("../Define/BusinessUILayerDefine"),_=function(e){function t(){var t=e.call(this,"Game2UIMediator","PF_UI_Game_2")||this;return t.m_scroll=null,t.m_itemData=null,t.m_targetLevel=0,t.m_baseConfig=null,t.m_bookConfig=null,t.m_bg=null,t.m_layout=null,t.m_pieceBodies=[],t.m_waitCorrectItems=[],t.m_collectedPieceIDs=[],t.m_wrongPieceIDs=[],t}return __extends(t,e),t.prototype.onUIMediatorInit=function(t,i){e.prototype.onUIMediatorInit.call(this,t,i);var o=t.getComponentInChildren(n.default);o&&(this.m_scroll||(this.m_scroll=new r.UIScrollList(f.PieceListItemUIView,this.getMediatorName()),this.m_scroll.setListener(this)),this.m_scroll.bindScript(o))},t.prototype.onUIMediatorUnInit=function(){this.m_scroll&&(this.m_scroll.dispose(),this.m_scroll=null),e.prototype.onUIMediatorUnInit.call(this)},t.prototype.onUIMediatorPrepare=function(t,i){e.prototype.onUIMediatorPrepare.call(this,t,i),this.m_collectedPieceIDs.length>0&&this.m_collectedPieceIDs.splice(0,this.m_collectedPieceIDs.length),this.m_waitCorrectItems.length>0&&this.m_waitCorrectItems.splice(0,this.m_waitCorrectItems.length),this.m_wrongPieceIDs.length>0&&this.m_wrongPieceIDs.splice(0,this.m_wrongPieceIDs.length),this.clearPieceBodies(),this.m_itemData=i,this.m_targetLevel=this.m_itemData.getParameterAt(u.ExpressItemParameterDefine.Level)+1,this.m_baseConfig=miniframe.Config.getData(o.ConfigKeyDefine.GAME_BOOK_BASE,this.m_targetLevel);var n=100*this.m_itemData.getConfigID()+this.m_targetLevel;this.m_bookConfig=miniframe.Config.getData(o.ConfigKeyDefine.GAME_BOOK_BOOK,n);for(var r=miniframe.Config.getData(o.ConfigKeyDefine.ITEM_INFO,this.m_itemData.getConfigID()),a=l.MiniGame.Locale.getLanguage(r.getNameLan()),s=this.m_gameScript.nameLabels.length,p=0;p<s;p++)this.m_gameScript.nameLabels[p].setLanguageFormat(this.m_gameScript.nameLabels[p].lanValue,a,this.m_targetLevel);this.setAnswerTime(this.m_baseConfig.getAnswerTime()),this.setAnswerCount(this.m_baseConfig.getAnswerCount()),this.m_scroll&&this.m_scroll.hide(),this.gameReset()},t.prototype.onUIMediatorOpen=function(t,i){e.prototype.onUIMediatorOpen.call(this,t,i),this.m_bookConfig?this.onGameOpen():console.error("missing book config",this.m_itemData.getConfigID())},t.prototype.onUIMediatorClose=function(t){e.prototype.onUIMediatorClose.call(this,t),this.clearPieceBodies()},t.prototype.onButtonClick=function(t){e.prototype.onButtonClick.call(this,t)},t.prototype.onGameOpen=function(){this.onInitItems(),l.MiniGame.MVC.openMediator(g.MediatorNameDefine.GameRuleUIMediator,{desc:this.m_baseConfig.getRuleIntroLan(),callback:this.onGameCanStart,target:this})},t.prototype.onGameCanStart=function(){this.prepareItems()},t.prototype.getGameConsumes=function(){return this.m_baseConfig?this.m_baseConfig.getConsumes():null},t.prototype.onInitItems=function(){this.m_collectedPieceIDs.length>0&&this.m_collectedPieceIDs.splice(0,this.m_collectedPieceIDs.length),this.m_wrongPieceIDs.length>0&&this.m_wrongPieceIDs.splice(0,this.m_wrongPieceIDs.length),this.clearPieceBodies(),this.m_bg||(this.m_bg=new miniframe.LazyNode);var e=this.m_bookConfig.getPage(),t=miniframe.Config.getData(o.ConfigKeyDefine.GAME_BOOK_PAGE,e);this.m_bg.loadResource(t.getResource()),this.m_layout||(this.m_layout=new miniframe.LazyNode,this.m_layout.setParent(this.getLayerNodeAt(1)),this.m_layout.setLoadCallback(this.onBookBodyLoadComplete,this));var i=this.m_bookConfig.getLayout(),n=miniframe.Config.getData(o.ConfigKeyDefine.GAME_BOOK_LAYOUT,i);if(this.m_layout.loadResource(n.getResource()),this.m_scroll){this.m_scroll.show();for(var r=this.m_bookConfig.getPieces(),s=a.ConfigDataController.Instance.randomBookPiecesBaseOn(r,this.m_baseConfig.getPieceCount()-r.length),p=0,u=r.length,c=0;c<u;c++)p=miniframe.random.randomInt(0,s.length),s.splice(p,0,r[c]);this.m_scroll.setDataList(s)}},t.prototype.prepareItems=function(){for(var e=this,t=this.m_scroll.getItems().slice(),i=null,o=null,n=0;t.length>0;)i=miniframe.random.randomWithList(t,!0).getNode(),o=cc.tween(i),n>0?(o.to(m.CoreConsts.Game2PieceShowDelaySec*n,{position:i.getPosition()}),o.to(m.CoreConsts.Game2PieceShowSec,{opacity:255})):o.to(m.CoreConsts.Game2PieceShowSec,{opacity:255}),t.length<=0&&o.call(function(){e.onPiecePrepared()}),o.start(),n++},t.prototype.onPiecePrepared=function(){this.gameStart()},t.prototype.clearPieceBodies=function(){if(this.m_pieceBodies.length>0)for(var e=this.m_pieceBodies.length,t=0;t<e;t++)this.m_pieceBodies[t].unloadResource()},t.prototype.onBookBodyLoadComplete=function(){if(this.m_bg&&this.m_bg.setParent(this.m_layout.getNode().getChildByName("Mask")),this.m_waitCorrectItems.length>0)for(;this.m_waitCorrectItems.length>0;)this.hookCorrectItem(this.m_waitCorrectItems.pop())},t.prototype.hookCorrectItem=function(e){if(this.m_layout&&this.m_layout.getNode()){miniframe.safePush(this.m_collectedPieceIDs,e.getData());var t=this.m_bookConfig.getPieces().indexOf(e.getData()),i=this.m_layout.getNode().getChildByName(t+1+"");if(i){for(this.lockUI();t>=this.m_pieceBodies.length;){var o=new miniframe.LazyNode;o.setParent(this.getLayerNodeAt(1)),this.m_pieceBodies.push(o)}this.m_pieceBodies[t].show(),this.m_pieceBodies[t].loadResource(e.getPieceResource()),this.flyCorrectItem(this.m_pieceBodies[t],e,i)}e.invisible()}else miniframe.safePush(this.m_waitCorrectItems,e)},t.prototype.flyCorrectItem=function(e,t,i){var o=this,n=this.getLayerNodeAt(1).getPosition(),r=this.getUIPos(t.getNode());r.x-=n.x,r.y-=n.y;var a=this.getUIPos(i);a.x-=n.x,a.y-=n.y;var s=e.getNode();s.setPosition(r);var p=r.x<a.x?-1:1,u=miniframe.distance(r,a),c=new cc.Vec2(r.x+.25*u*p,r.y+.5*(a.y-r.y)),l=cc.tween(s);l.bezierTo(m.CoreConsts.Game2PieceFlySec,r,c,a),l.call(function(){o.unlockUI(),i.active=!1,o.m_collectedPieceIDs.length>=o.m_bookConfig.getPiecesCount()&&o.roundComplete(1)}),l.start()},t.prototype.getUIPos=function(e,t){void 0===t&&(t=void 0),t||(t=e.getPosition().clone());var i=e.getParent();if(i==this.m_script.node)return t;var o=i.getPosition();return t.x+=o.x,t.y+=i.y,this.getUIPos(i,t)},t.prototype.onGameReset=function(){if(this.m_bg&&(this.m_bg.setParent(null),this.m_bg.unloadResource()),this.m_layout){var e=this.m_layout.getNode();if(e)for(var t=e.childrenCount,i=0;i<t;i++)e.children[i].active=!0;this.m_layout.unloadResource()}if(this.m_scroll)for(t=this.m_scroll.getItemCount(),i=0;i<t;i++)this.m_scroll.getItemAt(i).setData(null)},t.prototype.onGameRestart=function(){this.onInitItems(),this.prepareItems()},t.prototype.onRoundStart=function(){},t.prototype.onRoundComplete=function(e){var t=this;if(this.m_scroll)for(var i=null,o=this.m_scroll.getItemCount(),n=0;n<o;n++)(i=this.m_scroll.getItemAt(n)).reset(),i.hide();e>0?setTimeout(function(){t.roundNext()},1e3):setTimeout(function(){t.roundRestart()},1e3)},t.prototype.onGameEndBegin=function(e){e>0&&s.ItemDataController.Instance.handleSetItemParameter(c.ItemPackTypeDefine.Default,this.m_itemData.getConfigID(),u.ExpressItemParameterDefine.Level,this.m_targetLevel),l.MiniGame.ButtonTips.refreshButtonTipsByHandler(p.ButtonTipsHandlerDefine.BookLevelUp)},t.prototype.onGameEndEnd=function(){},t.prototype.shakePieceList=function(){if(this.m_scroll){var e=this.m_scroll.getNode();e&&m.CoreConsts.DoGame2WrontShakeTween(e)}},t.prototype.onPieceListItemUIViewClick=function(e){if(!this.isUILocked()&&this.isRoundRunning()){var t=e.getData();if(-1==this.m_collectedPieceIDs.indexOf(t)&&-1==this.m_wrongPieceIDs.indexOf(t))if(-1==this.m_bookConfig.getPieces().indexOf(t)){miniframe.safePush(this.m_wrongPieceIDs,t),e.gray(),this.shakePieceList(),this.changeRoundTime(-m.CoreConsts.Game2WrongTimeCutValue);var i=miniframe.UI.toUIPosition(e.getNode().convertToWorldSpaceAR(cc.Vec2.ZERO));l.MiniGame.Effect.playEffect(11,miniframe.UI.getUILayer(h.BusinessUILayerDefine.Special,!0),i,null,null,m.CoreConsts.Game2WrongTimeCutValue)}else this.hookCorrectItem(e)}},t.prototype.onPieceListItemUIViewAskRotation=function(){return!!this.m_baseConfig&&1==this.m_baseConfig.getRotate()},t.prototype.onUIScrollListItemInit=function(e,t,i){i.setListener(this)},t.prototype.onUIScrollListFocusOn=function(){},t}(d.AbstractGameUIMediator);i.Game2UIMediator=_,cc._RF.pop()},{"../../../../Config/ConfigKeyDefine":"ConfigKeyDefine","../../../../Extension/UI/Scroll/UIScrollList":"UIScrollList","../../../../Extension/UI/Scroll/UIScrollScript":"UIScrollScript","../../../Business/Control/ConfigDataController":"ConfigDataController","../../../Business/Control/ItemDataController":"ItemDataController","../../../Business/Define/ButtonTipsHandlerDefine":"ButtonTipsHandlerDefine","../../../Business/Define/ExpressItemParameterDefine":"ExpressItemParameterDefine","../../../Business/Define/ItemPackTypeDefine":"ItemPackTypeDefine","../../../MiniGame":"MiniGame","../../Core/Control/CoreConsts":"CoreConsts","../../MediatorNameDefine":"MediatorNameDefine","../Basic/AbstractGameUIMediator":"AbstractGameUIMediator","../Define/BusinessUILayerDefine":"BusinessUILayerDefine","../View/PieceListItemUIView":"PieceListItemUIView"}],Game3UIMediator:[function(e,t,i){"use strict";cc._RF.push(t,"f5820tTOfdAMo7Ksg79qmon","Game3UIMediator"),Object.defineProperty(i,"__esModule",{value:!0}),i.Game3UIMediator=void 0;var o=e("../../../../Config/ConfigKeyDefine"),n=e("../../../Business/Control/ItemDataController"),r=e("../../../Business/Define/ButtonTipsHandlerDefine"),a=e("../../../Business/Define/ExpressItemParameterDefine"),s=e("../../../Business/Define/ItemPackTypeDefine"),p=e("../../../MiniGame"),u=e("../../Core/Control/CoreConsts"),c=e("../../MediatorNameDefine"),l=function(e){function t(){var t=e.call(this,"Game3UIMediator","PF_UI_Game_3")||this;return t.m_itemData=null,t.m_targetLevel=0,t.m_baseConfig=null,t.m_weaponConfig=null,t.m_puzzleBody=null,t.m_puzzleBodyOffset=cc.Vec2.ZERO,t.m_puzzleTop=0,t.m_puzzleCellHeight=0,t.m_puzzleTotalWidth=0,t.m_pieceTotal=0,t.m_pieces=[],t.m_holdingPiece=null,t.m_holdingOffset=cc.Vec2.ZERO,t.m_freePieces=[],t}return __extends(t,e),t.prototype.onUIMediatorInit=function(t,i){e.prototype.onUIMediatorInit.call(this,t,i);var o=this.getLayerNodeAt(2);o&&(o.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),o.on(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this),o.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),o.on(cc.Node.EventType.TOUCH_CANCEL,this.onTouchEnd,this));var n=this.getLayerNodeAt(0);this.m_puzzleBodyOffset=n.getPosition()},t.prototype.onUIMediatorUnInit=function(){var t=this.getLayerNodeAt(2);t&&(t.off(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),t.off(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this),t.off(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),t.off(cc.Node.EventType.TOUCH_CANCEL,this.onTouchEnd,this)),e.prototype.onUIMediatorUnInit.call(this)},t.prototype.onUIMediatorPrepare=function(t,i){e.prototype.onUIMediatorPrepare.call(this,t,i),this.m_itemData=i,this.m_targetLevel=this.m_itemData.getParameterAt(a.ExpressItemParameterDefine.Level)+1,this.m_baseConfig=miniframe.Config.getData(o.ConfigKeyDefine.GAME_WEAPON_BASE,this.m_targetLevel),this.m_weaponConfig=miniframe.Config.getData(o.ConfigKeyDefine.GAME_WEAPON_WEAPON,this.m_itemData.getConfigID()),this.m_pieceTotal=this.m_baseConfig.getPieceCount();for(var n=miniframe.Config.getData(o.ConfigKeyDefine.ITEM_INFO,this.m_itemData.getConfigID()),r=p.MiniGame.Locale.getLanguage(n.getNameLan()),s=u.CoreConsts.GetChNumberStr(this.m_targetLevel),c=this.m_gameScript.nameLabels.length,l=0;l<c;l++)this.m_gameScript.nameLabels[l].setLanguageFormat(this.m_gameScript.nameLabels[l].lanValue,r,s);this.setAnswerTime(this.m_baseConfig.getAnswerTime()),this.setAnswerCount(this.m_baseConfig.getAnswerCount()),this.gameReset()},t.prototype.onUIMediatorOpen=function(t,i){e.prototype.onUIMediatorOpen.call(this,t,i),this.m_weaponConfig?this.onGameOpen():console.error("missing weapon config",this.m_itemData.getConfigID())},t.prototype.onUIMediatorClose=function(t){for(e.prototype.onUIMediatorClose.call(this,t),this.m_puzzleBody&&this.m_puzzleBody.unloadResource();this.m_pieces.length>0;)this.recyclePiece(this.m_pieces.pop())},t.prototype.onButtonClick=function(t){e.prototype.onButtonClick.call(this,t)},t.prototype.onGameOpen=function(){this.onInitWeapon(!0)},t.prototype.onGameCanStart=function(){this.preparePuzzle()},t.prototype.getGameConsumes=function(){return this.m_baseConfig?this.m_baseConfig.getConsumes():null},t.prototype.onInitWeapon=function(e){this.m_puzzleTop=0,this.m_puzzleBody||(this.m_puzzleBody=new miniframe.LazyNode,this.m_puzzleBody.setParent(this.m_script.node)),this.m_puzzleBody.loadResource(this.m_weaponConfig.getResource()),this.m_puzzleBody.hide(),e?this.m_puzzleBody.getNode()?this.onWeaponFirstPrepared():this.m_puzzleBody.setLoadCallback(this.onPuzzleBodyFirstLoadComplete,this):this.m_puzzleBody.getNode()?this.onWeaponPrepared():this.m_puzzleBody.setLoadCallback(this.onPuzzleBodyLoadComplete,this)},t.prototype.onPuzzleBodyFirstLoadComplete=function(){this.m_puzzleBody.setLoadCallback(null,null),this.onWeaponFirstPrepared()},t.prototype.onPuzzleBodyLoadComplete=function(){this.m_puzzleBody.setLoadCallback(null,null),this.onWeaponPrepared()},t.prototype.onWeaponFirstPrepared=function(){this.onInitPuzzle(),p.MiniGame.MVC.openMediator(c.MediatorNameDefine.GameRuleUIMediator,{desc:this.m_baseConfig.getRuleIntroLan(),callback:this.onGameCanStart,target:this})},t.prototype.onWeaponPrepared=function(){this.onInitPuzzle(),this.preparePuzzle()},t.prototype.onInitPuzzle=function(){var e=this.m_puzzleBody.getNode();if(e){var t=e.getComponent(cc.Sprite);if(t||(t=e.getComponentInChildren(cc.Sprite))){for(e=t.node,this.m_puzzleCellHeight=e.height/this.m_pieceTotal,this.m_puzzleTotalWidth=e.width,this.m_puzzleTop=.5*e.height;this.m_pieces.length>0;)this.recyclePiece(this.m_pieces.pop());for(var i=[],o=this.m_pieceTotal,n=0;n<o;n++)i.push(n);var r=0,a=this.getPiecePosByDisplayIndex(o,!1);for(n=0;n<o;n++)r=miniframe.random.randomWithList(i,!0),n>=this.m_pieces.length&&(this.m_pieces.push(this.requestPiece()),this.getLayerNodeAt(0).addChild(this.m_pieces[n].node)),this.m_pieces[n].pieceIndex=r,this.m_pieces[n].displayIndex=n,this.m_pieces[n].spriteFrame=t.spriteFrame.clone(),this.m_pieces[n].node.height=this.m_puzzleCellHeight,this.m_pieces[n].spriteFrame.setRect(new cc.Rect(0,r*this.m_puzzleCellHeight,this.m_puzzleTotalWidth,this.m_puzzleCellHeight)),this.m_pieces[n].node.setPosition(a)}}},t.prototype.preparePuzzle=function(){for(var e=this,t=null,i=null,o=null,n=this.m_pieceTotal,r=0;r<n&&!(r>=this.m_pieces.length);r++)t=this.m_pieces[r].node,i=this.getPiecePosByDisplayIndex(r,!1),o=cc.tween(t),r>0?o.to(u.CoreConsts.Game3PieceInitMoveDelaySec*r+u.CoreConsts.Game3PieceInitStaySec,{position:t.getPosition()}):o.to(u.CoreConsts.Game3PieceInitStaySec,{position:t.getPosition()}),o.to(u.CoreConsts.Game3PieceInitMoveSec,{position:i}),r==this.m_pieces.length-1&&o.call(function(){e.onPuzzlePrepared()}),o.start()},t.prototype.onPuzzlePrepared=function(){this.gameStart()},t.prototype.requestPiece=function(){return this.m_freePieces.length>0&&this.m_freePieces.pop(),(new cc.Node).addComponent(cc.Sprite)},t.prototype.recyclePiece=function(e){e.spriteFrame=null,e.node.setParent(null),e.node.active=!1,miniframe.safePush(this.m_freePieces,e)},t.prototype.onGameReset=function(){for(this.m_puzzleBody&&this.m_puzzleBody.unloadResource();this.m_pieces.length>0;)this.recyclePiece(this.m_pieces.pop())},t.prototype.onGameRestart=function(){this.onInitWeapon(!1)},t.prototype.onRoundStart=function(){},t.prototype.onRoundComplete=function(e){var t=this;this.m_holdingPiece=null,e>0?setTimeout(function(){t.roundNext()},1e3):setTimeout(function(){t.roundRestart()},1e3)},t.prototype.onGameEndBegin=function(e){e>0&&n.ItemDataController.Instance.handleSetItemParameter(s.ItemPackTypeDefine.Default,this.m_itemData.getConfigID(),a.ExpressItemParameterDefine.Level,this.m_targetLevel),p.MiniGame.ButtonTips.refreshButtonTipsByHandler(r.ButtonTipsHandlerDefine.WeaponLevelUp)},t.prototype.onGameEndEnd=function(){},t.prototype.onTouchStart=function(e){if(this.isRoundRunning()){var t=this.getLayerNodeAt(2).convertToNodeSpaceAR(e.touch.getLocation());t=t.sub(this.m_puzzleBodyOffset),this.m_holdingPiece=this.getPieceByPos(t,!0),this.m_holdingPiece&&(this.m_holdingPiece.node.removeFromParent(!1),this.getLayerNodeAt(1).addChild(this.m_holdingPiece.node),this.m_holdingOffset=this.m_holdingPiece.node.getPosition().sub(t))}},t.prototype.onTouchMove=function(e){if(this.isRoundRunning()&&this.m_holdingPiece){var t=this.getLayerNodeAt(2).convertToNodeSpaceAR(e.touch.getLocation());t=t.sub(this.m_puzzleBodyOffset);var i=this.m_holdingOffset.add(t);this.m_holdingPiece.node.setPosition(i);var o=this.getPieceIndexByPos(i,!0);if(o!=this.m_holdingPiece.displayIndex){var n=this.getPieceByDisplayIndex(o);n&&(n.displayIndex=this.m_holdingPiece.displayIndex,this.m_holdingPiece.displayIndex=o,this.resortPieces(!0))}}},t.prototype.onTouchEnd=function(){this.isRoundRunning()&&(this.m_holdingPiece&&(this.m_holdingPiece.node.removeFromParent(!1),this.getLayerNodeAt(0).addChild(this.m_holdingPiece.node),this.m_holdingPiece.node.setPosition(this.getPiecePosByDisplayIndex(this.m_holdingPiece.displayIndex,!1))),this.m_holdingPiece=null,this.checkPieces())},t.prototype.resortPieces=function(e){for(var t=null,i=null,o=null,n=0;n<this.m_pieceTotal;n++)this.m_pieces[n]!=this.m_holdingPiece&&(t=this.m_pieces[n].node,i=this.getPiecePosByDisplayIndex(this.m_pieces[n].displayIndex,!1),e?((o=cc.tween(t)).to(u.CoreConsts.Game3PieceTouchMoveSec,{position:i}),o.start()):t.setPosition())},t.prototype.checkPieces=function(){for(var e=!0,t=this.m_pieces.length,i=0;i<t;i++)if(this.m_pieces[i].pieceIndex!=this.m_pieces[i].displayIndex){e=!1;break}e&&this.roundComplete(1)},t.prototype.getPieceIndexByPos=function(e,t){return t?Math.floor((this.m_puzzleTop+this.m_puzzleBodyOffset.y-e.y)/this.m_puzzleCellHeight):Math.floor((this.m_puzzleTop-e.y)/this.m_puzzleCellHeight)},t.prototype.getPieceByPos=function(e,t){var i=this.getPieceIndexByPos(e,t);return this.getPieceByDisplayIndex(i)},t.prototype.getPieceByDisplayIndex=function(e){for(var t=this.m_pieces.length,i=0;i<t;i++)if(this.m_pieces[i].displayIndex==e)return this.m_pieces[i];return null},t.prototype.getPiecePosByDisplayIndex=function(e,t){return t?new cc.Vec2(0,this.m_puzzleTop+this.m_puzzleBodyOffset.y-e*this.m_puzzleCellHeight-.5*this.m_puzzleCellHeight):new cc.Vec2(0,this.m_puzzleTop-e*this.m_puzzleCellHeight-.5*this.m_puzzleCellHeight)},t}(e("../Basic/AbstractGameUIMediator").AbstractGameUIMediator);i.Game3UIMediator=l,cc._RF.pop()},{"../../../../Config/ConfigKeyDefine":"ConfigKeyDefine","../../../Business/Control/ItemDataController":"ItemDataController","../../../Business/Define/ButtonTipsHandlerDefine":"ButtonTipsHandlerDefine","../../../Business/Define/ExpressItemParameterDefine":"ExpressItemParameterDefine","../../../Business/Define/ItemPackTypeDefine":"ItemPackTypeDefine","../../../MiniGame":"MiniGame","../../Core/Control/CoreConsts":"CoreConsts","../../MediatorNameDefine":"MediatorNameDefine","../Basic/AbstractGameUIMediator":"AbstractGameUIMediator"}],GameBookBaseConfigData:[function(e,t,i){"use strict";cc._RF.push(t,"a52b0/TPXFJNLbNGvsQGLYu","GameBookBaseConfigData"),Object.defineProperty(i,"__esModule",{value:!0}),i.GameBookBaseConfigData=void 0;var o=function(){function e(e){this.m_data=null,this.m_consumes=[],this.m_data=e,this.init()}return e.prototype.getId=function(){return this.m_data.getId()},e.prototype.getAnswerCount=function(){return this.m_data.getAnswerCount()},e.prototype.getAnswerTime=function(){return this.m_data.getAnswerTime()},e.prototype.getPieceCount=function(){return this.m_data.getPieceCount()},e.prototype.getRotate=function(){return this.m_data.getRotate()},e.prototype.getConsumes=function(){return this.m_consumes},e.prototype.getConsumesCount=function(){return this.m_consumes.length},e.prototype.getConsumesAt=function(e){return e<0||e>=this.m_consumes.length?null:this.m_consumes[e]},e.prototype.getRuleIntroLan=function(){return this.m_data.getRuleIntroLan()},e.prototype.init=function(){this.m_consumes=miniframe.Number2.parseListFrom(this.m_data.getConsumesList())},e.prototype.getConfigKey=function(){return this.getId()},e}();i.GameBookBaseConfigData=o,cc._RF.pop()},{}],GameBookBookConfigData:[function(e,t,i){"use strict";cc._RF.push(t,"8d20elyoE1H75z1Zl/YiSRg","GameBookBookConfigData"),Object.defineProperty(i,"__esModule",{value:!0}),i.GameBookBookConfigData=void 0;var o=function(){function e(e){this.m_data=null,this.m_data=e,this.init()}return e.prototype.getId=function(){return this.m_data.getId()},e.prototype.getPieces=function(){return this.m_data.getPiecesList()},e.prototype.getPiecesCount=function(){return this.m_data.getPiecesList().length},e.prototype.getPiecesAt=function(e){return e<0||e>=this.m_data.getPiecesList().length?0:this.m_data.getPiecesList()[e]},e.prototype.getLayout=function(){return this.m_data.getLayout()},e.prototype.getPage=function(){return this.m_data.getPage()},e.prototype.init=function(){},e.prototype.getConfigKey=function(){return this.getId()},e}();i.GameBookBookConfigData=o,cc._RF.pop()},{}],GameBookLayoutConfigData:[function(e,t,i){"use strict";cc._RF.push(t,"2e133md0VZIo4vHnEX3YmjN","GameBookLayoutConfigData"),Object.defineProperty(i,"__esModule",{value:!0}),i.GameBookLayoutConfigData=void 0;var o=function(){function e(e){this.m_data=null,this.m_data=e,this.init()}return e.prototype.getId=function(){return this.m_data.getId()},e.prototype.getResource=function(){return this.m_data.getResource()},e.prototype.init=function(){},e.prototype.getConfigKey=function(){return this.getId()},e}();i.GameBookLayoutConfigData=o,cc._RF.pop()},{}],GameBookPageConfigData:[function(e,t,i){"use strict";cc._RF.push(t,"b98f7v8FL5EcLYWQJ3WqSya","GameBookPageConfigData"),Object.defineProperty(i,"__esModule",{value:!0}),i.GameBookPageConfigData=void 0;var o=function(){function e(e){this.m_data=null,this.m_data=e,this.init()}return e.prototype.getId=function(){return this.m_data.getId()},e.prototype.getResource=function(){return this.m_data.getResource()},e.prototype.init=function(){},e.prototype.getConfigKey=function(){return this.getId()},e}();i.GameBookPageConfigData=o,cc._RF.pop()},{}],GameBookPieceConfigData:[function(e,t,i){"use strict";cc._RF.push(t,"19e6eNaYjJC5q+mLfvdEc4x","GameBookPieceConfigData"),Object.defineProperty(i,"__esModule",{value:!0}),i.GameBookPieceConfigData=void 0;var o=function(){function e(e){this.m_data=null,this.m_data=e,this.init()}return e.prototype.getId=function(){return this.m_data.getId()},e.prototype.getResource=function(){return this.m_data.getResource()},e.prototype.getType=function(){return this.m_data.getType()},e.prototype.getReplaces=function(){return this.m_data.getReplacesList()},e.prototype.getReplacesCount=function(){return this.m_data.getReplacesList().length},e.prototype.getReplacesAt=function(e){return e<0||e>=this.m_data.getReplacesList().length?0:this.m_data.getReplacesList()[e]},e.prototype.init=function(){},e.prototype.getConfigKey=function(){return this.getId()},e}();i.GameBookPieceConfigData=o,cc._RF.pop()},{}],GameClueBaseConfigData:[function(e,t,i){"use strict";cc._RF.push(t,"000f3mmW+5FOLxKvdTfZ1O3","GameClueBaseConfigData"),Object.defineProperty(i,"__esModule",{value:!0}),i.GameClueBaseConfigData=void 0;var o=function(){function e(e){this.m_data=null,this.m_consumes=[],this.m_data=e,this.init()}return e.prototype.getId=function(){return this.m_data.getId()},e.prototype.getAnswerCount=function(){return this.m_data.getAnswerCount()},e.prototype.getAnswerTime=function(){return this.m_data.getAnswerTime()},e.prototype.getClueCount=function(){return this.m_data.getClueCount()},e.prototype.getConsumes=function(){return this.m_consumes},e.prototype.getConsumesCount=function(){return this.m_consumes.length},e.prototype.getConsumesAt=function(e){return e<0||e>=this.m_consumes.length?null:this.m_consumes[e]},e.prototype.getRuleIntroLan=function(){return this.m_data.getRuleIntroLan()},e.prototype.init=function(){this.m_consumes=miniframe.Number2.parseListFrom(this.m_data.getConsumesList())},e.prototype.getConfigKey=function(){return this.getId()},e}();i.GameClueBaseConfigData=o,cc._RF.pop()},{}],GameClueClueConfigData:[function(e,t,i){"use strict";cc._RF.push(t,"ffb16X3q55Hl4NSbcky0Mlr","GameClueClueConfigData"),Object.defineProperty(i,"__esModule",{value:!0}),i.GameClueClueConfigData=void 0;var o=function(){function e(e){this.m_data=null,this.m_data=e,this.init()}return e.prototype.getId=function(){return this.m_data.getId()},e.prototype.getLans=function(){return this.m_data.getLansList()},e.prototype.getLansCount=function(){return this.m_data.getLansList().length},e.prototype.getLansAt=function(e){return e<0||e>=this.m_data.getLansList().length?0:this.m_data.getLansList()[e]},e.prototype.init=function(){},e.prototype.getConfigKey=function(){return this.getId()},e}();i.GameClueClueConfigData=o,cc._RF.pop()},{}],GameClueIconConfigData:[function(e,t,i){"use strict";cc._RF.push(t,"2a7d1//4hVEv5eqFweYMnvv","GameClueIconConfigData"),Object.defineProperty(i,"__esModule",{value:!0}),i.GameClueIconConfigData=void 0;var o=function(){function e(e){this.m_data=null,this.m_data=e,this.init()}return e.prototype.getId=function(){return this.m_data.getId()},e.prototype.getContents=function(){return this.m_data.getContentsList()},e.prototype.getContentsCount=function(){return this.m_data.getContentsList().length},e.prototype.getContentsAt=function(e){return e<0||e>=this.m_data.getContentsList().length?"":this.m_data.getContentsList()[e]},e.prototype.init=function(){},e.prototype.getConfigKey=function(){return this.getId()},e}();i.GameClueIconConfigData=o,cc._RF.pop()},{}],GameEntry:[function(e,t,i){"use strict";cc._RF.push(t,"e1cd701GtBNnL77Xa6iZhGt","GameEntry"),Object.defineProperty(i,"__esModule",{value:!0});var o=e("./Mini/App/Define/EditorModeDefine"),n=e("./Mini/Game/MiniGame"),r=cc._decorator,a=r.ccclass,s=r.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.canvas=null,t.camera=null,t.uiRoot=null,t.uiCamera=null,t.fontFamily="",t.fps=0,t.keepScreenOn=!1,t.showStatus=!1,t.editorMode=o.EditorModeDefine.None,t.editorParameters="",t}return __extends(t,e),t.prototype.onLoad=function(){n.MiniGame.Instance||new n.MiniGame(this)},__decorate([s(cc.Node)],t.prototype,"canvas",void 0),__decorate([s(cc.Camera)],t.prototype,"camera",void 0),__decorate([s(cc.Node)],t.prototype,"uiRoot",void 0),__decorate([s(cc.Camera)],t.prototype,"uiCamera",void 0),__decorate([s(cc.String)],t.prototype,"fontFamily",void 0),__decorate([s(cc.Integer)],t.prototype,"fps",void 0),__decorate([s(cc.Boolean)],t.prototype,"keepScreenOn",void 0),__decorate([s(cc.Boolean)],t.prototype,"showStatus",void 0),__decorate([s({type:cc.Enum(o.EditorModeDefine)})],t.prototype,"editorMode",void 0),__decorate([s({multiline:!0,tooltip:"Json"})],t.prototype,"editorParameters",void 0),__decorate([a],t)}(cc.Component);i.default=p,cc._RF.pop()},{"./Mini/App/Define/EditorModeDefine":"EditorModeDefine","./Mini/Game/MiniGame":"MiniGame"}],GameRuleUIMediator:[function(e,t,i){"use strict";cc._RF.push(t,"ed9b9Ek4+JEPbdUTtxtglAb","GameRuleUIMediator"),Object.defineProperty(i,"__esModule",{value:!0}),i.GameRuleUIMediator=void 0;var o=e("../../../Business/Define/WindowTypeDefine"),n=e("../Basic/BusinessUIMediator"),r=e("../Component/GuestActiveUIScript"),a=e("../Define/BusinessUILayerDefine"),s=function(e){function t(){var t=e.call(this,"GameRuleUIMediator","PF_UI_GameRule",a.BusinessUILayerDefine.UI,!1,!1,!0,!0,!0,o.WindowTypeDefine.Default)||this;return t.m_gameRultScript=null,t.m_callback=null,t.m_callbackTarget=null,t}return __extends(t,e),t.prototype.onUIMediatorInit=function(t,i){e.prototype.onUIMediatorInit.call(this,t,i),this.m_gameRultScript=t?t.getComponent(r.default):null},t.prototype.onUIMediatorUnInit=function(){this.m_gameRultScript=null,e.prototype.onUIMediatorUnInit.call(this)},t.prototype.onUIMediatorPrepare=function(t,i){e.prototype.onUIMediatorPrepare.call(this,t,i),this.m_gameRultScript&&this.m_gameRultScript.descLabel&&this.m_gameRultScript.descLabel.setLanguage(i.desc||0),this.m_callback=i.callback,this.m_callbackTarget=i.target},t.prototype.onUIMediatorClose=function(t){if(e.prototype.onUIMediatorClose.call(this,t),this.m_callback){var i=this.m_callback,o=this.m_callbackTarget;this.m_callback=null,this.m_callbackTarget=null,i.call(o)}},t.prototype.onButtonClick=function(t){e.prototype.onButtonClick.call(this,t)},t}(n.BusinessUIMediator);i.GameRuleUIMediator=s,cc._RF.pop()},{"../../../Business/Define/WindowTypeDefine":"WindowTypeDefine","../Basic/BusinessUIMediator":"BusinessUIMediator","../Component/GuestActiveUIScript":"GuestActiveUIScript","../Define/BusinessUILayerDefine":"BusinessUILayerDefine"}],GameUIScript:[function(e,t,i){"use strict";cc._RF.push(t,"71d28LsJKNGKb68W+t8JEjd","GameUIScript"),Object.defineProperty(i,"__esModule",{value:!0});var o=e("../../../../Extension/UI/Label/UITextScript"),n=cc._decorator,r=n.ccclass,a=n.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.timeLabel=null,t.progressLabel=null,t.layerNodes=[],t.itemTemplate=null,t.nameLabels=[],t.winNode=null,t.loseNode=null,t}return __extends(t,e),__decorate([a(o.default)],t.prototype,"timeLabel",void 0),__decorate([a(o.default)],t.prototype,"progressLabel",void 0),__decorate([a([cc.Node])],t.prototype,"layerNodes",void 0),__decorate([a(cc.Prefab)],t.prototype,"itemTemplate",void 0),__decorate([a([o.default])],t.prototype,"nameLabels",void 0),__decorate([a(cc.Node)],t.prototype,"winNode",void 0),__decorate([a(cc.Node)],t.prototype,"loseNode",void 0),__decorate([r],t)}(cc.Component);i.default=s,cc._RF.pop()},{"../../../../Extension/UI/Label/UITextScript":"UITextScript"}],GameWeaponBaseConfigData:[function(e,t,i){"use strict";cc._RF.push(t,"6ca9eozsV5AK4f98aLZCs27","GameWeaponBaseConfigData"),Object.defineProperty(i,"__esModule",{value:!0}),i.GameWeaponBaseConfigData=void 0;var o=function(){function e(e){this.m_data=null,this.m_consumes=[],this.m_data=e,this.init()}return e.prototype.getId=function(){return this.m_data.getId()},e.prototype.getAnswerCount=function(){return this.m_data.getAnswerCount()},e.prototype.getAnswerTime=function(){return this.m_data.getAnswerTime()},e.prototype.getPieceCount=function(){return this.m_data.getPieceCount()},e.prototype.getConsumes=function(){return this.m_consumes},e.prototype.getConsumesCount=function(){return this.m_consumes.length},e.prototype.getConsumesAt=function(e){return e<0||e>=this.m_consumes.length?null:this.m_consumes[e]},e.prototype.getRuleIntroLan=function(){return this.m_data.getRuleIntroLan()},e.prototype.init=function(){this.m_consumes=miniframe.Number2.parseListFrom(this.m_data.getConsumesList())},e.prototype.getConfigKey=function(){return this.getId()},e}();i.GameWeaponBaseConfigData=o,cc._RF.pop()},{}],GameWeaponWeaponConfigData:[function(e,t,i){"use strict";cc._RF.push(t,"01babkA6+JC0ILIZIh5gRIk","GameWeaponWeaponConfigData"),Object.defineProperty(i,"__esModule",{value:!0}),i.GameWeaponWeaponConfigData=void 0;var o=function(){function e(e){this.m_data=null,this.m_data=e,this.init()}return e.prototype.getId=function(){return this.m_data.getId()},e.prototype.getResource=function(){return this.m_data.getResource()},e.prototype.init=function(){},e.prototype.getConfigKey=function(){return this.getId()},e}();i.GameWeaponWeaponConfigData=o,cc._RF.pop()},{}],GetCueInfoUIMediator:[function(e,t,i){"use strict";cc._RF.push(t,"71ddf3Kd9ZLx513seCTqG98","GetCueInfoUIMediator"),Object.defineProperty(i,"__esModule",{value:!0}),i.GetCueInfoUIMediator=void 0;var o=function(e){function t(){return e.call(this,"GetCueInfoUIMediator","PF_UI_GetCueInfo")||this}return __extends(t,e),t}(e("../Basic/CueInfoUIMediator").CueInfoUIMediator);i.GetCueInfoUIMediator=o,cc._RF.pop()},{"../Basic/CueInfoUIMediator":"CueInfoUIMediator"}],GiftAwardConfigData:[function(e,t,i){"use strict";cc._RF.push(t,"451d41xw5JH1Ye1L4vFc31P","GiftAwardConfigData"),Object.defineProperty(i,"__esModule",{value:!0}),i.GiftAwardConfigData=void 0;var o=function(){function e(e){this.m_data=null,this.m_data=e,this.init()}return e.prototype.getId=function(){return this.m_data.getId()},e.prototype.getAwardId=function(){return this.m_data.getAwardId()},e.prototype.getAwardIndex=function(){return this.m_data.getAwardIndex()},e.prototype.getTimeRange=function(){return this.m_time_range},e.prototype.getDropbags=function(){return this.m_data.getDropbagsList()},e.prototype.getDropbagsCount=function(){return this.m_data.getDropbagsList().length},e.prototype.getDropbagsAt=function(e){return e<0||e>=this.m_data.getDropbagsList().length?0:this.m_data.getDropbagsList()[e]},e.prototype.init=function(){this.m_time_range=miniframe.Number2.parseFrom(this.m_data.getTimeRange())},e.prototype.getConfigKey=function(){return this.getId()},e}();i.GiftAwardConfigData=o,cc._RF.pop()},{}],GiftConfigData:[function(e,t,i){"use strict";cc._RF.push(t,"325a8MdiXtPSaq3r4WESq8Y","GiftConfigData"),Object.defineProperty(i,"__esModule",{value:!0}),i.GiftConfigData=void 0;var o=function(){function e(e){this.m_data=null,this.m_data=e,this.init()}return e.prototype.getId=function(){return this.m_data.getId()},e.prototype.getType=function(){return this.m_data.getType()},e.prototype.getFuncType=function(){return this.m_data.getFuncType()},e.prototype.getFuncValue=function(){return this.m_data.getFuncValue()},e.prototype.getDaylimit=function(){return this.m_data.getDaylimit()},e.prototype.getAwardId=function(){return this.m_data.getAwardId()},e.prototype.getAwardDelta=function(){return this.m_data.getAwardDelta()},e.prototype.getNameLan=function(){return this.m_data.getNameLan()},e.prototype.getDescLan=function(){return this.m_data.getDescLan()},e.prototype.init=function(){},e.prototype.getConfigKey=function(){return this.getId()},e}();i.GiftConfigData=o,cc._RF.pop()},{}],GiftDataController:[function(e,t,i){"use strict";cc._RF.push(t,"5ae12GSf09Lm76teRbfYE0X","GiftDataController"),Object.defineProperty(i,"__esModule",{value:!0}),i.GiftDataController=void 0;var o=e("../../../Extension/DataControl/BasicDataController"),n=e("../Data/GiftData"),r=e("../Data/GiftsData"),a=e("../Define/ControlCodeDefine"),s=e("./StorageDataController"),p=function(e){function t(){var i=e.call(this)||this;return i.m_gifts=null,t.ms_instance=i,i}return __extends(t,e),Object.defineProperty(t,"Instance",{get:function(){return t.ms_instance||new t},enumerable:!1,configurable:!0}),t.prototype.initController=function(){this.m_gifts||(this.m_gifts=new r.GiftsData,s.StorageDataController.Instance.addGroup(this.m_gifts))},t.prototype.initData=function(){var e=null,t=miniframe.today(),i=this.m_gifts.getGiftDatas();for(var o in i)i[o].getParameterAt(0)!=t&&(e?e.push(parseInt(o)):e=[parseInt(o)]);e&&e.length>0&&this.m_gifts.removeGifts(e)},t.prototype.getGiftData=function(e){return this.m_gifts.getGiftData(e)},t.prototype.handleAddGift=function(e,t){void 0===t&&(t=!0);var i=this.m_gifts.getGiftData(e);i||((i=new n.GiftData(e)).setParameterAt(0,miniframe.today(),!1),i.setParameterAt(1,miniframe.now(),!1),this.m_gifts.addGiftData(i),t&&this.notifyUpdate(a.ControlCodeDefine.GiftListAdd,[e]))},t.prototype.handleRemoveGift=function(e,t){void 0===t&&(t=!0),this.m_gifts.removeGift(e)&&t&&this.notifyUpdate(a.ControlCodeDefine.GiftListRemove,[e])},t.ms_instance=null,t}(o.BasicDataController);i.GiftDataController=p,cc._RF.pop()},{"../../../Extension/DataControl/BasicDataController":"BasicDataController","../Data/GiftData":"GiftData","../Data/GiftsData":"GiftsData","../Define/ControlCodeDefine":"ControlCodeDefine","./StorageDataController":"StorageDataController"}],GiftData:[function(e,t,i){"use strict";cc._RF.push(t,"c13edV0CAhLvL4kc/ThUeaU","GiftData"),Object.defineProperty(i,"__esModule",{value:!0}),i.GiftData=void 0;var o=function(e){function t(t){var i=e.call(this,t+"")||this;return i.m_giftID=0,i.m_giftID=t,i}return __extends(t,e),t.prototype.getGiftID=function(){return this.m_giftID},t.prototype.getCreateTime=function(){return this.getIntValueAt(t.Index_CreateTime)},t.prototype.setCreateTime=function(e,i){void 0===i&&(i=!0),this.setIntValueAt(t.Index_CreateTime,e,i)},t.prototype.getParameterAt=function(e){return this.getIntValueAt(t.Index_ParameterStart+e)},t.prototype.setParameterAt=function(e,i,o){void 0===o&&(o=!0),this.setIntValueAt(t.Index_ParameterStart+e,i,o)},t.Index_CreateTime=0,t.Index_ParameterStart=1,t}(e("./IntListStorageProperty").IntListStorageProperty);i.GiftData=o,cc._RF.pop()},{"./IntListStorageProperty":"IntListStorageProperty"}],GiftTypeDefine:[function(e,t,i){"use strict";cc._RF.push(t,"652f8cxLtFAC4iHCNqOxdwH","GiftTypeDefine"),Object.defineProperty(i,"__esModule",{value:!0}),i.GiftTypeDefine=void 0,function(e){e[e.Unknown=0]="Unknown",e[e.TimeOnce=1]="TimeOnce"}(i.GiftTypeDefine||(i.GiftTypeDefine={})),cc._RF.pop()},{}],GiftsData:[function(e,t,i){"use strict";cc._RF.push(t,"b9e3eGILHJJdKvd7hkzZdkB","GiftsData"),Object.defineProperty(i,"__esModule",{value:!0}),i.GiftsData=void 0;var o=e("../../../Extension/Storage/StorageGroupData"),n=e("./GiftData"),r=function(e){function t(){var t=e.call(this,"c_gift")||this;return t.m_map={},t}return __extends(t,e),t.prototype.onCreateProperty=function(e){var t=parseInt(e);return this.m_map[t]||(this.m_map[t]=new n.GiftData(t)),this.m_map[t]},t.prototype.getGiftData=function(e){return this.m_map[e]},t.prototype.getGiftDatas=function(){return this.m_map},t.prototype.addGiftData=function(e){this.setProperty(e)},t.prototype.removeGift=function(e){return!!this.m_map[e]&&(delete this.m_map[e],this.removeProperty(e+""),!0)},t.prototype.removeGifts=function(e){for(var t=e.length,i=0;i<t;i++)this.removeGift(e[i])},t}(o.StorageGroupData);i.GiftsData=r,cc._RF.pop()},{"../../../Extension/Storage/StorageGroupData":"StorageGroupData","./GiftData":"GiftData"}],GuestActiveUIMediator:[function(e,t,i){"use strict";cc._RF.push(t,"11d6cx4wRxBq4aNQR1mwfrb","GuestActiveUIMediator"),Object.defineProperty(i,"__esModule",{value:!0}),i.GuestActiveUIMediator=void 0;var o=e("../../../../Config/ConfigKeyDefine"),n=e("../../../../Extension/UI/Sprite/UISprite"),r=e("../Basic/BusinessUIMediator"),a=e("../../../MiniGame"),s=e("../../MediatorNameDefine"),p=e("../Component/GuestActiveUIScript"),u=e("../Define/BusinessUILayerDefine"),c=e("../../../Business/Define/WindowTypeDefine"),l=function(e){function t(){var t=e.call(this,"GuestActiveUIMediator","PF_UI_GuestActive",u.BusinessUILayerDefine.Popup,!1,!1,!0,!0,!0,c.WindowTypeDefine.Default)||this;return t.m_guestActiveScript=null,t.m_icon=null,t.m_nextIDs=[],t.m_targetConfig=null,t}return __extends(t,e),t.prototype.onUIMediatorInit=function(t,i){e.prototype.onUIMediatorInit.call(this,t,i),this.m_guestActiveScript=t?t.getComponent(p.default):null,this.m_guestActiveScript&&this.m_guestActiveScript.icon&&(this.m_icon||(this.m_icon=new n.UISprite),this.m_icon.bindScript(this.m_guestActiveScript.icon))},t.prototype.onUIMediatorUnInit=function(){this.m_icon&&(this.m_icon.dispose(),this.m_icon=null),this.m_guestActiveScript=null,e.prototype.onUIMediatorUnInit.call(this)},t.prototype.onUIMediatorPrepare=function(t,i){if(e.prototype.onUIMediatorPrepare.call(this,t,i),"number"==typeof i)this.showTargetInfo(i);else{for(var o=i,n=o.length,r=0;r<n;r++)miniframe.safePush(this.m_nextIDs,o[r]);this.showNext()}},t.prototype.onUIMediatorClose=function(t){e.prototype.onUIMediatorClose.call(this,t),this.m_nextIDs.length>0&&a.MiniGame.MVC.openMediator(s.MediatorNameDefine.GuestActiveUIMediator,this.m_nextIDs.shift(),!0)},t.prototype.onUIMediatorRefresh=function(t){if(e.prototype.onUIMediatorRefresh.call(this,t),"number"==typeof t)this.showTargetInfo(t);else{for(var i=t,o=i.length,n=0;n<o;n++)miniframe.safePush(this.m_nextIDs,i[n]);this.showNext()}},t.prototype.onButtonClick=function(t){switch(t){case"check":if(!this.m_targetConfig)return;a.MiniGame.MVC.openMediator(s.MediatorNameDefine.GuestIntroUIMediator,this.m_targetConfig),this.onClose();break;default:e.prototype.onButtonClick.call(this,t)}},t.prototype.showNext=function(){this.m_nextIDs.length>0?this.showTargetInfo(this.m_nextIDs.shift()):this.onClose()},t.prototype.showTargetInfo=function(e){var t=miniframe.Config.getData(o.ConfigKeyDefine.EXPRESS_TARGET,e);t?(this.m_icon&&(this.m_icon.hookAtlasSprite(t.getFigureAt(0),t.getFigureAt(1)),this.m_icon.getNode().setPosition(new cc.Vec2(miniframe.toNumber(t.getFigureAt(2)),miniframe.toNumber(t.getFigureAt(3))))),this.m_guestActiveScript&&(this.m_guestActiveScript.titleLabel&&this.m_guestActiveScript.titleLabel.setLanguage(t.getNameLan()),this.m_guestActiveScript.descLabel&&this.m_guestActiveScript.descLabel.setLanguage(t.getDescLan()),this.m_guestActiveScript.desc2Label&&this.m_guestActiveScript.desc2Label.setLanguage(t.getDescLan2()))):this.m_icon&&this.m_icon.clear(),this.m_targetConfig=t},t}(r.BusinessUIMediator);i.GuestActiveUIMediator=l,cc._RF.pop()},{"../../../../Config/ConfigKeyDefine":"ConfigKeyDefine","../../../../Extension/UI/Sprite/UISprite":"UISprite","../../../Business/Define/WindowTypeDefine":"WindowTypeDefine","../../../MiniGame":"MiniGame","../../MediatorNameDefine":"MediatorNameDefine","../Basic/BusinessUIMediator":"BusinessUIMediator","../Component/GuestActiveUIScript":"GuestActiveUIScript","../Define/BusinessUILayerDefine":"BusinessUILayerDefine"}],GuestActiveUIScript:[function(e,t,i){"use strict";cc._RF.push(t,"328bd456CVCO6PQuF6C2jCQ","GuestActiveUIScript"),Object.defineProperty(i,"__esModule",{value:!0});var o=e("../../../../Extension/UI/Label/UITextScript"),n=cc._decorator,r=n.ccclass,a=n.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.icon=null,t.titleLabel=null,t.descLabel=null,t.desc2Label=null,t}return __extends(t,e),__decorate([a(cc.Sprite)],t.prototype,"icon",void 0),__decorate([a(o.default)],t.prototype,"titleLabel",void 0),__decorate([a(o.default)],t.prototype,"descLabel",void 0),__decorate([a(o.default)],t.prototype,"desc2Label",void 0),__decorate([r],t)}(cc.Component);i.default=s,cc._RF.pop()},{"../../../../Extension/UI/Label/UITextScript":"UITextScript"}],GuestInfoUIMediator:[function(e,t,i){"use strict";cc._RF.push(t,"8dfa3zDvoJF+5uoGil0xH5s","GuestInfoUIMediator"),Object.defineProperty(i,"__esModule",{value:!0}),i.GuestInfoUIMediator=void 0;var o=e("../../../../Config/ConfigKeyDefine"),n=e("../../../../Extension/UI/Sprite/UISprite"),r=e("../../../Business/Control/ExpressDataController"),a=e("../../../Business/Control/TaskDataController"),s=e("../../../Business/Define/ExpressTaskParameterDefine"),p=e("../../../Business/Define/TaskTypeDefine"),u=e("../../../Business/Define/ValueTypeDefine"),c=e("../Basic/BusinessUIMediator"),l=e("../../../MiniGame"),d=e("../Component/GuestInfoUIScript"),f=e("../Define/BusinessUILayerDefine"),g=e("../../../Business/Define/WindowTypeDefine"),m=function(e){function t(){var t=e.call(this,"GuestInfoUIMediator","PF_UI_GuestInfo",f.BusinessUILayerDefine.UI,!1,!1,!0,!0,!0,g.WindowTypeDefine.Default)||this;return t.m_guestInfoScript=null,t.m_icon=null,t.m_taskUID="",t}return __extends(t,e),t.prototype.onUIMediatorInit=function(t,i){e.prototype.onUIMediatorInit.call(this,t,i),this.m_guestInfoScript=t?t.getComponent(d.default):null,this.m_guestInfoScript&&this.m_guestInfoScript.icon&&(this.m_icon||(this.m_icon=new n.UISprite),this.m_icon.bindScript(this.m_guestInfoScript.icon))},t.prototype.onUIMediatorUnInit=function(){this.m_icon&&(this.m_icon.dispose(),this.m_icon=null),this.m_guestInfoScript=null,e.prototype.onUIMediatorUnInit.call(this)},t.prototype.onUIMediatorPrepare=function(t,i){e.prototype.onUIMediatorPrepare.call(this,t,i),this.m_taskUID=i;var n=a.TaskDataController.Instance.getTaskData(p.TaskTypeDefine.Trade,this.m_taskUID);if(n){var c=miniframe.Config.getData(o.ConfigKeyDefine.TASK,n.getConfigID());if(this.m_icon){var d=miniframe.Config.getData(o.ConfigKeyDefine.TASK_TARGET,c.getTargetsAt(0));if(d){var f=miniframe.Config.getData(o.ConfigKeyDefine.EXPRESS_TARGET,d.getParam1());f?(this.m_icon.hookAtlasSprite(f.getHeadAt(0),f.getHeadAt(1)),this.m_icon.getNode().setPosition(new cc.Vec2(miniframe.toNumber(f.getHeadAt(2)),miniframe.toNumber(f.getHeadAt(3))))):this.m_icon.clear()}else this.m_icon.clear()}if(this.m_guestInfoScript){if(this.m_guestInfoScript.titleLabel&&this.m_guestInfoScript.titleLabel.setLanguage(c.getNameLan()),this.m_guestInfoScript.descLabel&&this.m_guestInfoScript.descLabel.setLanguage(c.getDescLan()),c.getHintLansCount()>0?(this.m_guestInfoScript.hintNode&&(this.m_guestInfoScript.hintNode.active=!0),this.m_guestInfoScript.hintLabel&&this.m_guestInfoScript.hintLabel.setLanguage(c.getHintLansAt(0))):(this.m_guestInfoScript.hintNode&&(this.m_guestInfoScript.hintNode.active=!1),this.m_guestInfoScript.hintLabel&&(this.m_guestInfoScript.hintLabel.string="")),this.m_guestInfoScript.incomeLabels){var g=0,m=0,h=miniframe.Config.getData(o.ConfigKeyDefine.DROPBAG,c.getDropbag());if(h)for(var _=h.getDropsCount(),y=0;y<_;y++)h.getDropsAt(y).x==u.ValueTypeDefine.Coin?g=h.getDropsAt(y).y:h.getDropsAt(y).x==u.ValueTypeDefine.Gold&&(m=h.getDropsAt(y).y);this.m_guestInfoScript.incomeLabels.length>0&&(g>0?(this.m_guestInfoScript.incomeNodes[0].active=!0,this.m_guestInfoScript.incomeLabels[0].string=g+""):(this.m_guestInfoScript.incomeNodes[0].active=!1,this.m_guestInfoScript.incomeLabels[0].string="")),this.m_guestInfoScript.incomeLabels.length>1&&(m>0?(this.m_guestInfoScript.incomeNodes[1].active=!0,this.m_guestInfoScript.incomeLabels[1].string=m+""):(this.m_guestInfoScript.incomeNodes[1].active=!1,this.m_guestInfoScript.incomeLabels[1].string=""))}if(this.m_guestInfoScript.routeLabel){var C="",I=n.getParameterAt(s.ExpressTaskParameterDefine.RouteCityCount);if(I>0){var D="",v=0,S=null;for(y=0;y<I;y++)y>0&&(C+="@"),v=n.getParameterAt(s.ExpressTaskParameterDefine.RouteCityStart+y),(S=miniframe.Config.getData(o.ConfigKeyDefine.EXPRESS_CITY,v))&&(D="",r.ExpressDataController.Instance.getCityData(S.getId())||(D+="$"),C+=D+=l.MiniGame.Locale.getLanguage(S.getShortNameLan()))}this.m_guestInfoScript.routeLabel.string=C}}}},t.prototype.onUIMediatorClose=function(t){e.prototype.onUIMediatorClose.call(this,t)},t.prototype.onButtonClick=function(t){e.prototype.onButtonClick.call(this,t)},t}(c.BusinessUIMediator);i.GuestInfoUIMediator=m,cc._RF.pop()},{"../../../../Config/ConfigKeyDefine":"ConfigKeyDefine","../../../../Extension/UI/Sprite/UISprite":"UISprite","../../../Business/Control/ExpressDataController":"ExpressDataController","../../../Business/Control/TaskDataController":"TaskDataController","../../../Business/Define/ExpressTaskParameterDefine":"ExpressTaskParameterDefine","../../../Business/Define/TaskTypeDefine":"TaskTypeDefine","../../../Business/Define/ValueTypeDefine":"ValueTypeDefine","../../../Business/Define/WindowTypeDefine":"WindowTypeDefine","../../../MiniGame":"MiniGame","../Basic/BusinessUIMediator":"BusinessUIMediator","../Component/GuestInfoUIScript":"GuestInfoUIScript","../Define/BusinessUILayerDefine":"BusinessUILayerDefine"}],GuestInfoUIScript:[function(e,t,i){"use strict";cc._RF.push(t,"e5f0b3XVUNNsrbwcd86d/s0","GuestInfoUIScript"),Object.defineProperty(i,"__esModule",{value:!0});var o=e("../../../../Extension/UI/Label/UITextScript"),n=cc._decorator,r=n.ccclass,a=n.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.icon=null,t.titleLabel=null,t.descLabel=null,t.routeLabel=null,t.hintNode=null,t.hintLabel=null,t.incomeLabels=[],t.incomeNodes=[],t}return __extends(t,e),__decorate([a(cc.Sprite)],t.prototype,"icon",void 0),__decorate([a(o.default)],t.prototype,"titleLabel",void 0),__decorate([a(o.default)],t.prototype,"descLabel",void 0),__decorate([a(o.default)],t.prototype,"routeLabel",void 0),__decorate([a(cc.Node)],t.prototype,"hintNode",void 0),__decorate([a(o.default)],t.prototype,"hintLabel",void 0),__decorate([a([o.default])],t.prototype,"incomeLabels",void 0),__decorate([a([cc.Node])],t.prototype,"incomeNodes",void 0),__decorate([r],t)}(cc.Component);i.default=s,cc._RF.pop()},{"../../../../Extension/UI/Label/UITextScript":"UITextScript"}],GuestIntroUIMediator:[function(e,t,i){"use strict";cc._RF.push(t,"88d624O7XRDHItRoaVUgh+p","GuestIntroUIMediator"),Object.defineProperty(i,"__esModule",{value:!0}),i.GuestIntroUIMediator=void 0;var o=e("../../../../Config/ConfigKeyDefine"),n=e("../../../../Extension/UI/Scroll/UIScrollScript"),r=e("../../../../Extension/UI/Scroll/UIScrollList"),a=e("../../../../Extension/UI/Sprite/UISprite"),s=e("../../../Business/Control/ConfigDataController"),p=e("../../../Business/Define/ConditionTypeDefine"),u=e("../Basic/BusinessUIMediator"),c=e("../../../MiniGame"),l=e("../../MediatorNameDefine"),d=e("../Component/GuestIntroUIScript"),f=e("../Define/BusinessUILayerDefine"),g=e("../View/TargetEventListItemUIView"),m=e("../../../Business/Define/WindowTypeDefine"),h=function(e){function t(){var t=e.call(this,"GuestIntroUIMediator","PF_UI_GuestIntro",f.BusinessUILayerDefine.UI,!1,!1,!0,!0,!0,m.WindowTypeDefine.Default)||this;return t.m_guestIntroScript=null,t.m_icons=[],t.m_buildingIcon=null,t.m_scroll=null,t.m_targetConfig=null,t}return __extends(t,e),t.prototype.onUIMediatorInit=function(t,i){if(e.prototype.onUIMediatorInit.call(this,t,i),this.m_guestIntroScript=t?t.getComponent(d.default):null,this.m_guestIntroScript){for(var o=this.m_guestIntroScript.icons.length,s=0;s<o;s++)s>=this.m_icons.length&&this.m_icons.push(new a.UISprite),this.m_icons[s].bindScript(this.m_guestIntroScript.icons[s]);this.m_guestIntroScript.buildingIcon&&(this.m_buildingIcon||(this.m_buildingIcon=new a.UISprite),this.m_buildingIcon.bindScript(this.m_guestIntroScript.buildingIcon))}var p=t.getComponentInChildren(n.default);p&&(this.m_scroll||(this.m_scroll=new r.UIScrollList(g.TargetEventListItemUIView,this.getMediatorName())),this.m_scroll.bindScript(p))},t.prototype.onUIMediatorUnInit=function(){for(this.m_scroll&&(this.m_scroll.dispose(),this.m_scroll=null),this.m_buildingIcon&&(this.m_buildingIcon.dispose(),this.m_buildingIcon=null);this.m_icons.length>0;)this.m_icons.pop().dispose();this.m_guestIntroScript=null,e.prototype.onUIMediatorUnInit.call(this)},t.prototype.onUIMediatorPrepare=function(t,i){e.prototype.onUIMediatorPrepare.call(this,t,i),this.m_targetConfig=i;for(var n=this.m_icons.length,r=0;r<n;r++)this.m_icons[r].hookAtlasSprite(this.m_targetConfig.getFigureAt(0),this.m_targetConfig.getFigureAt(1)),this.m_icons[r].getNode().setPosition(new cc.Vec2(miniframe.toNumber(this.m_targetConfig.getFigureAt(2)),miniframe.toNumber(this.m_targetConfig.getFigureAt(3))));var a=this.m_targetConfig.getType();if(this.m_buildingIcon){var u=s.ConfigDataController.Instance.getExpressTargetsBuildingID(a),c=miniframe.Config.getData(o.ConfigKeyDefine.EXPRESS_BUILDING,u);c?(this.m_buildingIcon.hookAtlasSprite(c.getIconAt(0),c.getIconAt(1)),this.m_buildingIcon.getNode().setPosition(new cc.Vec2(miniframe.toNumber(c.getIconAt(2)),miniframe.toNumber(c.getIconAt(3))))):this.m_buildingIcon.clear()}if(this.m_guestIntroScript){var l=this.m_guestIntroScript.typeNodes.length;for(r=0;r<l;r++)this.m_guestIntroScript.typeNodes[r].active=a==r+1;if(this.m_guestIntroScript.nameLabel&&this.m_guestIntroScript.nameLabel.setLanguage(this.m_targetConfig.getNameLan()),this.m_guestIntroScript.descLabel&&this.m_guestIntroScript.descLabel.setLanguage(this.m_targetConfig.getDescLan()),s.ConfigDataController.Instance.isConditionAchieved(this.m_targetConfig.getConditions()))this.m_guestIntroScript.activeNode&&(this.m_guestIntroScript.activeNode.active=!0),this.m_guestIntroScript.deactiveNode&&(this.m_guestIntroScript.deactiveNode.active=!1);else{this.m_guestIntroScript.activeNode&&(this.m_guestIntroScript.activeNode.active=!1),this.m_guestIntroScript.deactiveNode&&(this.m_guestIntroScript.deactiveNode.active=!0);var d=0,f=0,g=this.m_targetConfig.getConditionsCount();for(r=0;r<g;r++)this.m_targetConfig.getConditionsAt(r).x==p.ConditionTypeDefine.CityStar&&(d=this.m_targetConfig.getConditionsAt(r).y,f=this.m_targetConfig.getConditionsAt(r).z);if(this.m_guestIntroScript.conditionLabel){var m=miniframe.Config.getData(o.ConfigKeyDefine.EXPRESS_CITY,d);m?this.m_guestIntroScript.conditionLabel.setLanguage(m.getNameLan()):this.m_guestIntroScript.conditionLabel.string=""}for(g=this.m_guestIntroScript.conditionStarNodes.length,r=0;r<g;r++)this.m_guestIntroScript.conditionStarNodes[r]&&(this.m_guestIntroScript.conditionStarNodes[r].active=r<f)}}var h=s.ConfigDataController.Instance.getExpressTargetEventBagIDs(this.m_targetConfig.getId());if(h.length<3)for(;h.length<3;)h.push(0);this.m_scroll.setDataList(h)},t.prototype.onUIMediatorClose=function(t){e.prototype.onUIMediatorClose.call(this,t)},t.prototype.onButtonClick=function(t){switch(t){case"check_building":if(!this.m_targetConfig)return;var i=this.m_targetConfig.getType(),n=i-1,r=s.ConfigDataController.Instance.getExpressTargetsBuildingID(i),a=miniframe.Config.getData(o.ConfigKeyDefine.EXPRESS_BUILDING,r),p=a?c.MiniGame.Locale.getLanguage(a.getNameLan()):"",u=c.MiniGame.Locale.getLanguage(100101+n);c.MiniGame.Instance.requestComplexPromptData(100202,this.onCreateComplexPromptData,this,[p,u],[i]);break;default:e.prototype.onButtonClick.call(this,t)}},t.prototype.onCreateComplexPromptData=function(e){c.MiniGame.MVC.openMediator(l.MediatorNameDefine.PromptAutoUIMediator,e,!0)},t}(u.BusinessUIMediator);i.GuestIntroUIMediator=h,cc._RF.pop()},{"../../../../Config/ConfigKeyDefine":"ConfigKeyDefine","../../../../Extension/UI/Scroll/UIScrollList":"UIScrollList","../../../../Extension/UI/Scroll/UIScrollScript":"UIScrollScript","../../../../Extension/UI/Sprite/UISprite":"UISprite","../../../Business/Control/ConfigDataController":"ConfigDataController","../../../Business/Define/ConditionTypeDefine":"ConditionTypeDefine","../../../Business/Define/WindowTypeDefine":"WindowTypeDefine","../../../MiniGame":"MiniGame","../../MediatorNameDefine":"MediatorNameDefine","../Basic/BusinessUIMediator":"BusinessUIMediator","../Component/GuestIntroUIScript":"GuestIntroUIScript","../Define/BusinessUILayerDefine":"BusinessUILayerDefine","../View/TargetEventListItemUIView":"TargetEventListItemUIView"}],GuestIntroUIScript:[function(e,t,i){"use strict";cc._RF.push(t,"0121coQJ6ND1asDaRwroXDk","GuestIntroUIScript"),Object.defineProperty(i,"__esModule",{value:!0});var o=e("../../../../Extension/UI/Label/UITextScript"),n=cc._decorator,r=n.ccclass,a=n.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.icons=[],t.buildingIcon=null,t.nameLabel=null,t.activeNode=null,t.deactiveNode=null,t.conditionLabel=null,t.conditionStarNodes=[],t.descLabel=null,t.typeNodes=[],t}return __extends(t,e),__decorate([a([cc.Sprite])],t.prototype,"icons",void 0),__decorate([a(cc.Sprite)],t.prototype,"buildingIcon",void 0),__decorate([a(o.default)],t.prototype,"nameLabel",void 0),__decorate([a(cc.Node)],t.prototype,"activeNode",void 0),__decorate([a(cc.Node)],t.prototype,"deactiveNode",void 0),__decorate([a(o.default)],t.prototype,"conditionLabel",void 0),__decorate([a([cc.Node])],t.prototype,"conditionStarNodes",void 0),__decorate([a(o.default)],t.prototype,"descLabel",void 0),__decorate([a([cc.Node])],t.prototype,"typeNodes",void 0),__decorate([r],t)}(cc.Component);i.default=s,cc._RF.pop()},{"../../../../Extension/UI/Label/UITextScript":"UITextScript"}],GuideConditionTypeDefine:[function(e,t,i){"use strict";cc._RF.push(t,"c6aca/iD6NNzpQD5rhkETUx","GuideConditionTypeDefine"),Object.defineProperty(i,"__esModule",{value:!0}),i.GuideConditionTypeDefine=void 0,function(e){e[e.None=0]="None",e[e.Value=1]="Value",e[e.PreCity=2]="PreCity",e[e.BuildingType=3]="BuildingType",e[e.CityStar=4]="CityStar",e[e.SystemOpen=101]="SystemOpen",e[e.MediatorOpen=102]="MediatorOpen",e[e.MediatorClose=103]="MediatorClose",e[e.MediatorAllClose=104]="MediatorAllClose",e[e.MediatorAnyOpen=105]="MediatorAnyOpen",e[e.StayNoAction=110]="StayNoAction",e[e.GetItem=201]="GetItem",e[e.NoItem=202]="NoItem",e[e.ItemCanCombine=203]="ItemCanCombine",e[e.AcceptTask=301]="AcceptTask",e[e.CanAcceptTask=302]="CanAcceptTask",e[e.FinishTask=303]="FinishTask",e[e.CommitTask=304]="CommitTask",e[e.CityCanStarUp=401]="CityCanStarUp",e[e.BuildingCanLevelUp=402]="BuildingCanLevelUp",e[e.CityCoinAwardCanDraw=403]="CityCoinAwardCanDraw",e[e.CityCanActive=404]="CityCanActive",e[e.CurrentCityCount=405]="CurrentCityCount",e[e.CityBuildingLevel=406]="CityBuildingLevel",e[e.ActiveTarget=407]="ActiveTarget",e[e.TradeTaskLeftCount=408]="TradeTaskLeftCount",e[e.TradeTaskCreate=409]="TradeTaskCreate",e[e.TaskGuideRefresh=501]="TaskGuideRefresh",e[e.TaskGuideComplete=502]="TaskGuideComplete",e[e.TaskGuideIncomplete=503]="TaskGuideIncomplete",e[e.DayLimit=601]="DayLimit"}(i.GuideConditionTypeDefine||(i.GuideConditionTypeDefine={})),cc._RF.pop()},{}],GuideController:[function(e,t,i){"use strict";cc._RF.push(t,"6c936/lYfZL3LdVskoFd7Rm","GuideController"),Object.defineProperty(i,"__esModule",{value:!0}),i.GuideController=void 0;var o=function(){function e(){this.m_guideMode=0,this.m_buttons={},this.m_isGuideOpen=!0,this.m_isButtonsBlocked=!1,this.m_isEventsBlocked=!1,this.m_director=null,e.ms_instance=this}return Object.defineProperty(e,"Instance",{get:function(){return e.ms_instance||new e},enumerable:!1,configurable:!0}),e.prototype.setGuideOpen=function(e){this.m_isGuideOpen=e},e.prototype.isGuideOpen=function(){return this.m_isGuideOpen},e.prototype.setGuideMode=function(e){this.m_guideMode=e},e.prototype.getGuideMode=function(){return this.m_isGuideOpen?this.m_guideMode:0},e.prototype.setDirector=function(e){this.m_director=e},e.prototype.addButton=function(e,t,i){var o=this.m_buttons[e];o||(o={},this.m_buttons[e]=o),o[t]!=i&&(o[t]=i,this.m_director&&this.m_director.onAddWantedButton(e,t))},e.prototype.removeButton=function(e,t){var i=this.m_buttons[e];i&&i[t]&&delete i[t]},e.prototype.removeButtonSafely=function(e,t,i){var o=this.m_buttons[e];o&&o[t]&&o[t]==i&&delete o[t]},e.prototype.getButton=function(e,t,i){if(!this.m_buttons[e])return null;if(this.m_buttons[e][t])return this.m_buttons[e][t];if(i)for(var o in this.m_buttons[e])if(0==o.indexOf(t))return this.m_buttons[e][o];return null},e.prototype.blockAll=function(){this.blockButtons(),this.blockEvents()},e.prototype.unblockAll=function(){this.unblockButtons(),this.unblockEvents()},e.prototype.blockEvents=function(){this.m_isEventsBlocked=!0},e.prototype.unblockEvents=function(){this.m_isEventsBlocked=!1},e.prototype.isEventsBlocked=function(){return!!this.m_isGuideOpen&&this.m_isEventsBlocked},e.prototype.blockButtons=function(){this.m_isButtonsBlocked=!0},e.prototype.unblockButtons=function(){this.m_isButtonsBlocked=!1},e.prototype.isButtonsBlocked=function(){return!!this.m_isGuideOpen&&this.m_isButtonsBlocked},e.prototype.hasWantedButton=function(){return!!this.m_isGuideOpen&&!!this.m_director&&this.m_director.hasWantedButton()},e.prototype.onWantedButtonClick=function(e,t,i){return void 0===i&&(i=!1),!this.m_isGuideOpen||!!this.m_director&&this.m_director.onWantedButtonClick(e,t,i)},e.prototype.triggerGuide=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return!!this.m_isGuideOpen&&!!this.m_director&&this.m_director.triggerGuide(e)},e.prototype.triggerGuideStep=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return!!this.m_isGuideOpen&&!!this.m_director&&this.m_director.triggerGuideStep(e)},e.prototype.completeGuideStep=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return!!this.m_isGuideOpen&&!!this.m_director&&this.m_director.completeGuideStep(e)},e.prototype.triggerAny=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return!!this.m_isGuideOpen&&!!this.m_director&&(!!this.m_director.completeGuideStep(e)||!!this.m_director.triggerGuideStep(e)||this.m_director.triggerGuide(e))},e.prototype.triggerGuideDirectly=function(e){return!!this.m_isGuideOpen&&!!this.m_director&&this.m_director.triggerGuideDirectly(e)},e.ms_instance=null,e}();i.GuideController=o,cc._RF.pop()},{}],GuideDataController:[function(e,t,i){"use strict";cc._RF.push(t,"e0d9cjnfqVHYL4MYgs4+BGq","GuideDataController"),Object.defineProperty(i,"__esModule",{value:!0}),i.GuideDataController=void 0;var o=e("../../../Config/ConfigKeyDefine"),n=e("../../../Extension/DataControl/BasicDataController"),r=e("../../../Extension/SystemOpen/SystemOpenController"),a=e("../../MiniGame"),s=e("../../Module/Guide/Define/GuideConditionTypeDefine"),p=e("../../Module/MediatorNameDefine"),u=e("../Data/GuideData"),c=e("../Data/TaskTriggerData"),l=e("../Define/ControlCodeDefine"),d=e("../Define/ItemFuncTypeDefine"),f=e("../Define/ItemPackTypeDefine"),g=e("../Define/ItemTypeDefine"),m=e("../Define/TaskStateDefine"),h=e("../Define/TaskTypeDefine"),_=e("../Define/WindowTypeDefine"),y=e("./ConfigDataController"),C=e("./ExpressDataController"),I=e("./ItemDataController"),D=e("./LimitDataController"),v=e("./StayStateController"),S=e("./StorageDataController"),b=e("./TaskDataController"),T=e("./WindowStateController"),P=function(e){function t(){var i=e.call(this)||this;return i.m_guides=null,i.m_taskTriggers=null,i.m_defaultGuideTriggerIDs=[],i.m_guideConditionToTriggerIDs=null,i.m_guideTriggerIDToConditions=null,i.m_repeatGuideIDs=[],i.m_taskGuideIDs=null,i.m_taskGuideTaskIDs=null,i.m_taskTriggerIDs=null,t.ms_instance=i,i}return __extends(t,e),Object.defineProperty(t,"Instance",{get:function(){return t.ms_instance||new t},enumerable:!1,configurable:!0}),t.prototype.initController=function(){this.m_guides||(this.m_guides=new u.GuideData,S.StorageDataController.Instance.addGroup(this.m_guides)),this.m_taskTriggers||(this.m_taskTriggers=new c.TaskTriggerData,S.StorageDataController.Instance.addGroup(this.m_taskTriggers))},t.prototype.initData=function(){this.initGuides(),this.initTaskGuides(),this.initTaskTriggers();var e=miniframe.today(),t=this.m_taskTriggers.getTaskTriggerDatas();for(var i in t)t[i].getDailyTime()<e&&(t[i].setDailyCount(0,!1),t[i].setDailyTime(e));I.ItemDataController.Instance.addListener(this),r.SystemOpenController.Instance.addListener(this),T.WindowStateController.Instance.addListener(this)},t.prototype.initGuides=function(){if(!this.m_guideConditionToTriggerIDs){this.m_guideConditionToTriggerIDs={},this.m_guideTriggerIDToConditions={};var e=miniframe.Config.getDataMap(o.ConfigKeyDefine.GUIDE_TRIGGER);if(e){var t=null,i="",n=0;for(var r in e){if(0==(t=e[r]).getRepeat()){if(this.isGuideStarted(t.getGuideId()))continue}else this.m_repeatGuideIDs.push(t.getGuideId());if(t.getTimesCount()<=0)miniframe.safePush(this.m_defaultGuideTriggerIDs,t.getId());else{n=t.getTimesCount();for(var a=0;a<n;a++){if(0==(i=t.getTimesAt(a)).indexOf(s.GuideConditionTypeDefine.StayNoAction+"|")){var p=miniframe.toNumber(i.substring(s.GuideConditionTypeDefine.StayNoAction.toString().length+1));v.StayStateController.Instance.addStayChecker(p,this.onStay,this,t.getId())}this.m_guideConditionToTriggerIDs[i]?miniframe.safePush(this.m_guideConditionToTriggerIDs[i],t.getId()):this.m_guideConditionToTriggerIDs[i]=[t.getId()]}this.m_guideTriggerIDToConditions[t.getId()]=t.getConditions()}}}}},t.prototype.initTaskGuides=function(){if(!this.m_taskGuideIDs){this.m_taskGuideIDs=[],this.m_taskGuideTaskIDs=[];var e=null,t=miniframe.Config.getDataMap(o.ConfigKeyDefine.TASK_GUIDE);for(var i in t)e=t[i],this.m_taskGuideIDs.push(e.getId()),this.m_taskGuideTaskIDs.push(e.getTaskId());this.m_taskGuideIDs.sort(miniframe.compareNumber)}},t.prototype.initTaskTriggers=function(){if(!this.m_taskTriggerIDs){this.m_taskTriggerIDs=[];var e=null,t=miniframe.Config.getDataMap(o.ConfigKeyDefine.TASK_TRIGGER);for(var i in t)(e=t[i]).getLimitCount()>0&&this.getTaskTriggerCount(e.getId())>=e.getLimitCount()||e.getDaylimitCount()>0&&this.getTaskTriggerDailyCount(e.getId())>=e.getDaylimitCount()||this.m_taskTriggerIDs.push(e.getId());this.m_taskTriggerIDs.sort(miniframe.compareNumber)}},t.prototype.getFirstAvailableDefaultGuideID=function(){if(this.m_defaultGuideTriggerIDs.length>0)for(var e=null,t=this.m_defaultGuideTriggerIDs.length,i=0;i<t;i++)if(this.checkGuideConditionsByTriggerID(this.m_defaultGuideTriggerIDs[i])){if(!(e=miniframe.Config.getData(o.ConfigKeyDefine.GUIDE_TRIGGER,this.m_defaultGuideTriggerIDs[i])))continue;if(1==e.getRepeat()||!this.isGuideStarted(e.getGuideId()))return e.getGuideId()}return 0},t.prototype.getGuideTriggerIDsByConditions=function(e){var t=this.combineConditionKey(e);return this.m_guideConditionToTriggerIDs[t]},t.prototype.checkGuideConditionsByTriggerID=function(e){var t=this.m_guideTriggerIDToConditions[e];return!(t&&t.length>0)||this.isGuideConditionsAchieved(t,0)},t.prototype.isGuideStarted=function(e){return!!this.m_guides&&this.m_guides.getUsedGuideStep(e)>=0},t.prototype.isGuideComplete=function(e){return!!this.m_guides&&this.m_guides.getUsedGuideStep(e)==t.FullGuideStep},t.prototype.getGuideProgress=function(e){return this.m_guides?this.m_guides.getUsedGuideStep(e):0},t.prototype.allTaskGuideComplete=function(){return this.isTaskGuideComplete(this.m_taskGuideIDs[this.m_taskGuideIDs.length-1])},t.prototype.getTaskGuideProgress=function(){return this.m_guides?this.m_guides.getTaskGuideProgress():NaN},t.prototype.getTaskGuideID=function(){return this.m_guides?this.m_guides.getTaskGuideID():NaN},t.prototype.getTaskGuideIDAfter=function(e){if(isNaN(e))return NaN;if(this.m_taskGuideIDs.length<=0)return NaN;if(e>0){var t=this.m_taskGuideIDs.indexOf(e);return-1==t?NaN:t>=this.m_taskGuideIDs.length-1?NaN:this.m_taskGuideIDs[t+1]}return this.m_taskGuideIDs[0]},t.prototype.isTaskGuideComplete=function(e){var t=this.getTaskGuideID();if(isNaN(t))return!1;if(e>t)return!1;if(e<t)return!0;var i=miniframe.Config.getData(o.ConfigKeyDefine.TASK_GUIDE,e);if(!i)return!1;var n=b.TaskDataController.Instance.getTaskDataByConfigID(h.TaskTypeDefine.Trade,i.getTaskId());return!(n&&n.getState()<i.getCompleteTaskState())&&(i.getCompleteConditionsCount()<=0||this.isGuideConditionsAchieved(i.getCompleteConditions(),i.getCheckType()))},t.prototype.isTaskGuideTaskID=function(e){return!(!this.m_taskGuideTaskIDs||this.m_taskGuideTaskIDs.length<=0)&&-1!=this.m_taskGuideTaskIDs.indexOf(e)},t.prototype.getTaskTriggerCount=function(e){if(!this.m_taskTriggers)return 0;var t=this.m_taskTriggers.getTaskTriggerData(e);return t?t.getCount():0},t.prototype.getTaskTriggerDailyCount=function(e){if(!this.m_taskTriggers)return 0;var t=this.m_taskTriggers.getTaskTriggerData(e);return t?t.getDailyTime()<miniframe.today()?0:t.getDailyCount():0},t.prototype.isTaskTriggerFullToday=function(e){if(!this.m_taskTriggers)return!1;var t=this.m_taskTriggers.getTaskTriggerData(e);return!!t&&(t.isFull()||t.isDailyFull())},t.prototype.triggerGuideByTask=function(e,t){a.MiniGame.Guide.getGuideMode()>0?a.MiniGame.Guide.triggerAny(e,0,t.getTaskType(),t.getTaskSubType())||a.MiniGame.Guide.triggerAny(e,0,t.getTaskType(),0)||a.MiniGame.Guide.triggerAny(e,t.getConfigID(),0):a.MiniGame.Guide.triggerGuide(e,0,t.getTaskType(),t.getTaskSubType())||a.MiniGame.Guide.triggerGuide(e,0,t.getTaskType(),0)||a.MiniGame.Guide.triggerGuide(e,t.getConfigID(),0)},t.prototype.triggerGuideByBuildingLevel=function(e,t,i){a.MiniGame.Guide.getGuideMode()>0&&(a.MiniGame.Guide.triggerAny(s.GuideConditionTypeDefine.CityBuildingLevel,e,t,i)||a.MiniGame.Guide.triggerAny(s.GuideConditionTypeDefine.CityBuildingLevel,0,t,i))},t.prototype.triggerGuideByCityCoinAward=function(e,t){a.MiniGame.Guide.getGuideMode()>0&&(a.MiniGame.Guide.triggerAny(s.GuideConditionTypeDefine.CityCoinAwardCanDraw,e,t)||a.MiniGame.Guide.triggerAny(s.GuideConditionTypeDefine.CityCoinAwardCanDraw,0,t))},t.prototype.triggerGuideByItem=function(e,t){a.MiniGame.Guide.getGuideMode()>0?a.MiniGame.Guide.triggerAny(e,0,t.getItemType())||a.MiniGame.Guide.triggerAny(e,t.getConfigID(),0):a.MiniGame.Guide.triggerGuide(e,0,t.getItemType())||a.MiniGame.Guide.triggerGuide(e,t.getConfigID(),0)},t.prototype.triggerGuideByWindowAllClosed=function(e){""!=e&&a.MiniGame.Guide.triggerAny(s.GuideConditionTypeDefine.MediatorAllClose,e)||a.MiniGame.Guide.triggerAny(s.GuideConditionTypeDefine.MediatorAllClose,"")},t.prototype.combineConditionKey=function(e){switch(e[0]){case s.GuideConditionTypeDefine.SystemOpen:case s.GuideConditionTypeDefine.MediatorOpen:case s.GuideConditionTypeDefine.MediatorClose:case s.GuideConditionTypeDefine.MediatorAllClose:case s.GuideConditionTypeDefine.TaskGuideRefresh:case s.GuideConditionTypeDefine.TaskGuideComplete:case s.GuideConditionTypeDefine.TaskGuideIncomplete:case s.GuideConditionTypeDefine.CityCanStarUp:case s.GuideConditionTypeDefine.CityCanActive:case s.GuideConditionTypeDefine.CurrentCityCount:case s.GuideConditionTypeDefine.ActiveTarget:case s.GuideConditionTypeDefine.TradeTaskLeftCount:return e[0]+"|"+e[1];case s.GuideConditionTypeDefine.GetItem:case s.GuideConditionTypeDefine.NoItem:case s.GuideConditionTypeDefine.ItemCanCombine:case s.GuideConditionTypeDefine.BuildingCanLevelUp:case s.GuideConditionTypeDefine.CityCoinAwardCanDraw:case s.GuideConditionTypeDefine.DayLimit:return e[0]+"|"+e[1]+"|"+e[2];case s.GuideConditionTypeDefine.AcceptTask:case s.GuideConditionTypeDefine.CanAcceptTask:case s.GuideConditionTypeDefine.FinishTask:case s.GuideConditionTypeDefine.CommitTask:case s.GuideConditionTypeDefine.CityBuildingLevel:return e.length>3?e[0]+"|"+e[1]+"|"+(100*e[2]+e[3]):e[0]+"|"+e[1]+"|"+e[2];default:return e[0]+""}},t.prototype.checkGuideCondition=function(e,i,o){return e==s.GuideConditionTypeDefine.MediatorOpen?miniframe.Facade.isMediatorOpened(o):e==s.GuideConditionTypeDefine.MediatorClose?!miniframe.Facade.isMediatorOpened(o):e==s.GuideConditionTypeDefine.MediatorAllClose?!T.WindowStateController.Instance.hasAnyWindowOpened(_.WindowTypeDefine.Default):e==s.GuideConditionTypeDefine.MediatorAnyOpen?T.WindowStateController.Instance.hasAnyWindowOpened(_.WindowTypeDefine.Default):t.Instance.isGuideConditionAchieved(e,i.x,i.y)},t.prototype.isGuideConditionsAchieved=function(e,t){for(var i=0,o=e.length,n=0;n<o;n++)if(this.isGuideConditionAchieved(e[n].x,e[n].y,e[n].z)&&(i++,1==t))return!0;return i>=e.length},t.prototype.isGuideConditionAchieved=function(e,t,i){switch(e){case s.GuideConditionTypeDefine.SystemOpen:return r.SystemOpenController.Instance.isSystemOpen(t);case s.GuideConditionTypeDefine.GetItem:return t>0?I.ItemDataController.Instance.getItemCountByConfigID(f.ItemPackTypeDefine.Default,t)>0:!(i>0)||I.ItemDataController.Instance.containsItemCountByItemType(f.ItemPackTypeDefine.Default,i);case s.GuideConditionTypeDefine.NoItem:return t>0?I.ItemDataController.Instance.getItemCountByConfigID(f.ItemPackTypeDefine.Default,t)<=0:!(i>0&&I.ItemDataController.Instance.containsItemCountByItemType(f.ItemPackTypeDefine.Default,i));case s.GuideConditionTypeDefine.ItemCanCombine:if(t>0)return!(!(u=miniframe.Config.getData(o.ConfigKeyDefine.ITEM_INFO,t))||u.getFuncType()!=d.ItemFuncTypeDefine.Combine)&&I.ItemDataController.Instance.getItemCountByConfigID(f.ItemPackTypeDefine.Default,t)>=u.getFuncParam1();if(i>0){var n=y.ConfigDataController.Instance.getItemConfigsByType(g.ItemTypeDefine.EventPiece);if(n&&n.length>0){for(var a=0,u=null,c=n.length,l=0;l<c;l++)if((u=n[l]).getFuncType()==d.ItemFuncTypeDefine.Combine&&I.ItemDataController.Instance.getItemCountByConfigID(f.ItemPackTypeDefine.Default,u.getId())>=u.getFuncParam1()){a++;break}return a>0}return!1}return!0;case s.GuideConditionTypeDefine.AcceptTask:case s.GuideConditionTypeDefine.CanAcceptTask:case s.GuideConditionTypeDefine.FinishTask:case s.GuideConditionTypeDefine.CommitTask:var h=0;if(e==s.GuideConditionTypeDefine.AcceptTask?h=m.TaskStateDefine.Doing:e==s.GuideConditionTypeDefine.CanAcceptTask?h=m.TaskStateDefine.CanAccept:e==s.GuideConditionTypeDefine.FinishTask?h=m.TaskStateDefine.Finish:e==s.GuideConditionTypeDefine.CommitTask&&(h=m.TaskStateDefine.Commit),t>0){var _=miniframe.Config.getData(o.ConfigKeyDefine.TASK,t);return!!_&&b.TaskDataController.Instance.hasTaskDataWithStateByConfigID(_.getType(),_.getId(),h)}if(i>0){var v=Math.floor(i/100),S=i-100*v;return b.TaskDataController.Instance.hasTaskDataWithStateByTypes(v,S,h)}return!0;case s.GuideConditionTypeDefine.CityCanStarUp:if(0==t){if(!(T=miniframe.Facade.findMediator(p.MediatorNameDefine.CityDevelopUIMediator)))return!1;t=T.getCityID()}return C.ExpressDataController.Instance.isCityCanStarUp(t);case s.GuideConditionTypeDefine.BuildingCanLevelUp:if(0==t){if(!(T=miniframe.Facade.findMediator(p.MediatorNameDefine.CityDevelopUIMediator)))return!1;t=T.getCityID()}return C.ExpressDataController.Instance.isCityBuildingCanLevelUp(t,i);case s.GuideConditionTypeDefine.CityCoinAwardCanDraw:if(0==t){if(!(T=miniframe.Facade.findMediator(p.MediatorNameDefine.CityDevelopUIMediator)))return!1;t=T.getCityID()}return C.ExpressDataController.Instance.isCityCoinAwardAvailable(t,i);case s.GuideConditionTypeDefine.CityCanActive:return C.ExpressDataController.Instance.isCityCanActive(t);case s.GuideConditionTypeDefine.CurrentCityCount:return C.ExpressDataController.Instance.getCityCount()>=t;case s.GuideConditionTypeDefine.CityBuildingLevel:if(0==t){var T;if(!(T=miniframe.Facade.findMediator(p.MediatorNameDefine.CityDevelopUIMediator)))return!1;t=T.getCityID()}var P=Math.floor(i/100),M=i-100*P;return C.ExpressDataController.Instance.isCityBuildingLevelAvailable(t,P,M);case s.GuideConditionTypeDefine.ActiveTarget:return t>0?C.ExpressDataController.Instance.isTargetActivated(t):C.ExpressDataController.Instance.hasAnyTargetActivated();case s.GuideConditionTypeDefine.TradeTaskLeftCount:return C.ExpressDataController.Instance.getCurrentTaskLeftCount()>=t;case s.GuideConditionTypeDefine.TaskGuideRefresh:return!1;case s.GuideConditionTypeDefine.TaskGuideComplete:return this.isTaskGuideComplete(t);case s.GuideConditionTypeDefine.TaskGuideIncomplete:return!this.isTaskGuideComplete(t);case s.GuideConditionTypeDefine.DayLimit:var E=D.LimitDataController.Instance.getLimitData(t);return!E||E.getTime()<miniframe.today()||i<=E.getCount();default:return y.ConfigDataController.Instance.checkCondition(e,t,i)}},t.prototype.handleSetTaskGuideProgress=function(e,t){void 0===t&&(t=!0),this.m_guides&&this.m_guides.handleSetTaskGuideProgress(e,t)},t.prototype.handleSetTaskGuideID=function(e,t){void 0===t&&(t=!0),this.m_guides&&this.m_guides.handleSetTaskGuideID(e,t)},t.prototype.handleSaveGuideProgress=function(e,i,o,n){void 0===n&&(n=!0),this.m_guides&&-1==this.m_repeatGuideIDs.indexOf(e)&&this.m_guides.handleSetUsedGuide(e,o?t.FullGuideStep:i,n)},t.prototype.handleIncreaseTaskTriggerCount=function(e,t){if(void 0===t&&(t=!0),!this.m_taskTriggers)return!1;var i=miniframe.today(),o=this.m_taskTriggers.getTaskTriggerData(e);return o&&o.getDailyTime()<i&&(o.setDailyCount(0,!1),o.setDailyTime(i)),this.m_taskTriggers.addCount(e,1,i,t)},t.prototype.handleGenerateTradeTaskDataByTrigger=function(){if(this.m_taskTriggerIDs.length<=0)return null;for(var e=0,t=null,i=null,n=0,r=this.m_taskTriggerIDs.length,a=0;a<r;a++)if(i=miniframe.Config.getData(o.ConfigKeyDefine.TASK_TRIGGER,this.m_taskTriggerIDs[a]),this.isGuideConditionsAchieved(i.getTriggerConditions(),i.getCheckType())){if(e=this.randomTaskWithList(i.getTaskIds()),!(t=y.ConfigDataController.Instance.getTradeTaskData(e)))continue;n=i.getId();break}return t?(this.handleIncreaseTaskTriggerCount(n)&&this.isTaskTriggerFullToday(n)&&miniframe.safeRemove(this.m_taskTriggerIDs,n),console.info("refresh task trigger",n,t.taskConfigID),t):null},t.prototype.handleGenerateTradeTaskData=function(){var e=this.handleGenerateTradeTaskDataByTrigger();if(e)return e;if(this.m_taskGuideIDs.length<=0)return null;var t=this.getTaskGuideProgress();if(t>this.m_taskGuideIDs[this.m_taskGuideIDs.length-1])return null;var i=this.getTaskGuideID();if(isNaN(i))return null;if(i>0&&!this.isTaskGuideComplete(i)){var n=miniframe.Config.getData(o.ConfigKeyDefine.TASK_GUIDE,i);if(n){if(n.getTaskRangesCount()<=0)return null;var r=miniframe.random.randomWithList(n.getTaskRanges()),a=this.randomTaskWithRange(r),s=y.ConfigDataController.Instance.getTradeTaskData(a);return s?(console.info("refresh task guide backup",a),s):null}}var p=this.getTaskGuideIDAfter(i);if(isNaN(p))return t==this.m_taskGuideIDs[this.m_taskGuideIDs.length-1]&&this.handleSetTaskGuideProgress(t+1),null;var u=miniframe.Config.getData(o.ConfigKeyDefine.TASK_GUIDE,p);if(!u)return null;var c=0,l=!1,d=t+1;p==d?(c=u.getTaskId(),l=!0):u.getTaskRangesCount()>0&&(c=this.randomTaskWithRange(miniframe.random.randomWithList(u.getTaskRanges()))),console.info("set task guide progress",d),this.handleSetTaskGuideProgress(d);var f=c>0?y.ConfigDataController.Instance.getTradeTaskData(c):null;return f&&(l?(console.info("refresh task guide",p,c),this.handleSetTaskGuideID(p)):console.info("refresh task guide backup",c)),f},t.prototype.randomTaskWithRange=function(e){for(var t=[],i=e.x;i<=e.y;i++)C.ExpressDataController.Instance.isTradeTaskCanBeGenerated(i)&&t.push(i);return t.length<=0?0:miniframe.random.randomWithList(t)},t.prototype.randomTaskWithList=function(e){for(var t=[],i=e.length,o=0;o<=i;o++)C.ExpressDataController.Instance.isTradeTaskCanBeGenerated(e[o])&&t.push(e[o]);return t.length<=0?0:miniframe.random.randomWithList(t)},t.prototype.preloadGuide=function(e){var i=miniframe.Config.getData(o.ConfigKeyDefine.GUIDE_PRELOAD,e);if(i){console.info("preload guide ",e);for(var n=miniframe.Loader.beginGroupLoad(t.GuidePreloadPrefix+e),r=i.getResourcesCount(),a=0;a<r;a++)miniframe.Loader.addGroupLoadResource(n,i.getResourcesAt(a));miniframe.Loader.endGroupLoad(n,null,null)}},t.prototype.onStay=function(e){if(this.checkGuideConditionsByTriggerID(e)){var t=miniframe.Config.getData(o.ConfigKeyDefine.GUIDE_TRIGGER,e);t&&(v.StayStateController.Instance.resetStayTime(),a.MiniGame.Guide.triggerGuideDirectly(t.getGuideId()))}},t.prototype.onSystemOpen=function(e){a.MiniGame.Guide.getGuideMode()>0?a.MiniGame.Guide.triggerAny(s.GuideConditionTypeDefine.SystemOpen,e):a.MiniGame.Guide.triggerGuide(s.GuideConditionTypeDefine.SystemOpen,e)},t.prototype.onDataControllerUpdate=function(e,t){switch(e){case l.ControlCodeDefine.ItemAdd:var i=t;this.triggerGuideByItem(s.GuideConditionTypeDefine.GetItem,i),i.getItemFuncType()==d.ItemFuncTypeDefine.Combine&&i.getCount()>=i.getItemFuncParam1()&&this.triggerGuideByItem(s.GuideConditionTypeDefine.ItemCanCombine,i);break;case l.ControlCodeDefine.WindowAllClosed:var o=T.WindowStateController.Instance.getLastWindow();this.triggerGuideByWindowAllClosed(o)}},t.ms_instance=null,t.FullGuideStep=999,t.GuidePreloadPrefix="guide_preload_",t}(n.BasicDataController);i.GuideDataController=P,cc._RF.pop()},{"../../../Config/ConfigKeyDefine":"ConfigKeyDefine","../../../Extension/DataControl/BasicDataController":"BasicDataController","../../../Extension/SystemOpen/SystemOpenController":"SystemOpenController","../../MiniGame":"MiniGame","../../Module/Guide/Define/GuideConditionTypeDefine":"GuideConditionTypeDefine","../../Module/MediatorNameDefine":"MediatorNameDefine","../Data/GuideData":"GuideData","../Data/TaskTriggerData":"TaskTriggerData","../Define/ControlCodeDefine":"ControlCodeDefine","../Define/ItemFuncTypeDefine":"ItemFuncTypeDefine","../Define/ItemPackTypeDefine":"ItemPackTypeDefine","../Define/ItemTypeDefine":"ItemTypeDefine","../Define/TaskStateDefine":"TaskStateDefine","../Define/TaskTypeDefine":"TaskTypeDefine","../Define/WindowTypeDefine":"WindowTypeDefine","./ConfigDataController":"ConfigDataController","./ExpressDataController":"ExpressDataController","./ItemDataController":"ItemDataController","./LimitDataController":"LimitDataController","./StayStateController":"StayStateController","./StorageDataController":"StorageDataController","./TaskDataController":"TaskDataController","./WindowStateController":"WindowStateController"}],GuideData:[function(e,t,i){"use strict";cc._RF.push(t,"9050eFFdtZFJaPTdMz3iBT9","GuideData"),Object.defineProperty(i,"__esModule",{value:!0}),i.GuideData=void 0;var o=e("../../../Extension/Storage/StorageGroupData"),n=e("../../../Extension/Storage/StorageValueTypeDefine"),r=e("./GuideUsedListProperty"),a=function(e){function t(){var t=e.call(this,"i_guide")||this;return t.m_usedGuides=null,t}return __extends(t,e),t.prototype.onCreateProperty=function(i){return i==t.Name_TaskGuideProgress||i==t.Name_TaskGuideID?this.createMetaProperty(i,n.StorageValueTypeDefine.Int):i==t.Name_GuideUsedList?(this.m_usedGuides||(this.m_usedGuides=new r.GuideUsedListProperty(i)),this.m_usedGuides):e.prototype.onCreateProperty.call(this,i)},t.prototype.getTaskGuideProgress=function(){this.containsProperty(t.Name_TaskGuideProgress)||this.initProperty(t.Name_TaskGuideProgress);var e=this.getProperty(t.Name_TaskGuideProgress);return e?e.getValue():0},t.prototype.getTaskGuideID=function(){this.containsProperty(t.Name_TaskGuideID)||this.initProperty(t.Name_TaskGuideID);var e=this.getProperty(t.Name_TaskGuideID);return e?e.getValue():0},t.prototype.isGuideUsed=function(e){return this.m_usedGuides||this.initProperty(t.Name_GuideUsedList),!!this.m_usedGuides&&-1!=this.m_usedGuides.indexOfGuideID(e)},t.prototype.getUsedGuideStep=function(e){return this.m_usedGuides||this.initProperty(t.Name_GuideUsedList),this.m_usedGuides?this.m_usedGuides.getUsedGuideStep(e):-1},t.prototype.handleSetTaskGuideProgress=function(e,i){void 0===i&&(i=!0),this.containsProperty(t.Name_TaskGuideProgress)||this.initProperty(t.Name_TaskGuideProgress);var o=this.getProperty(t.Name_TaskGuideProgress);return!!o&&(o.setValue(e),!0)},t.prototype.handleSetTaskGuideID=function(e,i){void 0===i&&(i=!0),this.containsProperty(t.Name_TaskGuideID)||this.initProperty(t.Name_TaskGuideID);var o=this.getProperty(t.Name_TaskGuideID);return!!o&&(o.setValue(e),!0)},t.prototype.handleSetUsedGuide=function(e,i,o){return void 0===o&&(o=!0),this.m_usedGuides||this.initProperty(t.Name_GuideUsedList),!!this.m_usedGuides&&(this.m_usedGuides.handleSetUsedGuide(e,i,o),!0)},t.Name_GuideUsedList="used_list",t.Name_TaskGuideProgress="t_guide_p",t.Name_TaskGuideID="t_guide_i",t}(o.StorageGroupData);i.GuideData=a,cc._RF.pop()},{"../../../Extension/Storage/StorageGroupData":"StorageGroupData","../../../Extension/Storage/StorageValueTypeDefine":"StorageValueTypeDefine","./GuideUsedListProperty":"GuideUsedListProperty"}],GuideDialogScript:[function(e,t,i){"use strict";cc._RF.push(t,"aedbb+smyNKwpIypQCzmKoX","GuideDialogScript"),Object.defineProperty(i,"__esModule",{value:!0});var o=e("../../../../Extension/UI/Label/UITextScript"),n=e("../../../../Extension/UI/View/UIViewScript"),r=cc._decorator,a=r.ccclass,s=r.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.contentLabel=null,t.mediatorName="",t}return __extends(t,e),__decorate([s(o.default)],t.prototype,"contentLabel",void 0),__decorate([s(cc.String)],t.prototype,"mediatorName",void 0),__decorate([a],t)}(n.default);i.default=p,cc._RF.pop()},{"../../../../Extension/UI/Label/UITextScript":"UITextScript","../../../../Extension/UI/View/UIViewScript":"UIViewScript"}],GuideDialog:[function(e,t,i){"use strict";cc._RF.push(t,"b7674NndmNHH4lTIc5EVqSG","GuideDialog"),Object.defineProperty(i,"__esModule",{value:!0}),i.GuideDialog=void 0;var o=e("../../../../Config/ConfigKeyDefine"),n=e("../../../Business/Control/CharDataController"),r=e("../../../Core/Express/Control/ExpressResources"),a=e("../../../MiniGame"),s=e("../../Business/Define/BusinessNotificationDefine"),p=e("../../Core/Control/CoreConsts"),u=e("../../Core/Control/CoreGameController"),c=e("../Define/GuideLayerDefine"),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.m_contentLan=0,t.m_drawPos=cc.Vec2.ZERO,t}return __extends(t,e),t.prototype.onInitNode=function(t){e.prototype.onInitNode.call(this,t),this.onSetContentLan()},Object.defineProperty(t.prototype,"dialogScript",{get:function(){return this.m_script},enumerable:!1,configurable:!0}),t.prototype.getMediatorName=function(){return this.dialogScript?this.dialogScript.mediatorName:""},t.prototype.onButtonPreClick=function(t){return"draw"==t.getButtonKey()&&(this.m_drawPos=miniframe.UI.toUIPosition(t.getNode().convertToWorldSpaceAR(cc.Vec2.ZERO))),e.prototype.onButtonPreClick.call(this,t)},t.prototype.onButtonClick=function(e){switch(e){case"draw":var t=miniframe.Config.getData(o.ConfigKeyDefine.CONST,1016);if(t){var i=miniframe.Config.getData(o.ConfigKeyDefine.DROPBAG,t.getValueAt(0));if(i&&i.getDropsCount()>0){var l=i.getDrops(),d=l[0].x,f=l[0].y;n.CharDataController.Instance.handleAddCharValues(l,!1);var g=r.ExpressResources.Instance.requestDropBody(0,d);if(g){miniframe.UI.addLazyChild(g,c.GuideLayerDefine.UI),g.setPosition(this.m_drawPos);var m=p.CoreConsts.GuideValueFlyNums[d],h=miniframe.random.randomIntWith(m);u.CoreGameController.Instance.flyValueNodeTo(d,f,g,h,void 0,!0,!0),a.MiniGame.Audio.playAudio(62)}else a.MiniGame.MVC.sendNotification(s.BusinessNotificationDefine.REFRESH_VALUES)}}}},t.prototype.setContentLan=function(e){this.m_contentLan!=e&&(this.m_contentLan=e,this.onSetContentLan())},t.prototype.onSetContentLan=function(){this.dialogScript&&this.dialogScript.contentLabel&&this.dialogScript.contentLabel.setLanguage(this.m_contentLan)},t}(e("./GuideVisual").GuideVisual);i.GuideDialog=l,cc._RF.pop()},{"../../../../Config/ConfigKeyDefine":"ConfigKeyDefine","../../../Business/Control/CharDataController":"CharDataController","../../../Core/Express/Control/ExpressResources":"ExpressResources","../../../MiniGame":"MiniGame","../../Business/Define/BusinessNotificationDefine":"BusinessNotificationDefine","../../Core/Control/CoreConsts":"CoreConsts","../../Core/Control/CoreGameController":"CoreGameController","../Define/GuideLayerDefine":"GuideLayerDefine","./GuideVisual":"GuideVisual"}],GuideExecutor:[function(e,t,i){"use strict";cc._RF.push(t,"6da201y0C5Cf7qCE8SYe68i","GuideExecutor"),Object.defineProperty(i,"__esModule",{value:!0}),i.GuideExecuttor=void 0;var o=e("../../../Business/Control/GuideDataController"),n=e("../../../Core/Express/ExpressWorld"),r=e("../../../MiniGame"),a=e("../Component/GuideStepScript"),s=e("../Define/GuideFocusTypeDefine"),p=e("../Define/GuideLayerDefine"),u=e("../Define/GuideMaskShapeDefine"),c=e("./GuideDialog"),l=e("./GuideMask"),d=e("./GuideVisual"),f=function(){function e(){this.m_owner=null,this.m_isRunning=!1,this.m_guideID=0,this.m_guideRes="",this.m_stepContainer=null,this.m_stepIndex=0,this.m_stepScript=null,this.m_watiingState=0,this.m_waitingConditions=[],this.m_dialog=null,this.m_focus=null,this.m_mask=null,this.m_focusNode=null,this.m_listeningTouch=!1,this.m_listeningTime=!1}return e.prototype.setOwner=function(e){this.m_owner=e},e.prototype.startGuide=function(e){return this.m_guideID=e,this.m_guideRes="PF_Guide_"+this.m_guideID,r.MiniGame.Guide.setGuideMode(this.m_guideID),console.info("start guide",e),this.m_isRunning=!0,this.setBlockAll(!0),this.m_stepContainer=null,this.m_stepIndex=Math.max(0,o.GuideDataController.Instance.getGuideProgress(this.m_guideID)-1),miniframe.Loader.loadResource(this.m_guideRes,this),!0},e.prototype.startStep=function(e){if(1!=this.m_watiingState)return!1;var t=this.m_waitingConditions.indexOf(e);return-1!=t&&(this.m_waitingConditions.splice(t,1),this.m_waitingConditions.length<=0&&this.onPrintStep(),!0)},e.prototype.completeStep=function(e){if(2!=this.m_watiingState)return!1;var t=this.m_waitingConditions.indexOf(e);return-1!=t&&(this.m_waitingConditions.splice(t,1),this.m_waitingConditions.length<=0&&this.onFinishStep(),!0)},e.prototype.hasWantedButton=function(){return!!this.m_stepScript&&(!!this.m_stepScript.blockButtons||this.m_stepScript.focusType==s.GuideFocusTypeDefine.Button&&""!=this.m_stepScript.focusButtonMediator)},e.prototype.onWantedButtonClick=function(e,t,i){if(!this.m_stepScript)return!i;if(this.m_stepScript.focusType==s.GuideFocusTypeDefine.Button&&this.m_stepScript.focusButtonMediator==e){if(this.m_stepScript.focusButtonKey==t)return this.finishStep(),!0;if(this.m_stepScript.focusButtonPrefix&&0==t.indexOf(this.m_stepScript.focusButtonKey))return this.finishStep(),!0}return!i&&!this.m_stepScript.blockButtons},e.prototype.onAddWantedButton=function(e,t){if(this.m_stepScript&&this.m_stepScript.focusType==s.GuideFocusTypeDefine.Button&&this.m_stepScript.focusButtonMediator==e){if(this.m_stepScript.focusButtonPrefix){if(0!=t.indexOf(this.m_stepScript.focusButtonKey))return}else if(this.m_stepScript.focusButtonKey!=t)return;console.info("print step on add button"),this.onPrintStep()}},e.prototype.isRunning=function(){return this.m_isRunning},e.prototype.getGuideID=function(){return this.m_guideID},e.prototype.setBlockAll=function(e){e?n.ExpressWorld.Instance.blockEvent():n.ExpressWorld.Instance.unblockEvent()},e.prototype.setBlockEvents=function(e){e?r.MiniGame.Guide.blockEvents():r.MiniGame.Guide.unblockEvents()},e.prototype.setBlockButtons=function(e){e?r.MiniGame.Guide.blockButtons():r.MiniGame.Guide.unblockButtons()},e.prototype.nextStep=function(){this.m_stepIndex++,this.playStep()},e.prototype.playStep=function(){if(this.m_stepIndex>=this.m_stepContainer.childrenCount)this.completeGuide();else{this.m_stepScript=null,this.m_focusNode=null;var e=null;this.m_stepIndex<this.m_stepContainer.childrenCount&&(e=this.m_stepContainer.children[this.m_stepIndex]),e?this.printStep(e.getComponent(a.default)):this.nextStep()}},e.prototype.printStep=function(e){if(e){if(this.m_stepScript=e,this.setBlockAll(!0),!this.m_stepScript.needSkipCondition||!this.m_owner.checkGuideConditions(this.m_stepScript.skipConditions,this.m_stepScript.skipConditionValues,this.m_stepScript.skipConditionStringValues))return this.m_stepScript.needStartCondition&&!this.m_owner.checkGuideConditions(this.m_stepScript.startConditions,this.m_stepScript.startConditionValues,this.m_stepScript.startConditionStringValues)?(this.m_watiingState=1,this.m_waitingConditions.length>0&&this.m_waitingConditions.splice(0,this.m_waitingConditions.length),this.m_owner.fillConditionKeys(this.m_waitingConditions,this.m_stepScript.startConditions,this.m_stepScript.startConditionValues,this.m_stepScript.startConditionStringValues),void this.hideVisuals()):void this.onPrintStep();this.finishStep()}else this.nextStep()},e.prototype.onPrintStep=function(){var e=this;this.setBlockAll(!1),this.setBlockButtons(this.m_stepScript.blockButtons),this.setBlockEvents(this.m_stepScript.blockEvents);var t=null;if(this.m_stepScript.focusType==s.GuideFocusTypeDefine.Button){var i=r.MiniGame.Guide.getButton(this.m_stepScript.focusButtonMediator,this.m_stepScript.focusButtonKey,this.m_stepScript.focusButtonPrefix);if(!i)return console.info("print step no button return "),void this.hideVisuals(this.m_stepScript.focusButtonMediator);t=i}else this.m_stepScript.focusType==s.GuideFocusTypeDefine.Spot&&(t=this.m_stepScript.node);var o=void 0;if(t)if(this.m_stepScript.focusIsSceneObject){var a=r.MiniGame.Instance.toWorldPosition(t);o=miniframe.UI.toUIPosition(a)}else a=t.convertToWorldSpaceAR(cc.Vec2.ZERO),o=miniframe.UI.toUIPosition(a);if(o){a=miniframe.UI.toWorldPosition(o);var p=n.ExpressWorld.Instance.toAreaPosition(a);if(this.m_stepScript.cameraFocus){var u=n.ExpressWorld.Instance.getCameraPosition(),c=new cc.Vec2(p.x,u.y);n.ExpressWorld.Instance.cameraFocus(this.m_stepScript.cameraFocusDurationMS,c,void 0,function(){n.ExpressWorld.Instance.refreshCamera(),e.onPrintStepDirectly(t,o)},!0)}else this.onPrintStepDirectly(t,o);(this.m_stepScript.alwaysFocus||this.m_stepScript.cameraFocus)&&(this.m_focusNode=t)}else this.onPrintStepDirectly(t);this.m_focusNode?this.listenTime():this.unlistenTime()},e.prototype.onPrintStepDirectly=function(e,t){var i=this;if(void 0===t&&(t=void 0),e){if(!t)if(this.m_stepScript.focusIsSceneObject){var o=r.MiniGame.Instance.toWorldPosition(e);t=miniframe.UI.toUIPosition(o)}else o=e.convertToWorldSpaceAR(cc.Vec2.ZERO),t=miniframe.UI.toUIPosition(o);""!=this.m_stepScript.focusRes?(this.m_focus||(this.m_focus=new d.GuideVisual,miniframe.UI.addLazyChild(this.m_focus,p.GuideLayerDefine.Front)),this.m_focus.setPosition(t),!this.m_focus.loadResource(this.m_stepScript.focusRes)&&this.m_focus.getVisible()||this.m_focus.animateShow()):this.m_focus&&this.m_focus.hide()}else this.m_focus&&this.m_focus.hide();this.m_stepScript.needDialog?(this.m_dialog||(this.m_dialog=new c.GuideDialog,miniframe.UI.addLazyChild(this.m_dialog,p.GuideLayerDefine.UI)),this.m_dialog.setContentLan(this.m_stepScript.dialogContentLan),this.m_stepScript.dialogSetToFocusPoint&&this.m_dialog.setPosition(t),!this.m_dialog.loadResource(this.m_stepScript.dialogRes)&&this.m_dialog.getVisible()||this.m_dialog.animateShow()):this.m_dialog&&this.m_dialog.hide(),this.m_stepScript.showMask?(this.m_mask||(this.m_mask=new l.GuideMask,miniframe.UI.addLazyChild(this.m_mask,p.GuideLayerDefine.Mask)),null!=t?(this.m_mask.setFocusShape(this.m_stepScript.maskShape),this.m_stepScript.maskUseFocusSize&&e?(this.m_mask.setFocusRadius(Math.max(e.width,e.height)),this.m_mask.setFocusSize(new cc.Vec2(e.width,e.height))):(this.m_mask.setFocusRadius(this.m_stepScript.maskRadius),this.m_mask.setFocusSize(this.m_stepScript.maskSize)),this.m_mask.setFocusCenter(t.add(this.m_stepScript.maskOffset))):this.m_mask.setFocusShape(u.GuideMaskShapeDefine.None),this.m_mask.show()):this.m_mask&&this.m_mask.hide(),this.m_stepScript.autoComplete?this.m_stepScript.durationMS<=0?this.finishStep():setTimeout(function(){i.finishStep()},this.m_stepScript.durationMS):this.m_stepScript.clickScreenComplete&&this.listenTouch()},e.prototype.refreshStepFocus=function(){if(this.m_focusNode&&this.m_stepScript){var e;if(this.m_stepScript.focusIsSceneObject){var t=r.MiniGame.Instance.toWorldPosition(this.m_focusNode);e=miniframe.UI.toUIPosition(t)}else t=this.m_focusNode.convertToWorldSpaceAR(cc.Vec2.ZERO),e=miniframe.UI.toUIPosition(t);this.m_focus&&this.m_focus.getVisible()&&this.m_focus.setPosition(e),this.m_mask&&this.m_mask.getVisible()&&this.m_mask.setFocusCenter(e.add(this.m_stepScript.maskOffset))}},e.prototype.finishStep=function(){if(this.m_stepScript.needCompleteCondition&&!this.m_owner.checkGuideConditions(this.m_stepScript.completeConditions,this.m_stepScript.completeConditionValues,this.m_stepScript.completeConditionStringValues))return this.m_watiingState=2,this.m_waitingConditions.length>0&&this.m_waitingConditions.splice(0,this.m_waitingConditions.length),void this.m_owner.fillConditionKeys(this.m_waitingConditions,this.m_stepScript.completeConditions,this.m_stepScript.completeConditionValues,this.m_stepScript.completeConditionStringValues);this.onFinishStep()},e.prototype.onFinishStep=function(){this.unlistenTouch(),o.GuideDataController.Instance.handleSaveGuideProgress(this.m_guideID,this.m_stepIndex+1,!1),this.nextStep()},e.prototype.hideVisuals=function(e){void 0===e&&(e=""),this.m_dialog&&(""!=e&&this.m_dialog.getMediatorName()==e||this.m_dialog.hide()),this.m_focus&&this.m_focus.hide(),this.m_mask&&this.m_mask.hide()},e.prototype.completeGuide=function(){console.info("complete guide",this.m_guideID),this.unlistenTouch(),this.unlistenTime(),this.m_dialog&&(this.m_dialog.unloadResource(),this.m_dialog.hide()),this.m_focus&&(this.m_focus.unloadResource(),this.m_focus.hide()),this.m_mask&&this.m_mask.hide(),o.GuideDataController.Instance.handleSaveGuideProgress(this.m_guideID,this.m_stepIndex+1,!0),this.setBlockAll(!1),this.setBlockEvents(!1),this.setBlockButtons(!1),this.m_stepScript=null,this.m_focusNode=null,this.m_stepContainer&&(this.m_stepContainer.destroy(),this.m_stepContainer=null),this.m_stepIndex=0,""!=this.m_guideRes&&miniframe.Loader.unloadResource(this.m_guideRes),this.m_guideRes="",o.GuideDataController.Instance.preloadGuide(this.m_guideID),this.m_guideID=0,this.m_isRunning=!1,this.m_watiingState=0,this.m_waitingConditions.length>0&&this.m_waitingConditions.splice(0,this.m_waitingConditions.length),r.MiniGame.Guide.setGuideMode(0)},e.prototype.onLoadAssetLoadProgress=function(){},e.prototype.onLoadAssetLoadComplete=function(e){this.m_stepContainer=miniframe.Resource.createPrefabInstance(e),this.m_stepContainer&&this.playStep()},e.prototype.listenTouch=function(){this.m_listeningTouch||(this.m_listeningTouch=!0,cc.director.getScene().on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this,!0))},e.prototype.unlistenTouch=function(){this.m_listeningTouch&&(this.m_listeningTouch=!1,cc.director.getScene().off(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this,!0))},e.prototype.onTouchEnd=function(){this.unlistenTouch(),this.finishStep()},e.prototype.listenTime=function(){this.m_listeningTime||(this.m_listeningTime=!0,miniframe.Timer.addUpdateEventListener(this))},e.prototype.unlistenTime=function(){this.m_listeningTime&&(this.m_listeningTime=!1,miniframe.Timer.removeUpdateEventListener(this))},e.prototype.onTimeSystemUpdate=function(){return this.refreshStepFocus(),!1},e}();i.GuideExecuttor=f,cc._RF.pop()},{"../../../Business/Control/GuideDataController":"GuideDataController","../../../Core/Express/ExpressWorld":"ExpressWorld","../../../MiniGame":"MiniGame","../Component/GuideStepScript":"GuideStepScript","../Define/GuideFocusTypeDefine":"GuideFocusTypeDefine","../Define/GuideLayerDefine":"GuideLayerDefine","../Define/GuideMaskShapeDefine":"GuideMaskShapeDefine","./GuideDialog":"GuideDialog","./GuideMask":"GuideMask","./GuideVisual":"GuideVisual"}],GuideFocusTypeDefine:[function(e,t,i){"use strict";cc._RF.push(t,"ffc60emdZJC7I8TsplZ6jwc","GuideFocusTypeDefine"),Object.defineProperty(i,"__esModule",{value:!0}),i.GuideFocusTypeDefine=void 0,function(e){e[e.None=0]="None",e[e.Button=1]="Button",e[e.Spot=2]="Spot"}(i.GuideFocusTypeDefine||(i.GuideFocusTypeDefine={})),cc._RF.pop()},{}],GuideInitializer:[function(e,t,i){"use strict";cc._RF.push(t,"fcd3a/pWjpPZLx/C51+Mxzn","GuideInitializer"),Object.defineProperty(i,"__esModule",{value:!0}),i.GuideInitializer=void 0;var o=e("../Mediator/GuideMediator"),n=e("../../MediatorNameDefine"),r=function(){function e(){}return e.CreateGuideMediator=function(){return new o.GuideMediator},e.prototype.initialize=function(){miniframe.Facade.registerMediatorClass(n.MediatorNameDefine.GuideMediator,e.CreateGuideMediator)},e.prototype.uninitialize=function(){miniframe.Facade.unregisterMediatorClass(n.MediatorNameDefine.GuideMediator)},e.prototype.dispose=function(){},e}();i.GuideInitializer=r,cc._RF.pop()},{"../../MediatorNameDefine":"MediatorNameDefine","../Mediator/GuideMediator":"GuideMediator"}],GuideLayerDefine:[function(e,t,i){"use strict";cc._RF.push(t,"98b3b6ZGbJFu6Y4+fbn9L2l","GuideLayerDefine"),Object.defineProperty(i,"__esModule",{value:!0}),i.GuideLayerDefine=void 0,function(e){e[e.Mask=95]="Mask",e[e.UI=96]="UI",e[e.Front=97]="Front",e[e.Touch=98]="Touch"}(i.GuideLayerDefine||(i.GuideLayerDefine={})),cc._RF.pop()},{}],GuideMaskShapeDefine:[function(e,t,i){"use strict";cc._RF.push(t,"6cdb5OqGPxOvLBHpvsfp/ak","GuideMaskShapeDefine"),Object.defineProperty(i,"__esModule",{value:!0}),i.GuideMaskShapeDefine=void 0,function(e){e[e.None=0]="None",e[e.Rect=1]="Rect",e[e.Circle=2]="Circle"}(i.GuideMaskShapeDefine||(i.GuideMaskShapeDefine={})),cc._RF.pop()},{}],GuideMask:[function(e,t,i){"use strict";cc._RF.push(t,"c85fdVvWChAjrD0DnlJWGDi","GuideMask"),Object.defineProperty(i,"__esModule",{value:!0}),i.GuideMask=void 0;var o=e("../../../../Extension/UI/Sprite/UISprite"),n=function(e){function t(){var t=e.call(this)||this;return t.m_sprite=null,t.m_focusShape=0,t.m_focusCenter=cc.Vec2.ZERO,t.m_focusRealCenter=cc.Vec2.ZERO,t.m_focusRadius=0,t.m_focusSize=cc.Vec2.ZERO,t.loadResource("PF_Guide_Mask"),t}return __extends(t,e),t.prototype.onInitNode=function(t){e.prototype.onInitNode.call(this,t),this.m_sprite||(this.m_sprite=new o.UISprite),this.m_sprite.bindNode(t);var i=new cc.Vec2(miniframe.UI.getUIWidth(),miniframe.UI.getUIHeight());this.m_sprite.setShaderProperty("resolution",i),this.m_sprite.setShaderProperty("focusShape",this.m_focusShape),this.m_sprite.setShaderProperty("focusCenter",this.m_focusRealCenter),this.m_sprite.setShaderProperty("focusRadius",this.m_focusRadius),this.m_sprite.setShaderProperty("focusSize",this.m_focusSize)},t.prototype.onUnInitNode=function(t){this.m_sprite&&(this.m_sprite.dispose(),this.m_sprite=null),e.prototype.onUnInitNode.call(this,t)},t.prototype.setFocusShape=function(e){this.m_focusShape=e,this.m_sprite&&this.m_sprite.setShaderProperty("focusShape",this.m_focusShape)},t.prototype.setFocusCenter=function(e){this.m_focusCenter=e,this.m_focusRealCenter.x=this.m_focusCenter.x-.5*-miniframe.UI.getUIWidth(),this.m_focusRealCenter.y=.5*miniframe.UI.getUIHeight()-this.m_focusCenter.y,this.m_sprite&&this.m_sprite.setShaderProperty("focusCenter",this.m_focusRealCenter)},t.prototype.setFocusRadius=function(e){this.m_focusRadius=e,this.m_sprite&&this.m_sprite.setShaderProperty("focusRadius",this.m_focusRadius)},t.prototype.setFocusSize=function(e){this.m_focusSize=e,this.m_sprite&&this.m_sprite.setShaderProperty("focusSize",this.m_focusSize)},t}(miniframe.LazyNode);i.GuideMask=n,cc._RF.pop()},{"../../../../Extension/UI/Sprite/UISprite":"UISprite"}],GuideMediator:[function(e,t,i){"use strict";cc._RF.push(t,"07457KATI1Lwa/ve54jzIbD","GuideMediator"),Object.defineProperty(i,"__esModule",{value:!0}),i.GuideMediator=void 0;var o=e("../../../../Config/ConfigKeyDefine"),n=e("../../../Business/Control/GuideDataController"),r=e("../../../MiniGame"),a=e("../../Core/Control/CoreGameController"),s=e("../Control/GuideExecutor"),p=e("../Define/GuideConditionTypeDefine"),u=e("../Define/GuideNotificationDefine"),c=function(e){function t(){var t=e.call(this,"GuideMediator")||this;return t.m_executor=null,t}return __extends(t,e),t.prototype.onInitInterestNotifications=function(t){e.prototype.onInitInterestNotifications.call(this,t),t.push(u.GuideNotificationDefine.GUIDE_MEDIATOR_OPEN),t.push(u.GuideNotificationDefine.GUIDE_MEDIATOR_CLOSE),t.push(u.GuideNotificationDefine.FIRST_GUIDE)},t.prototype.onHandleNotification=function(t,i){switch(t){case u.GuideNotificationDefine.GUIDE_MEDIATOR_OPEN:this.triggerGuideByMediatorOpen(i);break;case u.GuideNotificationDefine.GUIDE_MEDIATOR_CLOSE:this.triggerGuideByMediatorClose(i);break;case u.GuideNotificationDefine.FIRST_GUIDE:var o=n.GuideDataController.Instance.getFirstAvailableDefaultGuideID();o>0&&this.triggerGuideDirectly(o),setTimeout(function(){a.CoreGameController.Instance.startGame()},1/cc.game.getFrameRate());break;default:e.prototype.onHandleNotification.call(this,t,i)}},t.prototype.onMediatorOpen=function(t){e.prototype.onMediatorOpen.call(this,t),r.MiniGame.Guide.setDirector(this)},t.prototype.checkGuideConditions=function(e,t,i){for(var o=e.length,r=0;r<o;r++)if(!n.GuideDataController.Instance.checkGuideCondition(e[r],r<t.length?t[r]:cc.Vec2.ZERO,r<i.length?i[r]:""))return!1;return!0},t.prototype.fillConditionKeys=function(e,t,i,o){for(var r=t.length,a=0;a<r;a++)t[a]==p.GuideConditionTypeDefine.MediatorOpen||t[a]==p.GuideConditionTypeDefine.MediatorClose||t[a]==p.GuideConditionTypeDefine.MediatorAllClose?e.push(n.GuideDataController.Instance.combineConditionKey([t[a],a<o.length?o[a]:""])):t[a]==p.GuideConditionTypeDefine.MediatorAnyOpen?e.push(t[a]+""):a<i.length?e.push(n.GuideDataController.Instance.combineConditionKey([t[a],i[a].x,i[a].y])):e.push(n.GuideDataController.Instance.combineConditionKey([t[a],0,0]))},t.prototype.triggerGuide=function(e){if(this.m_executor&&this.m_executor.isRunning())return!1;var t=n.GuideDataController.Instance.getGuideTriggerIDsByConditions(e);return this.triggerGuideByTriggerIDList(t)},t.prototype.triggerGuideByTriggerIDList=function(e){if(!e||e.length<=0)return!1;var t=e[0],i=miniframe.Config.getData(o.ConfigKeyDefine.GUIDE_TRIGGER,t);return!!i&&(0==i.getRepeat()&&this.isGuideStarted(i.getGuideId())?(e.shift(),this.triggerGuideByTriggerIDList(e)):!!n.GuideDataController.Instance.checkGuideConditionsByTriggerID(t)&&(this.m_executor||(this.m_executor=new s.GuideExecuttor,this.m_executor.setOwner(this)),this.m_executor.startGuide(i.getGuideId())))},t.prototype.triggerGuideStep=function(e){if(!this.m_executor||!this.m_executor.isRunning())return!1;var t=n.GuideDataController.Instance.combineConditionKey(e);return this.m_executor.startStep(t)},t.prototype.triggerGuideDirectly=function(e){return(!this.m_executor||!this.m_executor.isRunning())&&(this.m_executor||(this.m_executor=new s.GuideExecuttor,this.m_executor.setOwner(this)),this.m_executor.startGuide(e))},t.prototype.completeGuideStep=function(e){if(!this.m_executor||!this.m_executor.isRunning())return!1;var t=n.GuideDataController.Instance.combineConditionKey(e);return this.m_executor.completeStep(t)},t.prototype.hasWantedButton=function(){return!!this.m_executor&&this.m_executor.hasWantedButton()},t.prototype.onWantedButtonClick=function(e,t,i){return!!this.m_executor&&this.m_executor.onWantedButtonClick(e,t,i)},t.prototype.onAddWantedButton=function(e,t){return!!this.m_executor&&this.m_executor.onAddWantedButton(e,t)},t.prototype.isGuideStarted=function(e){return n.GuideDataController.Instance.isGuideStarted(e)},t.prototype.isGuideComplete=function(e){return n.GuideDataController.Instance.isGuideComplete(e)},t.prototype.triggerGuideByMediatorOpen=function(e){r.MiniGame.Guide.triggerAny(p.GuideConditionTypeDefine.MediatorOpen,e)},t.prototype.triggerGuideByMediatorClose=function(e){r.MiniGame.Guide.triggerAny(p.GuideConditionTypeDefine.MediatorClose,e)},t}(miniframe.AbstractMediator);i.GuideMediator=c,cc._RF.pop()},{"../../../../Config/ConfigKeyDefine":"ConfigKeyDefine","../../../Business/Control/GuideDataController":"GuideDataController","../../../MiniGame":"MiniGame","../../Core/Control/CoreGameController":"CoreGameController","../Control/GuideExecutor":"GuideExecutor","../Define/GuideConditionTypeDefine":"GuideConditionTypeDefine","../Define/GuideNotificationDefine":"GuideNotificationDefine"}],GuideModuleConfig:[function(e,t,i){"use strict";cc._RF.push(t,"689fedMK+FG1ptiohAvktTO","GuideModuleConfig"),Object.defineProperty(i,"__esModule",{value:!0}),i.GuideModuleConfig=void 0;var o=e("../../MediatorNameDefine"),n=e("../Initialize/GuideInitializer"),r=function(e){function t(){var i=e.call(this)||this;return i.name=t.ModuleName,i.type=miniframe.ModuleTypeDefine.BACKGROUND,i.entryCommand="",i.entryMediator=o.MediatorNameDefine.GuideMediator,i.entryParameter=null,i.isEntryModule=!1,i.isDefaultModule=!1,i.isAutoLaunch=!1,i.isAutoDispose=!1,i.isAutoNext=!1,i.nextModules=null,i.backgroundModules=null,i.initializerClass=function(){return new n.GuideInitializer},i}return __extends(t,e),t.ModuleName="Guide",t}(miniframe.ModuleConfig);i.GuideModuleConfig=r,cc._RF.pop()},{"../../MediatorNameDefine":"MediatorNameDefine","../Initialize/GuideInitializer":"GuideInitializer"}],GuideNotificationDefine:[function(e,t,i){"use strict";cc._RF.push(t,"0a92fH38eNKpLOjmXFjRW+6","GuideNotificationDefine"),Object.defineProperty(i,"__esModule",{value:!0}),i.GuideNotificationDefine=void 0;var o=function(){function e(){}return e.GUIDE_DO="GUIDE_DO",e.GUIDE_MEDIATOR_OPEN="GUIDE_MEDIATOR_OPEN",e.GUIDE_MEDIATOR_CLOSE="GUIDE_MEDIATOR_CLOSE",e.FIRST_GUIDE="FIRST_GUIDE",e}();i.GuideNotificationDefine=o,cc._RF.pop()},{}],GuidePreloadConfigData:[function(e,t,i){"use strict";cc._RF.push(t,"fda0dx4YmxBSJEHmIYzzxOA","GuidePreloadConfigData"),Object.defineProperty(i,"__esModule",{value:!0}),i.GuidePreloadConfigData=void 0;var o=function(){function e(e){this.m_data=null,this.m_data=e,this.init()}return e.prototype.getId=function(){return this.m_data.getId()},e.prototype.getResources=function(){return this.m_data.getResourcesList()},e.prototype.getResourcesCount=function(){return this.m_data.getResourcesList().length},e.prototype.getResourcesAt=function(e){return e<0||e>=this.m_data.getResourcesList().length?"":this.m_data.getResourcesList()[e]},e.prototype.init=function(){},e.prototype.getConfigKey=function(){return this.getId()},e}();i.GuidePreloadConfigData=o,cc._RF.pop()},{}],GuideStepScript:[function(e,t,i){"use strict";cc._RF.push(t,"10879xO4rxLSp6gWkQF7rEd","GuideStepScript"),Object.defineProperty(i,"__esModule",{value:!0});var o=e("../Define/GuideConditionTypeDefine"),n=e("../Define/GuideFocusTypeDefine"),r=e("../Define/GuideMaskShapeDefine"),a=cc._decorator,s=a.ccclass,p=a.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.blockEvents=!0,t.blockButtons=!0,t.needStartCondition=!1,t.startConditions=[],t.startConditionValues=[],t.startConditionStringValues=[],t.needCompleteCondition=!1,t.completeConditions=[],t.completeConditionValues=[],t.completeConditionStringValues=[],t.needSkipCondition=!1,t.skipConditions=[],t.skipConditionValues=[],t.skipConditionStringValues=[],t.focusType=n.GuideFocusTypeDefine.None,t.focusButtonMediator="",t.focusButtonKey="",t.focusButtonPrefix=!1,t.focusRes="",t.focusIsSceneObject=!1,t.cameraFocus=!1,t.cameraFocusDurationMS=0,t.alwaysFocus=!1,t.needDialog=!1,t.dialogContentLan=0,t.dialogRes="",t.dialogSetToFocusPoint=!1,t.showMask=!1,t.maskShape=r.GuideMaskShapeDefine.None,t.maskUseFocusSize=!0,t.maskSize=cc.Vec2.ZERO,t.maskRadius=0,t.maskOffset=cc.Vec2.ZERO,t.autoComplete=!1,t.durationMS=0,t.clickScreenComplete=!1,t}return __extends(t,e),__decorate([p(cc.Boolean)],t.prototype,"blockEvents",void 0),__decorate([p(cc.Boolean)],t.prototype,"blockButtons",void 0),__decorate([p(cc.Boolean)],t.prototype,"needStartCondition",void 0),__decorate([p({type:[cc.Enum(o.GuideConditionTypeDefine)],displayName:"\u5f00\u59cb\u6761\u4ef6",visible:function(){return this.needStartCondition}})],t.prototype,"startConditions",void 0),__decorate([p({type:[cc.Vec2],displayName:"\u5f00\u59cb\u6761\u4ef6\u503c",visible:function(){return this.needStartCondition}})],t.prototype,"startConditionValues",void 0),__decorate([p({type:[cc.String],displayName:"\u5f00\u59cb\u6761\u4ef6\u503c\uff08\u5b57\u7b26\u4e32\uff09",visible:function(){return this.needStartCondition}})],t.prototype,"startConditionStringValues",void 0),__decorate([p(cc.Boolean)],t.prototype,"needCompleteCondition",void 0),__decorate([p({type:[cc.Enum(o.GuideConditionTypeDefine)],displayName:"\u5b8c\u6210\u6761\u4ef6",visible:function(){return this.needCompleteCondition}})],t.prototype,"completeConditions",void 0),__decorate([p({type:[cc.Vec2],displayName:"\u5b8c\u6210\u6761\u4ef6\u503c",visible:function(){return this.needCompleteCondition}})],t.prototype,"completeConditionValues",void 0),__decorate([p({type:[cc.String],displayName:"\u5b8c\u6210\u6761\u4ef6\u503c\uff08\u5b57\u7b26\u4e32\uff09",visible:function(){return this.needCompleteCondition}})],t.prototype,"completeConditionStringValues",void 0),__decorate([p(cc.Boolean)],t.prototype,"needSkipCondition",void 0),__decorate([p({type:[cc.Enum(o.GuideConditionTypeDefine)],displayName:"\u8df3\u8fc7\u6761\u4ef6",visible:function(){return this.needSkipCondition}})],t.prototype,"skipConditions",void 0),__decorate([p({type:[cc.Vec2],displayName:"\u8df3\u8fc7\u6761\u4ef6\u503c",visible:function(){return this.needSkipCondition}})],t.prototype,"skipConditionValues",void 0),__decorate([p({type:[cc.String],displayName:"\u8df3\u8fc7\u6761\u4ef6\u503c\uff08\u5b57\u7b26\u4e32\uff09",visible:function(){return this.needSkipCondition}})],t.prototype,"skipConditionStringValues",void 0),__decorate([p({type:cc.Enum(n.GuideFocusTypeDefine)})],t.prototype,"focusType",void 0),__decorate([p({visible:function(){return this.focusType==n.GuideFocusTypeDefine.Button}})],t.prototype,"focusButtonMediator",void 0),__decorate([p({visible:function(){return this.focusType==n.GuideFocusTypeDefine.Button}})],t.prototype,"focusButtonKey",void 0),__decorate([p({visible:function(){return this.focusType==n.GuideFocusTypeDefine.Button}})],t.prototype,"focusButtonPrefix",void 0),__decorate([p({visible:function(){return this.focusType!=n.GuideFocusTypeDefine.None}})],t.prototype,"focusRes",void 0),__decorate([p({visible:function(){return this.focusType!=n.GuideFocusTypeDefine.None}})],t.prototype,"focusIsSceneObject",void 0),__decorate([p({visible:function(){return this.focusType!=n.GuideFocusTypeDefine.None}})],t.prototype,"cameraFocus",void 0),__decorate([p({visible:function(){return this.focusType!=n.GuideFocusTypeDefine.None}})],t.prototype,"cameraFocusDurationMS",void 0),__decorate([p({visible:function(){return this.focusType!=n.GuideFocusTypeDefine.None}})],t.prototype,"alwaysFocus",void 0),__decorate([p(cc.Boolean)],t.prototype,"needDialog",void 0),__decorate([p({visible:function(){return this.needDialog}})],t.prototype,"dialogContentLan",void 0),__decorate([p({visible:function(){return this.needDialog}})],t.prototype,"dialogRes",void 0),__decorate([p({visible:function(){return this.needDialog}})],t.prototype,"dialogSetToFocusPoint",void 0),__decorate([p(cc.Boolean)],t.prototype,"showMask",void 0),__decorate([p({type:cc.Enum(r.GuideMaskShapeDefine),visible:function(){return this.showMask}})],t.prototype,"maskShape",void 0),__decorate([p({visible:function(){return this.showMask&&this.maskShape!=r.GuideMaskShapeDefine.None}})],t.prototype,"maskUseFocusSize",void 0),__decorate([p({visible:function(){return this.showMask&&!this.maskUseFocusSize&&this.maskShape==r.GuideMaskShapeDefine.Rect}})],t.prototype,"maskSize",void 0),__decorate([p({visible:function(){return this.showMask&&!this.maskUseFocusSize&&this.maskShape==r.GuideMaskShapeDefine.Circle}})],t.prototype,"maskRadius",void 0),__decorate([p({visible:function(){return this.showMask&&this.maskShape!=r.GuideMaskShapeDefine.None}})],t.prototype,"maskOffset",void 0),__decorate([p(cc.Boolean)],t.prototype,"autoComplete",void 0),__decorate([p({visible:function(){return this.autoComplete}})],t.prototype,"durationMS",void 0),__decorate([p(cc.Boolean)],t.prototype,"clickScreenComplete",void 0),__decorate([s],t)}(cc.Component);i.default=u,cc._RF.pop()},{"../Define/GuideConditionTypeDefine":"GuideConditionTypeDefine","../Define/GuideFocusTypeDefine":"GuideFocusTypeDefine","../Define/GuideMaskShapeDefine":"GuideMaskShapeDefine"}],GuideTriggerConfigData:[function(e,t,i){"use strict";cc._RF.push(t,"01f7cFNVUlN3IfZBZda0X0L","GuideTriggerConfigData"),Object.defineProperty(i,"__esModule",{value:!0}),i.GuideTriggerConfigData=void 0;var o=function(){function e(e){this.m_data=null,this.m_conditions=[],this.m_data=e,this.init()}return e.prototype.getId=function(){return this.m_data.getId()},e.prototype.getTimes=function(){return this.m_data.getTimesList()},e.prototype.getTimesCount=function(){return this.m_data.getTimesList().length},e.prototype.getTimesAt=function(e){return e<0||e>=this.m_data.getTimesList().length?"":this.m_data.getTimesList()[e]},e.prototype.getConditions=function(){return this.m_conditions},e.prototype.getConditionsCount=function(){return this.m_conditions.length},e.prototype.getConditionsAt=function(e){return e<0||e>=this.m_conditions.length?null:this.m_conditions[e]},e.prototype.getGuideId=function(){return this.m_data.getGuideId()},e.prototype.getRepeat=function(){return this.m_data.getRepeat()},e.prototype.init=function(){this.m_conditions=miniframe.Number3.parseListFrom(this.m_data.getConditionsList())},e.prototype.getConfigKey=function(){return this.getId()},e}();i.GuideTriggerConfigData=o,cc._RF.pop()},{}],GuideUsedListProperty:[function(e,t,i){"use strict";cc._RF.push(t,"67051VrDPdJCo24cwvA798S","GuideUsedListProperty"),Object.defineProperty(i,"__esModule",{value:!0}),i.GuideUsedListProperty=void 0;var o=e("../../../Extension/Storage/StorageProperty"),n=e("../../../Extension/Storage/StorageUtility"),r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.m_int2List=[],t}return __extends(t,e),t.prototype.decode=function(e){n.StorageUtility.DecodeVec2ListWith(this.m_int2List,e)},t.prototype.encode=function(){return n.StorageUtility.EncodeVec2List(this.m_int2List)},t.prototype.indexOfGuideID=function(e){for(var t=this.m_int2List.length,i=0;i<t;i++)if(this.m_int2List[i].x==e)return i;return-1},t.prototype.getUsedGuideStep=function(e){for(var t=this.m_int2List.length,i=0;i<t;i++)if(this.m_int2List[i].x==e)return this.m_int2List[i].y;return-1},t.prototype.handleSetUsedGuide=function(e,t,i){void 0===i&&(i=!0);for(var o=!1,n=this.m_int2List.length,r=0;r<n;r++)if(this.m_int2List[r].x==e){this.m_int2List[r].y=t,o=!0;break}o||this.m_int2List.push(new cc.Vec2(e,t)),i&&this.notifyChanged()},t}(o.StorageProperty);i.GuideUsedListProperty=r,cc._RF.pop()},{"../../../Extension/Storage/StorageProperty":"StorageProperty","../../../Extension/Storage/StorageUtility":"StorageUtility"}],GuideVisual:[function(e,t,i){"use strict";cc._RF.push(t,"62469uBRUJMEKn9BNRP5O8X","GuideVisual"),Object.defineProperty(i,"__esModule",{value:!0}),i.GuideVisual=void 0;var o=e("../../../../Extension/UI/Button/UIButton"),n=e("../../../../Extension/UI/View/UIViewScript"),r=e("../../../MiniGame"),a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.m_script=null,t.m_animateOnInit=!1,t.m_guideInited=!1,t.m_buttons=[],t}return __extends(t,e),t.prototype.onInitNode=function(t){e.prototype.onInitNode.call(this,t),this.m_script=t?t.getComponent(n.default):null,this.initButtons(),this.m_animateOnInit&&(this.m_animateOnInit=!1,this.animateShow())},t.prototype.onUnInitNode=function(t){this.unInitButtons(),this.m_script=null,this.m_guideInited=!1,e.prototype.onUnInitNode.call(this,t)},t.prototype.getMediatorName=function(){return""},t.prototype.animateShow=function(){if(this.getNode()&&!this.isLoading()){if(this.m_script&&this.m_script.viewAniComp&&""!=this.m_script.viewOpenAniName)return this.show(),this.m_script.viewAniComp.stop(),this.m_script.viewAniComp.on(cc.Animation.EventType.FINISHED,this.onOpenAniComplete,this),void this.m_script.viewAniComp.play(this.m_script.viewOpenAniName);this.show(),this.onOpenAniComplete()}else this.m_animateOnInit=!0},t.prototype.animateHide=function(){if(this.m_script&&this.m_script.viewAniComp&&""!=this.m_script.viewCloseAniName)return this.m_script.viewAniComp.stop(),this.m_script.viewAniComp.on(cc.Animation.EventType.FINISHED,this.onCloseAniComplete,this),void this.m_script.viewAniComp.play(this.m_script.viewCloseAniName);this.hide()},t.prototype.onOpenAniComplete=function(){this.m_script&&this.m_script.viewAniComp&&this.m_script.viewAniComp.off(cc.Animation.EventType.FINISHED,this.onOpenAniComplete,this),this.onVisualOpened()},t.prototype.onCloseAniComplete=function(){this.m_script&&this.m_script.viewAniComp&&this.m_script.viewAniComp.off(cc.Animation.EventType.FINISHED,this.onCloseAniComplete,this),this.hide()},t.prototype.initButtons=function(){if(this.m_script&&this.m_script.buttons.length>0)for(var e=this.m_script.buttons.length,t=0;t<e;t++)t>=this.m_buttons.length&&(this.m_buttons.push(new o.UIButton(this.getMediatorName())),this.m_buttons[t].setListener(this)),this.m_buttons[t].bindScript(this.m_script.buttons[t]),this.onButtonInit(this.m_buttons[t])},t.prototype.unInitButtons=function(){if(this.m_buttons.length>0){for(var e=this.m_buttons.length,t=0;t<e;t++)this.onButtonInit(this.m_buttons[t]),this.m_buttons[t].setListener(null),this.m_buttons[t].dispose();this.m_buttons.splice(0,this.m_buttons.length)}},t.prototype.getButton=function(e){if(this.m_buttons.length>0)for(var t=this.m_buttons.length,i=0;i<t;i++)if(this.m_buttons[i].compareButtonKey(e))return this.m_buttons[i];return null},t.prototype.onButtonInit=function(){},t.prototype.onButtonUnInit=function(e){r.MiniGame.Guide.removeButton(this.getMediatorName(),e.getButtonKey())},t.prototype.onVisualOpened=function(){if(!this.m_guideInited&&(this.m_guideInited=!0,this.m_buttons.length>0))for(var e=this.m_buttons.length,t=0;t<e;t++)r.MiniGame.Guide.addButton(this.getMediatorName(),this.m_buttons[t].getButtonKey(),this.m_buttons[t].getNode())},t.prototype.onButtonPreClick=function(e){var t=e.getButtonKey();return!(r.MiniGame.Guide.hasWantedButton()&&!r.MiniGame.Guide.onWantedButtonClick(this.getMediatorName(),t))},t.prototype.onClose=function(){this.hide()},t.prototype.onButtonClick=function(){},t.prototype.onUIButtonTouchEnd=function(e){var t=e.getButtonKey();this.onButtonPreClick(e)&&("close"!=t?this.onButtonClick(t):this.onClose())},t}(miniframe.LazyNode);i.GuideVisual=a,cc._RF.pop()},{"../../../../Extension/UI/Button/UIButton":"UIButton","../../../../Extension/UI/View/UIViewScript":"UIViewScript","../../../MiniGame":"MiniGame"}],IConsoleEventListener:[function(e,t,i){"use strict";cc._RF.push(t,"96880Z9IIpMJaT2GnWDpdeE","IConsoleEventListener"),Object.defineProperty(i,"__esModule",{value:!0}),cc._RF.pop()},{}],IDataControllerEventListener:[function(e,t,i){"use strict";cc._RF.push(t,"680a1HquklH3a63Jlgt4odp","IDataControllerEventListener"),Object.defineProperty(i,"__esModule",{value:!0}),cc._RF.pop()},{}],IEffectInitHandler:[function(e,t,i){"use strict";cc._RF.push(t,"67b1ddUZ15LUKAcz40/kdBm","IEffectInitHandler"),Object.defineProperty(i,"__esModule",{value:!0}),cc._RF.pop()},{}],IEffectPlayHandler:[function(e,t,i){"use strict";cc._RF.push(t,"86237ziQRFLR5E2GFOznIHY","IEffectPlayHandler"),Object.defineProperty(i,"__esModule",{value:!0}),cc._RF.pop()},{}],IGuideDirector:[function(e,t,i){"use strict";cc._RF.push(t,"f3d15U3NjpO+7Sv5odb43SX","IGuideDirector"),Object.defineProperty(i,"__esModule",{value:!0}),cc._RF.pop()},{}],INavigationHandler:[function(e,t,i){"use strict";cc._RF.push(t,"7e5dfLb0aBHRomFxK/7enML","INavigationHandler"),Object.defineProperty(i,"__esModule",{value:!0}),cc._RF.pop()},{}],IPreloadSettings:[function(e,t,i){"use strict";cc._RF.push(t,"de9c0IJXj1B8YaveIWWJk4f","IPreloadSettings"),Object.defineProperty(i,"__esModule",{value:!0}),cc._RF.pop()},{}],ISequencableObject:[function(e,t,i){"use strict";cc._RF.push(t,"1849bYvv6dPsZt2YnFaFFjv","ISequencableObject"),Object.defineProperty(i,"__esModule",{value:!0}),cc._RF.pop()},{}],IStoragePropertyEventListener:[function(e,t,i){"use strict";cc._RF.push(t,"87befWcMipANKgmZYg4gl7t","IStoragePropertyEventListener"),Object.defineProperty(i,"__esModule",{value:!0}),cc._RF.pop()},{}],IStorageProperty:[function(e,t,i){"use strict";cc._RF.push(t,"cc28dRywnhGcKS4ZyYeLXxC","IStorageProperty"),Object.defineProperty(i,"__esModule",{value:!0}),cc._RF.pop()},{}],ISystemOpenEventListener:[function(e,t,i){"use strict";cc._RF.push(t,"402d42kCNlKNoQbqkZmOHoq","ISystemOpenEventListener"),Object.defineProperty(i,"__esModule",{value:!0}),cc._RF.pop()},{}],IUIButtonEventListener:[function(e,t,i){"use strict";cc._RF.push(t,"a9ad6Sy5KxK2q5EWfZ1t9g9","IUIButtonEventListener"),Object.defineProperty(i,"__esModule",{value:!0}),cc._RF.pop()},{}],IUIScrollItem:[function(e,t,i){"use strict";cc._RF.push(t,"eb0620gyg1PiajYQNg4NXG+","IUIScrollItem"),Object.defineProperty(i,"__esModule",{value:!0}),cc._RF.pop()},{}],IUIScrollListEventListener:[function(e,t,i){"use strict";cc._RF.push(t,"ce1ddFO9ydGPYsanVfimzoi","IUIScrollListEventListener"),Object.defineProperty(i,"__esModule",{value:!0}),cc._RF.pop()},{}],IUITabEventListener:[function(e,t,i){"use strict";cc._RF.push(t,"79d7cKCqaBIK5HDv7ZlJw/6","IUITabEventListener"),Object.defineProperty(i,"__esModule",{value:!0}),cc._RF.pop()},{}],IdleUIMediator:[function(e,t,i){"use strict";cc._RF.push(t,"1366174AWlIRZKtMRsoYmgf","IdleUIMediator"),Object.defineProperty(i,"__esModule",{value:!0}),i.IdleUIMediator=void 0;var o=e("../Basic/BusinessUIMediator"),n=e("../../../MiniGame"),r=e("../../MediatorNameDefine"),a=e("../Define/BusinessUILayerDefine"),s=e("../../../Business/Define/WindowTypeDefine"),p=function(e){function t(){return e.call(this,"IdleUIMediator","PF_UI_Idle",a.BusinessUILayerDefine.Idle,!1,!1,!1,!1,!1,s.WindowTypeDefine.Toolbar)||this}return __extends(t,e),t.prototype.onUIMediatorInit=function(t,i){e.prototype.onUIMediatorInit.call(this,t,i)},t.prototype.onUIMediatorUnInit=function(){e.prototype.onUIMediatorUnInit.call(this)},t.prototype.onUIMediatorPrepare=function(t,i){e.prototype.onUIMediatorPrepare.call(this,t,i)},t.prototype.onUIMediatorOpen=function(t,i){e.prototype.onUIMediatorOpen.call(this,t,i)},t.prototype.onUIMediatorClose=function(t){e.prototype.onUIMediatorClose.call(this,t)},t.prototype.onButtonClick=function(t){switch(t){case"invest":n.MiniGame.MVC.openMediator(r.MediatorNameDefine.InvestListUIMediator);break;default:e.prototype.onButtonClick.call(this,t)}},t}(o.BusinessUIMediator);i.IdleUIMediator=p,cc._RF.pop()},{"../../../Business/Define/WindowTypeDefine":"WindowTypeDefine","../../../MiniGame":"MiniGame","../../MediatorNameDefine":"MediatorNameDefine","../Basic/BusinessUIMediator":"BusinessUIMediator","../Define/BusinessUILayerDefine":"BusinessUILayerDefine"}],InitAttrConfigData:[function(e,t,i){"use strict";cc._RF.push(t,"a224fwUjatOd6tOcBpPcxZT","InitAttrConfigData"),Object.defineProperty(i,"__esModule",{value:!0}),i.InitAttrConfigData=void 0;var o=function(){function e(e){this.m_data=null,this.m_data=e,this.init()}return e.prototype.getId=function(){return this.m_data.getId()},e.prototype.getValue=function(){return this.m_data.getValue()},e.prototype.init=function(){},e.prototype.getConfigKey=function(){return this.getId()},e}();i.InitAttrConfigData=o,cc._RF.pop()},{}],Int2ListStorageProperty:[function(e,t,i){"use strict";cc._RF.push(t,"3ef3aK7S41NGri6efbixksB","Int2ListStorageProperty"),Object.defineProperty(i,"__esModule",{value:!0}),i.Int2ListStorageProperty=void 0;var o=e("../../../Extension/Storage/StorageProperty"),n=e("../../../Extension/Storage/StorageUtility"),r=function(e){function t(t){var i=e.call(this,t)||this;return i.m_int2List=[],i}return __extends(t,e),t.prototype.decode=function(e){n.StorageUtility.DecodeVec2ListWith(this.m_int2List,e)},t.prototype.encode=function(){return n.StorageUtility.EncodeVec2List(this.m_int2List)},t.prototype.getInt2ValueAt=function(e){return e<0||e>=this.m_int2List.length?cc.Vec2.ZERO:this.m_int2List[e]},t.prototype.getInt2XValueAt=function(e){return e<0||e>=this.m_int2List.length?0:this.m_int2List[e].x},t.prototype.getInt2YValueAt=function(e){return e<0||e>=this.m_int2List.length?0:this.m_int2List[e].y},t.prototype.setInt2ValueAt=function(e,t,i,o){for(void 0===o&&(o=!0);e>=this.m_int2List.length;)this.m_int2List.push(new cc.Vec2);this.m_int2List[e].x==t&&this.m_int2List[e].y==i||(this.m_int2List[e].x=t,this.m_int2List[e].y=i,o&&this.notifyChanged())},t.prototype.setInt2XValueAt=function(e,t,i){for(void 0===i&&(i=!0);e>=this.m_int2List.length;)this.m_int2List.push(new cc.Vec2);this.m_int2List[e].x!=t&&(this.m_int2List[e].x=t,i&&this.notifyChanged())},t.prototype.setInt2YValueAt=function(e,t,i){for(void 0===i&&(i=!0);e>=this.m_int2List.length;)this.m_int2List.push(new cc.Vec2);this.m_int2List[e].y!=t&&(this.m_int2List[e].y=t,i&&this.notifyChanged())},t.prototype.addInt2XValueAt=function(e,t,i){void 0===i&&(i=!0),e>=this.m_int2List.length?this.setInt2XValueAt(e,t,i):(this.m_int2List[e].x+=t,i&&this.notifyChanged())},t.prototype.addInt2YValueAt=function(e,t,i){void 0===i&&(i=!0),e>=this.m_int2List.length?this.setInt2YValueAt(e,t,i):(this.m_int2List[e].y+=t,i&&this.notifyChanged())},t.prototype.getInt2Values=function(e,t){if(void 0===e&&(e=0),void 0===t&&(t=-1),e>=this.m_int2List.length)return null;if(-1==t||t>=this.m_int2List.length){if(0==e)return this.m_int2List;t=this.m_int2List.length-1}for(var i=[],o=e;o<=t;o++)i.push(this.m_int2List[o]);return i},t}(o.StorageProperty);i.Int2ListStorageProperty=r,cc._RF.pop()},{"../../../Extension/Storage/StorageProperty":"StorageProperty","../../../Extension/Storage/StorageUtility":"StorageUtility"}],IntListStorageProperty:[function(e,t,i){"use strict";cc._RF.push(t,"88ec3sMT3JIpp9ph0I1YmMz","IntListStorageProperty"),Object.defineProperty(i,"__esModule",{value:!0}),i.IntListStorageProperty=void 0;var o=e("../../../Extension/Storage/StorageProperty"),n=e("../../../Extension/Storage/StorageUtility"),r=function(e){function t(t){var i=e.call(this,t)||this;return i.m_intList=[],i}return __extends(t,e),t.prototype.decode=function(e){this.m_intList=n.StorageUtility.DecodeIntList(e)},t.prototype.encode=function(){return this.m_intList.join(",")},t.prototype.getIntList=function(){return this.m_intList},t.prototype.getIntValueAt=function(e){return e<0||e>=this.m_intList.length?0:this.m_intList[e]},t.prototype.setIntValueAt=function(e,t,i){for(void 0===i&&(i=!0);e>=this.m_intList.length;)this.m_intList.push(0);this.m_intList[e]!=t&&(this.m_intList[e]=t,i&&this.notifyChanged())},t.prototype.addIntValueAt=function(e,t,i){void 0===i&&(i=!0),e>=this.m_intList.length?this.setIntValueAt(e,t,i):(this.m_intList[e]=t,i&&this.notifyChanged())},t.prototype.containsIntValue=function(e,t){if(void 0===t&&(t=0),t>=this.m_intList.length)return!1;for(var i=this.m_intList.length,o=t;o<i;o++)if(this.m_intList[o]==e)return!0;return!1},t.prototype.getIntValueCount=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=-1),e>=this.m_intList.length?0:-1==t||t>=this.m_intList.length?this.m_intList.length-e:t-e+1},t.prototype.pushIntValue=function(e,t,i){for(void 0===t&&(t=0),void 0===i&&(i=!0);t>this.m_intList.length;)this.m_intList.push(0);this.m_intList.push(e),i&&this.notifyChanged()},t.prototype.removeIntValues=function(e,t,i){if(void 0===t&&(t=-1),void 0===i&&(i=!0),!(e>=this.m_intList.length)){if(-1==t||t>=this.m_intList.length)this.m_intList.splice(e,this.m_intList.length-e);else for(var o=e;o<=t;o++)this.m_intList[o]=0;i&&this.notifyChanged()}},t}(o.StorageProperty);i.IntListStorageProperty=r,cc._RF.pop()},{"../../../Extension/Storage/StorageProperty":"StorageProperty","../../../Extension/Storage/StorageUtility":"StorageUtility"}],InvestListItemUIViewScript:[function(e,t,i){"use strict";cc._RF.push(t,"88eaazb2FxCPoSewd79CkFj","InvestListItemUIViewScript"),Object.defineProperty(i,"__esModule",{value:!0});var o=e("../../../../Extension/UI/Item/ItemUIViewScript"),n=cc._decorator,r=n.ccclass,a=n.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.icon=null,t.nameLabel=null,t.countLabel=null,t.descLabel=null,t.awardLabel=null,t.consumeLabel=null,t.cdLabel=null,t.startNode=null,t.progressNode=null,t.drawNode=null,t.finishNode=null,t}return __extends(t,e),__decorate([a(cc.Sprite)],t.prototype,"icon",void 0),__decorate([a(cc.Label)],t.prototype,"nameLabel",void 0),__decorate([a(cc.Label)],t.prototype,"countLabel",void 0),__decorate([a(cc.Label)],t.prototype,"descLabel",void 0),__decorate([a(cc.Label)],t.prototype,"awardLabel",void 0),__decorate([a(cc.Label)],t.prototype,"consumeLabel",void 0),__decorate([a(cc.Label)],t.prototype,"cdLabel",void 0),__decorate([a(cc.Node)],t.prototype,"startNode",void 0),__decorate([a(cc.Node)],t.prototype,"progressNode",void 0),__decorate([a(cc.Node)],t.prototype,"drawNode",void 0),__decorate([a(cc.Node)],t.prototype,"finishNode",void 0),__decorate([r],t)}(o.default);i.default=s,cc._RF.pop()},{"../../../../Extension/UI/Item/ItemUIViewScript":"ItemUIViewScript"}],InvestListItemUIView:[function(e,t,i){"use strict";cc._RF.push(t,"51a8dyPQEFKG45HPnIDNCEa","InvestListItemUIView"),Object.defineProperty(i,"__esModule",{value:!0}),i.InvestListItemUIView=void 0;var o=e("../../../../Config/ConfigKeyDefine"),n=e("../../../../Extension/UI/Sprite/UISprite"),r=e("../../../Business/Control/CharDataController"),a=e("../../../Business/Control/GiftDataController"),s=e("../../../Business/Control/LimitDataController"),p=e("../../../MiniGame"),u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.m_icon=null,t.m_giftData=null,t.m_giftAwardConfig=null,t.m_dropBagConfig=null,t.m_limitData=null,t.m_listeningTime=!1,t}return __extends(t,e),t.prototype.onInitScript=function(){e.prototype.onInitScript.call(this);var t=this.getScript();t&&(t.icon&&(this.m_icon||(this.m_icon=new n.UISprite),this.m_icon.bindScript(t.icon)),t.cdLabel&&(t.cdLabel.string=""))},t.prototype.onSetData=function(t,i,n){if(n&&(this.m_giftAwardConfig=null,this.m_dropBagConfig=null,this.m_giftData=null,this.m_limitData=null),i){if(n&&(this.m_icon&&this.m_icon.hookAtlasSprite("ATLAS_Building","device_"+i),this.m_giftAwardConfig=miniframe.Config.getData(o.ConfigKeyDefine.GIFT_AWARD,100*i.getAwardId()+1),this.m_dropBagConfig=this.m_giftAwardConfig?miniframe.Config.getData(o.ConfigKeyDefine.DROPBAG,this.m_giftAwardConfig.getDropbagsAt(0)):null,t.consumeLabel&&(t.consumeLabel.string=i.getFuncValue()+""),t.nameLabel&&(t.nameLabel.string=p.MiniGame.Locale.getLanguage(i.getNameLan())),t.descLabel&&(t.descLabel.string=p.MiniGame.Locale.getLanguage(i.getDescLan())),t.awardLabel&&(this.m_dropBagConfig?t.awardLabel.string=this.m_dropBagConfig.getDropsAt(0).y+"":t.awardLabel.string="")),this.m_limitData=s.LimitDataController.Instance.getLimitData(i.getDaylimit()),this.m_limitData.isFull())t.finishNode&&(t.finishNode.active=!0),t.startNode&&(t.startNode.active=!1),t.progressNode&&(t.progressNode.active=!1),t.drawNode&&(t.drawNode.active=!1),this.unlistenTime();else if(t.finishNode&&(t.finishNode.active=!1),this.m_giftData=a.GiftDataController.Instance.getGiftData(i.getId()),this.m_giftData){t.startNode&&(t.startNode.active=!1);var r=this.m_giftData.getParameterAt(1),u=miniframe.now()-r,c=i.getAwardDelta()-u;c<=0?(t.progressNode&&(t.progressNode.active=!1),t.drawNode&&(t.drawNode.active=!0),this.unlistenTime()):(t.progressNode&&(t.progressNode.active=!0),t.drawNode&&(t.drawNode.active=!1),this.updateAwardTime(c),this.listenTime())}else t.startNode&&(t.startNode.active=!0),t.progressNode&&(t.progressNode.active=!1),t.drawNode&&(t.drawNode.active=!1),this.unlistenTime();t.countLabel&&(t.countLabel.string=this.m_limitData.getCount()+"/"+this.m_limitData.getLimitMaxCount())}else this.m_icon&&this.m_icon.clear(),this.unlistenTime();return e.prototype.onSetData.call(this,t,i,n)},t.prototype.onButtonClick=function(t){switch(t){case"buy":if(!this.getData())return;if(this.m_giftData)return;a.GiftDataController.Instance.handleAddGift(this.getData().getId()),r.CharDataController.Instance.handleRemoveCharValue(this.getData().getFuncType(),this.getData().getFuncValue());break;case"draw":if(!this.m_giftData)return;var i=this.m_giftData.getParameterAt(1),o=this.m_giftData.getParameterAt(2),n=miniframe.now();if((o>0?n-o:n-i)<this.getData().getAwardDelta())return;this.m_dropBagConfig&&r.CharDataController.Instance.handleAddCharValues(this.m_dropBagConfig.getDrops()),a.GiftDataController.Instance.handleRemoveGift(this.m_giftData.getGiftID()),s.LimitDataController.Instance.handleAddLimit(this.getData().getDaylimit(),1);break;default:e.prototype.onButtonClick.call(this,t)}},t.prototype.updateAwardTime=function(e){if(void 0===e&&(e=NaN),this.getData()){var t=this.getScript();if(t&&t.cdLabel){if(isNaN(e)){var i,o=this.m_giftData.getParameterAt(1),n=this.m_giftData.getParameterAt(2),r=miniframe.now();i=n>0?r-n:r-o,e=this.getData().getAwardDelta()-i}e*=1e3,t.cdLabel.string=miniframe.formatTimeString("MM:SS",e),e<=0&&this.refreshData()}}},t.prototype.listenTime=function(){this.m_listeningTime||(this.m_listeningTime=!0,miniframe.Timer.addUpdateEventListener(this))},t.prototype.unlistenTime=function(){this.m_listeningTime&&(this.m_listeningTime=!1,miniframe.Timer.removeUpdateEventListener(this))},t.prototype.onTimeSystemUpdate=function(){return this.updateAwardTime(),!1},t}(e("../Basic/BusinessItemUIView").BusinessItemUIView);i.InvestListItemUIView=u,cc._RF.pop()},{"../../../../Config/ConfigKeyDefine":"ConfigKeyDefine","../../../../Extension/UI/Sprite/UISprite":"UISprite","../../../Business/Control/CharDataController":"CharDataController","../../../Business/Control/GiftDataController":"GiftDataController","../../../Business/Control/LimitDataController":"LimitDataController","../../../MiniGame":"MiniGame","../Basic/BusinessItemUIView":"BusinessItemUIView"}],InvestListUIMediator:[function(e,t,i){"use strict";cc._RF.push(t,"dddd24OgORF5qDwfZXM07ca","InvestListUIMediator"),Object.defineProperty(i,"__esModule",{value:!0}),i.InvestListUIMediator=void 0;var o=e("../../../../Extension/UI/Scroll/UIScrollScript"),n=e("../../../../Extension/UI/Scroll/UIScrollList"),r=e("../../../Business/Control/ConfigDataController"),a=e("../../../Business/Control/GiftDataController"),s=e("../../../Business/Control/LimitDataController"),p=e("../../../Business/Define/ControlCodeDefine"),u=e("../../../Business/Define/GiftTypeDefine"),c=e("../Basic/BusinessUIMediator"),l=e("../Define/BusinessUILayerDefine"),d=e("../View/InvestListItemUIView"),f=e("../../../Business/Define/WindowTypeDefine"),g=function(e){function t(){var t=e.call(this,"InvestListUIMediator","PF_UI_InvestItemList",l.BusinessUILayerDefine.UI,!1,!1,!0,!0,!0,f.WindowTypeDefine.Default)||this;return t.m_configList=null,t.m_scroll=null,t}return __extends(t,e),t.prototype.onUIMediatorInit=function(t,i){e.prototype.onUIMediatorInit.call(this,t,i);var r=t.getComponentInChildren(o.default);r&&(this.m_scroll=new n.UIScrollList(d.InvestListItemUIView,this.getMediatorName()),this.m_scroll.bindScript(r))},t.prototype.onUIMediatorUnInit=function(){e.prototype.onUIMediatorUnInit.call(this)},t.prototype.onUIMediatorPrepare=function(t,i){e.prototype.onUIMediatorPrepare.call(this,t,i),this.m_configList||(this.m_configList=r.ConfigDataController.Instance.getGiftConfigsByType(u.GiftTypeDefine.TimeOnce)),this.m_scroll&&this.m_scroll.setDataList(this.m_configList),s.LimitDataController.Instance.addListener(this),a.GiftDataController.Instance.addListener(this)},t.prototype.onUIMediatorOpen=function(t,i){e.prototype.onUIMediatorOpen.call(this,t,i),this.m_scroll&&this.m_scroll.scrollToTop()},t.prototype.onUIMediatorClose=function(t){if(e.prototype.onUIMediatorClose.call(this,t),this.m_scroll)for(var i=this.m_scroll.getItems(),o=i.length,n=0;n<o;n++)i[n].unlistenTime();s.LimitDataController.Instance.removeListener(this),a.GiftDataController.Instance.removeListener(this)},t.prototype.onButtonClick=function(t){e.prototype.onButtonClick.call(this,t)},t.prototype.onDataControllerUpdate=function(e){switch(e){case p.ControlCodeDefine.LimitChange:case p.ControlCodeDefine.GiftListAdd:case p.ControlCodeDefine.GiftListRemove:this.m_scroll.refreshDataList()}},t}(c.BusinessUIMediator);i.InvestListUIMediator=g,cc._RF.pop()},{"../../../../Extension/UI/Scroll/UIScrollList":"UIScrollList","../../../../Extension/UI/Scroll/UIScrollScript":"UIScrollScript","../../../Business/Control/ConfigDataController":"ConfigDataController","../../../Business/Control/GiftDataController":"GiftDataController","../../../Business/Control/LimitDataController":"LimitDataController","../../../Business/Define/ControlCodeDefine":"ControlCodeDefine","../../../Business/Define/GiftTypeDefine":"GiftTypeDefine","../../../Business/Define/WindowTypeDefine":"WindowTypeDefine","../Basic/BusinessUIMediator":"BusinessUIMediator","../Define/BusinessUILayerDefine":"BusinessUILayerDefine","../View/InvestListItemUIView":"InvestListItemUIView"}],InvestListUIScript:[function(e,t,i){"use strict";cc._RF.push(t,"1b398z61sJPUITnF55W3OfN","InvestListUIScript"),Object.defineProperty(i,"__esModule",{value:!0});var o=e("../../../../Extension/UI/Scroll/UIScrollScript"),n=cc._decorator,r=n.ccclass,a=n.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.scroll=null,t}return __extends(t,e),__decorate([a(o.default)],t.prototype,"scroll",void 0),__decorate([r],t)}(cc.Component);i.default=s,cc._RF.pop()},{"../../../../Extension/UI/Scroll/UIScrollScript":"UIScrollScript"}],ItemBookUIMediator:[function(e,t,i){"use strict";cc._RF.push(t,"441f5RwmPZBcoj8mdJcL3no","ItemBookUIMediator"),Object.defineProperty(i,"__esModule",{value:!0}),i.ItemBookUIMediator=void 0;var o=function(e){function t(){return e.call(this,"ItemBookUIMediator","PF_UI_ItemBook")||this}return __extends(t,e),t}(e("../Basic/ItemDetailUIMediator").ItemDetailUIMediator);i.ItemBookUIMediator=o,cc._RF.pop()},{"../Basic/ItemDetailUIMediator":"ItemDetailUIMediator"}],ItemDataController:[function(e,t,i){"use strict";cc._RF.push(t,"9f24aULhttEwJl2OVx42xb2","ItemDataController"),Object.defineProperty(i,"__esModule",{value:!0}),i.ItemDataController=void 0;var o=e("../../../Config/ConfigKeyDefine"),n=e("../../../Extension/DataControl/BasicDataController"),r=e("../Data/ItemPackageData"),a=e("../Define/ControlCodeDefine"),s=e("../Define/ExpressItemParameterDefine"),p=e("../Define/ItemFuncTypeDefine"),u=e("../Define/ItemTypeDefine"),c=e("./StorageDataController"),l=function(e){function t(){var i=e.call(this)||this;return i.m_itemPacks=null,t.ms_instance=i,i}return __extends(t,e),Object.defineProperty(t,"Instance",{get:function(){return t.ms_instance||new t},enumerable:!1,configurable:!0}),t.prototype.initController=function(){if(!this.m_itemPacks){this.m_itemPacks={};for(var e=null,i=0;i<t.ItemPackageCount;i++)e=new r.ItemPackageData(i),this.m_itemPacks[i]=e,c.StorageDataController.Instance.addGroup(e)}},t.prototype.containsItemCountByItemType=function(e,t){var i=this.m_itemPacks[e];return!!i&&i.containsItemByItemType(t)},t.prototype.getItemCountByConfigID=function(e,t){var i=this.m_itemPacks[e];return i?i.getItemCountByConfigID(t):0},t.prototype.getItemCountByItemType=function(e,t){var i=this.m_itemPacks[e];return i?i.getItemCountByItemType(t):0},t.prototype.getItemDatasByConfigID=function(e,t){var i=this.m_itemPacks[e];return i?i.getItemDatasByConfigID(t):null},t.prototype.getItemDataByConfigID=function(e,t){var i=this.m_itemPacks[e];return i?i.getItemDataByConfigID(t):null},t.prototype.compareItemCount=function(e,t,i){var o=this.m_itemPacks[e];return o?o.getItemCountByConfigID(t)-i:-1},t.prototype.getItemDatasByItemType=function(e,t){var i=this.m_itemPacks[e];return i?i.getItemDatasByItemType(t):null},t.prototype.getItemDatasByItemTypes=function(e,t){var i=this.m_itemPacks[e];return i?i.getItemDatasByItemTypes(t):null},t.prototype.handleAddItem=function(e,t,i,o){if(void 0===o&&(o=!0),0==i)return!1;var n=this.m_itemPacks[e];if(!n)return!1;var r=n.handleAddItem(t,i);return!!r&&(o&&this.notifyUpdate(a.ControlCodeDefine.ItemAdd,r),!0)},t.prototype.handleRemoveItem=function(e,t,i,o){if(void 0===o&&(o=!0),0==i)return!1;var n=this.m_itemPacks[e];if(!n)return!1;var r=n.handleRemoveItem(t,i);return!!r&&(o&&this.notifyUpdate(a.ControlCodeDefine.ItemListRemove,r),!0)},t.prototype.handleCombineItem=function(e,t,i){void 0===i&&(i=!0);var n=miniframe.Config.getData(o.ConfigKeyDefine.ITEM_INFO,t);if(!n)return!1;if(n.getFuncType()!=p.ItemFuncTypeDefine.Combine)return!1;var r=this.m_itemPacks[e];if(!r)return!1;var c=r.handleRemoveItem(t,n.getFuncParam1());if(c&&c.length>0){var l=r.handleAddItem(n.getFuncParam2(),1);if(l){var d=miniframe.Config.getData(o.ConfigKeyDefine.ITEM_INFO,n.getFuncParam2());d&&(d.getType()!=u.ItemTypeDefine.Book&&d.getType()!=u.ItemTypeDefine.Weapon||l.getParameterAt(s.ExpressItemParameterDefine.Level)<=0&&l.setParameterAt(s.ExpressItemParameterDefine.Level,1)),i&&this.notifyUpdate(a.ControlCodeDefine.ItemAdd,l)}return i&&this.notifyUpdate(a.ControlCodeDefine.ItemListRemove,c),!0}return!1},t.prototype.handleSetItemParameter=function(e,t,i,o,n){void 0===n&&(n=!0);var r=this.m_itemPacks[e];if(!r)return!1;var s=r.getItemDataByConfigID(t);return!!s&&(s.setParameterAt(i,o),this.notifyUpdate(a.ControlCodeDefine.ItemParameterUpdate,s),!0)},t.ms_instance=null,t.ItemPackageCount=1,t}(n.BasicDataController);i.ItemDataController=l,cc._RF.pop()},{"../../../Config/ConfigKeyDefine":"ConfigKeyDefine","../../../Extension/DataControl/BasicDataController":"BasicDataController","../Data/ItemPackageData":"ItemPackageData","../Define/ControlCodeDefine":"ControlCodeDefine","../Define/ExpressItemParameterDefine":"ExpressItemParameterDefine","../Define/ItemFuncTypeDefine":"ItemFuncTypeDefine","../Define/ItemTypeDefine":"ItemTypeDefine","./StorageDataController":"StorageDataController"}],ItemData:[function(e,t,i){"use strict";cc._RF.push(t,"d21d7UQ70JAoLVrvi5uPKjg","ItemData"),Object.defineProperty(i,"__esModule",{value:!0}),i.ItemData=void 0;var o=e("../../../Config/ConfigKeyDefine"),n=function(e){function t(t){var i=e.call(this,t)||this;return i.m_itemType=NaN,i.m_itemFuncType=0,i.m_itemFuncParam1=0,i.m_itemFuncParam2=0,i}return __extends(t,e),t.prototype.getUID=function(){return this.getName()},t.prototype.getConfigID=function(){return this.getIntValueAt(t.Index_ConfigID)},t.prototype.setConfigID=function(e,i){void 0===i&&(i=!0),this.setIntValueAt(t.Index_ConfigID,e,i)},t.prototype.getCount=function(){return this.getIntValueAt(t.Index_Count)},t.prototype.setCount=function(e,i){void 0===i&&(i=!0),this.setIntValueAt(t.Index_Count,e,i)},t.prototype.getItemType=function(){return this.initItemInfo(),this.m_itemType},t.prototype.getItemFuncType=function(){return this.initItemInfo(),this.m_itemFuncType},t.prototype.getItemFuncParam1=function(){return this.initItemInfo(),this.m_itemFuncParam1},t.prototype.getItemFuncParam2=function(){return this.initItemInfo(),this.m_itemFuncParam2},t.prototype.initItemInfo=function(){if(isNaN(this.m_itemType)){this.m_itemType=0,this.m_itemFuncType=0,this.m_itemFuncParam1=0,this.m_itemFuncParam2=0;var e=miniframe.Config.getData(o.ConfigKeyDefine.ITEM_INFO,this.getConfigID());e&&(this.m_itemType=e.getType(),this.m_itemFuncType=e.getFuncType(),this.m_itemFuncParam1=e.getFuncParam1(),this.m_itemFuncParam2=e.getFuncParam2())}},t.prototype.getParameterAt=function(e){return this.getIntValueAt(t.Index_ParameterStart+e)},t.prototype.setParameterAt=function(e,i,o){void 0===o&&(o=!0),this.setIntValueAt(t.Index_ParameterStart+e,i,o)},t.Index_ConfigID=0,t.Index_Count=1,t.Index_ParameterStart=2,t}(e("./IntListStorageProperty").IntListStorageProperty);i.ItemData=n,cc._RF.pop()},{"../../../Config/ConfigKeyDefine":"ConfigKeyDefine","./IntListStorageProperty":"IntListStorageProperty"}],ItemDetailUIMediator:[function(e,t,i){"use strict";cc._RF.push(t,"e21d7DNaORBJ6Z0GXnZiWaJ","ItemDetailUIMediator"),Object.defineProperty(i,"__esModule",{value:!0}),i.ItemDetailUIMediator=void 0;var o=e("../../../../Config/ConfigKeyDefine"),n=e("../../../../Extension/UI/Sprite/UISprite"),r=e("../../../Business/Control/CharDataController"),a=e("../../../Business/Control/ItemDataController"),s=e("../../../Business/Define/ControlCodeDefine"),p=e("../../../Business/Define/ExpressItemParameterDefine"),u=e("../../../Business/Define/ItemPackTypeDefine"),c=e("../../../Business/Define/ItemTypeDefine"),l=e("./BusinessUIMediator"),d=e("../../../MiniGame"),f=e("../../Core/Control/CoreConsts"),g=e("../../MediatorNameDefine"),m=e("../Component/ItemDetailUIScript"),h=e("../Define/BusinessUILayerDefine"),_=e("../View/WeaponAttrItemUIView"),y=e("../../../Business/Define/WindowTypeDefine"),C=function(e){function t(t,i){var o=e.call(this,t,i,h.BusinessUILayerDefine.UI,!1,!1,!0,!0,!0,y.WindowTypeDefine.Default)||this;return o.m_itemDetailScript=null,o.m_icon=null,o.m_attrItems=[],o.m_itemConfig=null,o.m_itemData=null,o.m_level=0,o.m_growConfig=null,o.m_nextGrowConfig=null,o}return __extends(t,e),t.prototype.onUIMediatorInit=function(t,i){if(e.prototype.onUIMediatorInit.call(this,t,i),this.m_itemDetailScript=t?t.getComponent(m.default):null,this.m_itemDetailScript){this.m_itemDetailScript.icon&&(this.m_icon||(this.m_icon=new n.UISprite),this.m_icon.bindScript(this.m_itemDetailScript.icon));for(var o=this.m_itemDetailScript.attrItems.length,r=0;r<o;r++)r>=this.m_attrItems.length&&(this.m_attrItems.push(new _.WeaponAttrItemUIView(this.getMediatorName())),this.m_attrItems[r].setAttrType(1)),this.m_attrItems[r].bindNode(this.m_itemDetailScript.attrItems[r])}},t.prototype.onUIMediatorUnInit=function(){for(;this.m_attrItems.length>0;)this.m_attrItems.pop().dispose();this.m_icon&&(this.m_icon.dispose(),this.m_icon=null),this.m_itemDetailScript=null,e.prototype.onUIMediatorUnInit.call(this)},t.prototype.onUIMediatorPrepare=function(t,i){e.prototype.onUIMediatorPrepare.call(this,t,i),this.m_itemConfig=i,this.m_itemData=a.ItemDataController.Instance.getItemDataByConfigID(u.ItemPackTypeDefine.Default,this.m_itemConfig.getId()),this.m_icon&&(this.m_icon.hookAtlasSprite(this.m_itemConfig.getIconAt(0),this.m_itemConfig.getIconAt(1)),this.m_icon.getNode().setPosition(new cc.Vec2(miniframe.toNumber(this.m_itemConfig.getIconAt(2)),miniframe.toNumber(this.m_itemConfig.getIconAt(3))))),this.m_itemDetailScript&&(this.m_itemDetailScript.nameLabel&&this.m_itemDetailScript.nameLabel.setLanguage(this.m_itemConfig.getNameLan()),this.m_itemDetailScript.descLabel&&this.m_itemDetailScript.descLabel.setLanguage(this.m_itemConfig.getDescLan())),this.updateLevelInfo(),a.ItemDataController.Instance.addListener(this)},t.prototype.onUIMediatorClose=function(t){e.prototype.onUIMediatorClose.call(this,t),a.ItemDataController.Instance.removeListener(this)},t.prototype.onButtonClick=function(t){switch(t){case"levelup":if(!this.m_itemConfig)return;if(!this.m_itemData)return;var i=this.m_itemData.getParameterAt(p.ExpressItemParameterDefine.Level)+1,n=void 0,a=null;if(this.m_itemConfig.getType()==c.ItemTypeDefine.Book){if(!(s=miniframe.Config.getData(o.ConfigKeyDefine.GAME_BOOK_BASE,i)))return;a=s.getConsumes(),n=g.MediatorNameDefine.Game2UIMediator}else if(this.m_itemConfig.getType()==c.ItemTypeDefine.Weapon){var s;if(!(s=miniframe.Config.getData(o.ConfigKeyDefine.GAME_WEAPON_BASE,i)))return;a=s.getConsumes(),n=g.MediatorNameDefine.Game3UIMediator}if(null==i)return;if(a&&a.length>0){if(!r.CharDataController.Instance.compareCharValues(a,!0))return;r.CharDataController.Instance.handleRemoveCharValues(a)}d.MiniGame.MVC.openMediator(n,this.m_itemData);break;default:e.prototype.onButtonClick.call(this,t)}},t.prototype.updateLevelInfo=function(){this.m_level=this.m_itemData?this.m_itemData.getParameterAt(p.ExpressItemParameterDefine.Level):0;var e=100*this.m_itemConfig.getId()+this.m_level;this.m_growConfig=miniframe.Config.getData(o.ConfigKeyDefine.WEAPON_GROW_INFO,e);var i=100*this.m_itemConfig.getId()+this.m_level+1;if(this.m_nextGrowConfig=miniframe.Config.getData(o.ConfigKeyDefine.WEAPON_GROW_INFO,i),this.m_growConfig)for(var n="",s=0,l=this.m_attrItems.length,d=0;d<l;d++)d<t.PropLans.length?(this.m_attrItems[d].setGrowConfigs(this.m_growConfig,this.m_nextGrowConfig),0==d?n=t.PropLans[d]:(s=this.m_growConfig.getAttrsAt(0).x,n=miniframe.formatParamString(t.PropLans[d],[s,15e4+s])),this.m_attrItems[d].setData(n)):this.m_attrItems[d].clearData();var g=!1,m=null;if(this.m_nextGrowConfig){var h=!1;if(this.m_itemConfig.getType()==c.ItemTypeDefine.Book)(_=miniframe.Config.getData(o.ConfigKeyDefine.GAME_BOOK_BASE,this.m_level+1))&&(m=_.getConsumes());else if(this.m_itemConfig.getType()==c.ItemTypeDefine.Weapon){var _;(_=miniframe.Config.getData(o.ConfigKeyDefine.GAME_WEAPON_BASE,this.m_level+1))&&(m=_.getConsumes())}m&&(h=r.CharDataController.Instance.compareCharValues(m,!1)),g=!1,this.setButtonEnable("levelup",h)}else g=!0,this.setButtonEnable("levelup",!1);if(this.m_itemDetailScript){if(this.m_itemDetailScript.levelLabel){var y=0;this.m_itemConfig.getType()==c.ItemTypeDefine.Book?y=100015:this.m_itemConfig.getType()==c.ItemTypeDefine.Weapon&&(y=100016),this.m_level>0?this.m_itemDetailScript.levelLabel.setLanguageFormat(y,f.CoreConsts.GetChNumberStr(this.m_level)):this.m_itemDetailScript.levelLabel.string=""}if(this.m_itemDetailScript.costNode&&(this.m_itemDetailScript.costNode.active=!g),this.m_itemDetailScript.fullNode&&(this.m_itemDetailScript.fullNode.active=g),m){var C=a.ItemDataController.Instance.getItemCountByConfigID(u.ItemPackTypeDefine.Default,m[0].x);this.m_itemDetailScript.progressCurrentLabel&&(this.m_itemDetailScript.progressCurrentLabel.string=C+""),this.m_itemDetailScript.progressTotalLabel&&(this.m_itemDetailScript.progressTotalLabel.string=m[0].y+"",this.m_itemDetailScript.progressTotalLabel.setEnabled(C>=m[0].y))}else this.m_itemDetailScript.progressCurrentLabel&&(this.m_itemDetailScript.progressCurrentLabel.string=""),this.m_itemDetailScript.progressTotalLabel&&(this.m_itemDetailScript.progressTotalLabel.string="")}},t.prototype.onDataControllerUpdate=function(e,t){switch(e){case s.ControlCodeDefine.ItemParameterUpdate:t==this.m_itemData&&this.updateLevelInfo();break;case s.ControlCodeDefine.ItemAdd:case s.ControlCodeDefine.ItemListRemove:this.updateLevelInfo()}},t.PropLans=["2|0|ATLAS_Attrs|attr_101|150101|0|0|0","1|{0}|ATLAS_Attrs|attr_{0}|{1}|0|0|0"],t}(l.BusinessUIMediator);i.ItemDetailUIMediator=C,cc._RF.pop()},{"../../../../Config/ConfigKeyDefine":"ConfigKeyDefine","../../../../Extension/UI/Sprite/UISprite":"UISprite","../../../Business/Control/CharDataController":"CharDataController","../../../Business/Control/ItemDataController":"ItemDataController","../../../Business/Define/ControlCodeDefine":"ControlCodeDefine","../../../Business/Define/ExpressItemParameterDefine":"ExpressItemParameterDefine","../../../Business/Define/ItemPackTypeDefine":"ItemPackTypeDefine","../../../Business/Define/ItemTypeDefine":"ItemTypeDefine","../../../Business/Define/WindowTypeDefine":"WindowTypeDefine","../../../MiniGame":"MiniGame","../../Core/Control/CoreConsts":"CoreConsts","../../MediatorNameDefine":"MediatorNameDefine","../Component/ItemDetailUIScript":"ItemDetailUIScript","../Define/BusinessUILayerDefine":"BusinessUILayerDefine","../View/WeaponAttrItemUIView":"WeaponAttrItemUIView","./BusinessUIMediator":"BusinessUIMediator"}],ItemDetailUIScript:[function(e,t,i){"use strict";cc._RF.push(t,"b041ccXdfRGLYrfwgsRPm+8","ItemDetailUIScript"),Object.defineProperty(i,"__esModule",{value:!0});var o=e("../../../../Extension/UI/Label/UITextScript"),n=cc._decorator,r=n.ccclass,a=n.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.icon=null,t.nameLabel=null,t.descLabel=null,t.levelLabel=null,t.progressCurrentLabel=null,t.progressTotalLabel=null,t.costNode=null,t.fullNode=null,t.attrItems=[],t}return __extends(t,e),__decorate([a(cc.Sprite)],t.prototype,"icon",void 0),__decorate([a(o.default)],t.prototype,"nameLabel",void 0),__decorate([a(o.default)],t.prototype,"descLabel",void 0),__decorate([a(o.default)],t.prototype,"levelLabel",void 0),__decorate([a(o.default)],t.prototype,"progressCurrentLabel",void 0),__decorate([a(o.default)],t.prototype,"progressTotalLabel",void 0),__decorate([a(cc.Node)],t.prototype,"costNode",void 0),__decorate([a(cc.Node)],t.prototype,"fullNode",void 0),__decorate([a([cc.Node])],t.prototype,"attrItems",void 0),__decorate([r],t)}(cc.Component);i.default=s,cc._RF.pop()},{"../../../../Extension/UI/Label/UITextScript":"UITextScript"}],ItemFuncTypeDefine:[function(e,t,i){"use strict";cc._RF.push(t,"a53b8Z5sqxE4b/2CU5qiShU","ItemFuncTypeDefine"),Object.defineProperty(i,"__esModule",{value:!0}),i.ItemFuncTypeDefine=void 0,function(e){e[e.None=0]="None",e[e.Combine=1]="Combine",e[e.Pick=2]="Pick"}(i.ItemFuncTypeDefine||(i.ItemFuncTypeDefine={})),cc._RF.pop()},{}],ItemInfoConfigData:[function(e,t,i){"use strict";cc._RF.push(t,"57c26N/LNVIJ414mM6KCRPW","ItemInfoConfigData"),Object.defineProperty(i,"__esModule",{value:!0}),i.ItemInfoConfigData=void 0;var o=function(){function e(e){this.m_data=null,this.m_data=e,this.init()}return e.prototype.getId=function(){return this.m_data.getId()},e.prototype.getNameLan=function(){return this.m_data.getNameLan()},e.prototype.getDescLan=function(){return this.m_data.getDescLan()},e.prototype.getIcon=function(){return this.m_data.getIconList()},e.prototype.getIconCount=function(){return this.m_data.getIconList().length},e.prototype.getIconAt=function(e){return e<0||e>=this.m_data.getIconList().length?"":this.m_data.getIconList()[e]},e.prototype.getType=function(){return this.m_data.getType()},e.prototype.getParam1=function(){return this.m_data.getParam1()},e.prototype.getFuncType=function(){return this.m_data.getFuncType()},e.prototype.getFuncParam1=function(){return this.m_data.getFuncParam1()},e.prototype.getFuncParam2=function(){return this.m_data.getFuncParam2()},e.prototype.init=function(){},e.prototype.getConfigKey=function(){return this.getId()},e}();i.ItemInfoConfigData=o,cc._RF.pop()},{}],ItemListItemUIViewScript:[function(e,t,i){"use strict";cc._RF.push(t,"f1fbb6Vv91BBIyNDmNI+L7R","ItemListItemUIViewScript"),Object.defineProperty(i,"__esModule",{value:!0});var o=e("../../../../Extension/UI/Label/UITextScript"),n=e("../../../../Extension/UI/Item/ItemUIViewScript"),r=cc._decorator,a=r.ccclass,s=r.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.icon=null,t.nameLabel=null,t.levelLabel=null,t.activeNode=null,t.deactiveNode=null,t.noticeNode=null,t.noticeLabel=null,t}return __extends(t,e),__decorate([s(cc.Sprite)],t.prototype,"icon",void 0),__decorate([s(o.default)],t.prototype,"nameLabel",void 0),__decorate([s(o.default)],t.prototype,"levelLabel",void 0),__decorate([s(cc.Node)],t.prototype,"activeNode",void 0),__decorate([s(cc.Node)],t.prototype,"deactiveNode",void 0),__decorate([s(cc.Node)],t.prototype,"noticeNode",void 0),__decorate([s(o.default)],t.prototype,"noticeLabel",void 0),__decorate([a],t)}(n.default);i.default=p,cc._RF.pop()},{"../../../../Extension/UI/Item/ItemUIViewScript":"ItemUIViewScript","../../../../Extension/UI/Label/UITextScript":"UITextScript"}],ItemListItemUIView:[function(e,t,i){"use strict";cc._RF.push(t,"4b9160XDlZFh7VJqeZqlSx/","ItemListItemUIView"),Object.defineProperty(i,"__esModule",{value:!0}),i.ItemListItemUIView=void 0;var o=e("../../../../Config/ConfigKeyDefine"),n=e("../../../../Extension/UI/Sprite/UISprite"),r=e("../../../Business/Control/CharDataController"),a=e("../../../Business/Control/ItemDataController"),s=e("../../../Business/Define/ExpressItemParameterDefine"),p=e("../../../Business/Define/ItemPackTypeDefine"),u=e("../../../Business/Define/ItemTypeDefine"),c=e("../../../MiniGame"),l=e("../../Core/Control/CoreConsts"),d=e("../../MediatorNameDefine"),f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.m_icon=null,t.m_itemCount=0,t.m_itemData=null,t}return __extends(t,e),t.prototype.onInitScript=function(){e.prototype.onInitScript.call(this);var t=this.getScript();t&&t.icon&&(this.m_icon||(this.m_icon=new n.UISprite),this.m_icon.bindScript(t.icon))},t.prototype.onSetData=function(t,i,n){if(n&&(this.m_itemCount=0,this.m_itemData=null),i){n&&(this.m_icon&&(this.m_icon.hookAtlasSprite(i.getIconAt(0),i.getIconAt(1)),this.m_icon.getNode().setPosition(new cc.Vec2(miniframe.toNumber(i.getIconAt(2)),miniframe.toNumber(i.getIconAt(3))))),t.nameLabel&&t.nameLabel.setLanguage(i.getNameLan())),this.m_itemData=a.ItemDataController.Instance.getItemDataByConfigID(p.ItemPackTypeDefine.Default,i.getId()),this.m_itemCount=this.m_itemData?this.m_itemData.getCount():0;var c=this.m_itemData?this.m_itemData.getParameterAt(s.ExpressItemParameterDefine.Level):0;if(this.m_itemData){if(t.levelLabel){var d=0;i.getType()==u.ItemTypeDefine.Book?d=100015:i.getType()==u.ItemTypeDefine.Weapon&&(d=100016),c>0?t.levelLabel.setLanguageFormat(d,l.CoreConsts.GetChNumberStr(c)):t.levelLabel.string=""}}else t.levelLabel&&(t.levelLabel.string="");if(t.activeNode&&(t.activeNode.active=this.m_itemCount>0),t.deactiveNode&&(t.deactiveNode.active=this.m_itemCount<=0),t.noticeNode&&(t.noticeNode.active=!1),this.m_icon)if(this.m_itemCount>0){this.m_icon.getNode().color=cc.Color.WHITE;var f=c+1,g=100*i.getId()+f;if(miniframe.Config.getData(o.ConfigKeyDefine.WEAPON_GROW_INFO,g)){var m=null;if(i.getType()==u.ItemTypeDefine.Book)(h=miniframe.Config.getData(o.ConfigKeyDefine.GAME_BOOK_BASE,c+1))&&(m=h.getConsumes());else if(i.getType()==u.ItemTypeDefine.Weapon){var h;(h=miniframe.Config.getData(o.ConfigKeyDefine.GAME_WEAPON_BASE,c+1))&&(m=h.getConsumes())}t.noticeNode&&(t.noticeNode.active=m&&r.CharDataController.Instance.compareCharValues(m,!1)),t.noticeLabel&&(i.getType()==u.ItemTypeDefine.Book?t.noticeLabel.setLanguage(100025):i.getType()==u.ItemTypeDefine.Weapon&&t.noticeLabel.setLanguage(100026))}else t.noticeNode&&(t.noticeNode.active=!1)}else this.m_icon.getNode().color=cc.Color.GRAY}else this.m_icon&&this.m_icon.clear();return e.prototype.onSetData.call(this,t,i,n)},t.prototype.onButtonClick=function(t){switch(t){case"check":if(!this.getData())return;if(this.m_itemCount>0){var i=this.getData().getType();i==u.ItemTypeDefine.Book?c.MiniGame.MVC.openMediator(d.MediatorNameDefine.ItemBookUIMediator,this.getData()):i==u.ItemTypeDefine.Weapon&&c.MiniGame.MVC.openMediator(d.MediatorNameDefine.ItemWeaponUIMediator,this.getData())}else{var o=c.MiniGame.Locale.getLanguage(100206);c.MiniGame.MVC.openMediator(d.MediatorNameDefine.PromptAutoUIMediator,o,!0)}break;default:e.prototype.onButtonClick.call(this,t)}},t}(e("../Basic/BusinessItemUIView").BusinessItemUIView);i.ItemListItemUIView=f,cc._RF.pop()},{"../../../../Config/ConfigKeyDefine":"ConfigKeyDefine","../../../../Extension/UI/Sprite/UISprite":"UISprite","../../../Business/Control/CharDataController":"CharDataController","../../../Business/Control/ItemDataController":"ItemDataController","../../../Business/Define/ExpressItemParameterDefine":"ExpressItemParameterDefine","../../../Business/Define/ItemPackTypeDefine":"ItemPackTypeDefine","../../../Business/Define/ItemTypeDefine":"ItemTypeDefine","../../../MiniGame":"MiniGame","../../Core/Control/CoreConsts":"CoreConsts","../../MediatorNameDefine":"MediatorNameDefine","../Basic/BusinessItemUIView":"BusinessItemUIView"}],ItemListUIMediator:[function(e,t,i){"use strict";cc._RF.push(t,"920d7SnTQND1qPUaAiuLrFW","ItemListUIMediator"),Object.defineProperty(i,"__esModule",{value:!0}),i.ItemListUIMediator=void 0;var o=e("../../../../Extension/UI/Scroll/UIScrollScript"),n=e("../../../../Extension/UI/Tab/UITabScript"),r=e("../../../../Extension/UI/Scroll/UIScrollList"),a=e("../../../../Extension/UI/Tab/UITab"),s=e("../../../Business/Control/ConfigDataController"),p=e("../../../Business/Control/ItemDataController"),u=e("../../../Business/Define/ControlCodeDefine"),c=e("../../../Business/Define/ItemPackTypeDefine"),l=e("../../../Business/Define/ItemTypeDefine"),d=e("../Basic/BusinessUIMediator"),f=e("../../../MiniGame"),g=e("../Component/ItemListUIScript"),m=e("../Define/BusinessUILayerDefine"),h=e("../View/ItemListItemUIView"),_=e("../../../Business/Control/NoticeStateController"),y=e("../../../Business/Define/WindowTypeDefine"),C=function(e){function t(){var t=e.call(this,"ItemListUIMediator","PF_UI_ItemList",m.BusinessUILayerDefine.UI,!1,!1,!0,!0,!0,y.WindowTypeDefine.Default)||this;return t.m_itemListScript=null,t.m_configList=null,t.m_tab=null,t.m_scroll=null,t}return __extends(t,e),t.prototype.onUIMediatorInit=function(t,i){e.prototype.onUIMediatorInit.call(this,t,i),this.m_itemListScript=t?t.getComponent(g.default):null;var s=t.getComponent(n.default);s&&(this.m_tab||(this.m_tab=new a.UITab,this.m_tab.setListener(this)),this.m_tab.bindScript(s));var p=t.getComponentInChildren(o.default);p&&(this.m_scroll||(this.m_scroll=new r.UIScrollList(h.ItemListItemUIView,this.getMediatorName())),this.m_scroll.bindScript(p))},t.prototype.onUIMediatorUnInit=function(){this.m_tab&&(this.m_tab.dispose(),this.m_tab=null),this.m_scroll&&(this.m_scroll.dispose(),this.m_scroll=null),this.m_itemListScript=null,e.prototype.onUIMediatorUnInit.call(this)},t.prototype.onUIMediatorPrepare=function(t,i){e.prototype.onUIMediatorPrepare.call(this,t,i);var o=0;"number"==typeof i?o=i:_.NoticeStateController.Instance.getWeaponLevelUpCount()>0&&(o=1),this.m_tab&&this.m_tab.selectTab(o,!0,!0),f.MiniGame.ButtonTips.refreshButtonTipsByGroup(this.getMediatorName()),p.ItemDataController.Instance.addListener(this)},t.prototype.onUIMediatorOpen=function(t,i){e.prototype.onUIMediatorOpen.call(this,t,i),this.m_scroll&&this.m_scroll.scrollToTop()},t.prototype.onUIMediatorClose=function(t){e.prototype.onUIMediatorClose.call(this,t),p.ItemDataController.Instance.removeListener(this)},t.prototype.onButtonClick=function(t){e.prototype.onButtonClick.call(this,t)},t.prototype.onUITabButtonInit=function(e,t){this.onButtonInit(t)},t.prototype.onUITabSelect=function(e,i){if(i>=0&&i<t.ItemConfigTypes.length){var o=t.ItemConfigTypes[i];if(this.m_configList=s.ConfigDataController.Instance.getItemConfigsByType(o),this.m_scroll&&this.m_scroll.setDataList(this.m_configList,!0),this.m_itemListScript&&i<this.m_itemListScript.countLabels.length){var n=t.ItemNeedItemIDs[i];this.m_itemListScript.countLabels[i].string=p.ItemDataController.Instance.getItemCountByConfigID(c.ItemPackTypeDefine.Default,n)+""}}},t.prototype.compareItemDatas=function(e,t,i){return t.getId()==i.getConfigID()},t.prototype.onDataControllerUpdate=function(e,i){switch(e){case u.ControlCodeDefine.ItemParameterUpdate:this.m_scroll&&this.m_scroll.refreshDataListWith(this.compareItemDatas,i,!1);break;case u.ControlCodeDefine.ItemAdd:var o=!1,n=i,r=t.ItemNeedItemIDs.indexOf(n.getConfigID());this.m_tab.getSelectedIndex()==r&&(o=!0),o&&this.onUITabSelect(this.m_tab,this.m_tab.getSelectedIndex());break;case u.ControlCodeDefine.ItemListRemove:o=!1,r=0;for(var a=i,s=a.length,p=0;p<s;p++)if(r=t.ItemNeedItemIDs.indexOf(a[p].getConfigID()),this.m_tab.getSelectedIndex()==r){o=!0;break}o&&this.onUITabSelect(this.m_tab,this.m_tab.getSelectedIndex())}},t.ItemConfigTypes=[l.ItemTypeDefine.Book,l.ItemTypeDefine.Weapon],t.ItemNeedItemIDs=[3e3,3001],t}(d.BusinessUIMediator);i.ItemListUIMediator=C,cc._RF.pop()},{"../../../../Extension/UI/Scroll/UIScrollList":"UIScrollList","../../../../Extension/UI/Scroll/UIScrollScript":"UIScrollScript","../../../../Extension/UI/Tab/UITab":"UITab","../../../../Extension/UI/Tab/UITabScript":"UITabScript","../../../Business/Control/ConfigDataController":"ConfigDataController","../../../Business/Control/ItemDataController":"ItemDataController","../../../Business/Control/NoticeStateController":"NoticeStateController","../../../Business/Define/ControlCodeDefine":"ControlCodeDefine","../../../Business/Define/ItemPackTypeDefine":"ItemPackTypeDefine","../../../Business/Define/ItemTypeDefine":"ItemTypeDefine","../../../Business/Define/WindowTypeDefine":"WindowTypeDefine","../../../MiniGame":"MiniGame","../Basic/BusinessUIMediator":"BusinessUIMediator","../Component/ItemListUIScript":"ItemListUIScript","../Define/BusinessUILayerDefine":"BusinessUILayerDefine","../View/ItemListItemUIView":"ItemListItemUIView"}],ItemListUIScript:[function(e,t,i){"use strict";cc._RF.push(t,"c98e9RogJpNOofyKxueYODU","ItemListUIScript"),Object.defineProperty(i,"__esModule",{value:!0});var o=e("../../../../Extension/UI/Label/UITextScript"),n=cc._decorator,r=n.ccclass,a=n.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.countLabels=[],t}return __extends(t,e),__decorate([a([o.default])],t.prototype,"countLabels",void 0),__decorate([r],t)}(cc.Component);i.default=s,cc._RF.pop()},{"../../../../Extension/UI/Label/UITextScript":"UITextScript"}],ItemPackTypeDefine:[function(e,t,i){"use strict";cc._RF.push(t,"26b02klZoBMcrfdTX3vUzjs","ItemPackTypeDefine"),Object.defineProperty(i,"__esModule",{value:!0}),i.ItemPackTypeDefine=void 0,function(e){e[e.Default=0]="Default"}(i.ItemPackTypeDefine||(i.ItemPackTypeDefine={})),cc._RF.pop()},{}],ItemPackageData:[function(e,t,i){"use strict";cc._RF.push(t,"d8a0d3/MpZE75F+FuPoev1M","ItemPackageData"),Object.defineProperty(i,"__esModule",{value:!0}),i.ItemPackageData=void 0;var o=e("../../../Extension/Storage/StorageGroupData"),n=e("../Utility/UIDUtility"),r=e("./ItemData"),a=function(e){function t(t){var i=e.call(this,"i_pack_"+t)||this;return i.m_id=0,i.m_itemConfigToUIDs={},i.m_id=t,i}return __extends(t,e),t.prototype.onCreateProperty=function(e){return new r.ItemData(e)},t.prototype.onSetRawData=function(){e.prototype.onSetRawData.call(this);var t=null;for(var i in this.m_properties)t=this.m_properties[i],this.addItemConfigUID(t.getConfigID(),t.getUID())},t.prototype.addItemConfigUID=function(e,t){this.m_itemConfigToUIDs[e]?miniframe.safePush(this.m_itemConfigToUIDs[e],t):this.m_itemConfigToUIDs[e]=[t]},t.prototype.getPackID=function(){return this.m_id},t.prototype.getItemData=function(e){return this.getProperty[e]},t.prototype.getItemDatasByConfigID=function(e){var t=this.m_itemConfigToUIDs[e];if(!t||t.length<0)return null;for(var i=[],o=null,n=t.length,r=0;r<n;r++)(o=this.getProperty(t[r]))&&i.push(o);return i},t.prototype.getItemDataByConfigID=function(e){var t=this.m_itemConfigToUIDs[e];if(!t||t.length<0)return null;for(var i=null,o=t.length,n=0;n<o;n++)if(i=this.getProperty(t[n]))return i;return null},t.prototype.getItemCountByConfigID=function(e){var t=this.m_itemConfigToUIDs[e];if(!t||t.length<0)return 0;for(var i=0,o=null,n=t.length,r=0;r<n;r++)(o=this.getProperty(t[r]))&&(i+=o.getCount());return i},t.prototype.getItemCountByItemType=function(e){var t=0;for(var i in this.m_properties)this.m_properties[i].getItemType()==e&&t++;return t},t.prototype.containsItemByItemType=function(e){for(var t in this.m_properties)if(this.m_properties[t].getItemType()==e)return!0;return!1},t.prototype.getItemDatasByItemType=function(e){var t=[],i=null;for(var o in this.m_properties)e==(i=this.m_properties[o]).getItemType()&&t.push(i);return t},t.prototype.getItemDatasByItemTypes=function(e){var t=[],i=null;for(var o in this.m_properties)i=this.m_properties[o],-1!=e.indexOf(i.getItemType())&&t.push(i);return t},t.prototype.handleAddItem=function(e,t){var i=null,o=this.m_itemConfigToUIDs[e];if(!o||o.length<=0){var a=n.UIDUtility.GenerateUID(n.UIDUtility.TypeItem,e);(i=new r.ItemData(a)).setConfigID(e),i.setCount(t),this.setProperty(i),this.m_itemConfigToUIDs[e]=[a]}else(i=this.getProperty(o[0])).setCount(i.getCount()+t);return i},t.prototype.handleRemoveItem=function(e,t){var i=this.m_itemConfigToUIDs[e];if(!i||i.length<=0)return null;for(var o=null,n=0,r=null,a=null,s=t,p=i.length,u=0;u<p&&!(s<=0);u++)(o=this.getProperty(i[u]))&&((n=o.getCount())<=s?(r||(r=[]),r.push(o)):(a||(a=[]),a.push(o)),s-=n);if(s>0)return null;s=t;var c=[];if(r)for(p=r.length,u=0;u<p;u++)s-=r[u].getCount(),this.removeProperty(r[u].getUID()),c.push(r[u]),miniframe.safeRemove(i,r[u].getUID());if(a)for(p=a.length,u=0;u<p&&!(s<=0);u++)n=a[u].getCount(),a[u].setCount(Math.max(0,n-s)),c.push(a[u]),s-=n;return c},t.NAME_Items="items",t}(o.StorageGroupData);i.ItemPackageData=a,cc._RF.pop()},{"../../../Extension/Storage/StorageGroupData":"StorageGroupData","../Utility/UIDUtility":"UIDUtility","./ItemData":"ItemData"}],ItemTypeDefine:[function(e,t,i){"use strict";cc._RF.push(t,"23e66aFvzhASoZ0Xqq7cxAb","ItemTypeDefine"),Object.defineProperty(i,"__esModule",{value:!0}),i.ItemTypeDefine=void 0,function(e){e[e.EventPiece=11]="EventPiece",e[e.Book=12]="Book",e[e.Weapon=13]="Weapon",e[e.Treasure=14]="Treasure",e[e.BookPiece=15]="BookPiece",e[e.WeaponPiece=16]="WeaponPiece"}(i.ItemTypeDefine||(i.ItemTypeDefine={})),cc._RF.pop()},{}],ItemUIViewScript:[function(e,t,i){"use strict";cc._RF.push(t,"9b55d91NfNJXqEgQEPxus7J","ItemUIViewScript"),Object.defineProperty(i,"__esModule",{value:!0});var o=e("../Button/UIButtonScript"),n=e("./UIItemScript"),r=cc._decorator,a=r.ccclass,s=r.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.itemName="",t.buttons=[],t}return __extends(t,e),__decorate([s(cc.String)],t.prototype,"itemName",void 0),__decorate([s([o.default])],t.prototype,"buttons",void 0),__decorate([a],t)}(n.default);i.default=p,cc._RF.pop()},{"../Button/UIButtonScript":"UIButtonScript","./UIItemScript":"UIItemScript"}],ItemUIView:[function(e,t,i){"use strict";cc._RF.push(t,"56423QNZVlF0YLdbK4xKu6z","ItemUIView"),Object.defineProperty(i,"__esModule",{value:!0}),i.ItemUIView=void 0;var o=e("./ItemUIViewScript"),n=e("../Button/UIButton"),r=function(e){function t(t){void 0===t&&(t="");var i=e.call(this,t,o.default)||this;return i.m_index=0,i.m_data=null,i.m_buttons=[],i.m_locked=!1,i}return __extends(t,e),Object.defineProperty(t.prototype,"uiScript",{get:function(){return this.m_script},enumerable:!1,configurable:!0}),t.prototype.addEvents=function(){if(this.m_buttons.length>0)for(var e=this.m_buttons.length,t=0;t<e;t++)this.m_buttons[t].setListener(this)},t.prototype.removeEvents=function(){if(this.m_buttons.length>0)for(var e=this.m_buttons.length,t=0;t<e;t++)this.m_buttons[t].setListener(null)},t.prototype.onInitScript=function(){if(this.uiScript){this.setNode(this.m_script.node);for(var e=null,t=this.uiScript.buttons.length,i=0;i<t;i++)this.uiScript.buttons[i]&&((e=new n.UIButton(this.getMediatorName())).bindScript(this.uiScript.buttons[i]),this.onButtonInit(e),this.m_buttons.push(e))}this.addEvents()},t.prototype.onUnInitScript=function(){if(this.removeEvents(),this.m_buttons.length>0)for(var e=null;this.m_buttons.length>0;)e=this.m_buttons.pop(),this.onButtonUnInit(e),e.dispose(!1)},t.prototype.onButtonInit=function(){},t.prototype.onButtonUnInit=function(){},t.prototype.getButtons=function(){return this.m_buttons},t.prototype.getButtonAt=function(e){return this.m_buttons.length<=0?null:e<0||e>=this.m_buttons.length?null:this.m_buttons[e]},t.prototype.getButton=function(e){if(this.m_buttons.length<=0)return null;for(var t=this.m_buttons.length,i=0;i<t;i++)if(this.m_buttons[i]&&this.m_buttons[i].compareButtonKey(e))return this.m_buttons[i];return null},t.prototype.setButtonVisible=function(e,t){if(this.m_buttons.length<=0)return null;for(var i=this.m_buttons.length,o=0;o<i;o++)this.m_buttons[o]&&this.m_buttons[o].compareButtonKey(e)&&(t?this.m_buttons[o].show():this.m_buttons[o].hide())},t.prototype.setButtonEnable=function(e,t,i){if(void 0===i&&(i=!1),this.m_buttons.length<=0)return null;for(var o=this.m_buttons.length,n=0;n<o;n++)this.m_buttons[n]&&this.m_buttons[n].compareButtonKey(e)&&(i?(this.m_buttons[n].setInteractable(!0),this.m_buttons[n].setGray(!t)):(this.m_buttons[n].setInteractable(t),this.m_buttons[n].setGray(!t)))},t.prototype.setButtonLabel=function(e,t){if(this.m_buttons.length<=0)return null;for(var i=this.m_buttons.length,o=0;o<i;o++)this.m_buttons[o]&&this.m_buttons[o].compareButtonKey(e)&&this.m_buttons[o].setButtonLabel(t)},t.prototype.init=function(){this.m_script&&this.onInitView(this.uiScript,this.m_index)},t.prototype.onInitView=function(){},t.prototype.lockUI=function(){this.m_locked=!0},t.prototype.unlockUI=function(){this.m_locked=!1},t.prototype.setIndex=function(e){this.m_index=e},t.prototype.getIndex=function(){return this.m_index},t.prototype.setData=function(e){var t=this.m_data!=e;this.m_data=e,this.m_script&&(this.onSetData(this.uiScript,this.m_data,t)?this.show():this.hide())},t.prototype.onSetData=function(e,t){return!!t},t.prototype.refreshData=function(){this.m_script&&(this.onSetData(this.uiScript,this.m_data,!1)?this.show():this.hide())},t.prototype.getData=function(){return this.m_data},t.prototype.clearData=function(){this.setData(null)},t.prototype.onDispose=function(){this.m_data=null,this.m_locked=!1,e.prototype.onDispose.call(this)},t.prototype.onUIButtonTouchEnd=function(e){this.m_locked||this.onButtonPreClick(e)&&this.onButtonClick(e.getButtonKey())},t.prototype.onButtonPreClick=function(){return!0},t.prototype.onButtonClick=function(){},t}(e("../Basic/UIComponent").UIComponent);i.ItemUIView=r,cc._RF.pop()},{"../Basic/UIComponent":"UIComponent","../Button/UIButton":"UIButton","./ItemUIViewScript":"ItemUIViewScript"}],ItemWeaponUIMediator:[function(e,t,i){"use strict";cc._RF.push(t,"9f7a2NKeBJOkrDmkS45Yod0","ItemWeaponUIMediator"),Object.defineProperty(i,"__esModule",{value:!0}),i.ItemWeaponUIMediator=void 0;var o=function(e){function t(){return e.call(this,"ItemWeaponUIMediator","PF_UI_ItemWeapon")||this}return __extends(t,e),t}(e("../Basic/ItemDetailUIMediator").ItemDetailUIMediator);i.ItemWeaponUIMediator=o,cc._RF.pop()},{"../Basic/ItemDetailUIMediator":"ItemDetailUIMediator"}],LanAttriConfigData:[function(e,t,i){"use strict";cc._RF.push(t,"3c0f717/+ZOC6sMTvWy1YlI","LanAttriConfigData"),Object.defineProperty(i,"__esModule",{value:!0}),i.LanAttriConfigData=void 0;var o=function(){function e(e){this.m_data=null,this.m_data=e,this.init()}return e.prototype.getId=function(){return this.m_data.getId()},e.prototype.getValue=function(){return this.m_data.getValue()},e.prototype.getDesc=function(){return this.m_data.getDesc()},e.prototype.getDescBase=function(){return this.m_data.getDescBase()},e.prototype.init=function(){},e.prototype.getConfigKey=function(){return this.getId()},e}();i.LanAttriConfigData=o,cc._RF.pop()},{}],LanCondConfigData:[function(e,t,i){"use strict";cc._RF.push(t,"5703a0TdlNKaKMi62WJSSrF","LanCondConfigData"),Object.defineProperty(i,"__esModule",{value:!0}),i.LanCondConfigData=void 0;var o=function(){function e(e){this.m_data=null,this.m_data=e,this.init()}return e.prototype.getId=function(){return this.m_data.getId()},e.prototype.getConvert=function(){return this.m_data.getConvert()},e.prototype.getTitle=function(){return this.m_data.getTitle()},e.prototype.getContent=function(){return this.m_data.getContentList()},e.prototype.getContentCount=function(){return this.m_data.getContentList().length},e.prototype.getContentAt=function(e){return e<0||e>=this.m_data.getContentList().length?"":this.m_data.getContentList()[e]},e.prototype.getValueInfo=function(){return this.m_value_info},e.prototype.init=function(){this.m_value_info=miniframe.Number2.parseFrom(this.m_data.getValueInfo())},e.prototype.getConfigKey=function(){return this.getId()},e}();i.LanCondConfigData=o,cc._RF.pop()},{}],LanValuesConfigData:[function(e,t,i){"use strict";cc._RF.push(t,"203b0kO4JRA+aVRdHmz7yze","LanValuesConfigData"),Object.defineProperty(i,"__esModule",{value:!0}),i.LanValuesConfigData=void 0;var o=function(){function e(e){this.m_data=null,this.m_data=e,this.init()}return e.prototype.getId=function(){return this.m_data.getId()},e.prototype.getValue=function(){return this.m_data.getValue()},e.prototype.getDesc=function(){return this.m_data.getDesc()},e.prototype.init=function(){},e.prototype.getConfigKey=function(){return this.getId()},e}();i.LanValuesConfigData=o,cc._RF.pop()},{}],LanguageConfigData:[function(e,t,i){"use strict";cc._RF.push(t,"9b911lH4oJF3rN26EV/9wZG","LanguageConfigData"),Object.defineProperty(i,"__esModule",{value:!0}),i.LanguageConfigData=void 0;var o=function(){function e(e){this.m_data=null,this.m_data=e,this.init()}return e.prototype.getId=function(){return this.m_data.getId()},e.prototype.getValue=function(){return this.m_data.getValue()},e.prototype.init=function(){},e.prototype.getConfigKey=function(){return this.getId()},e}();i.LanguageConfigData=o,cc._RF.pop()},{}],LimitDataController:[function(e,t,i){"use strict";cc._RF.push(t,"92438kLlbxM46/zywB/rBwm","LimitDataController"),Object.defineProperty(i,"__esModule",{value:!0}),i.LimitDataController=void 0;var o=e("../../../Extension/DataControl/BasicDataController"),n=e("../Data/LimitsData"),r=e("../Define/ControlCodeDefine"),a=e("./StorageDataController"),s=function(e){function t(){var i=e.call(this)||this;return i.m_limits=null,t.ms_instance=i,i}return __extends(t,e),Object.defineProperty(t,"Instance",{get:function(){return t.ms_instance||new t},enumerable:!1,configurable:!0}),t.prototype.initController=function(){this.m_limits||(this.m_limits=new n.LimitsData,a.StorageDataController.Instance.addGroup(this.m_limits))},t.prototype.initData=function(){var e=miniframe.today(),t=this.m_limits.getLimitDatas();for(var i in t)t[i].getTime()<e&&(t[i].setCount(0,!1),t[i].setTime(e))},t.prototype.onDailySwitch=function(){var e=miniframe.today(),t=this.m_limits.getLimitDatas();for(var i in t)t[i].getTime()<e&&(t[i].setCount(0,!1),t[i].setTime(e),this.notifyUpdate(r.ControlCodeDefine.LimitChange,t[i].getLimitID()))},t.prototype.getLimitData=function(e){return this.m_limits.getLimitData(e)},t.prototype.isLimitFull=function(e){var t=this.getLimitData(e);return!!t&&t.isFull()},t.prototype.handleSetLimit=function(e,t,i){void 0===i&&(i=!0);var o=miniframe.today(),n=this.m_limits.getLimitData(e);n&&n.getTime()<o&&(n.setCount(0,!1),n.setTime(o)),this.m_limits.setLimitValue(e,t,o)&&i&&this.notifyUpdate(r.ControlCodeDefine.LimitChange,e)},t.prototype.handleAddLimit=function(e,t,i){void 0===i&&(i=!0);var o=miniframe.today(),n=this.m_limits.getLimitData(e);n&&n.getTime()<o&&(n.setCount(0,!1),n.setTime(o)),this.m_limits.addLimitValue(e,t,o)&&i&&this.notifyUpdate(r.ControlCodeDefine.LimitChange,e)},t.ms_instance=null,t}(o.BasicDataController);i.LimitDataController=s,cc._RF.pop()},{"../../../Extension/DataControl/BasicDataController":"BasicDataController","../Data/LimitsData":"LimitsData","../Define/ControlCodeDefine":"ControlCodeDefine","./StorageDataController":"StorageDataController"}],LimitIDDefine:[function(e,t,i){"use strict";cc._RF.push(t,"35b7dBeWcZI54/EofgMK5K/","LimitIDDefine"),Object.defineProperty(i,"__esModule",{value:!0}),i.LimitIDDefine=void 0,function(e){e[e.DailyFreeWanted=1]="DailyFreeWanted",e[e.DailyADWanted=2]="DailyADWanted",e[e.DailyRecord_TradeTask=1001]="DailyRecord_TradeTask"}(i.LimitIDDefine||(i.LimitIDDefine={})),cc._RF.pop()},{}],LimitInfoConfigData:[function(e,t,i){"use strict";cc._RF.push(t,"952478tNrlEKZku6Dy0Myfz","LimitInfoConfigData"),Object.defineProperty(i,"__esModule",{value:!0}),i.LimitInfoConfigData=void 0;var o=function(){function e(e){this.m_data=null,this.m_data=e,this.init()}return e.prototype.getId=function(){return this.m_data.getId()},e.prototype.getType=function(){return this.m_data.getType()},e.prototype.getMaxcount=function(){return this.m_data.getMaxcount()},e.prototype.init=function(){},e.prototype.getConfigKey=function(){return this.getId()},e}();i.LimitInfoConfigData=o,cc._RF.pop()},{}],LimitItemData:[function(e,t,i){"use strict";cc._RF.push(t,"53f20dj/JlHSpgPX2n3nqn/","LimitItemData"),Object.defineProperty(i,"__esModule",{value:!0}),i.LimitItemData=void 0;var o=e("../../../Config/ConfigKeyDefine"),n=function(e){function t(t){var i=e.call(this,t.toString())||this;return i.m_limitID=0,i.m_limitType=NaN,i.m_limitMaxCount=0,i.m_limitID=t,i}return __extends(t,e),t.prototype.getLimitID=function(){return this.m_limitID},t.prototype.getLimitType=function(){return this.initLimitInfo(),this.m_limitType},t.prototype.getLimitMaxCount=function(){return this.initLimitInfo(),this.m_limitMaxCount},t.prototype.initLimitInfo=function(){if(isNaN(this.m_limitType)){this.m_limitType=0,this.m_limitMaxCount=0;var e=miniframe.Config.getData(o.ConfigKeyDefine.LIMIT_INFO,this.m_limitID);e&&(this.m_limitType=e.getType(),this.m_limitMaxCount=e.getMaxcount())}},t.prototype.getLeftCount=function(){return Math.max(0,this.getLimitMaxCount()-this.getCount())},t.prototype.getCount=function(){return this.getIntValueAt(t.Index_Count)},t.prototype.setCount=function(e,i){void 0===i&&(i=!0),this.setIntValueAt(t.Index_Count,e,i)},t.prototype.addCount=function(e,t){void 0===t&&(t=!0),this.setCount(this.getCount()+e,t)},t.prototype.getTime=function(){return this.getIntValueAt(t.Index_Time)},t.prototype.setTime=function(e,i){void 0===i&&(i=!0),this.setIntValueAt(t.Index_Time,e,i)},t.prototype.isFull=function(){return!(this.getLimitMaxCount()<=0)&&this.getCount()>=this.getLimitMaxCount()},t.Index_Count=0,t.Index_Time=1,t}(e("./IntListStorageProperty").IntListStorageProperty);i.LimitItemData=n,cc._RF.pop()},{"../../../Config/ConfigKeyDefine":"ConfigKeyDefine","./IntListStorageProperty":"IntListStorageProperty"}],LimitTypeDefine:[function(e,t,i){"use strict";cc._RF.push(t,"51f06vByE9KnYEqhAlagwXF","LimitTypeDefine"),Object.defineProperty(i,"__esModule",{value:!0}),i.LimitTypeDefine=void 0,function(e){e[e.None=0]="None",e[e.Daily=1]="Daily",e[e.Week=2]="Week"}(i.LimitTypeDefine||(i.LimitTypeDefine={})),cc._RF.pop()},{}],LimitsData:[function(e,t,i){"use strict";cc._RF.push(t,"c76dfR1DjxMXqbMtEkO8Y2J","LimitsData"),Object.defineProperty(i,"__esModule",{value:!0}),i.LimitsData=void 0;var o=e("../../../Extension/Storage/StorageGroupData"),n=e("./LimitItemData"),r=function(e){function t(){var t=e.call(this,"c_limit")||this;return t.m_map={},t}return __extends(t,e),t.prototype.onCreateProperty=function(e){var t=parseInt(e);return this.m_map[t]||(this.m_map[t]=new n.LimitItemData(t)),this.m_map[t]},t.prototype.getLimitDatas=function(){return this.m_map},t.prototype.getLimitData=function(e){return this.m_map[e]||this.initProperty(e.toString()),this.m_map[e]},t.prototype.setLimitValue=function(e,t,i){return this.m_map[e]||this.initProperty(e.toString()),!!this.m_map[e]&&(this.m_map[e].setCount(t,!1),this.m_map[e].setTime(i),!0)},t.prototype.addLimitValue=function(e,t,i){return this.m_map[e]?!!this.m_map[e]&&(this.m_map[e].addCount(t,!1),this.m_map[e].setTime(i),!0):this.setLimitValue(e,t,i)},t}(o.StorageGroupData);i.LimitsData=r,cc._RF.pop()},{"../../../Extension/Storage/StorageGroupData":"StorageGroupData","./LimitItemData":"LimitItemData"}],LoadAgent:[function(e,t,i){"use strict";cc._RF.push(t,"4a81569lM5BHZY3YaB/kRlA","LoadAgent"),Object.defineProperty(i,"__esModule",{value:!0}),i.LoadAgent=void 0;var o=function(){function e(){this.m_loadKey="",this.m_loadCount=0,this.m_visualAgent=null,this.m_loadCallback=null,this.m_loader=null,this.m_loadDatas=[],this.m_abreastCount=1,this.m_mediatorName="",this.m_autoCloseMediator=!1,this.m_loadKey=e.LOAD_KEY_PREFIX+miniframe.nowMS()}return e.prototype.setMediatorName=function(e,t){void 0===t&&(t=!0),this.m_mediatorName=e,this.m_autoCloseMediator=t},e.prototype.setAbreastCount=function(e){this.m_abreastCount=e},e.prototype.beginLoadRequest=function(e,t){return void 0===t&&(t=!0),this.m_loadCount>0?(console.warn("can not begin custom load twice"),!1):(this.m_mediatorName=e,this.m_autoCloseMediator=t,this.m_loadCount=1,this.m_loader||(this.m_loader=new miniframe.SimpleLoader(this.m_loadKey)),this.m_loadDatas.length>0&&this.m_loadDatas.splice(0,this.m_loadDatas.length),!0)},e.prototype.addLoadResource=function(e,t){if(!(this.m_loadCount<=0)){var i=new miniframe.SimpleLoadData(e,t);this.m_loadDatas.push(i)}},e.prototype.endLoadRequest=function(e,t,i){void 0===i&&(i=1),this.m_loadCount<=0||(this.m_loadCallback||(this.m_loadCallback=new miniframe.Callback),this.m_loadCallback.set(e,t),this.m_abreastCount=i,miniframe.Facade.isMediatorOpened(this.m_mediatorName)?this.onProgressVisualAgentShowComplete(this.m_visualAgent):miniframe.Facade.openMediator(this.m_mediatorName,this))},e.prototype.setProgressVisualAgent=function(e){this.m_visualAgent=e},e.prototype.onProgressVisualAgentShowComplete=function(){this.m_loadDatas.length<=0?this.m_autoCloseMediator?miniframe.Facade.closeMediator(this.m_mediatorName):this.onProgressVisualAgentHideComplete(this.m_visualAgent):this.m_loader.load(this.m_loadDatas,this,this.m_abreastCount)},e.prototype.onProgressVisualAgentHideComplete=function(){this.m_loadCount=0,this.m_loadCallback&&this.m_loadCallback.invokeOnce()},e.prototype.onSimpleLoadProgress=function(e,t){this.m_visualAgent.showProgress(e,t)},e.prototype.onSimpleLoadComplete=function(){this.m_autoCloseMediator?miniframe.Facade.closeMediator(this.m_mediatorName):this.onProgressVisualAgentHideComplete(this.m_visualAgent)},e.LOAD_KEY_PREFIX="LoadAgent_",e}();i.LoadAgent=o,cc._RF.pop()},{}],LoadingFullScreenUIMediator:[function(e,t,i){"use strict";cc._RF.push(t,"df0f49YYpZCNaujLMeqfCOW","LoadingFullScreenUIMediator"),Object.defineProperty(i,"__esModule",{value:!0}),i.LoadingFullScreenUIMediator=void 0;var o=function(e){function t(){return e.call(this,"LoadingFullScreenUIMediator","PF_UI_LoadingFull",100)||this}return __extends(t,e),t.prototype.getFormatProgress=function(e,t){return t+""},t}(e("../../../../App/Mediator/BaseLoadingMediator").BaseLoadingMediator);i.LoadingFullScreenUIMediator=o,cc._RF.pop()},{"../../../../App/Mediator/BaseLoadingMediator":"BaseLoadingMediator"}],LoadingNormalUIMediator:[function(e,t,i){"use strict";cc._RF.push(t,"8c8ecFpXsBA7o6dVjJK1OQK","LoadingNormalUIMediator"),Object.defineProperty(i,"__esModule",{value:!0}),i.LoadingNormalUIMediator=void 0;var o=function(e){function t(){return e.call(this,"LoadingNormalUIMediator","PF_UI_LoadingNormal",100)||this}return __extends(t,e),t}(e("../../../../App/Mediator/BaseLoadingMediator").BaseLoadingMediator);i.LoadingNormalUIMediator=o,cc._RF.pop()},{"../../../../App/Mediator/BaseLoadingMediator":"BaseLoadingMediator"}],LoadingSimpleUIMediator:[function(e,t,i){"use strict";cc._RF.push(t,"22776lmLjBGQ6U7Xny65mTu","LoadingSimpleUIMediator"),Object.defineProperty(i,"__esModule",{value:!0}),i.LoadingSimpleUIMediator=void 0;var o=function(e){function t(){return e.call(this,"LoadingSimpleUIMediator","PF_UI_LoadingUI",100)||this}return __extends(t,e),t}(e("../../../../App/Mediator/BaseLoadingMediator").BaseLoadingMediator);i.LoadingSimpleUIMediator=o,cc._RF.pop()},{"../../../../App/Mediator/BaseLoadingMediator":"BaseLoadingMediator"}],LocaleController:[function(e,t,i){"use strict";cc._RF.push(t,"dc3d6mMOOJC3YxrG3MxsmOB","LocaleController"),Object.defineProperty(i,"__esModule",{value:!0}),i.LocaleController=void 0;var o=e("../../Config/ConfigKeyDefine"),n=function(){function e(){e.ms_instance=this}return Object.defineProperty(e,"Instance",{get:function(){return e.ms_instance||new e},enumerable:!1,configurable:!0}),e.prototype.getLanguage=function(t,i){void 0===i&&(i=0);var n=0==i?o.ConfigKeyDefine.LANGUAGE:i,r=miniframe.Config.getData(n,t);if(!r)return console.info("unknwon language config",t,n),"";var a=minisdk.getLocale();if(a&&""!=a){var s="getValue"+e.FormatLocalFuncExt(a);if(r[s]&&"function"==typeof r[s])return r[s]()}return r.getValue()},e.prototype.getLanguageFormat=function(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];var o=this.getLanguage(e);return o&&""!=o?miniframe.formatParamString(o,t):o},e.prototype.getLanguageFormatByConfigKey=function(e,t){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var n=this.getLanguage(e,t);return n&&""!=n?miniframe.formatParamString(n,i):n},e.FormatLocalFuncExt=function(t){var i=(t=t.replace("-","_")).split("_");if(!i||i.length<=0)return"";if(1==i.length)return e.FormatLocalFuncExtWord(i[0]);for(var o="",n=i.length,r=0;r<n;r++)o+=e.FormatLocalFuncExtWord(i[r]);return o},e.FormatLocalFuncExtWord=function(e){return e.length>0?e[0].toLocaleUpperCase()+e.substring(1).toLocaleLowerCase():e},e.ms_instance=null,e}();i.LocaleController=n,cc._RF.pop()},{"../../Config/ConfigKeyDefine":"ConfigKeyDefine"}],LoginCommand:[function(e,t,i){"use strict";cc._RF.push(t,"bfda1OsgRRLDJvTyJ/tZrF8","LoginCommand"),Object.defineProperty(i,"__esModule",{value:!0}),i.LoginCommand=void 0;var o=e("../Define/LoginNotificationDefine"),n=e("../Control/LoginController"),r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.onExecute=function(t,i){switch(e.prototype.onExecute.call(this,t,i),t){case o.LoginNotificationDefine.LOGIN_DO:new n.LoginController(i)}},t}(miniframe.AbstractCommand);i.LoginCommand=r,cc._RF.pop()},{"../Control/LoginController":"LoginController","../Define/LoginNotificationDefine":"LoginNotificationDefine"}],LoginController:[function(e,t,i){"use strict";cc._RF.push(t,"8bfb89OiyVEl48mWAcgPRnX","LoginController"),Object.defineProperty(i,"__esModule",{value:!0}),i.LoginController=void 0;var o=e("../Define/LoginMediatorNameDefine"),n=function(){function e(e){this.m_parameters=null,this.m_parameters=e,this.loginSDK()}return e.prototype.loginSDK=function(){minisdk.getLoginStyle()==minisdk.LoginStyles.None?this.onLoginComplete(new minisdk.UserData):minisdk.login(this.onLoginComplete,this)},e.prototype.onLoginComplete=function(e){miniframe.Facade.closeMediator(o.LoginMediatorNameDefine.LoginUIMediator),this.m_parameters&&(this.m_parameters.userdata=e);var t=this.m_parameters;this.m_parameters=null,miniframe.Modules.next(t)},e}();i.LoginController=n,cc._RF.pop()},{"../Define/LoginMediatorNameDefine":"LoginMediatorNameDefine"}],LoginInitializer:[function(e,t,i){"use strict";cc._RF.push(t,"0f28beuX4tJB5NlpVTZUglY","LoginInitializer"),Object.defineProperty(i,"__esModule",{value:!0}),i.LoginInitializer=void 0;var o=e("../Command/LoginCommand"),n=e("../Define/LoginNotificationDefine"),r=e("../Define/LoginMediatorNameDefine"),a=e("../Mediator/LoginUIMediator"),s=function(){function e(){}return e.CreateLoginCommand=function(){return e.ms_loginCommand},e.CreateLoginUIMediator=function(){return new a.LoginUIMediator},e.prototype.initialize=function(){e.ms_loginCommand||(e.ms_loginCommand=new o.LoginCommand),miniframe.Facade.registerCommand(n.LoginNotificationDefine.LOGIN_DO,e.CreateLoginCommand),miniframe.Facade.registerMediatorClass(r.LoginMediatorNameDefine.LoginUIMediator,e.CreateLoginUIMediator)},e.prototype.uninitialize=function(){miniframe.Facade.unregisterCommand(n.LoginNotificationDefine.LOGIN_DO),miniframe.Facade.unregisterMediatorClass(r.LoginMediatorNameDefine.LoginUIMediator)},e.prototype.dispose=function(){e.ms_loginCommand=null},e.ms_loginCommand=null,e}();i.LoginInitializer=s,cc._RF.pop()},{"../Command/LoginCommand":"LoginCommand","../Define/LoginMediatorNameDefine":"LoginMediatorNameDefine","../Define/LoginNotificationDefine":"LoginNotificationDefine","../Mediator/LoginUIMediator":"LoginUIMediator"}],LoginMediatorNameDefine:[function(e,t,i){"use strict";cc._RF.push(t,"3bca3hqoABPHrbelIG7pm15","LoginMediatorNameDefine"),Object.defineProperty(i,"__esModule",{value:!0}),i.LoginMediatorNameDefine=void 0;var o=function(){function e(){}return e.LoginUIMediator="LoginUIMediator",e}();i.LoginMediatorNameDefine=o,cc._RF.pop()},{}],LoginModuleConfig:[function(e,t,i){"use strict";cc._RF.push(t,"1aad0ijiLJKgpEnRS6k77Oh","LoginModuleConfig"),Object.defineProperty(i,"__esModule",{value:!0}),i.LoginModuleConfig=void 0;var o=e("../Define/LoginNotificationDefine"),n=e("../Initialize/LoginInitializer"),r=function(e){function t(i){var r=e.call(this)||this;return r.name=t.ModuleName,r.type=miniframe.ModuleTypeDefine.MAIN,r.entryCommand=o.LoginNotificationDefine.LOGIN_DO,r.entryMediator="",r.entryParameter=null,r.isEntryModule=!1,r.isDefaultModule=!1,r.isAutoLaunch=!1,r.isAutoDispose=!0,r.isAutoNext=!1,r.nextModules=[i],r.backgroundModules=null,r.initializerClass=function(){return new n.LoginInitializer},r}return __extends(t,e),t.ModuleName="Login",t}(miniframe.ModuleConfig);i.LoginModuleConfig=r,cc._RF.pop()},{"../Define/LoginNotificationDefine":"LoginNotificationDefine","../Initialize/LoginInitializer":"LoginInitializer"}],LoginNotificationDefine:[function(e,t,i){"use strict";cc._RF.push(t,"90c28TPZWNNu5uUifKfLeji","LoginNotificationDefine"),Object.defineProperty(i,"__esModule",{value:!0}),i.LoginNotificationDefine=void 0;var o=function(){function e(){}return e.LOGIN_DO="LOGIN_DO",e.SDK_QUICK_LOGIN_COMPLETE_NOTI="SDK_QUICK_LOGIN_COMPLETE_NOTI",e.SDK_QUICK_LOGIN_SUCCESS_NOTI="SDK_QUICK_LOGIN_SUCCESS_NOTI",e.SDK_QUICK_LOGIN_FAIL_NOTI="SDK_QUICK_LOGIN_FAIL_NOTI",e}();i.LoginNotificationDefine=o,cc._RF.pop()},{}],LoginPromptTagDefine:[function(e,t,i){"use strict";cc._RF.push(t,"0a9c9K4OLlP2ZFscFeKGiv1","LoginPromptTagDefine"),Object.defineProperty(i,"__esModule",{value:!0}),i.LoginPromptTagDefine=void 0;var o=function(){function e(){}return e.LoginHint="login_hint",e}();i.LoginPromptTagDefine=o,cc._RF.pop()},{}],LoginUIMediator:[function(e,t,i){"use strict";cc._RF.push(t,"e399a6XkdRHaaBtO+9kkpaw","LoginUIMediator"),Object.defineProperty(i,"__esModule",{value:!0}),i.LoginUIMediator=void 0;var o=e("../../../Mediator/BaseUIMediator"),n=e("../../../../Extension/Prompt/PromptController"),r=e("../Component/LoginUIScript"),a=e("../Define/LoginPromptTagDefine"),s=function(e){function t(){var t=e.call(this,"LoginUIMediator","PF_UI_Login",0,!0,!1,!1,!1,!1)||this;return t.m_uiScript=null,t.m_callback=null,t.m_callbackTarget=null,t.m_parameter=null,t}return __extends(t,e),t.prototype.onUIMediatorInit=function(t,i){e.prototype.onUIMediatorInit.call(this,t,i),t&&(this.m_uiScript=t.getComponent(r.default))},t.prototype.onUIMediatorPrepare=function(t,i){e.prototype.onUIMediatorPrepare.call(this,t,i),this.m_callback=i[0],this.m_callbackTarget=i[1],this.m_parameter=i[2]},t.prototype.onUIMediatorClose=function(t){e.prototype.onUIMediatorClose.call(this,t)},t.prototype.onButtonClick=function(e){switch(e){case"login":this.onLogin()}},t.prototype.onLogin=function(){var e=this,t="";if(this.m_uiScript.accountInput&&(t=this.m_uiScript.accountInput.string),t&&""!=t){this.lockUI();var i=new minisdk.UserData;if(i.openId=t,i.nickName=t,minisdk.userData=i,minisdk.getLaunchMode()==minisdk.LaunchModes.ONLINE&&minisdk.containsRequestURL("login")&&this.m_parameter){var o=new minisdk.UserData;o.openId=t,o.nickName=encodeURIComponent(t);var r={"x-wx-raw-data":JSON.stringify(o)};return void miniframe.post2(minisdk.getRequestURL("login")).setHeader(r).setCallback(function(){e.unlockUI(),e.m_callback&&e.m_callback.call(e.m_callbackTarget,o)},this).retryForever().send()}this.unlockUI(),this.m_callback&&this.m_callback.call(this.m_callbackTarget,i)}else n.PromptController.Instance.openPromptByTag(a.LoginPromptTagDefine.LoginHint,"\u8d26\u53f7\u4e0d\u80fd\u4e3a\u7a7a")},t}(o.BaseUIMediator);i.LoginUIMediator=s,cc._RF.pop()},{"../../../../Extension/Prompt/PromptController":"PromptController","../../../Mediator/BaseUIMediator":"BaseUIMediator","../Component/LoginUIScript":"LoginUIScript","../Define/LoginPromptTagDefine":"LoginPromptTagDefine"}],LoginUIScript:[function(e,t,i){"use strict";cc._RF.push(t,"b49d7k8ILVCJrxdruF9h5wr","LoginUIScript"),Object.defineProperty(i,"__esModule",{value:!0});var o=cc._decorator,n=o.ccclass,r=o.property,a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.accountInput=null,t}return __extends(t,e),__decorate([r(cc.EditBox)],t.prototype,"accountInput",void 0),__decorate([n],t)}(cc.Component);i.default=a,cc._RF.pop()},{}],LoopScript:[function(e,t,i){"use strict";cc._RF.push(t,"44a1cszNOdJ6o5ePrzt69+a","LoopScript"),Object.defineProperty(i,"__esModule",{value:!0});var o=cc._decorator,n=o.ccclass,r=(o.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.deltaTime=0,t.time=0,t.frameCount=0,t}return __extends(t,e),t.prototype.update=function(e){this.deltaTime=e,this.time+=this.deltaTime,this.frameCount++,miniframe.Timer.update(this.deltaTime,this.time,this.frameCount)},t.prototype.lateUpdate=function(){miniframe.Timer.lateUpdate(this.deltaTime,this.time,this.frameCount)},__decorate([n],t)}(cc.Component));i.default=r,cc._RF.pop()},{}],MediatorNameDefine:[function(e,t,i){"use strict";cc._RF.push(t,"ef07dtYTkFPWbsu2StiE/RU","MediatorNameDefine"),Object.defineProperty(i,"__esModule",{value:!0}),i.MediatorNameDefine=void 0;var o=function(){function e(){}return e.AnswerCueInfoUIMediator="AnswerCueInfoUIMediator",e.BattleUIMediator="BattleUIMediator",e.BuildingBuyUIMediator="BuildingBuyUIMediator",e.BuildingLevelUpUIMediator="BuildingLevelUpUIMediator",e.BuildingSelectListUIMediator="BuildingSelectListUIMediator",e.CityCreateGuideUIMediator="CityCreateGuideUIMediator",e.CityCreateUIMediator="CityCreateUIMediator",e.CityDevelopUIMediator="CityDevelopUIMediator",e.CopyStartUIMediator="CopyStartUIMediator",e.CurrentEventUIMediator="CurrentEventUIMediator",e.EventContentUIMediator="EventContentUIMediator",e.Game1UIMediator="Game1UIMediator",e.Game2UIMediator="Game2UIMediator",e.Game3UIMediator="Game3UIMediator",e.GameRuleUIMediator="GameRuleUIMediator",e.GetCueInfoUIMediator="GetCueInfoUIMediator",e.GuestActiveUIMediator="GuestActiveUIMediator",e.GuestInfoUIMediator="GuestInfoUIMediator",e.GuestIntroUIMediator="GuestIntroUIMediator",e.IdleUIMediator="IdleUIMediator",e.InvestListUIMediator="InvestListUIMediator",e.ItemBookUIMediator="ItemBookUIMediator",e.ItemListUIMediator="ItemListUIMediator",e.ItemWeaponUIMediator="ItemWeaponUIMediator",e.LoadingFullScreenUIMediator="LoadingFullScreenUIMediator",e.LoadingNormalUIMediator="LoadingNormalUIMediator",e.LoadingSimpleUIMediator="LoadingSimpleUIMediator",e.NavigatorTopUIMediator="NavigatorTopUIMediator",e.NavigatorUIMediator="NavigatorUIMediator",e.PromptAutoUIMediator="PromptAutoUIMediator",e.PromptConfirmUIMediator="PromptConfirmUIMediator",e.PromptSimpleUIMediator="PromptSimpleUIMediator",e.StoryUIMediator="StoryUIMediator",e.SystemActiveUIMediator="SystemActiveUIMediator",e.TargetListUIMediator="TargetListUIMediator",e.WantedUIMediator="WantedUIMediator",e.YinPiaoInfoUIMediator="YinPiaoInfoUIMediator",e.CoreMediator="CoreMediator",e.GuideMediator="GuideMediator",e}();i.MediatorNameDefine=o,cc._RF.pop()},{}],MiniGame:[function(e,t,i){"use strict";cc._RF.push(t,"8d6e9XCMKpLsYXDk+rULeVz","MiniGame"),Object.defineProperty(i,"__esModule",{value:!0}),i.MiniGame=void 0;var o=e("../../MiniSDK/SDKFacade"),n=e("../App/Component/LoopScript"),r=e("../App/Define/EditorModeDefine"),a=e("../App/Module/Login/Config/LoginModuleConfig"),s=e("../App/Module/Login/Define/LoginPromptTagDefine"),p=e("../App/Module/Startup/Config/StartupModuleConfig"),u=e("../App/Module/Update/Config/UpdateModuleConfig"),c=e("../Config/ConfigSettings"),l=e("../Extension/Audio/AudioController"),d=e("../Extension/ButtonTips/ButtonTipsController"),f=e("../Extension/Effect/EffectController"),g=e("../Extension/Guide/GuideController"),m=e("../Extension/Locale/LocaleController"),h=e("../Extension/Navigation/NavigationController"),_=e("../Extension/Prompt/PromptController"),y=e("../Extension/Prompt/PromptData"),C=e("../Extension/SystemOpen/SystemOpenController"),I=e("../Extension/SystemOpen/SystemOpenPromptTagDefine"),D=e("./Settings/ResourceSettings"),v=e("./Module/Business/Config/BusinessModuleConfig"),S=e("./Module/Core/Config/CoreModuleConfig"),b=e("./Module/Guide/Config/GuideModuleConfig"),T=e("./Module/MediatorNameDefine"),P=e("./Settings/PreloadSettings"),M=e("../Extension/Console/ConsoleController"),E=function(){function e(t){if(this.m_canvas=null,this.m_camera=null,this.m_editorMode=0,this.m_editorParameters=null,e.ms_instance=this,void 0===window.minisdk){var i=new o.SDKFacade;window.minisdk=i}t.keepScreenOn&&minisdk.keepScreenOn(!0),t.fps>0&&cc.game.setFrameRate(t.fps),cc.debug.setDisplayStats(t.showStatus),cc.director.getCollisionManager().enabled=!0,cc.director.getCollisionManager().enabledDebugDraw=!1,cc.director.getCollisionManager().enabledDrawBoundingBox=!1,this.m_canvas=t.canvas,this.m_camera=t.camera,this.m_editorMode=t.editorMode,this.m_editorMode>0&&(this.m_editorParameters=""!=t.editorParameters?JSON.parse(t.editorParameters):null),_.PromptController.Instance.registerPrompt(T.MediatorNameDefine.PromptAutoUIMediator,s.LoginPromptTagDefine.LoginHint),_.PromptController.Instance.registerPrompt(T.MediatorNameDefine.PromptAutoUIMediator,I.SystemOpenPromptTagDefine.SystemHint);var r=[];r.push(new p.StartupModuleConfig(u.UpdateModuleConfig.ModuleName)),r.push(new u.UpdateModuleConfig(a.LoginModuleConfig.ModuleName)),r.push(new a.LoginModuleConfig(S.CoreModuleConfig.ModuleName)),r.push(new S.CoreModuleConfig([v.BusinessModuleConfig.ModuleName,b.GuideModuleConfig.ModuleName])),r.push(new v.BusinessModuleConfig),r.push(new b.GuideModuleConfig),new D.ResourceSettings,miniframe.UI.setup(t.uiRoot,t.uiCamera,t.fontFamily),miniframe.UI.setLoadingMediatorName(T.MediatorNameDefine.LoadingSimpleUIMediator),miniframe.Config.setup(new c.ConfigSettings),miniframe.Loader.setup(minisdk.getCDN()),miniframe.Modules.setup(r);var l=new cc.Node("Looper");l.addComponent(n.default),cc.game.addPersistRootNode(l);var d={version:null};d.preloads=new P.PreloadSettings,d.resource=!1,d.editorMode=t.editorMode,miniframe.Modules.startup(d)}return Object.defineProperty(e,"Instance",{get:function(){return e.ms_instance},enumerable:!1,configurable:!0}),Object.defineProperty(e,"MVC",{get:function(){return miniframe.Facade},enumerable:!1,configurable:!0}),Object.defineProperty(e,"Audio",{get:function(){return l.AudioController.Instance},enumerable:!1,configurable:!0}),Object.defineProperty(e,"Prompt",{get:function(){return _.PromptController.Instance},enumerable:!1,configurable:!0}),Object.defineProperty(e,"SystemOpen",{get:function(){return C.SystemOpenController.Instance},enumerable:!1,configurable:!0}),Object.defineProperty(e,"Navigation",{get:function(){return h.NavigationController.Instance},enumerable:!1,configurable:!0}),Object.defineProperty(e,"ButtonTips",{get:function(){return d.ButtonTipsController.Instance},enumerable:!1,configurable:!0}),Object.defineProperty(e,"Guide",{get:function(){return g.GuideController.Instance},enumerable:!1,configurable:!0}),Object.defineProperty(e,"Locale",{get:function(){return m.LocaleController.Instance},enumerable:!1,configurable:!0}),Object.defineProperty(e,"Effect",{get:function(){return f.EffectController.Instance},enumerable:!1,configurable:!0}),Object.defineProperty(e,"Console",{get:function(){return M.ConsoleController.Instance},enumerable:!1,configurable:!0}),Object.defineProperty(e,"EditorMode",{get:function(){return e.ms_instance.m_editorMode},enumerable:!1,configurable:!0}),e.ContainsEditorParameter=function(t){return e.EditorMode!=r.EditorModeDefine.None&&!!e.ms_instance.m_editorParameters&&void 0!==e.ms_instance.m_editorParameters[t]},e.GetEditorParameter=function(t){if(e.ms_instance.m_editorParameters&&void 0!==e.ms_instance.m_editorParameters[t])return e.ms_instance.m_editorParameters[t]},e.prototype.getCanvas=function(){return this.m_canvas},e.prototype.getCanvasWidth=function(){return this.m_canvas.width},e.prototype.getCanvasHeight=function(){return this.m_canvas.height},e.prototype.getMainCamera=function(){return this.m_camera},e.prototype.findNode=function(e,t){return miniframe.findNodeIn(this.m_canvas,e,t)},e.prototype.toWorldPosition=function(e,t){return void 0===t&&(t=1),miniframe.toWorldPosition(this.m_canvas,this.m_camera.node,e,t)},e.prototype.toLocalPosition=function(e,t,i){return void 0===i&&(i=1),miniframe.toLocalPosition(this.m_canvas,this.m_camera.node,e,t,i)},e.prototype.requestComplexPromptData=function(t,i,o,n,r){void 0===n&&(n=void 0),void 0===r&&(r=void 0);var a=new y.PromptData,s=e.Locale.getLanguage(t),p=s.indexOf("src=");if(-1!=p){var u=p+4,c=s[u],l=s.indexOf(c,u+1);p=u+1;var d=s.substring(p,l),f=d.indexOf("|");if(-1!=f){var g=d.substring(0,f),m=d.substring(f+1);return r&&(m=miniframe.formatParamString(m,r)),s=s.replace(d,m),n&&(s=miniframe.formatParamString(s,n)),a.content=s,void a.loadImageAtlas(g,i,o)}}n&&(s=miniframe.formatParamString(s,n)),a.content=s,i&&i.call(o,a)},e.ms_instance=null,e.UserData=null,e}();i.MiniGame=E,cc._RF.pop()},{"../../MiniSDK/SDKFacade":"SDKFacade","../App/Component/LoopScript":"LoopScript","../App/Define/EditorModeDefine":"EditorModeDefine","../App/Module/Login/Config/LoginModuleConfig":"LoginModuleConfig","../App/Module/Login/Define/LoginPromptTagDefine":"LoginPromptTagDefine","../App/Module/Startup/Config/StartupModuleConfig":"StartupModuleConfig","../App/Module/Update/Config/UpdateModuleConfig":"UpdateModuleConfig","../Config/ConfigSettings":"ConfigSettings","../Extension/Audio/AudioController":"AudioController","../Extension/ButtonTips/ButtonTipsController":"ButtonTipsController","../Extension/Console/ConsoleController":"ConsoleController","../Extension/Effect/EffectController":"EffectController","../Extension/Guide/GuideController":"GuideController","../Extension/Locale/LocaleController":"LocaleController","../Extension/Navigation/NavigationController":"NavigationController","../Extension/Prompt/PromptController":"PromptController","../Extension/Prompt/PromptData":"PromptData","../Extension/SystemOpen/SystemOpenController":"SystemOpenController","../Extension/SystemOpen/SystemOpenPromptTagDefine":"SystemOpenPromptTagDefine","./Module/Business/Config/BusinessModuleConfig":"BusinessModuleConfig","./Module/Core/Config/CoreModuleConfig":"CoreModuleConfig","./Module/Guide/Config/GuideModuleConfig":"GuideModuleConfig","./Module/MediatorNameDefine":"MediatorNameDefine","./Settings/PreloadSettings":"PreloadSettings","./Settings/ResourceSettings":"ResourceSettings"}],MonsterInfoConfigData:[function(e,t,i){"use strict";cc._RF.push(t,"baf8dUoA4dDcarm+QyyINEC","MonsterInfoConfigData"),Object.defineProperty(i,"__esModule",{value:!0}),i.MonsterInfoConfigData=void 0;var o=function(){function e(e){this.m_data=null,this.m_data=e,this.init()}return e.prototype.getId=function(){return this.m_data.getId()},e.prototype.getNameLan=function(){return this.m_data.getNameLan()},e.prototype.getIcon=function(){return this.m_data.getIconList()},e.prototype.getIconCount=function(){return this.m_data.getIconList().length},e.prototype.getIconAt=function(e){return e<0||e>=this.m_data.getIconList().length?"":this.m_data.getIconList()[e]},e.prototype.getPower=function(){return this.m_data.getPower()},e.prototype.getWeakPoint=function(){return this.m_weak_point},e.prototype.getDropbag=function(){return this.m_data.getDropbag()},e.prototype.getEquipCount=function(){return this.m_data.getEquipCount()},e.prototype.getReputation=function(){return this.m_data.getReputation()},e.prototype.init=function(){this.m_weak_point=miniframe.Number2.parseFrom(this.m_data.getWeakPoint())},e.prototype.getConfigKey=function(){return this.getId()},e}();i.MonsterInfoConfigData=o,cc._RF.pop()},{}],NavigationController:[function(e,t,i){"use strict";cc._RF.push(t,"ce7e0FuQSJHopPzDKKCQLCs","NavigationController"),Object.defineProperty(i,"__esModule",{value:!0}),i.NavigationController=void 0;var o=e("./NavigationData"),n=e("./NavigationTypeDefine"),r=function(){function e(){this.m_datas={},this.m_handlers={},this.m_mainData=null,e.ms_instance=this}return Object.defineProperty(e,"Instance",{get:function(){return e.ms_instance||new e},enumerable:!1,configurable:!0}),e.prototype.registerHandler=function(e,t){this.m_handlers[e]=t},e.prototype.unregisterHandler=function(e,t){this.m_handlers[e]==t&&delete this.m_handlers[e]},e.prototype.register=function(e,t,i,r,a,s,p){if(void 0===r&&(r=null),void 0===a&&(a=""),void 0===s&&(s=null),void 0===p&&(p=null),this.m_datas[e])console.warn("already register navigation key: "+e);else{var u=new o.NavigationData;u.key=e,u.type=t,u.value=i,u.parameter=r,u.handler=a,u.onNode=s,u.offNode=p,u.state=-1,u.type==n.NavigationTypeDefine.Main&&(u.state=1,this.m_mainData=u),this.m_datas[e]=u,u.onNode&&(u.onNode.active=u.state>0),u.offNode&&(u.offNode.active=u.state<0)}},e.prototype.unreigster=function(e){this.m_datas[e]&&delete this.m_datas[e]},e.prototype.trigger=function(e){return!!this.m_datas[e]&&(this.setNavigationState(e,!0),!0)},e.prototype.cancel=function(e){this.setNavigationState(e,!1)},e.prototype.toggle=function(e){var t=this.m_datas[e];return!!t&&(t.state>0?this.setNavigationState(e,!1):this.setNavigationState(e,!0),!0)},e.prototype.reset=function(){if(this.m_mainData)this.setNavigationState(this.m_mainData.key,!0,!0);else for(var e in this.m_datas)this.cancel(e)},e.prototype.setNavigationState=function(e,t,i){void 0===i&&(i=!1);var o=this.m_datas[e];if(o){if(t){if(!i&&o.state>0)return;o.state=1,this.cancelOthers(e)}else{if(!i&&o.state<0)return;o.state=-1}switch(o.onNode&&(o.onNode.active=o.state>0),o.offNode&&(o.offNode.active=o.state<0),o.type){case n.NavigationTypeDefine.Normal:var r=this.m_handlers[o.handler];r||(r=this),t?r.onNavigationOpen(o.handler,o.value,o.parameter):r.onNavigationClose(o.handler,o.value)}}},e.prototype.cancelOthers=function(e){for(var t in this.m_datas)t!=e&&this.cancel(t)},e.prototype.onNavigationOpen=function(e,t,i){t&&""!=t&&miniframe.Facade.openMediator(t,i)},e.prototype.onNavigationClose=function(e,t){t&&""!=t&&miniframe.Facade.closeMediator(t)},e.ms_instance=null,e}();i.NavigationController=r,cc._RF.pop()},{"./NavigationData":"NavigationData","./NavigationTypeDefine":"NavigationTypeDefine"}],NavigationData:[function(e,t,i){"use strict";cc._RF.push(t,"08b19ARubdPa5n/XNsCkoy9","NavigationData"),Object.defineProperty(i,"__esModule",{value:!0}),i.NavigationData=void 0;i.NavigationData=function(){this.key="",this.type=0,this.value=null,this.parameter=null,this.handler="",this.onNode=null,this.offNode=null,this.state=0},cc._RF.pop()},{}],NavigationTypeDefine:[function(e,t,i){"use strict";cc._RF.push(t,"e6674cr8qpKsbQmPv0dRgXg","NavigationTypeDefine"),Object.defineProperty(i,"__esModule",{value:!0}),i.NavigationTypeDefine=void 0,function(e){e[e.Normal=0]="Normal",e[e.Main=1]="Main"}(i.NavigationTypeDefine||(i.NavigationTypeDefine={})),cc._RF.pop()},{}],NavigatorTopUIMediator:[function(e,t,i){"use strict";cc._RF.push(t,"1e9526LlHJNOpuSbonN6aDN","NavigatorTopUIMediator"),Object.defineProperty(i,"__esModule",{value:!0}),i.NavigatorTopUIMediator=void 0;var o=e("../../../Business/Control/CharDataController"),n=e("../../../Business/Control/ExpressDataController"),r=e("../../../Business/Define/ControlCodeDefine"),a=e("../../../Business/Define/ValueTypeDefine"),s=e("../Basic/BusinessUIMediator"),p=e("../../Core/Control/CoreGameController"),u=e("../Component/FlyContainerUIScript"),c=e("../Component/NavigatorTopUIScript"),l=e("../Define/BusinessUILayerDefine"),d=e("../Define/BusinessNotificationDefine"),f=e("../../../../Extension/BigNumber/VBigNumber"),g=e("../../../Business/Define/WindowTypeDefine"),m=function(e){function t(){var t=e.call(this,"NavigatorTopUIMediator","PF_UI_Navigator_T",l.BusinessUILayerDefine.TopNavigator,!1,!1,!1,!1,!1,g.WindowTypeDefine.Toolbar)||this;return t.m_navigatorScript=null,t.m_flyContainerScript=null,t.m_lastCoin=new f.VBigNumber,t.m_coinDiff=new f.VBigNumber,t.m_lastGold=0,t.m_lastReputation=0,t}return __extends(t,e),t.prototype.onInitInterestNotifications=function(t){e.prototype.onInitInterestNotifications.call(this,t),t.push(d.BusinessNotificationDefine.REFRESH_VALUES)},t.prototype.onHandleNotification=function(t,i){switch(t){case d.BusinessNotificationDefine.REFRESH_VALUES:this.updateCharCoin(!1),this.updateCharGold(!1),this.updateCharReputation(!1);break;default:e.prototype.onHandleNotification.call(this,t,i)}},t.prototype.onUIMediatorInit=function(t,i){e.prototype.onUIMediatorInit.call(this,t,i),t&&(this.m_navigatorScript=t.getComponent(c.default),this.m_flyContainerScript=t.getComponent(u.default))},t.prototype.onUIMediatorUnInit=function(){this.m_navigatorScript=null,this.m_flyContainerScript=null,e.prototype.onUIMediatorUnInit.call(this)},t.prototype.onUIMediatorPrepare=function(t,i){if(e.prototype.onUIMediatorPrepare.call(this,t,i),this.m_flyContainerScript)for(var r=this.m_flyContainerScript.flyNodes.length,a=0;a<r;a++)p.CoreGameController.Instance.registerFlyNode(this.m_flyContainerScript.flyNodes[a]);this.updateCharCoin(!0),this.updateCharGold(!0),this.updateCharReputation(!0),this.updateCityCount(),o.CharDataController.Instance.addListener(this),n.ExpressDataController.Instance.addListener(this)},t.prototype.onUIMediatorClose=function(t){if(e.prototype.onUIMediatorClose.call(this,t),this.m_flyContainerScript)for(var i=this.m_flyContainerScript.flyNodes.length,r=0;r<i;r++)p.CoreGameController.Instance.unregisterFlyNode(this.m_flyContainerScript.flyNodes[r]);o.CharDataController.Instance.removeListener(this),n.ExpressDataController.Instance.removeListener(this)},t.prototype.onButtonClick=function(t){e.prototype.onButtonClick.call(this,t)},t.prototype.updateCharCoin=function(e){var t=o.CharDataController.Instance.getCharRealValue(a.ValueTypeDefine.Coin);e||this.m_lastCoin.compareValue(t)>0&&(this.m_coinDiff.setValue(this.m_lastCoin.getValue()),this.m_coinDiff.subtract(t),p.CoreGameController.Instance.playValueDownEffect(a.ValueTypeDefine.Coin,this.m_coinDiff.getIntValue())),this.m_lastCoin.setValue(t),this.m_navigatorScript&&(this.m_navigatorScript.coinNumLabel?e?this.m_navigatorScript.coinNumLabel.setValue(t):this.m_navigatorScript.coinNumLabel.playValue(t):this.m_navigatorScript.coinLabel&&(this.m_navigatorScript.coinLabel.string=o.CharDataController.Instance.formatValueString(t)))},t.prototype.updateCharGold=function(e){var t=o.CharDataController.Instance.getCharRealValue(a.ValueTypeDefine.Gold);if(!e&&this.m_lastGold>t){var i=this.m_lastGold-t;p.CoreGameController.Instance.playValueDownEffect(a.ValueTypeDefine.Gold,i+"")}this.m_lastGold=t,this.m_navigatorScript&&(this.m_navigatorScript.goldNumLabel?e?this.m_navigatorScript.goldNumLabel.setValue(t):this.m_navigatorScript.goldNumLabel.playValue(t):this.m_navigatorScript.goldLabel&&(this.m_navigatorScript.goldLabel.string=o.CharDataController.Instance.formatValueString(t)))},t.prototype.updateCharReputation=function(e){var t=o.CharDataController.Instance.getCharRealValue(a.ValueTypeDefine.Reputation);if(!e&&this.m_lastReputation>t){var i=this.m_lastReputation-t;p.CoreGameController.Instance.playValueDownEffect(a.ValueTypeDefine.Reputation,i+"")}this.m_lastReputation=t,this.m_navigatorScript&&(this.m_navigatorScript.reputationNumLabel?e?this.m_navigatorScript.reputationNumLabel.setValue(t):this.m_navigatorScript.reputationNumLabel.playValue(t):this.m_navigatorScript.reputationLabel&&(this.m_navigatorScript.reputationLabel.string=t+""))},t.prototype.updateCityCount=function(){this.m_navigatorScript&&this.m_navigatorScript.cityCountLabel&&(this.m_navigatorScript.cityCountLabel.string=n.ExpressDataController.Instance.getCityCount()+"")},t.prototype.onDataControllerUpdate=function(e,t){switch(e){case r.ControlCodeDefine.CharValueListChange:var i=t;-1!=i.indexOf(a.ValueTypeDefine.Coin)&&this.updateCharCoin(!1),-1!=i.indexOf(a.ValueTypeDefine.Gold)&&this.updateCharGold(!1),-1!=i.indexOf(a.ValueTypeDefine.Reputation)&&this.updateCharReputation(!1);break;case r.ControlCodeDefine.ExpressCityOpen:case r.ControlCodeDefine.ExpressCityActive:this.updateCityCount()}},t}(s.BusinessUIMediator);i.NavigatorTopUIMediator=m,cc._RF.pop()},{"../../../../Extension/BigNumber/VBigNumber":"VBigNumber","../../../Business/Control/CharDataController":"CharDataController","../../../Business/Control/ExpressDataController":"ExpressDataController","../../../Business/Define/ControlCodeDefine":"ControlCodeDefine","../../../Business/Define/ValueTypeDefine":"ValueTypeDefine","../../../Business/Define/WindowTypeDefine":"WindowTypeDefine","../../Core/Control/CoreGameController":"CoreGameController","../Basic/BusinessUIMediator":"BusinessUIMediator","../Component/FlyContainerUIScript":"FlyContainerUIScript","../Component/NavigatorTopUIScript":"NavigatorTopUIScript","../Define/BusinessNotificationDefine":"BusinessNotificationDefine","../Define/BusinessUILayerDefine":"BusinessUILayerDefine"}],NavigatorTopUIScript:[function(e,t,i){"use strict";cc._RF.push(t,"a5a39mPW4VARaMVYlIGDgE7","NavigatorTopUIScript"),Object.defineProperty(i,"__esModule",{value:!0});var o=e("../../../../Extension/UI/Label/UITextScript"),n=e("./UINumberTextScript"),r=cc._decorator,a=r.ccclass,s=r.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.coinLabel=null,t.coinNumLabel=null,t.goldLabel=null,t.goldNumLabel=null,t.reputationLabel=null,t.reputationNumLabel=null,t.cityCountLabel=null,t}return __extends(t,e),__decorate([s(o.default)],t.prototype,"coinLabel",void 0),__decorate([s(n.default)],t.prototype,"coinNumLabel",void 0),__decorate([s(o.default)],t.prototype,"goldLabel",void 0),__decorate([s(n.default)],t.prototype,"goldNumLabel",void 0),__decorate([s(o.default)],t.prototype,"reputationLabel",void 0),__decorate([s(n.default)],t.prototype,"reputationNumLabel",void 0),__decorate([s(o.default)],t.prototype,"cityCountLabel",void 0),__decorate([a],t)}(cc.Component);i.default=p,cc._RF.pop()},{"../../../../Extension/UI/Label/UITextScript":"UITextScript","./UINumberTextScript":"UINumberTextScript"}],NavigatorUIMediator:[function(e,t,i){"use strict";cc._RF.push(t,"c6a0921EWxIlZeXCea9h9yU","NavigatorUIMediator"),Object.defineProperty(i,"__esModule",{value:!0}),i.NavigatorUIMediator=void 0;var o=e("../../../Business/Control/ExpressDataController"),n=e("../Basic/BusinessUIMediator"),r=e("../../../MiniGame"),a=e("../../Core/Control/CoreGameController"),s=e("../../MediatorNameDefine"),p=e("../Component/FlyContainerUIScript"),u=e("../Component/NavigatorUIScript"),c=e("../Define/BusinessUILayerDefine"),l=e("../../Core/Control/CoreConsts"),d=e("../../../Business/Define/ControlCodeDefine"),f=e("../../../Core/Express/Control/ExpressResources"),g=e("../../../Core/Express/ExpressWorld"),m=e("../../../Business/Define/ExpressTaskParameterDefine"),h=e("../../../Business/Define/WindowTypeDefine"),_=e("../../../Business/Control/StayStateController"),y=e("../Define/BusinessNotificationDefine"),C=e("../../Guide/Define/GuideConditionTypeDefine"),I=function(e){function t(){var t=e.call(this,"NavigatorUIMediator","PF_UI_Navigator_B",c.BusinessUILayerDefine.Navigator,!1,!1,!1,!1,!1,h.WindowTypeDefine.Toolbar)||this;return t.m_navigatorScript=null,t.m_flyContainerScript=null,t.m_touching=!1,t.m_currentProgress=0,t.m_progressHideDelay=0,t.m_progressState=0,t.m_taskData=null,t.m_listeningTime=!1,t}return __extends(t,e),t.prototype.onInitInterestNotifications=function(t){e.prototype.onInitInterestNotifications.call(this,t),t.push(y.BusinessNotificationDefine.BLOCK_EVENT)},t.prototype.onHandleNotification=function(t,i){switch(t){case y.BusinessNotificationDefine.BLOCK_EVENT:this.m_touching=!1;break;default:e.prototype.onHandleNotification.call(this,t,i)}},t.prototype.onUIMediatorInit=function(t,i){e.prototype.onUIMediatorInit.call(this,t,i),t&&(this.m_navigatorScript=t.getComponent(u.default),this.m_navigatorScript&&this.m_navigatorScript.progressTouchMask&&(this.m_navigatorScript.progressTouchMask.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.m_navigatorScript.progressTouchMask.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this.m_navigatorScript.progressTouchMask.on(cc.Node.EventType.TOUCH_CANCEL,this.onTouchEnd,this)),this.m_flyContainerScript=t.getComponent(p.default))},t.prototype.onUIMediatorUnInit=function(){this.m_navigatorScript&&this.m_navigatorScript.progressTouchMask&&(this.m_navigatorScript.progressTouchMask.off(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.m_navigatorScript.progressTouchMask.off(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this.m_navigatorScript.progressTouchMask.off(cc.Node.EventType.TOUCH_CANCEL,this.onTouchEnd,this)),this.m_navigatorScript=null,e.prototype.onUIMediatorUnInit.call(this)},t.prototype.onUIMediatorPrepare=function(t,i){if(e.prototype.onUIMediatorPrepare.call(this,t,i),this.m_flyContainerScript)for(var n=this.m_flyContainerScript.flyNodes.length,r=0;r<n;r++)a.CoreGameController.Instance.registerFlyNode(this.m_flyContainerScript.flyNodes[r]);this.resetProgress(),this.updateHorseCount(),o.ExpressDataController.Instance.addListener(this)},t.prototype.onUIMediatorClose=function(t){if(e.prototype.onUIMediatorClose.call(this,t),this.unlistenTime(),o.ExpressDataController.Instance.removeListener(this),this.m_flyContainerScript)for(var i=this.m_flyContainerScript.flyNodes.length,n=0;n<i;n++)a.CoreGameController.Instance.unregisterFlyNode(this.m_flyContainerScript.flyNodes[n]);this.m_taskData=null},t.prototype.onButtonClick=function(t){switch(t){case"wanted":r.MiniGame.MVC.openMediator(s.MediatorNameDefine.WantedUIMediator);break;case"targets":r.MiniGame.MVC.openMediator(s.MediatorNameDefine.TargetListUIMediator);break;case"items":r.MiniGame.MVC.openMediator(s.MediatorNameDefine.ItemListUIMediator);break;case"events":r.MiniGame.MVC.openMediator(s.MediatorNameDefine.CurrentEventUIMediator);break;default:e.prototype.onButtonClick.call(this,t)}},t.prototype.resetProgress=function(){this.m_navigatorScript&&(this.m_navigatorScript.progressBar.progress=0,this.m_navigatorScript.progressPoint.angle=0,this.m_navigatorScript.progressPoint.active=!1),this.m_currentProgress=0,this.m_progressHideDelay=0},t.prototype.updateProgress=function(e){if(this.m_touching){if(this.m_currentProgress<1){this.m_progressState<=0&&(this.m_progressState=1,this.playAnimation("hb_anim_show"));var t=this.m_currentProgress;if(this.m_currentProgress+=this.m_navigatorScript.progressMoveSpeed*e*.001,this.m_currentProgress>1&&(this.m_currentProgress=1),this.m_navigatorScript){this.m_navigatorScript.progressBar.progress=this.m_currentProgress,this.m_navigatorScript.progressPoint.angle=360*-this.m_currentProgress,this.m_navigatorScript.progressPoint.active=this.m_currentProgress<1;for(var i=this.m_navigatorScript.progressRanges.length,o=0;o<i;o++)t<this.m_navigatorScript.progressRanges[o].y&&this.m_currentProgress>=this.m_navigatorScript.progressRanges[o].y&&(this.playAnimation("hb_anim_step_"+(o+1)),r.MiniGame.Audio.playAudio(91+o))}}}else this.m_currentProgress>0?(this.m_currentProgress-=this.m_navigatorScript.progressRecoverSpeed*e*.001,this.m_currentProgress<0&&(this.m_currentProgress=0),this.m_navigatorScript&&(this.m_navigatorScript.progressBar.progress=this.m_currentProgress,this.m_navigatorScript.progressPoint.angle=360*-this.m_currentProgress),this.m_currentProgress<=0&&(this.m_progressHideDelay=l.CoreConsts.ProgressHideDealyMS,this.m_navigatorScript.progressPoint.active=!1)):this.m_progressHideDelay>0&&(this.m_progressHideDelay-=e,this.m_progressHideDelay<=0&&(this.m_progressState=-1,this.playAnimation("hb_anim_hide")))},t.prototype.updateHorseCount=function(){if(this.m_navigatorScript&&this.m_navigatorScript.horseCountLabel){var e=o.ExpressDataController.Instance.getCurrentTaskCount(),t=o.ExpressDataController.Instance.getCityTaskTotal();this.m_navigatorScript.horseCountLabel.string=Math.max(0,t-e)+"/"+t}},t.prototype.playAnimation=function(e){this.m_script&&this.m_script.viewAniComp&&(this.m_script.viewAniComp.stop(),this.m_script.viewAniComp.play(e))},t.prototype.onTouchStart=function(){r.MiniGame.Guide.hasWantedButton()&&!r.MiniGame.Guide.onWantedButtonClick(this.getMediatorName(),"add_progress")||o.ExpressDataController.Instance.getCurrentTaskCount()>=o.ExpressDataController.Instance.getCityTaskTotal()||(this.m_touching=!0,this.m_progressHideDelay=0,this.listenTime())},t.prototype.onTouchEnd=function(){if(this.m_currentProgress>=1){_.StayStateController.Instance.resetStayTime(),this.m_taskData=null;var e=o.ExpressDataController.Instance.handleGenerateTradeTaskData();if(e){var t=o.ExpressDataController.Instance.handlePackTradeTaskData(e);if(t){this.m_taskData=t,r.MiniGame.Guide.getGuideMode()>0&&(r.MiniGame.Guide.completeGuideStep(C.GuideConditionTypeDefine.TradeTaskCreate)||r.MiniGame.Guide.triggerGuideStep(C.GuideConditionTypeDefine.TradeTaskCreate));var i=t.getParameterAt(m.ExpressTaskParameterDefine.RouteCityStart),n=f.ExpressResources.Instance.requestDropBody(2);n.setParent(this.m_navigatorScript.taskFlyNode),n.setPosition(cc.Vec2.ZERO);var s=g.ExpressWorld.Instance.getCityUIPosition(i);a.CoreGameController.Instance.flyUINodeTo(n,1,s,void 0,void 0,this.onExecuteTask,this)}}this.m_currentProgress=0,this.m_progressHideDelay=0,this.m_navigatorScript&&(this.m_navigatorScript.progressBar.progress=this.m_currentProgress,this.m_navigatorScript.progressPoint.angle=360*-this.m_currentProgress,this.m_navigatorScript.progressPoint.active=!1,this.playAnimation("hb_anim_complete"),this.m_progressHideDelay=l.CoreConsts.ProgressCompleteHideDealyMS)}this.m_touching=!1},t.prototype.onExecuteTask=function(){if(this.m_taskData){var e=this.m_taskData;this.m_taskData=null,o.ExpressDataController.Instance.handleExecuteTradeTaskData(e)}},t.prototype.listenTime=function(){this.m_listeningTime||(this.m_listeningTime=!0,miniframe.Timer.addUpdateEventListener(this))},t.prototype.unlistenTime=function(){this.m_listeningTime&&(this.m_listeningTime=!1,miniframe.Timer.removeUpdateEventListener(this))},t.prototype.onTimeSystemUpdate=function(e){return this.updateProgress(e),!1},t.prototype.onDataControllerUpdate=function(e){switch(e){case d.ControlCodeDefine.ExpressCityOpen:case d.ControlCodeDefine.ExpressCityActive:case d.ControlCodeDefine.ExpressGenerateTask:case d.ControlCodeDefine.ExpressFinishTask:case d.ControlCodeDefine.ExpressAbandonTask:this.updateHorseCount()}},t}(n.BusinessUIMediator);i.NavigatorUIMediator=I,cc._RF.pop()},{"../../../Business/Control/ExpressDataController":"ExpressDataController","../../../Business/Control/StayStateController":"StayStateController","../../../Business/Define/ControlCodeDefine":"ControlCodeDefine","../../../Business/Define/ExpressTaskParameterDefine":"ExpressTaskParameterDefine","../../../Business/Define/WindowTypeDefine":"WindowTypeDefine","../../../Core/Express/Control/ExpressResources":"ExpressResources","../../../Core/Express/ExpressWorld":"ExpressWorld","../../../MiniGame":"MiniGame","../../Core/Control/CoreConsts":"CoreConsts","../../Core/Control/CoreGameController":"CoreGameController","../../Guide/Define/GuideConditionTypeDefine":"GuideConditionTypeDefine","../../MediatorNameDefine":"MediatorNameDefine","../Basic/BusinessUIMediator":"BusinessUIMediator","../Component/FlyContainerUIScript":"FlyContainerUIScript","../Component/NavigatorUIScript":"NavigatorUIScript","../Define/BusinessNotificationDefine":"BusinessNotificationDefine","../Define/BusinessUILayerDefine":"BusinessUILayerDefine"}],NavigatorUIScript:[function(e,t,i){"use strict";cc._RF.push(t,"ac95fxmvhdP1LcD6Ig0rvos","NavigatorUIScript"),Object.defineProperty(i,"__esModule",{value:!0});var o=e("../../../../Extension/UI/Label/UITextScript"),n=cc._decorator,r=n.ccclass,a=n.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.progressTouchMask=null,t.progressBar=null,t.progressPoint=null,t.progressRanges=[],t.progressMoveSpeed=.25,t.progressRecoverSpeed=1,t.taskFlyNode=null,t.horseCountLabel=null,t}return __extends(t,e),__decorate([a(cc.Node)],t.prototype,"progressTouchMask",void 0),__decorate([a(cc.ProgressBar)],t.prototype,"progressBar",void 0),__decorate([a(cc.Node)],t.prototype,"progressPoint",void 0),__decorate([a([cc.Vec2])],t.prototype,"progressRanges",void 0),__decorate([a(cc.Float)],t.prototype,"progressMoveSpeed",void 0),__decorate([a(cc.Float)],t.prototype,"progressRecoverSpeed",void 0),__decorate([a(cc.Node)],t.prototype,"taskFlyNode",void 0),__decorate([a(o.default)],t.prototype,"horseCountLabel",void 0),__decorate([r],t)}(cc.Component);i.default=s,cc._RF.pop()},{"../../../../Extension/UI/Label/UITextScript":"UITextScript"}],NoticeStateController:[function(e,t,i){"use strict";cc._RF.push(t,"b23349zh1RD5pym7iRc55Sa","NoticeStateController"),Object.defineProperty(i,"__esModule",{value:!0}),i.NoticeStateController=void 0;var o=e("../../../Config/ConfigKeyDefine"),n=e("../../MiniGame"),r=e("../Define/ButtonTipsHandlerDefine"),a=e("../Define/ExpressItemParameterDefine"),s=e("../Define/ItemPackTypeDefine"),p=e("../Define/ItemTypeDefine"),u=e("./CharDataController"),c=e("./ConfigDataController"),l=e("./ItemDataController"),d=e("./LimitDataController"),f=e("../Define/LimitIDDefine"),g=e("./ExpressDataController"),m=e("../Define/ControlCodeDefine"),h=e("../Define/ItemFuncTypeDefine"),_=e("../Define/SystemIDDefine"),y=e("../../Module/Business/Mediator/TargetListUIMediator"),C=function(){function e(){this.m_bookLevelUpCount=0,this.m_weaponLevelUpCount=0,e.ms_instance=this,n.MiniGame.ButtonTips.registerButtonTipsHandler(r.ButtonTipsHandlerDefine.BookLevelUp,this.onCheckBookLevelUp),n.MiniGame.ButtonTips.registerButtonTipsHandler(r.ButtonTipsHandlerDefine.WeaponLevelUp,this.onCheckWeaponLevelUp),n.MiniGame.ButtonTips.registerButtonTipsHandler(r.ButtonTipsHandlerDefine.EventCombine,this.onCheckEventCombine),n.MiniGame.ButtonTips.registerButtonTipsHandler(r.ButtonTipsHandlerDefine.WantedTimes,this.onCheckWantedTimes),n.MiniGame.ButtonTips.registerButtonTipsHandler(r.ButtonTipsHandlerDefine.BookWeaponLevelUp,null,null,[r.ButtonTipsHandlerDefine.BookLevelUp,r.ButtonTipsHandlerDefine.WeaponLevelUp]);for(var t=[],i="",a=y.TargetListUIMediator.TargetTypes.length,s=0;s<a;s++)i=r.ButtonTipsHandlerDefine.TargetAwardPrefix+y.TargetListUIMediator.TargetTypes[s],n.MiniGame.ButtonTips.registerButtonTipsHandler(i,this.onCheckTargetAward,y.TargetListUIMediator.TargetTypes[s]),t.push(i);n.MiniGame.ButtonTips.registerButtonTipsHandler(r.ButtonTipsHandlerDefine.TargetAward,null,null,t);var p=[],u="",c=null,d=miniframe.Config.getDataMap(o.ConfigKeyDefine.EXPRESS_CITY);for(var f in d)c=d[f],u=r.ButtonTipsHandlerDefine.CityTipsPrefix+c.getId(),n.MiniGame.ButtonTips.registerButtonTipsHandler(u,this.onCheckCityTips,c.getId()),p.push(u);n.MiniGame.ButtonTips.registerButtonTipsHandler(r.ButtonTipsHandlerDefine.CityTips,null,null,p),l.ItemDataController.Instance.addListener(this),n.MiniGame.SystemOpen.addListener(this)}return Object.defineProperty(e,"Instance",{get:function(){return e.ms_instance||new e},enumerable:!1,configurable:!0}),e.prototype.getBookLevelUpCount=function(){return this.m_bookLevelUpCount},e.prototype.getWeaponLevelUpCount=function(){return this.m_weaponLevelUpCount},e.prototype.onCheckBookLevelUp=function(t){if(t.tipsState=0,e.ms_instance.m_bookLevelUpCount=0,n.MiniGame.SystemOpen.isSystemOpen(_.SystemIDDefine.BookAndWeapon)){var i=c.ConfigDataController.Instance.getItemConfigsByType(p.ItemTypeDefine.Book);if(i&&i.length)for(var r=null,d=0,f=null,g=i.length,m=0;m<g;m++)if((r=l.ItemDataController.Instance.getItemDataByConfigID(s.ItemPackTypeDefine.Default,i[m].getId()))&&(d=r.getParameterAt(a.ExpressItemParameterDefine.Level)+1,miniframe.Config.getData(o.ConfigKeyDefine.WEAPON_GROW_INFO,100*i[m].getId()+d)&&(f=miniframe.Config.getData(o.ConfigKeyDefine.GAME_BOOK_BASE,d))&&u.CharDataController.Instance.compareCharValues(f.getConsumes(),!1))){t.tipsState=1,e.ms_instance.m_bookLevelUpCount++;break}}},e.prototype.onCheckWeaponLevelUp=function(t){if(t.tipsState=0,e.ms_instance.m_weaponLevelUpCount=0,n.MiniGame.SystemOpen.isSystemOpen(_.SystemIDDefine.BookAndWeapon)){var i=c.ConfigDataController.Instance.getItemConfigsByType(p.ItemTypeDefine.Weapon);if(i&&i.length)for(var r=null,d=0,f=null,g=i.length,m=0;m<g;m++)if((r=l.ItemDataController.Instance.getItemDataByConfigID(s.ItemPackTypeDefine.Default,i[m].getId()))&&(d=r.getParameterAt(a.ExpressItemParameterDefine.Level)+1,miniframe.Config.getData(o.ConfigKeyDefine.WEAPON_GROW_INFO,100*i[m].getId()+d)&&(f=miniframe.Config.getData(o.ConfigKeyDefine.GAME_WEAPON_BASE,d))&&u.CharDataController.Instance.compareCharValues(f.getConsumes(),!1))){t.tipsState=1,e.ms_instance.m_weaponLevelUpCount++;break}}},e.prototype.onCheckEventCombine=function(e){if(e.tipsState=0,n.MiniGame.SystemOpen.isSystemOpen(_.SystemIDDefine.Event)){var t=l.ItemDataController.Instance.getItemDatasByItemType(s.ItemPackTypeDefine.Default,p.ItemTypeDefine.EventPiece);if(t&&t.length>0)for(var i=t.length,o=0;o<i;o++)if(!(l.ItemDataController.Instance.getItemCountByConfigID(s.ItemPackTypeDefine.Default,t[o].getItemFuncParam2())>0)&&t[o].getCount()>=t[o].getItemFuncParam1()){e.tipsState=1;break}}},e.prototype.onCheckTargetAward=function(e,t){if(e.tipsState=0,n.MiniGame.SystemOpen.isSystemOpen(_.SystemIDDefine.ExpressTarget)){var i=c.ConfigDataController.Instance.getLockedExpressTargetConfigsByType(t);if(i&&i.length>0)for(var o=i.length,r=0;r<o;r++)if(g.ExpressDataController.Instance.isTargetAwardHasDrawn(i[r].getId()))i.splice(r,1),r--,o--;else if(c.ConfigDataController.Instance.isConditionAchieved(i[r].getConditions())){e.tipsState=1;break}}},e.prototype.onCheckWantedTimes=function(e){if(e.tipsState=0,n.MiniGame.SystemOpen.isSystemOpen(_.SystemIDDefine.Wanted)){var t=d.LimitDataController.Instance.getLimitData(f.LimitIDDefine.DailyFreeWanted);!t||t.getLeftCount()>0?e.tipsState=1:(!(t=d.LimitDataController.Instance.getLimitData(f.LimitIDDefine.DailyADWanted))||t.getLeftCount()>0)&&(e.tipsState=1)}},e.prototype.onCheckCityTips=function(e,t){e.tipsState=0,n.MiniGame.SystemOpen.isSystemOpen(_.SystemIDDefine.CityMonsterCanFight)&&g.ExpressDataController.Instance.isCityCanBuild(t)&&(e.tipsState=3),n.MiniGame.SystemOpen.isSystemOpen(_.SystemIDDefine.CityCanStarUp)&&e.tipsState<2&&g.ExpressDataController.Instance.isCityCanStarUp(t)&&(e.tipsState=2),n.MiniGame.SystemOpen.isSystemOpen(_.SystemIDDefine.CityBuildingCanLevelUp)&&e.tipsState<1&&g.ExpressDataController.Instance.isCityHasBuildingCanLevelUp(t)&&(e.tipsState=1)},e.prototype.onSystemOpen=function(e){switch(e){case _.SystemIDDefine.BookAndWeapon:n.MiniGame.ButtonTips.refreshButtonTipsByHandler(r.ButtonTipsHandlerDefine.BookLevelUp,!1),n.MiniGame.ButtonTips.refreshButtonTipsByHandler(r.ButtonTipsHandlerDefine.WeaponLevelUp);break;case _.SystemIDDefine.Event:n.MiniGame.ButtonTips.refreshButtonTipsByHandler(r.ButtonTipsHandlerDefine.EventCombine);break;case _.SystemIDDefine.ExpressTarget:n.MiniGame.ButtonTips.refreshButtonTipsByHandler(r.ButtonTipsHandlerDefine.TargetAward,!0,!0);break;case _.SystemIDDefine.Wanted:n.MiniGame.ButtonTips.refreshButtonTipsByHandler(r.ButtonTipsHandlerDefine.WantedTimes);break;case _.SystemIDDefine.CityCanStarUp:case _.SystemIDDefine.CityBuildingCanLevelUp:case _.SystemIDDefine.CityMonsterCanFight:n.MiniGame.ButtonTips.refreshButtonTipsByHandler(r.ButtonTipsHandlerDefine.CityTips,!0,!0)}},e.prototype.onDataControllerUpdate=function(e,t){switch(e){case m.ControlCodeDefine.ItemAdd:var i=t;i.getItemFuncType()==h.ItemFuncTypeDefine.Combine?n.MiniGame.ButtonTips.refreshButtonTipsByHandler(r.ButtonTipsHandlerDefine.EventCombine):i.getItemType()==p.ItemTypeDefine.BookPiece?n.MiniGame.ButtonTips.refreshButtonTipsByHandler(r.ButtonTipsHandlerDefine.BookLevelUp):i.getItemType()==p.ItemTypeDefine.WeaponPiece&&n.MiniGame.ButtonTips.refreshButtonTipsByHandler(r.ButtonTipsHandlerDefine.WeaponLevelUp)}},e.ms_instance=null,e}();i.NoticeStateController=C,cc._RF.pop()},{"../../../Config/ConfigKeyDefine":"ConfigKeyDefine","../../MiniGame":"MiniGame","../../Module/Business/Mediator/TargetListUIMediator":"TargetListUIMediator","../Define/ButtonTipsHandlerDefine":"ButtonTipsHandlerDefine","../Define/ControlCodeDefine":"ControlCodeDefine","../Define/ExpressItemParameterDefine":"ExpressItemParameterDefine","../Define/ItemFuncTypeDefine":"ItemFuncTypeDefine","../Define/ItemPackTypeDefine":"ItemPackTypeDefine","../Define/ItemTypeDefine":"ItemTypeDefine","../Define/LimitIDDefine":"LimitIDDefine","../Define/SystemIDDefine":"SystemIDDefine","./CharDataController":"CharDataController","./ConfigDataController":"ConfigDataController","./ExpressDataController":"ExpressDataController","./ItemDataController":"ItemDataController","./LimitDataController":"LimitDataController"}],NpcBaseConfigData:[function(e,t,i){"use strict";cc._RF.push(t,"badaccKdnFGs4NFKUDBnwnw","NpcBaseConfigData"),Object.defineProperty(i,"__esModule",{value:!0}),i.NpcBaseConfigData=void 0;var o=function(){function e(e){this.m_data=null,this.m_pk_rank=[],this.m_award_info=[],this.m_data=e,this.init()}return e.prototype.getId=function(){return this.m_data.getId()},e.prototype.getPkRank=function(){return this.m_pk_rank},e.prototype.getPkRankCount=function(){return this.m_pk_rank.length},e.prototype.getPkRankAt=function(e){return e<0||e>=this.m_pk_rank.length?null:this.m_pk_rank[e]},e.prototype.getWeakPoint=function(){return this.m_weak_point},e.prototype.getAwardInfo=function(){return this.m_award_info},e.prototype.getAwardInfoCount=function(){return this.m_award_info.length},e.prototype.getAwardInfoAt=function(e){return e<0||e>=this.m_award_info.length?null:this.m_award_info[e]},e.prototype.getEquipCount=function(){return this.m_equip_count},e.prototype.init=function(){this.m_pk_rank=miniframe.Number3.parseListFrom(this.m_data.getPkRankList()),this.m_weak_point=miniframe.Number3.parseFrom(this.m_data.getWeakPoint()),this.m_award_info=miniframe.Number3.parseListFrom(this.m_data.getAwardInfoList()),this.m_equip_count=miniframe.Number2.parseFrom(this.m_data.getEquipCount())},e.prototype.getConfigKey=function(){return this.getId()},e}();i.NpcBaseConfigData=o,cc._RF.pop()},{}],NpcInfoConfigData:[function(e,t,i){"use strict";cc._RF.push(t,"fbaeeKuf1tEh6uog88WyYoh","NpcInfoConfigData"),Object.defineProperty(i,"__esModule",{value:!0}),i.NpcInfoConfigData=void 0;var o=function(){function e(e){this.m_data=null,this.m_data=e,this.init()}return e.prototype.getId=function(){return this.m_data.getId()},e.prototype.getNameLan=function(){return this.m_data.getNameLan()},e.prototype.getIcon=function(){return this.m_data.getIconList()},e.prototype.getIconCount=function(){return this.m_data.getIconList().length},e.prototype.getIconAt=function(e){return e<0||e>=this.m_data.getIconList().length?"":this.m_data.getIconList()[e]},e.prototype.init=function(){},e.prototype.getConfigKey=function(){return this.getId()},e}();i.NpcInfoConfigData=o,cc._RF.pop()},{}],OpencondConfigData:[function(e,t,i){"use strict";cc._RF.push(t,"021bfhEytdHWbNnfOjGv9NF","OpencondConfigData"),Object.defineProperty(i,"__esModule",{value:!0}),i.OpencondConfigData=void 0;var o=function(){function e(e){this.m_data=null,this.m_conditions=[],this.m_data=e,this.init()}return e.prototype.getId=function(){return this.m_data.getId()},e.prototype.getNameLan=function(){return this.m_data.getNameLan()},e.prototype.getConditions=function(){return this.m_conditions},e.prototype.getConditionsCount=function(){return this.m_conditions.length},e.prototype.getConditionsAt=function(e){return e<0||e>=this.m_conditions.length?null:this.m_conditions[e]},e.prototype.getSystemOpenDescLan=function(){return this.m_data.getSystemOpenDescLan()},e.prototype.getCheckType=function(){return this.m_data.getCheckType()},e.prototype.getOpenActiveIndex=function(){return this.m_data.getOpenActiveIndex()},e.prototype.init=function(){this.m_conditions=miniframe.Number3.parseListFrom(this.m_data.getConditionsList())},e.prototype.getConfigKey=function(){return this.getId()},e}();i.OpencondConfigData=o,cc._RF.pop()},{}],PieceListItemUIView:[function(e,t,i){"use strict";cc._RF.push(t,"81bd0+TckVGTY7KTuAJSBhq","PieceListItemUIView"),Object.defineProperty(i,"__esModule",{value:!0}),i.PieceListItemUIView=void 0;var o=e("../../../../Config/ConfigKeyDefine"),n=e("../../Core/Control/CoreConsts"),r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.m_listener=null,t.m_hook=null,t.m_shadowHook=null,t.m_config=null,t.m_isInvisible=!1,t.m_isGray=!1,t}return __extends(t,e),t.prototype.setListener=function(e){this.m_listener=e},t.prototype.onInitScript=function(){e.prototype.onInitScript.call(this)},t.prototype.onSetData=function(t,i,n){if(n&&(this.m_config=null,this.reset()),i&&(this.m_config=miniframe.Config.getData(o.ConfigKeyDefine.GAME_BOOK_PIECE,i)),this.m_config){this.m_hook||(this.m_hook=new miniframe.LazyNode,this.m_hook.setParent(this.getNode()),this.m_hook.setPosition(cc.Vec2.ZERO));var r=this.getNode().getChildByName("shadow");this.m_shadowHook||(this.m_shadowHook=new miniframe.LazyNode,this.m_shadowHook.setParent(r),this.m_shadowHook.setPosition(cc.Vec2.ZERO)),r?(this.m_shadowHook.setColor(r.color,!0),this.m_shadowHook.setAlpha(r.opacity/255)):(this.m_shadowHook.setColor(cc.Color.WHITE,!0),this.m_shadowHook.setAlpha(1)),this.m_hook.loadResource(this.m_config.getResource()),this.m_shadowHook.loadResource(this.m_config.getResource());var a=miniframe.random.randomInt(0,3),s=0;this.m_listener.onPieceListItemUIViewAskRotation()&&(1==a?s=90:2==a?s=180:3==a&&(s=-90)),this.m_hook.setAngle(s),this.getNode().opacity=0}else this.m_hook&&this.m_hook.unloadResource(),this.m_shadowHook&&(this.m_shadowHook.setColor(cc.Color.WHITE,!0),this.m_shadowHook.setAlpha(1),this.m_shadowHook.unloadResource()),this.getNode().opacity=255;return e.prototype.onSetData.call(this,t,i,n)},t.prototype.onButtonClick=function(t){switch(t){case"check":if(!this.m_config)return;this.m_listener&&this.m_listener.onPieceListItemUIViewClick(this);break;default:e.prototype.onButtonClick.call(this,t)}},t.prototype.getPieceResource=function(){return this.m_config?this.m_config.getResource():""},t.prototype.gray=function(){this.m_isGray=!0,this.m_hook&&this.m_hook.setColor(n.CoreConsts.Game2WrongPieceColor,!0)},t.prototype.invisible=function(){this.m_isInvisible=!0,this.m_hook&&this.m_hook.hide(),this.m_shadowHook&&this.m_shadowHook.hide()},t.prototype.reset=function(){this.m_isInvisible&&(this.m_hook&&this.m_hook.show(),this.m_shadowHook&&this.m_shadowHook.show()),this.m_isInvisible=!1,this.m_isGray&&this.m_hook&&this.m_hook.setColor(cc.Color.WHITE,!0),this.m_isGray=!1},t}(e("../Basic/BusinessItemUIView").BusinessItemUIView);i.PieceListItemUIView=r,cc._RF.pop()},{"../../../../Config/ConfigKeyDefine":"ConfigKeyDefine","../../Core/Control/CoreConsts":"CoreConsts","../Basic/BusinessItemUIView":"BusinessItemUIView"}],PreloadSettings:[function(e,t,i){"use strict";cc._RF.push(t,"f1fb0qs4rNEl4OLHnycFdkh","PreloadSettings"),Object.defineProperty(i,"__esModule",{value:!0}),i.PreloadSettings=void 0;var o=e("../../Config/ConfigKeyDefine"),n=function(){function e(){}return e.prototype.getPreloadConfigs=function(){return[o.ConfigKeyDefine.AUDIO,o.ConfigKeyDefine.ITEM_INFO,o.ConfigKeyDefine.CONST,o.ConfigKeyDefine.CD_COMMON,o.ConfigKeyDefine.EFFECT,o.ConfigKeyDefine.LANGUAGE,o.ConfigKeyDefine.LAN_ATTRI,o.ConfigKeyDefine.LAN_VALUES,o.ConfigKeyDefine.LAN_COND,o.ConfigKeyDefine.DROPBAG,o.ConfigKeyDefine.LIMIT_INFO,o.ConfigKeyDefine.INIT_ATTR,o.ConfigKeyDefine.GIFT,o.ConfigKeyDefine.GIFT_AWARD,o.ConfigKeyDefine.TASK,o.ConfigKeyDefine.TASK_TARGET,o.ConfigKeyDefine.INIT_ATTR,o.ConfigKeyDefine.EXPRESS_AREA,o.ConfigKeyDefine.EXPRESS_BUILDING,o.ConfigKeyDefine.EXPRESS_BUILDING_GROW,o.ConfigKeyDefine.EXPRESS_BUILDING_LEVELUP,o.ConfigKeyDefine.EXPRESS_CITY,o.ConfigKeyDefine.EXPRESS_EVENT,o.ConfigKeyDefine.EXPRESS_EVENT_BAG,o.ConfigKeyDefine.EXPRESS_ROUTE,o.ConfigKeyDefine.EXPRESS_STATION_CONSUME,o.ConfigKeyDefine.EXPRESS_STATION_GROW,o.ConfigKeyDefine.EXPRESS_TARGET,o.ConfigKeyDefine.GAME_BOOK_BASE,o.ConfigKeyDefine.GAME_BOOK_BOOK,o.ConfigKeyDefine.GAME_BOOK_PIECE,o.ConfigKeyDefine.GAME_BOOK_LAYOUT,o.ConfigKeyDefine.GAME_BOOK_PAGE,o.ConfigKeyDefine.GAME_WEAPON_BASE,o.ConfigKeyDefine.GAME_WEAPON_WEAPON,o.ConfigKeyDefine.GAME_CLUE_BASE,o.ConfigKeyDefine.GAME_CLUE_CLUE,o.ConfigKeyDefine.GAME_CLUE_ICON,o.ConfigKeyDefine.WEAPON_GROW_INFO,o.ConfigKeyDefine.OPENCOND,o.ConfigKeyDefine.GUIDE_TRIGGER,o.ConfigKeyDefine.GUIDE_PRELOAD,o.ConfigKeyDefine.TASK_GUIDE,o.ConfigKeyDefine.TASK_TRIGGER,o.ConfigKeyDefine.NPC_BASE,o.ConfigKeyDefine.NPC_INFO,o.ConfigKeyDefine.MONSTER_INFO]},e.prototype.getPreloadResources=function(){return["PF_UI_LoadingFull",!0,"PF_UI_LoadingNormal",!0,"PF_UI_Prompt_0",!0,"PF_UI_Prompt_1",!0,"PF_UI_Prompt_2",!0,"PF_Trade",!1,"PF_Train",!1,"PF_City_Slot",!1,"PF_City_Task",!1,"PF_City_Title",!1,"PF_Drop_Slot",!1,"PF_Area_1",!1,"PF_People_1",!1,"PF_People_2",!1,"PF_People_3",!1,"PF_People_4",!1,"PF_UI_Navigator_T",!1,"PF_UI_Navigator_B",!1,"PF_UI_DevelopCity",!1,"PF_Anim_Coin_Float",!1,"PF_Anim_Coin_Down",!1,"PF_Drop_Value_1",!1,"PF_Drop_Value_2",!1,"PF_Drop_Event_1_1",!1,"PF_Drop_Event_1_2",!1]},e.prototype.getPreloadAbreast=function(){return 5},e}();i.PreloadSettings=n,cc._RF.pop()},{"../../Config/ConfigKeyDefine":"ConfigKeyDefine"}],PromptAutoUIMediator:[function(e,t,i){"use strict";cc._RF.push(t,"146ecg1ExdJepK4LfUHRoAZ","PromptAutoUIMediator"),Object.defineProperty(i,"__esModule",{value:!0}),i.PromptAutoUIMediator=void 0;var o=function(e){function t(){return e.call(this,"PromptAutoUIMediator","PF_UI_Prompt_0",90)||this}return __extends(t,e),t}(e("../Basic/PromptUIMediator").PromptUIMediator);i.PromptAutoUIMediator=o,cc._RF.pop()},{"../Basic/PromptUIMediator":"PromptUIMediator"}],PromptButtonTypeDefine:[function(e,t,i){"use strict";cc._RF.push(t,"13cb5LuxltI6pDMSw1U6thw","PromptButtonTypeDefine"),Object.defineProperty(i,"__esModule",{value:!0}),i.PromptButtonTypeDefine=void 0,function(e){e[e.None=0]="None",e[e.OK=1]="OK",e[e.CANCEL=2]="CANCEL"}(i.PromptButtonTypeDefine||(i.PromptButtonTypeDefine={})),cc._RF.pop()},{}],PromptConfirmUIMediator:[function(e,t,i){"use strict";cc._RF.push(t,"74357YctLtKObNMDMpjNwmb","PromptConfirmUIMediator"),Object.defineProperty(i,"__esModule",{value:!0}),i.PromptConfirmUIMediator=void 0;var o=function(e){function t(){return e.call(this,"PromptConfirmUIMediator","PF_UI_Prompt_2",90)||this}return __extends(t,e),t}(e("../Basic/PromptUIMediator").PromptUIMediator);i.PromptConfirmUIMediator=o,cc._RF.pop()},{"../Basic/PromptUIMediator":"PromptUIMediator"}],PromptController:[function(e,t,i){"use strict";cc._RF.push(t,"ed9f49F7p1Ip5BaAcGH2sdt","PromptController"),Object.defineProperty(i,"__esModule",{value:!0}),i.PromptController=void 0;var o=e("./PromptData"),n=function(){function e(){this.m_promptTagToMediators={},e.ms_instance=this}return Object.defineProperty(e,"Instance",{get:function(){return e.ms_instance||new e},enumerable:!1,configurable:!0}),e.prototype.registerPrompt=function(e,t){this.m_promptTagToMediators[t]=e},e.prototype.openPromptByTag=function(e,t){var i=this.m_promptTagToMediators[e];"string"==typeof i&&""!=i&&("string"==typeof t?miniframe.Facade.openMediator(i,o.PromptData.CreateSimpleData(t),!0):miniframe.Facade.openMediator(i,t,!0))},e.prototype.closePromptByTag=function(e){var t=this.m_promptTagToMediators[e];"string"==typeof t&&""!=t&&miniframe.Facade.closeMediator(t)},e.ms_instance=null,e}();i.PromptController=n,cc._RF.pop()},{"./PromptData":"PromptData"}],PromptData:[function(e,t,i){"use strict";cc._RF.push(t,"b7218YR/KtGf70Bw5fhxa6C","PromptData"),Object.defineProperty(i,"__esModule",{value:!0}),i.PromptData=void 0;var o=e("./PromptButtonTypeDefine"),n=function(){function e(){this.title="",this.content="",this.buttons=0,this.buttonLabels=null,this.replace=!1,this.callback=null,this.callbackTarget=null,this.parameter=null,this.imageAtlas=null,this.m_imageAtlasLoadCallback=null,this.m_imageAtlasLoadCallbackTarget=null}return e.CreateSimpleData=function(t,i){void 0===i&&(i="");var o=new e;return o.content=t,o.title=i,o},e.CreateConfirmData=function(t,i,n,r,a,s,p,u){void 0===a&&(a=!1),void 0===s&&(s=null),void 0===p&&(p=void 0),void 0===u&&(u=void 0);var c=new e;return c.content=t,c.title=i,c.buttons=o.PromptButtonTypeDefine.OK,c.callback=n,c.callbackTarget=r,c.parameter=s,p&&(c.buttonLabels||(c.buttonLabels={}),p&&(c.buttonLabels[o.PromptButtonTypeDefine.OK]=p)),a&&(c.buttons|=o.PromptButtonTypeDefine.CANCEL,u&&(c.buttonLabels||(c.buttonLabels={}),u&&(c.buttonLabels[o.PromptButtonTypeDefine.CANCEL]=u))),c},e.prototype.loadImageAtlas=function(e,t,i){this.m_imageAtlasLoadCallback=t,this.m_imageAtlasLoadCallbackTarget=i,miniframe.Loader.loadResource(e,this)},e.prototype.onLoadAssetLoadProgress=function(){},e.prototype.onLoadAssetLoadComplete=function(e){var t=miniframe.Resource.getPrefab(e);if(this.imageAtlas=t,this.m_imageAtlasLoadCallback){var i=this.m_imageAtlasLoadCallback,o=this.m_imageAtlasLoadCallbackTarget;this.m_imageAtlasLoadCallback=null,this.m_imageAtlasLoadCallbackTarget=null,i.call(o,this)}},e}();i.PromptData=n,cc._RF.pop()},{"./PromptButtonTypeDefine":"PromptButtonTypeDefine"}],PromptSimpleUIMediator:[function(e,t,i){"use strict";cc._RF.push(t,"8969dqA1qhD4JplTkSF4/CZ","PromptSimpleUIMediator"),Object.defineProperty(i,"__esModule",{value:!0}),i.PromptSimpleUIMediator=void 0;var o=function(e){function t(){return e.call(this,"PromptSimpleUIMediator","PF_UI_Prompt_1",90)||this}return __extends(t,e),t}(e("../Basic/PromptUIMediator").PromptUIMediator);i.PromptSimpleUIMediator=o,cc._RF.pop()},{"../Basic/PromptUIMediator":"PromptUIMediator"}],PromptUIMediator:[function(e,t,i){"use strict";cc._RF.push(t,"be488H+ve9ABZqB0gnxCD+f","PromptUIMediator"),Object.defineProperty(i,"__esModule",{value:!0}),i.PromptUIMediator=void 0;var o=e("../../../../Extension/Locale/LocaleController"),n=e("../../../../Extension/Prompt/PromptButtonTypeDefine"),r=e("../../../../Extension/Prompt/PromptData"),a=e("../Component/PromptUIScript"),s=e("./BusinessUIMediator"),p=e("../../../Business/Define/WindowTypeDefine"),u=function(e){function t(t,i,o){var r=e.call(this,t,i,o,!1,!0,!0,!0,!0,p.WindowTypeDefine.Prompt)||this;return r.m_promptScript=null,r.m_buttonType=n.PromptButtonTypeDefine.None,r.m_autoTimer=void 0,r.m_currentData=null,r.m_nextDatas=[],r}return __extends(t,e),t.prototype.onUIMediatorInit=function(t,i){e.prototype.onUIMediatorInit.call(this,t,i),this.m_promptScript=t?t.getComponent(a.default):null},t.prototype.onUIMediatorUnInit=function(){e.prototype.onUIMediatorUnInit.call(this)},t.prototype.onUIMediatorPrepare=function(t,i){e.prototype.onUIMediatorPrepare.call(this,t,i);var o;(o="string"==typeof i?r.PromptData.CreateSimpleData(i):i)&&this.m_nextDatas.push(o)},t.prototype.onUIMediatorOpen=function(t,i){e.prototype.onUIMediatorOpen.call(this,t,i),this.showNext()},t.prototype.onUIMediatorRefresh=function(t){e.prototype.onUIMediatorRefresh.call(this,t);var i,o=!1;(i="string"==typeof t?r.PromptData.CreateSimpleData(t):t)&&(i.replace&&this.m_nextDatas.length>0&&(this.m_nextDatas.splice(0,this.m_nextDatas.length),o=!0),this.m_nextDatas.push(i)),o&&this.showNext()},t.prototype.onUIMediatorClose=function(t){e.prototype.onUIMediatorClose.call(this,t),null!=this.m_autoTimer&&clearTimeout(this.m_autoTimer)},t.prototype.onButtonClick=function(t){switch(t){case"ok":this.m_buttonType=n.PromptButtonTypeDefine.OK,this.onNext();break;case"cancel":this.m_buttonType=n.PromptButtonTypeDefine.CANCEL,this.onNext();break;case"next":this.onNext();break;default:e.prototype.onButtonClick.call(this,t)}},t.prototype.onNext=function(){this.notifyResult(),this.showNext()},t.prototype.showNext=function(){var e=this;if(null!=this.m_autoTimer&&clearTimeout(this.m_autoTimer),this.m_buttonType=n.PromptButtonTypeDefine.None,this.m_nextDatas.length>0){if(this.m_currentData=this.m_nextDatas.shift(),this.updateView(),this.m_promptScript&&this.m_promptScript.isAuto){var t=this.m_promptScript.autoDurationMS||2e3;this.m_autoTimer=setTimeout(function(){e.onNext()},t)}}else this.onClose()},t.prototype.notifyResult=function(){this.m_currentData&&this.m_currentData.callback&&this.m_currentData.callback.call(this.m_currentData.callbackTarget,this.m_buttonType,this.m_currentData.parameter)},t.prototype.updateView=function(){if(this.m_currentData&&this.m_promptScript){this.m_promptScript.title&&(this.m_promptScript.title.string=this.m_currentData.title,this.m_promptScript.hideTitleIfNone&&(this.m_promptScript.title.node.active=!!this.m_currentData.title)),this.m_promptScript.content&&(this.m_promptScript.content.ImageAtlas=this.m_currentData.imageAtlas,this.m_promptScript.content.string=this.m_currentData.content,this.m_promptScript.hideContentIfNone&&(this.m_promptScript.content.node.active=!!this.m_currentData.content));var e=this.getButton("ok");if(e)if((this.m_currentData.buttons&n.PromptButtonTypeDefine.OK)==n.PromptButtonTypeDefine.OK){var t="";t=this.m_currentData.buttonLabels&&this.m_currentData.buttonLabels[n.PromptButtonTypeDefine.OK]&&""!=this.m_currentData.buttonLabels[n.PromptButtonTypeDefine.OK]?this.m_currentData.buttonLabels[n.PromptButtonTypeDefine.OK]:o.LocaleController.Instance.getLanguage(e.getScript().label.lanValue),e.show(),e.setButtonLabel(t)}else e.hide();(e=this.getButton("cancel"))&&((this.m_currentData.buttons&n.PromptButtonTypeDefine.CANCEL)==n.PromptButtonTypeDefine.CANCEL?(t="",t=this.m_currentData.buttonLabels&&this.m_currentData.buttonLabels[n.PromptButtonTypeDefine.CANCEL]&&""!=this.m_currentData.buttonLabels[n.PromptButtonTypeDefine.CANCEL]?this.m_currentData.buttonLabels[n.PromptButtonTypeDefine.CANCEL]:o.LocaleController.Instance.getLanguage(e.getScript().label.lanValue),e.show(),e.setButtonLabel(t)):e.hide())}},t}(s.BusinessUIMediator);i.PromptUIMediator=u,cc._RF.pop()},{"../../../../Extension/Locale/LocaleController":"LocaleController","../../../../Extension/Prompt/PromptButtonTypeDefine":"PromptButtonTypeDefine","../../../../Extension/Prompt/PromptData":"PromptData","../../../Business/Define/WindowTypeDefine":"WindowTypeDefine","../Component/PromptUIScript":"PromptUIScript","./BusinessUIMediator":"BusinessUIMediator"}],PromptUIScript:[function(e,t,i){"use strict";cc._RF.push(t,"72ac7Nmu/pFCLjf8iXNMj5k","PromptUIScript"),Object.defineProperty(i,"__esModule",{value:!0});var o=e("../../../../Extension/UI/Label/UITextScript"),n=cc._decorator,r=n.ccclass,a=n.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.title=null,t.hideTitleIfNone=!1,t.content=null,t.hideContentIfNone=!1,t.isAuto=!1,t.autoDurationMS=0,t}return __extends(t,e),__decorate([a(o.default)],t.prototype,"title",void 0),__decorate([a(cc.Boolean)],t.prototype,"hideTitleIfNone",void 0),__decorate([a(o.default)],t.prototype,"content",void 0),__decorate([a(cc.Boolean)],t.prototype,"hideContentIfNone",void 0),__decorate([a(cc.Boolean)],t.prototype,"isAuto",void 0),__decorate([a(cc.Integer)],t.prototype,"autoDurationMS",void 0),__decorate([r],t)}(cc.Component);i.default=s,cc._RF.pop()},{"../../../../Extension/UI/Label/UITextScript":"UITextScript"}],ResourceSettings:[function(e,t,i){"use strict";cc._RF.push(t,"13d416/gqxDSItKGkXeagha","ResourceSettings"),Object.defineProperty(i,"__esModule",{value:!0}),i.ResourceSettings=void 0;i.ResourceSettings=function(){miniframe.Loader.addResourceConfig("ATLAS_Attrs",".plist","Atlas",1),miniframe.Loader.addResourceConfig("ATLAS_Building",".plist","Atlas",1),miniframe.Loader.addResourceConfig("ATLAS_GuestTS",".plist","Atlas",1),miniframe.Loader.addResourceConfig("ATLAS_Guest_Header",".plist","Atlas",1),miniframe.Loader.addResourceConfig("ATLAS_Guest_Icon",".plist","Atlas",1),miniframe.Loader.addResourceConfig("ATLAS_Guest_Portrait",".plist","Atlas",1),miniframe.Loader.addResourceConfig("ATLAS_Items_Icon",".plist","Atlas",1),miniframe.Loader.addResourceConfig("ATLAS_Values",".plist","Atlas",1),miniframe.Loader.addResourceConfig("bgm_1",".mp3","Audios",5),miniframe.Loader.addResourceConfig("bgm_2",".mp3","Audios",5),miniframe.Loader.addResourceConfig("bgm_start",".mp3","Audios",5),miniframe.Loader.addResourceConfig("us_click_1",".mp3","Audios",5),miniframe.Loader.addResourceConfig("us_click_2",".mp3","Audios",5),miniframe.Loader.addResourceConfig("us_click_3",".mp3","Audios",5),miniframe.Loader.addResourceConfig("us_click_train",".mp3","Audios",5),miniframe.Loader.addResourceConfig("us_create_building",".mp3","Audios",5),miniframe.Loader.addResourceConfig("us_create_city",".mp3","Audios",5),miniframe.Loader.addResourceConfig("us_drop_coin",".mp3","Audios",5),miniframe.Loader.addResourceConfig("us_event_open",".mp3","Audios",5),miniframe.Loader.addResourceConfig("us_finish_target",".mp3","Audios",5),miniframe.Loader.addResourceConfig("us_finish_train_special",".mp3","Audios",5),miniframe.Loader.addResourceConfig("us_gain_coin",".mp3","Audios",5),miniframe.Loader.addResourceConfig("us_gain_event",".mp3","Audios",5),miniframe.Loader.addResourceConfig("us_hb_step_1",".mp3","Audios",5),miniframe.Loader.addResourceConfig("us_hb_step_2",".mp3","Audios",5),miniframe.Loader.addResourceConfig("us_hb_step_3",".mp3","Audios",5),miniframe.Loader.addResourceConfig("us_hb_step_4",".mp3","Audios",5),miniframe.Loader.addResourceConfig("us_hb_step_done",".mp3","Audios",5),miniframe.Loader.addResourceConfig("us_levelup_building",".mp3","Audios",5),miniframe.Loader.addResourceConfig("us_levelup_city",".mp3","Audios",5),miniframe.Loader.addResourceConfig("us_new_train_special",".mp3","Audios",5),miniframe.Loader.addResourceConfig("us_pickup_award",".mp3","Audios",5),miniframe.Loader.addResourceConfig("us_start_train_normal_1",".mp3","Audios",5),miniframe.Loader.addResourceConfig("us_start_train_normal_2",".mp3","Audios",5),miniframe.Loader.addResourceConfig("us_start_train_special",".mp3","Audios",5),miniframe.Loader.addResourceConfig("us_window_close",".mp3","Audios",5),miniframe.Loader.addResourceConfig("us_window_open",".mp3","Audios",5),miniframe.Loader.addResourceConfig("PF_Fight_Number_1",".prefab","Battle",0),miniframe.Loader.addResourceConfig("PF_Fight_Number_2",".prefab","Battle",0),miniframe.Loader.addResourceConfig("audio",".bin","Config",3),miniframe.Loader.addResourceConfig("cd_common",".bin","Config",3),miniframe.Loader.addResourceConfig("const",".bin","Config",3),miniframe.Loader.addResourceConfig("dropbag",".bin","Config",3),miniframe.Loader.addResourceConfig("effect",".bin","Config",3),miniframe.Loader.addResourceConfig("express_area",".bin","Config",3),miniframe.Loader.addResourceConfig("express_building",".bin","Config",3),miniframe.Loader.addResourceConfig("express_building_grow",".bin","Config",3),miniframe.Loader.addResourceConfig("express_building_levelup",".bin","Config",3),miniframe.Loader.addResourceConfig("express_city",".bin","Config",3),miniframe.Loader.addResourceConfig("express_event",".bin","Config",3),miniframe.Loader.addResourceConfig("express_event_bag",".bin","Config",3),miniframe.Loader.addResourceConfig("express_route",".bin","Config",3),miniframe.Loader.addResourceConfig("express_station_consume",".bin","Config",3),miniframe.Loader.addResourceConfig("express_station_grow",".bin","Config",3),miniframe.Loader.addResourceConfig("express_target",".bin","Config",3),miniframe.Loader.addResourceConfig("game_book_base",".bin","Config",3),miniframe.Loader.addResourceConfig("game_book_book",".bin","Config",3),miniframe.Loader.addResourceConfig("game_book_layout",".bin","Config",3),miniframe.Loader.addResourceConfig("game_book_page",".bin","Config",3),miniframe.Loader.addResourceConfig("game_book_piece",".bin","Config",3),miniframe.Loader.addResourceConfig("game_clue_base",".bin","Config",3),miniframe.Loader.addResourceConfig("game_clue_clue",".bin","Config",3),miniframe.Loader.addResourceConfig("game_clue_icon",".bin","Config",3),miniframe.Loader.addResourceConfig("game_weapon_base",".bin","Config",3),miniframe.Loader.addResourceConfig("game_weapon_weapon",".bin","Config",3),miniframe.Loader.addResourceConfig("gift",".bin","Config",3),miniframe.Loader.addResourceConfig("gift_award",".bin","Config",3),miniframe.Loader.addResourceConfig("guide_preload",".bin","Config",3),miniframe.Loader.addResourceConfig("guide_trigger",".bin","Config",3),miniframe.Loader.addResourceConfig("init_attr",".bin","Config",3),miniframe.Loader.addResourceConfig("item_info",".bin","Config",3),miniframe.Loader.addResourceConfig("language",".bin","Config",3),miniframe.Loader.addResourceConfig("lan_attri",".bin","Config",3),miniframe.Loader.addResourceConfig("lan_cond",".bin","Config",3),miniframe.Loader.addResourceConfig("lan_values",".bin","Config",3),miniframe.Loader.addResourceConfig("limit_info",".bin","Config",3),miniframe.Loader.addResourceConfig("monster_info",".bin","Config",3),miniframe.Loader.addResourceConfig("npc_base",".bin","Config",3),miniframe.Loader.addResourceConfig("npc_info",".bin","Config",3),miniframe.Loader.addResourceConfig("opencond",".bin","Config",3),miniframe.Loader.addResourceConfig("shake",".bin","Config",3),miniframe.Loader.addResourceConfig("task",".bin","Config",3),miniframe.Loader.addResourceConfig("task_guide",".bin","Config",3),miniframe.Loader.addResourceConfig("task_target",".bin","Config",3),miniframe.Loader.addResourceConfig("task_trigger",".bin","Config",3),miniframe.Loader.addResourceConfig("weapon_grow_info",".bin","Config",3),miniframe.Loader.addResourceConfig("weapon_info",".bin","Config",3),miniframe.Loader.addResourceConfig("PF_Effect_CreateBuilding",".prefab","Effects",0),miniframe.Loader.addResourceConfig("PF_Effect_CreateCity",".prefab","Effects",0),miniframe.Loader.addResourceConfig("PF_Effect_FinishTask",".prefab","Effects",0),miniframe.Loader.addResourceConfig("PF_Effect_FlyTask",".prefab","Effects",0),miniframe.Loader.addResourceConfig("PF_Effect_LevelUpCity",".prefab","Effects",0),miniframe.Loader.addResourceConfig("PF_Book_Layout_101",".prefab","Game/2/Layout",0),miniframe.Loader.addResourceConfig("PF_Book_Layout_102",".prefab","Game/2/Layout",0),miniframe.Loader.addResourceConfig("PF_Book_Layout_103",".prefab","Game/2/Layout",0),miniframe.Loader.addResourceConfig("PF_Book_Layout_201",".prefab","Game/2/Layout",0),miniframe.Loader.addResourceConfig("PF_Book_Layout_202",".prefab","Game/2/Layout",0),miniframe.Loader.addResourceConfig("PF_Book_Layout_203",".prefab","Game/2/Layout",0),miniframe.Loader.addResourceConfig("PF_Book_Layout_301",".prefab","Game/2/Layout",0),miniframe.Loader.addResourceConfig("PF_Book_Layout_302",".prefab","Game/2/Layout",0),miniframe.Loader.addResourceConfig("PF_Book_Layout_303",".prefab","Game/2/Layout",0),miniframe.Loader.addResourceConfig("PF_Book_Layout_401",".prefab","Game/2/Layout",0),miniframe.Loader.addResourceConfig("PF_Book_Layout_402",".prefab","Game/2/Layout",0),miniframe.Loader.addResourceConfig("PF_Book_Layout_403",".prefab","Game/2/Layout",0),miniframe.Loader.addResourceConfig("PF_Book_Layout_501",".prefab","Game/2/Layout",0),miniframe.Loader.addResourceConfig("PF_Book_Layout_502",".prefab","Game/2/Layout",0),miniframe.Loader.addResourceConfig("PF_Book_Layout_503",".prefab","Game/2/Layout",0),miniframe.Loader.addResourceConfig("PF_Book_Page_1",".prefab","Game/2/Layout",0),miniframe.Loader.addResourceConfig("PF_Book_Page_2",".prefab","Game/2/Layout",0),miniframe.Loader.addResourceConfig("PF_Book_Page_3",".prefab","Game/2/Layout",0),miniframe.Loader.addResourceConfig("PF_Book_Page_4",".prefab","Game/2/Layout",0),miniframe.Loader.addResourceConfig("PF_Book_Page_5",".prefab","Game/2/Layout",0),miniframe.Loader.addResourceConfig("PF_Book_Piece_1_1_1",".prefab","Game/2/Pieces",0),miniframe.Loader.addResourceConfig("PF_Book_Piece_1_1_2",".prefab","Game/2/Pieces",0),miniframe.Loader.addResourceConfig("PF_Book_Piece_1_1_3",".prefab","Game/2/Pieces",0),miniframe.Loader.addResourceConfig("PF_Book_Piece_1_1_4",".prefab","Game/2/Pieces",0),miniframe.Loader.addResourceConfig("PF_Book_Piece_1_1_5",".prefab","Game/2/Pieces",0),miniframe.Loader.addResourceConfig("PF_Book_Piece_1_2_1",".prefab","Game/2/Pieces",0),miniframe.Loader.addResourceConfig("PF_Book_Piece_1_2_2",".prefab","Game/2/Pieces",0),miniframe.Loader.addResourceConfig("PF_Book_Piece_1_2_3",".prefab","Game/2/Pieces",0),miniframe.Loader.addResourceConfig("PF_Book_Piece_1_2_4",".prefab","Game/2/Pieces",0),miniframe.Loader.addResourceConfig("PF_Book_Piece_1_2_5",".prefab","Game/2/Pieces",0),miniframe.Loader.addResourceConfig("PF_Book_Piece_1_3_1",".prefab","Game/2/Pieces",0),miniframe.Loader.addResourceConfig("PF_Book_Piece_1_3_2",".prefab","Game/2/Pieces",0),miniframe.Loader.addResourceConfig("PF_Book_Piece_1_3_3",".prefab","Game/2/Pieces",0),miniframe.Loader.addResourceConfig("PF_Book_Piece_1_3_4",".prefab","Game/2/Pieces",0),miniframe.Loader.addResourceConfig("PF_Book_Piece_1_3_5",".prefab","Game/2/Pieces",0),miniframe.Loader.addResourceConfig("PF_Book_Piece_203001",".prefab","Game/2/Pieces",0),miniframe.Loader.addResourceConfig("PF_Book_Piece_203002",".prefab","Game/2/Pieces",0),miniframe.Loader.addResourceConfig("PF_Book_Piece_203003",".prefab","Game/2/Pieces",0),miniframe.Loader.addResourceConfig("PF_Book_Piece_203004",".prefab","Game/2/Pieces",0),miniframe.Loader.addResourceConfig("PF_Book_Piece_203005",".prefab","Game/2/Pieces",0),miniframe.Loader.addResourceConfig("PF_Book_Piece_203101",".prefab","Game/2/Pieces",0),miniframe.Loader.addResourceConfig("PF_Book_Piece_203102",".prefab","Game/2/Pieces",0),miniframe.Loader.addResourceConfig("PF_Book_Piece_203103",".prefab","Game/2/Pieces",0),miniframe.Loader.addResourceConfig("PF_Book_Piece_203104",".prefab","Game/2/Pieces",0),miniframe.Loader.addResourceConfig("PF_Book_Piece_203105",".prefab","Game/2/Pieces",0),miniframe.Loader.addResourceConfig("PF_Book_Piece_2_1_1",".prefab","Game/2/Pieces",0),miniframe.Loader.addResourceConfig("PF_Book_Piece_2_1_2",".prefab","Game/2/Pieces",0),miniframe.Loader.addResourceConfig("PF_Book_Piece_2_1_3",".prefab","Game/2/Pieces",0),miniframe.Loader.addResourceConfig("PF_Book_Piece_2_1_4",".prefab","Game/2/Pieces",0),miniframe.Loader.addResourceConfig("PF_Book_Piece_2_1_5",".prefab","Game/2/Pieces",0),miniframe.Loader.addResourceConfig("PF_Book_Piece_2_2_1",".prefab","Game/2/Pieces",0),miniframe.Loader.addResourceConfig("PF_Book_Piece_2_2_2",".prefab","Game/2/Pieces",0),miniframe.Loader.addResourceConfig("PF_Book_Piece_2_2_3",".prefab","Game/2/Pieces",0),miniframe.Loader.addResourceConfig("PF_Book_Piece_2_2_4",".prefab","Game/2/Pieces",0),miniframe.Loader.addResourceConfig("PF_Book_Piece_2_2_5",".prefab","Game/2/Pieces",0),miniframe.Loader.addResourceConfig("PF_Book_Piece_2_3_1",".prefab","Game/2/Pieces",0),miniframe.Loader.addResourceConfig("PF_Book_Piece_2_3_2",".prefab","Game/2/Pieces",0),miniframe.Loader.addResourceConfig("PF_Book_Piece_2_3_3",".prefab","Game/2/Pieces",0),miniframe.Loader.addResourceConfig("PF_Book_Piece_2_3_4",".prefab","Game/2/Pieces",0),miniframe.Loader.addResourceConfig("PF_Book_Piece_2_3_5",".prefab","Game/2/Pieces",0),miniframe.Loader.addResourceConfig("PF_Book_Piece_3_1_1",".prefab","Game/2/Pieces",0),miniframe.Loader.addResourceConfig("PF_Book_Piece_3_1_2",".prefab","Game/2/Pieces",0),miniframe.Loader.addResourceConfig("PF_Book_Piece_3_1_3",".prefab","Game/2/Pieces",0),miniframe.Loader.addResourceConfig("PF_Book_Piece_3_1_4",".prefab","Game/2/Pieces",0),miniframe.Loader.addResourceConfig("PF_Book_Piece_3_1_5",".prefab","Game/2/Pieces",0),miniframe.Loader.addResourceConfig("PF_Book_Piece_3_2_1",".prefab","Game/2/Pieces",0),miniframe.Loader.addResourceConfig("PF_Book_Piece_3_2_2",".prefab","Game/2/Pieces",0),miniframe.Loader.addResourceConfig("PF_Book_Piece_3_2_3",".prefab","Game/2/Pieces",0),miniframe.Loader.addResourceConfig("PF_Book_Piece_3_2_4",".prefab","Game/2/Pieces",0),miniframe.Loader.addResourceConfig("PF_Book_Piece_3_2_5",".prefab","Game/2/Pieces",0),miniframe.Loader.addResourceConfig("PF_Book_Piece_3_3_1",".prefab","Game/2/Pieces",0),miniframe.Loader.addResourceConfig("PF_Book_Piece_3_3_2",".prefab","Game/2/Pieces",0),miniframe.Loader.addResourceConfig("PF_Book_Piece_3_3_3",".prefab","Game/2/Pieces",0),miniframe.Loader.addResourceConfig("PF_Book_Piece_3_3_4",".prefab","Game/2/Pieces",0),miniframe.Loader.addResourceConfig("PF_Book_Piece_3_3_5",".prefab","Game/2/Pieces",0),miniframe.Loader.addResourceConfig("PF_Book_Piece_4_1_1",".prefab","Game/2/Pieces",0),miniframe.Loader.addResourceConfig("PF_Book_Piece_4_1_2",".prefab","Game/2/Pieces",0),miniframe.Loader.addResourceConfig("PF_Book_Piece_4_1_3",".prefab","Game/2/Pieces",0),miniframe.Loader.addResourceConfig("PF_Book_Piece_4_1_4",".prefab","Game/2/Pieces",0),miniframe.Loader.addResourceConfig("PF_Book_Piece_4_1_5",".prefab","Game/2/Pieces",0),miniframe.Loader.addResourceConfig("PF_Book_Piece_4_2_1",".prefab","Game/2/Pieces",0),miniframe.Loader.addResourceConfig("PF_Book_Piece_4_2_2",".prefab","Game/2/Pieces",0),miniframe.Loader.addResourceConfig("PF_Book_Piece_4_2_3",".prefab","Game/2/Pieces",0),miniframe.Loader.addResourceConfig("PF_Book_Piece_4_2_4",".prefab","Game/2/Pieces",0),miniframe.Loader.addResourceConfig("PF_Book_Piece_4_2_5",".prefab","Game/2/Pieces",0),miniframe.Loader.addResourceConfig("PF_Book_Piece_4_3_1",".prefab","Game/2/Pieces",0),miniframe.Loader.addResourceConfig("PF_Book_Piece_4_3_2",".prefab","Game/2/Pieces",0),miniframe.Loader.addResourceConfig("PF_Book_Piece_4_3_3",".prefab","Game/2/Pieces",0),miniframe.Loader.addResourceConfig("PF_Book_Piece_4_3_4",".prefab","Game/2/Pieces",0),miniframe.Loader.addResourceConfig("PF_Book_Piece_4_3_5",".prefab","Game/2/Pieces",0),miniframe.Loader.addResourceConfig("PF_Book_Piece_5_1_1",".prefab","Game/2/Pieces",0),miniframe.Loader.addResourceConfig("PF_Book_Piece_5_1_2",".prefab","Game/2/Pieces",0),miniframe.Loader.addResourceConfig("PF_Book_Piece_5_1_3",".prefab","Game/2/Pieces",0),miniframe.Loader.addResourceConfig("PF_Book_Piece_5_1_4",".prefab","Game/2/Pieces",0),miniframe.Loader.addResourceConfig("PF_Book_Piece_5_1_5",".prefab","Game/2/Pieces",0),miniframe.Loader.addResourceConfig("PF_Book_Piece_5_2_1",".prefab","Game/2/Pieces",0),miniframe.Loader.addResourceConfig("PF_Book_Piece_5_2_2",".prefab","Game/2/Pieces",0),miniframe.Loader.addResourceConfig("PF_Book_Piece_5_2_3",".prefab","Game/2/Pieces",0),miniframe.Loader.addResourceConfig("PF_Book_Piece_5_2_4",".prefab","Game/2/Pieces",0),miniframe.Loader.addResourceConfig("PF_Book_Piece_5_2_5",".prefab","Game/2/Pieces",0),miniframe.Loader.addResourceConfig("PF_Book_Piece_5_3_1",".prefab","Game/2/Pieces",0),miniframe.Loader.addResourceConfig("PF_Book_Piece_5_3_2",".prefab","Game/2/Pieces",0),miniframe.Loader.addResourceConfig("PF_Book_Piece_5_3_3",".prefab","Game/2/Pieces",0),miniframe.Loader.addResourceConfig("PF_Book_Piece_5_3_4",".prefab","Game/2/Pieces",0),miniframe.Loader.addResourceConfig("PF_Book_Piece_5_3_5",".prefab","Game/2/Pieces",0),miniframe.Loader.addResourceConfig("PF_Weapon_2014",".prefab","Game/3/Weapon",0),miniframe.Loader.addResourceConfig("PF_Weapon_2025",".prefab","Game/3/Weapon",0),miniframe.Loader.addResourceConfig("PF_Weapon_2026",".prefab","Game/3/Weapon",0),miniframe.Loader.addResourceConfig("PF_Weapon_2027",".prefab","Game/3/Weapon",0),miniframe.Loader.addResourceConfig("PF_Weapon_2029",".prefab","Game/3/Weapon",0),miniframe.Loader.addResourceConfig("PF_Guide_1",".prefab","Guide",0),miniframe.Loader.addResourceConfig("PF_Guide_10000",".prefab","Guide",0),miniframe.Loader.addResourceConfig("PF_Guide_101",".prefab","Guide",0),miniframe.Loader.addResourceConfig("PF_Guide_102",".prefab","Guide",0),miniframe.Loader.addResourceConfig("PF_Guide_2",".prefab","Guide",0),miniframe.Loader.addResourceConfig("PF_Guide_201",".prefab","Guide",0),miniframe.Loader.addResourceConfig("PF_Guide_202",".prefab","Guide",0),miniframe.Loader.addResourceConfig("PF_Guide_203",".prefab","Guide",0),miniframe.Loader.addResourceConfig("PF_Guide_204",".prefab","Guide",0),miniframe.Loader.addResourceConfig("PF_Guide_205",".prefab","Guide",0),miniframe.Loader.addResourceConfig("PF_Guide_206",".prefab","Guide",0),miniframe.Loader.addResourceConfig("PF_Guide_207",".prefab","Guide",0),miniframe.Loader.addResourceConfig("PF_Guide_3",".prefab","Guide",0),miniframe.Loader.addResourceConfig("PF_Guide_4",".prefab","Guide",0),miniframe.Loader.addResourceConfig("PF_Guide_999",".prefab","Guide",0),miniframe.Loader.addResourceConfig("PF_Guide_Dialog_1",".prefab","Guide",0),miniframe.Loader.addResourceConfig("PF_Guide_Dialog_2",".prefab","Guide",0),miniframe.Loader.addResourceConfig("PF_Guide_Dialog_3",".prefab","Guide",0),miniframe.Loader.addResourceConfig("PF_Guide_Dialog_4",".prefab","Guide",0),miniframe.Loader.addResourceConfig("PF_Guide_Dialog_5",".prefab","Guide",0),miniframe.Loader.addResourceConfig("PF_Guide_Dialog_Close",".prefab","Guide",0),miniframe.Loader.addResourceConfig("PF_Guide_Dialog_YB",".prefab","Guide",0),miniframe.Loader.addResourceConfig("PF_Guide_Finger_1",".prefab","Guide",0),miniframe.Loader.addResourceConfig("PF_Guide_Finger_Task",".prefab","Guide",0),miniframe.Loader.addResourceConfig("PF_Guide_Mask",".prefab","Guide",0),miniframe.Loader.addResourceConfig("PF_Anim_Coin_Down",".prefab","Scene/Anim",0),miniframe.Loader.addResourceConfig("PF_Anim_Coin_Float",".prefab","Scene/Anim",0),miniframe.Loader.addResourceConfig("PF_Anim_Diamond_Down",".prefab","Scene/Anim",0),miniframe.Loader.addResourceConfig("PF_Anim_Diamond_Float",".prefab","Scene/Anim",0),miniframe.Loader.addResourceConfig("PF_Anim_Prompt_Text",".prefab","Scene/Anim",0),miniframe.Loader.addResourceConfig("PF_Anim_Reputation_Float",".prefab","Scene/Anim",0),miniframe.Loader.addResourceConfig("PF_Anim_Time_Down",".prefab","Scene/Anim",0),miniframe.Loader.addResourceConfig("PF_Area_1",".prefab","Scene/Area",0),miniframe.Loader.addResourceConfig("PF_City_101",".prefab","Scene/City",0),miniframe.Loader.addResourceConfig("PF_City_102",".prefab","Scene/City",0),miniframe.Loader.addResourceConfig("PF_City_103",".prefab","Scene/City",0),miniframe.Loader.addResourceConfig("PF_City_104",".prefab","Scene/City",0),miniframe.Loader.addResourceConfig("PF_City_105",".prefab","Scene/City",0),miniframe.Loader.addResourceConfig("PF_City_106",".prefab","Scene/City",0),miniframe.Loader.addResourceConfig("PF_City_107",".prefab","Scene/City",0),miniframe.Loader.addResourceConfig("PF_City_108",".prefab","Scene/City",0),miniframe.Loader.addResourceConfig("PF_City_109",".prefab","Scene/City",0),miniframe.Loader.addResourceConfig("PF_City_110",".prefab","Scene/City",0),miniframe.Loader.addResourceConfig("PF_City_111",".prefab","Scene/City",0),miniframe.Loader.addResourceConfig("PF_City_112",".prefab","Scene/City",0),miniframe.Loader.addResourceConfig("PF_City_113",".prefab","Scene/City",0),miniframe.Loader.addResourceConfig("PF_City_114",".prefab","Scene/City",0),miniframe.Loader.addResourceConfig("PF_City_115",".prefab","Scene/City",0),miniframe.Loader.addResourceConfig("PF_City_116",".prefab","Scene/City",0),miniframe.Loader.addResourceConfig("PF_City_117",".prefab","Scene/City",0),miniframe.Loader.addResourceConfig("PF_City_Boss",".prefab","Scene/City",0),miniframe.Loader.addResourceConfig("PF_City_Copy",".prefab","Scene/City",0),miniframe.Loader.addResourceConfig("PF_City_Slot",".prefab","Scene/City",0),miniframe.Loader.addResourceConfig("PF_City_Task",".prefab","Scene/City",0),miniframe.Loader.addResourceConfig("PF_City_Title",".prefab","Scene/City",0),miniframe.Loader.addResourceConfig("PF_City_Wait",".prefab","Scene/City",0),miniframe.Loader.addResourceConfig("PF_CityBenefitInfo",".prefab","Scene/Drop",0),miniframe.Loader.addResourceConfig("PF_CityTips",".prefab","Scene/Drop",0),miniframe.Loader.addResourceConfig("PF_Drop_Event_1_1",".prefab","Scene/Drop",0),miniframe.Loader.addResourceConfig("PF_Drop_Event_1_2",".prefab","Scene/Drop",0),miniframe.Loader.addResourceConfig("PF_Drop_Event_2_0",".prefab","Scene/Drop",0),miniframe.Loader.addResourceConfig("PF_Drop_Event_3_0",".prefab","Scene/Drop",0),miniframe.Loader.addResourceConfig("PF_Drop_Event_4_0",".prefab","Scene/Drop",0),miniframe.Loader.addResourceConfig("PF_Drop_Item",".prefab","Scene/Drop",0),miniframe.Loader.addResourceConfig("PF_Drop_Slot",".prefab","Scene/Drop",0),miniframe.Loader.addResourceConfig("PF_Drop_Value_1",".prefab","Scene/Drop",0),miniframe.Loader.addResourceConfig("PF_Drop_Value_2",".prefab","Scene/Drop",0),miniframe.Loader.addResourceConfig("PF_Drop_Value_3",".prefab","Scene/Drop",0),miniframe.Loader.addResourceConfig("PF_Fly_System_1",".prefab","Scene/Fly",0),miniframe.Loader.addResourceConfig("PF_Fly_System_2",".prefab","Scene/Fly",0),miniframe.Loader.addResourceConfig("PF_Fly_System_3",".prefab","Scene/Fly",0),miniframe.Loader.addResourceConfig("PF_Fly_System_4",".prefab","Scene/Fly",0),miniframe.Loader.addResourceConfig("PF_People_1",".prefab","Scene/Object",0),miniframe.Loader.addResourceConfig("PF_People_2",".prefab","Scene/Object",0),miniframe.Loader.addResourceConfig("PF_People_3",".prefab","Scene/Object",0),miniframe.Loader.addResourceConfig("PF_People_4",".prefab","Scene/Object",0),miniframe.Loader.addResourceConfig("PF_Ship",".prefab","Scene/Object",0),miniframe.Loader.addResourceConfig("PF_Trade",".prefab","Scene/Object",0),miniframe.Loader.addResourceConfig("PF_Train",".prefab","Scene/Object",0),miniframe.Loader.addResourceConfig("PF_Story_Base",".prefab","Story",0),miniframe.Loader.addResourceConfig("PF_UI_AnswerCueInfo",".prefab","UI",0),miniframe.Loader.addResourceConfig("PF_UI_Battle",".prefab","UI",0),miniframe.Loader.addResourceConfig("PF_UI_BuyBuilding",".prefab","UI",0),miniframe.Loader.addResourceConfig("PF_UI_Console",".prefab","UI",0),miniframe.Loader.addResourceConfig("PF_UI_CreateCity",".prefab","UI",0),miniframe.Loader.addResourceConfig("PF_UI_CreateCityGuide",".prefab","UI",0),miniframe.Loader.addResourceConfig("PF_UI_CurrentEvent",".prefab","UI",0),miniframe.Loader.addResourceConfig("PF_UI_DevelopCity",".prefab","UI",0),miniframe.Loader.addResourceConfig("PF_UI_EventContent",".prefab","UI",0),miniframe.Loader.addResourceConfig("PF_UI_GameRule",".prefab","UI",0),miniframe.Loader.addResourceConfig("PF_UI_Game_1",".prefab","UI",0),miniframe.Loader.addResourceConfig("PF_UI_Game_2",".prefab","UI",0),miniframe.Loader.addResourceConfig("PF_UI_Game_3",".prefab","UI",0),miniframe.Loader.addResourceConfig("PF_UI_GetCueInfo",".prefab","UI",0),miniframe.Loader.addResourceConfig("PF_UI_GuestActive",".prefab","UI",0),miniframe.Loader.addResourceConfig("PF_UI_GuestInfo",".prefab","UI",0),miniframe.Loader.addResourceConfig("PF_UI_GuestIntro",".prefab","UI",0),miniframe.Loader.addResourceConfig("PF_UI_Idle",".prefab","UI",0),miniframe.Loader.addResourceConfig("PF_UI_InvestItemList",".prefab","UI",0),miniframe.Loader.addResourceConfig("PF_UI_ItemBook",".prefab","UI",0),miniframe.Loader.addResourceConfig("PF_UI_ItemList",".prefab","UI",0),miniframe.Loader.addResourceConfig("PF_UI_ItemWeapon",".prefab","UI",0),miniframe.Loader.addResourceConfig("PF_UI_LevelupBuilding",".prefab","UI",0),miniframe.Loader.addResourceConfig("PF_UI_LoadingFull",".prefab","UI",0),miniframe.Loader.addResourceConfig("PF_UI_LoadingNormal",".prefab","UI",0),miniframe.Loader.addResourceConfig("PF_UI_LoadingUI",".prefab","UI",0),miniframe.Loader.addResourceConfig("PF_UI_Login",".prefab","UI",0),miniframe.Loader.addResourceConfig("PF_UI_Navigator_B",".prefab","UI",0),miniframe.Loader.addResourceConfig("PF_UI_Navigator_T",".prefab","UI",0),miniframe.Loader.addResourceConfig("PF_UI_Prompt_0",".prefab","UI",0),miniframe.Loader.addResourceConfig("PF_UI_Prompt_1",".prefab","UI",0),miniframe.Loader.addResourceConfig("PF_UI_Prompt_2",".prefab","UI",0),miniframe.Loader.addResourceConfig("PF_UI_StartCopy",".prefab","UI",0),miniframe.Loader.addResourceConfig("PF_UI_SystemActive",".prefab","UI",0),miniframe.Loader.addResourceConfig("PF_UI_TargetList",".prefab","UI",0),miniframe.Loader.addResourceConfig("PF_UI_Tax",".prefab","UI",0),miniframe.Loader.addResourceConfig("PF_UI_Update",".prefab","UI",0),miniframe.Loader.addResourceConfig("PF_UI_Wanted",".prefab","UI",0),miniframe.Loader.addResourceConfig("PF_UI_YinPiaoInfo",".prefab","UI",0)},cc._RF.pop()},{}],SDKConfig:[function(e,t,i){"use strict";cc._RF.push(t,"43560y8wvVEOJ1AZs241eUu","SDKConfig"),Object.defineProperty(i,"__esModule",{value:!0}),i.SDKConfig=void 0;i.SDKConfig=function(){this.platform=0,this.platformName="default",this.subSDK=0,this.cdn="",this.gameID=32,this.gameVersion="0.0.1",this.gameBuild=0,this.gameResVersion="",this.gameParams=null,this.launchMode=1,this.loginStyle=1,this.host="http://localhost:3000",this.apis={login:"mini/auth/login",getUserStorage:"mini/user/storage/download",setUserStorage:"mini/user/storage/upload"},this.languages={},this.styles={},this.debugMode=0,this.locale="",this.bannerOn=0,this.bannerHeight=0,this.videoOn=1,this.videoShareOn=!0,this.interstitialOn=0,this.shareOn=0},cc._RF.pop()},{}],SDKFacade:[function(e,t,i){"use strict";cc._RF.push(t,"8e895slA/9DKbZGhVLiSw40","SDKFacade"),Object.defineProperty(i,"__esModule",{value:!0}),i.SDKUserStorage=i.SDKUserData=i.SDKFacade=void 0;var o=e("../Mini/App/Define/EditorModeDefine"),n=e("../Mini/App/Module/Login/Define/LoginMediatorNameDefine"),r=e("../Mini/Game/MiniGame"),a=e("./SDKConfig"),s=function(){function e(){this.Platforms={NONE:0,WECHAT:1,QQPLAY:2,FACEBOOK:3,OPPO:4,BYTEDANCE:5,QQ:6,HELO:7},this.LaunchModes={OFFLINE:0,ONLINE:1},this.LoginStyles={None:0,Simple:1,Auth:2},this.m_config=new a.SDKConfig,this.m_userStorage=new u,this.m_userData=new p,this.UserData=p}return Object.defineProperty(e.prototype,"ads",{get:function(){return this},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"shares",{get:function(){return this},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userStorage",{get:function(){return this.m_userStorage},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userData",{get:function(){return this.m_userData},set:function(e){this.m_userData=e},enumerable:!1,configurable:!0}),e.prototype.launch=function(e){e&&e(!0)},e.prototype.getConfig=function(){return this.m_config},e.prototype.getPlatform=function(){return this.m_config.platform},e.prototype.getPlatformName=function(){return this.m_config.platformName},e.prototype.getGameID=function(){return this.m_config.gameID},e.prototype.getGameVersion=function(){return this.m_config.gameVersion},e.prototype.getGameBuild=function(){return this.m_config.gameBuild},e.prototype.getGameResVersion=function(){return this.m_config.gameResVersion},e.prototype.getGameParams=function(){return this.m_config.gameParams},e.prototype.getGameParam=function(e){return this.m_config.gameParams?this.m_config.gameParams[e]:void 0},e.prototype.getLaunchMode=function(){return this.m_config.launchMode},e.prototype.getLoginStyle=function(){return this.m_config.loginStyle},e.prototype.getDebugMode=function(){return this.m_config.debugMode},e.prototype.getCDN=function(){return this.m_config.cdn},e.prototype.setListener=function(){},e.prototype.getRequestURL=function(e){if(!this.m_config.host||""==this.m_config.host)return"";if(!this.m_config.apis)return"";if(!this.m_config.apis[e]||""==this.m_config.apis[e])return"";return("/"==this.m_config.host[this.m_config.host.length-1]||"\\"==this.m_config.host[this.m_config.host.length-1]?this.m_config.host+this.m_config.apis[e]:this.m_config.host+"/"+this.m_config.apis[e])+"?gid="+this.m_config.gameID+"&platform="+this.m_config.platformName+"&gver="+this.m_config.gameVersion},e.prototype.containsRequestURL=function(e){return this.m_config.apis&&this.m_config.apis[e]&&""!=this.m_config.apis[e]},e.prototype.getLanguage=function(e){var t="";return this.m_config.languages&&(t=this.m_config.languages[e]),t||""},e.prototype.login=function(e,t){if(r.MiniGame.EditorMode==o.EditorModeDefine.Develop)e&&e.call(t,new minisdk.UserData);else{var i=[e,t,r.MiniGame.EditorMode==o.EditorModeDefine.None];miniframe.Facade.openMediator(n.LoginMediatorNameDefine.LoginUIMediator,i)}},e.prototype.getLocale=function(){return this.m_config.locale},e.prototype.previewImages=function(){},e.prototype.previewImage=function(){},e.prototype.vibrate=function(){},e.prototype.keepScreenOn=function(){},e.prototype.createShortcut=function(){return!1},e.prototype.jumpApp=function(e,t,i){return void 0===t&&(t=""),void 0===i&&(i=null),!1},e.prototype.exitApp=function(){},e.prototype.isLocalStorageKeysSupported=function(){return!1},e.prototype.getLocalStorageKeys=function(){return null},e.prototype.getLocalStorageCurrentSize=function(){return 0},e.prototype.getLocalStoragdLimiteSize=function(){return 0},e.prototype.setLocalStorageSync=function(e,t){var i=minisdk.userData.openId+"@"+e;cc.sys.localStorage.setItem(i,t)},e.prototype.getLocalStorageSync=function(e){var t=minisdk.userData.openId+"@"+e;return cc.sys.localStorage.getItem(t)},e.prototype.removeLocalStorageSync=function(e){var t=minisdk.userData.openId+"@"+e;cc.sys.localStorage.removeItem(t)},e.prototype.clearLocalStorageSync=function(){cc.sys.localStorage.clear()},e.prototype.showBanner=function(){return!1},e.prototype.hideBanner=function(){},e.prototype.showRewardedVideo=function(e,t,i,o){return 1==this.m_config.videoOn&&(i&&i.call(o,e,t,1),!0)},e.prototype.isRewardedVideoOpened=function(){return 1==this.m_config.videoOn},e.prototype.hasRewardedVideo=function(){return!0},e.prototype.isRewardedVideoShareOn=function(){return this.m_config.videoShareOn},e.prototype.isBannerOpened=function(){return 1==this.m_config.bannerOn},e.prototype.getBannerHeight=function(){return this.m_config.bannerHeight},e.prototype.showInterstitial=function(e,t,i,o){return 1==this.m_config.interstitialOn&&(i&&i.call(o,e,t,0),!0)},e.prototype.hideInterstitial=function(){},e.prototype.getDefaultShareMessage=function(){return null},e.prototype.share=function(e,t,i,o){return 1==this.m_config.shareOn&&(i&&i.call(o,e,t,0),!0)},e.prototype.enterForeground=function(){},e.prototype.getInviteData=function(){return null},e}();i.SDKFacade=s;var p=function(){this.openId="",this.nickName="",this.gender=0,this.language="",this.city="",this.province="",this.country="",this.avatarUrl="",this.unionId="",this.isNew=!1,this.isGuest=!1};i.SDKUserData=p;var u=function(){function e(){}return e.prototype.setRawData=function(t,i,o,n,r,a,s){void 0===a&&(a=10),void 0===s&&(s=1e3);var p="setUserStorage";if(!minisdk.containsRequestURL(p))return console.error("missing",p),void(n&&n.call(r,t,!1));var u=minisdk.getRequestURL(p),c={};c[e.US_HEADER_OPENID]=minisdk.userData.openId;var l={group:t,rawData:i,time:o};miniframe.post2(u).setHeader(c).setData(l).setCallback(function(e,i){e?0==JSON.parse(i).code?n&&n.call(r,!0,t):(console.warn(i),n&&n.call(r,!1,t)):n&&n.call(r,!1,t)},this).setRetry(a).setRetryInterval(s).send()},e.prototype.setDatas=function(t,i,o,n,r,a,s){void 0===a&&(a=10),void 0===s&&(s=1e3);var p="setUserStorage";if(!minisdk.containsRequestURL(p))return console.error("missing",p),void(n&&n.call(r,t,!1));var u=minisdk.getRequestURL(p),c={};c[e.US_HEADER_OPENID]=minisdk.userData.openId;for(var l="",d=i.length,f=0;f<d;f++)f>0&&(l+=","),l+=i[f].key+"|"+i[f].value+"|"+i[f].state;var g={group:t,kvStr:l,time:o};miniframe.post2(u).setHeader(c).setData(g).setCallback(function(e,i){e?0==JSON.parse(i).code?n&&n.call(r,!0,t):(console.warn(i),n&&n.call(r,!1,t)):n&&n.call(r,!1,t)},this).setRetry(a).setRetryInterval(s).send()},e.prototype.getDatas=function(t,i,o,n,r,a){void 0===r&&(r=10),void 0===a&&(a=1e3);var s="getUserStorage";if(!minisdk.containsRequestURL(s))return console.error("missing",s),void(o&&o.call(n,t,null));var p=minisdk.getRequestURL(s),u={};u[e.US_HEADER_OPENID]=minisdk.userData.openId;var c={group:t,keys:i.join(",")};miniframe.post2(p).setHeader(u).setData(c).setCallback(function(e,t){if(e){var i=JSON.parse(t);0==i.code?o&&o.call(n,!0,i.data):(console.warn(t),o&&o.call(n,!1,void 0))}else o&&o.call(n,!1,void 0)},this).setRetry(r).setRetryInterval(a).send()},e.prototype.getAll=function(t,i,o,n){void 0===o&&(o=10),void 0===n&&(n=1e3);var r="getUserStorage";if(!minisdk.containsRequestURL(r))return console.error("missing",r),void(t&&t.call(i,null));var a=minisdk.getRequestURL(r),s={};s[e.US_HEADER_OPENID]=minisdk.userData.openId,miniframe.post2(a).setHeader(s).setData({group:"*"}).setCallback(function(e,o){if(e){var n=JSON.parse(o);0==n.code?t&&t.call(i,!0,n.data):(console.warn(o),t&&t.call(i,!1,void 0))}else t&&t.call(i,!1,void 0)},this).setRetry(o).setRetryInterval(n).send()},e.US_HEADER_OPENID="x-wx-openid",e}();i.SDKUserStorage=u,cc._RF.pop()},{"../Mini/App/Define/EditorModeDefine":"EditorModeDefine","../Mini/App/Module/Login/Define/LoginMediatorNameDefine":"LoginMediatorNameDefine","../Mini/Game/MiniGame":"MiniGame","./SDKConfig":"SDKConfig"}],SequenceController:[function(e,t,i){"use strict";cc._RF.push(t,"e37cd/NKydKdqPAW+gC+zsy","SequenceController"),Object.defineProperty(i,"__esModule",{value:!0}),i.SequenceController=void 0;var o=e("./Sequencer"),n=function(){function e(){this.m_sequencers={},e.ms_instance=this}return Object.defineProperty(e,"Instance",{get:function(){return e.ms_instance||new e},enumerable:!1,configurable:!0}),e.prototype.addElement=function(e,t){var i=this.m_sequencers[e];i||(i=new o.Sequencer,this.m_sequencers[e]=i),i.addElement(t)},e.prototype.removeElement=function(e,t){var i=this.m_sequencers[e];i&&i.removeElement(t)},e.prototype.removeElements=function(e,t){if(!(t.length<=0))for(var i=t.length,o=0;o<i;o++)this.removeElement(e,t[o])},e.prototype.setDirty=function(e){var t=this.m_sequencers[e];t&&t.setDirty()},e.prototype.sort=function(e){var t=this.m_sequencers[e];t&&t.sort()},e.prototype.update=function(){for(var e in this.m_sequencers)this.m_sequencers[e].update()},e.ms_instance=null,e}();i.SequenceController=n,cc._RF.pop()},{"./Sequencer":"Sequencer"}],SequenceRect:[function(e,t,i){"use strict";cc._RF.push(t,"331dc0b2UFJFquDJ/XyYWM/","SequenceRect"),Object.defineProperty(i,"__esModule",{value:!0}),i.SequenceRect=void 0;var o=function(){function e(){this.outer=new cc.Rect,this.inner=new cc.Rect}return e.prototype.rectRect=function(e){var t=this.outer.x-.5*this.outer.width,i=this.outer.x+.5*this.outer.width,o=e.outer.x-.5*e.outer.width;if(t>e.outer.x+.5*e.outer.width)return!1;if(i<o)return!1;var n=this.outer.y+.5*this.outer.height,r=this.outer.y-.5*this.outer.height,a=e.outer.y+.5*e.outer.height;return!(n<e.outer.y-.5*e.outer.height||r>a)},e.prototype.containsPoint=function(e){return this.outer.contains(e)},e.prototype.compare=function(e){return-(this.inner.y-.5*this.inner.height-(e.inner.y-.5*e.inner.height))},e}();i.SequenceRect=o,cc._RF.pop()},{}],Sequencer:[function(e,t,i){"use strict";cc._RF.push(t,"35611q5G19PeY15hD88n2RZ","Sequencer"),Object.defineProperty(i,"__esModule",{value:!0}),i.Sequencer=void 0;var o=function(){function e(){this.m_statics=[],this.m_dynamics=[],this.m_sortList=[],this.m_isDirty=!1,this.m_staticChanged=!1}return e.prototype.addElement=function(e){e.isSequenceStatic()?miniframe.safePush(this.m_statics,e)&&(this.m_staticChanged=!0):miniframe.safePush(this.m_dynamics,e),e.setSequencer(this)},e.prototype.removeElement=function(e){e.setSequencer(null),e.isSequenceStatic()?miniframe.safeRemove(this.m_statics,e):miniframe.safeRemove(this.m_dynamics,e)},e.prototype.setDirty=function(){this.m_isDirty=!0},e.prototype.update=function(){this.m_isDirty&&this.sort()},e.prototype.sort=function(){this.m_isDirty=!1,this.m_sortList.length>0&&this.m_sortList.splice(0,this.m_sortList.length),this.m_staticChanged&&(this.m_staticChanged=!1,this.m_statics.length>1&&this.m_statics.sort(this.compareStaticElement));for(var e=this.m_statics.length,t=0;t<e;t++)this.m_sortList.push(this.m_statics[t]);for(var i=this.m_dynamics.length,o=0;o<i;o++)for(var n=this.m_sortList.length,r=0;r<n;r++)if(this.compareElement(this.m_dynamics[o],this.m_sortList[r])<0){this.m_sortList.splice(r,0,this.m_dynamics[o]);break}for(var a=this.m_sortList.length,s=0;s<a;s++)this.m_sortList[s].getNode()&&this.m_sortList[s].getNode().setSiblingIndex(s)},e.prototype.compareStaticElement=function(e,t){if(e.getSequenceIndex()==t.getSequenceIndex()){var i=e.getSequenceRect(),o=t.getSequenceRect();return i&&o?i.compare(o):0}return e.getSequenceIndex()-t.getSequenceIndex()},e.prototype.compareElement=function(e,t){if(e.getNode()&&t.getNode()){if(e.isSequenceStatic()&&t.isSequenceStatic())return this.compareStaticElement(e,t);if(!e.isSequenceStatic()&&!t.isSequenceStatic())return 0;var i=!1,o=null,n=null;e.isSequenceStatic()?(o=t,n=e,i=!0):(o=e,n=t);var r=n.getSequenceRect(),a=o.getSequenceRect();if(!a||!r)return 0;if(!r.rectRect(a))return 0;var s=r.inner.x-.5*r.inner.width,p=r.inner.x+.5*r.inner.width;return a.inner.y>=r.inner.y?i?1:-1:a.inner.x<=s?0:a.inner.x>=p?0:(n.isInSequencePolyCollider(new cc.Vec2(a.inner.x,a.inner.y)),i?-1:1)}},e}();i.Sequencer=o,cc._RF.pop()},{}],ShakeConfigData:[function(e,t,i){"use strict";cc._RF.push(t,"6746a/DLSZDlJywvkUjl5DQ","ShakeConfigData"),Object.defineProperty(i,"__esModule",{value:!0}),i.ShakeConfigData=void 0;var o=function(){function e(e){this.m_data=null,this.m_data=e,this.init()}return e.prototype.getId=function(){return this.m_data.getId()},e.prototype.getMin=function(){return this.m_data.getMin()},e.prototype.getMax=function(){return this.m_data.getMax()},e.prototype.getMinPx=function(){return this.m_data.getMinPx()},e.prototype.getMaxPx=function(){return this.m_data.getMaxPx()},e.prototype.getDir=function(){return this.m_data.getDirList()},e.prototype.getDirCount=function(){return this.m_data.getDirList().length},e.prototype.getDirAt=function(e){return e<0||e>=this.m_data.getDirList().length?0:this.m_data.getDirList()[e]},e.prototype.getInterval=function(){return this.m_data.getInterval()},e.prototype.getDuration=function(){return this.m_data.getDuration()},e.prototype.init=function(){},e.prototype.getConfigKey=function(){return this.getId()},e}();i.ShakeConfigData=o,cc._RF.pop()},{}],StartupCommand:[function(e,t,i){"use strict";cc._RF.push(t,"602bdLRFYFIVpeko3TyULQi","StartupCommand"),Object.defineProperty(i,"__esModule",{value:!0}),i.StartupCommand=void 0;var o=e("../Define/StartupNotificationDefine"),n=e("../Control/StartupController"),r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.onExecute=function(t,i){switch(e.prototype.onExecute.call(this,t,i),t){case o.StartupNotificationDefine.STARTUP_DO:new n.StartupController(i)}},t}(miniframe.AbstractCommand);i.StartupCommand=r,cc._RF.pop()},{"../Control/StartupController":"StartupController","../Define/StartupNotificationDefine":"StartupNotificationDefine"}],StartupController:[function(e,t,i){"use strict";cc._RF.push(t,"ac457YWyq1JNIplYzgEAV3w","StartupController"),Object.defineProperty(i,"__esModule",{value:!0}),i.StartupController=void 0;var o=e("../Define/StartupStepDefine"),n=function(){function e(e){this.m_step=0,this.m_parameters=null,this.m_versionWidget=null,this.m_versionLabel=null,this.m_parameters=e,this.loadResourceConfig()}return e.prototype.loadResourceConfig=function(){var e=this;this.m_step=o.StartupStepDefine.ResourceConfig,this.m_parameters.resource?cc.resources.load("resource",function(t,i){if(i&&i._nativeAsset){var o=new miniframe.ByteArray;o.fromAny(i._nativeAsset);for(var n=o.readInt32(!1),r="",a="",s="",p=0,u=0;u<n;u++)r=o.readString(),a=o.readString(),s=o.readString(),p=o.readInt32(!1),miniframe.Loader.addResourceConfig(r,a,s,p);e.nextStep()}else console.error("missing resource.bytes",t)}):this.nextStep()},e.prototype.launchSDK=function(){var e=this;minisdk.launch(function(){e.onReady()})},e.prototype.onReady=function(){this.showVersions(),this.nextStep()},e.prototype.showVersions=function(){this.m_versionLabel=this.m_parameters.version,this.m_versionWidget=null,this.m_versionLabel&&(delete this.m_parameters.version,this.m_versionWidget=this.m_versionLabel.getComponent(cc.Widget)),this.updateVersions()},e.prototype.initVersions=function(){if(!this.m_versionLabel){var e=new cc.Node("_version_");e.anchorX=1,e.anchorY=1,e.width=200,e.height=40,this.m_versionWidget=e.addComponent(cc.Widget),this.m_versionWidget.isAlignLeft=!1,this.m_versionWidget.isAlignRight=!0,this.m_versionWidget.isAlignTop=!0,this.m_versionWidget.isAlignBottom=!1,this.m_versionWidget.top=0,this.m_versionWidget.bottom=0,this.m_versionWidget.left=0,this.m_versionWidget.right=0,this.m_versionLabel=e.addComponent(cc.Label),this.m_versionLabel.overflow=cc.Label.Overflow.NONE,this.m_versionLabel.fontFamily=miniframe.UI.getUIFontFamily(),this.m_versionLabel.horizontalAlign=cc.Label.HorizontalAlign.RIGHT,this.m_versionLabel.verticalAlign=cc.Label.VerticalAlign.TOP,this.m_versionLabel.fontSize=20,this.m_versionLabel.lineHeight=30,this.m_versionLabel.node.group=miniframe.UI.getUINodeGroup()||"default",this.m_versionLabel.addComponent(cc.LabelOutline).color=cc.Color.BLACK,e.getParent()||cc.director.getScene().addChild(e),cc.game.addPersistRootNode(e)}},e.prototype.updateVersions=function(){this.initVersions(),this.m_versionLabel.string=this.getVersions(),this.checkVersionLayout()},e.prototype.getVersions=function(){var e=minisdk.getGameVersion(),t=minisdk.getGameBuild(),i=minisdk.getGameResVersion(),o="";return e&&""!=e&&(o+="v"+e),o+=".",o+=t,i&&""!=i&&(o+=".",o+=i),o+="(",(o+=miniframe.Version)+")"},e.prototype.checkVersionLayout=function(){if(this.m_versionWidget)if(minisdk.ads){var e=miniframe.UI.getUIHeight(),t=minisdk.ads.getBannerHeight();this.m_versionWidget.bottom=e*t,this.m_versionWidget.updateAlignment()}else this.m_versionWidget.bottom=0,this.m_versionWidget.updateAlignment()},e.prototype.downloadCDNConfig=function(){var e=minisdk.getGameResVersion();if(e&&""!=e){var t=minisdk.getCDN();if(t&&""!=t){var i="Config/cdn_"+e+".bytes",o=miniframe.combinePath(t,i);cc.assetManager.loadRemote(o,function(e,t){if(t){var o=new miniframe.ByteArray;o.fromAny(t);for(var n=o.readInt32(!1),r="",a="",s=0;s<n;s++)r=o.readString(),a=o.readString(),miniframe.Loader.setResourceMD5(r,a);this.nextStep()}else console.error("missing",i,e)})}}else this.nextStep()},e.prototype.nextStep=function(){switch(this.m_step++,this.m_step){case o.StartupStepDefine.LaunchSDK:this.launchSDK();break;case o.StartupStepDefine.CDNConfig:this.downloadCDNConfig();break;case o.StartupStepDefine.End:this.complete()}},e.prototype.complete=function(){var e=this.m_parameters;this.m_parameters=null,miniframe.Modules.next(e)},e}();i.StartupController=n,cc._RF.pop()},{"../Define/StartupStepDefine":"StartupStepDefine"}],StartupInitializer:[function(e,t,i){"use strict";cc._RF.push(t,"106c7Y3LpxN+5q2cQfzozTn","StartupInitializer"),Object.defineProperty(i,"__esModule",{value:!0}),i.StartupInitializer=void 0;var o=e("../Command/StartupCommand"),n=e("../Define/StartupNotificationDefine"),r=function(){function e(){}return e.CreateStartupCommand=function(){return e.ms_startupCommand},e.prototype.initialize=function(){e.ms_startupCommand||(e.ms_startupCommand=new o.StartupCommand),miniframe.Facade.registerCommand(n.StartupNotificationDefine.STARTUP_DO,e.CreateStartupCommand)},e.prototype.uninitialize=function(){miniframe.Facade.unregisterCommand(n.StartupNotificationDefine.STARTUP_DO)},e.prototype.dispose=function(){e.ms_startupCommand=null},e.ms_startupCommand=null,e}();i.StartupInitializer=r,cc._RF.pop()},{"../Command/StartupCommand":"StartupCommand","../Define/StartupNotificationDefine":"StartupNotificationDefine"}],StartupModuleConfig:[function(e,t,i){"use strict";cc._RF.push(t,"3f710CWc0pLeZxz+Sw7Q2zS","StartupModuleConfig"),Object.defineProperty(i,"__esModule",{value:!0}),i.StartupModuleConfig=void 0;var o=e("../Define/StartupNotificationDefine"),n=e("../Initialize/StartupInitializer"),r=function(e){function t(i){var r=e.call(this)||this;return r.name=t.ModuleName,r.type=miniframe.ModuleTypeDefine.MAIN,r.entryCommand=o.StartupNotificationDefine.STARTUP_DO,r.entryMediator="",r.entryParameter=null,r.isEntryModule=!0,r.isDefaultModule=!1,r.isAutoLaunch=!1,r.isAutoDispose=!0,r.isAutoNext=!1,r.nextModules=[i],r.backgroundModules=null,r.initializerClass=function(){return new n.StartupInitializer},r}return __extends(t,e),t.ModuleName="Startup",t}(miniframe.ModuleConfig);i.StartupModuleConfig=r,cc._RF.pop()},{"../Define/StartupNotificationDefine":"StartupNotificationDefine","../Initialize/StartupInitializer":"StartupInitializer"}],StartupNotificationDefine:[function(e,t,i){"use strict";cc._RF.push(t,"0838f9fTJhAL4SsqQiANVa9","StartupNotificationDefine"),Object.defineProperty(i,"__esModule",{value:!0}),i.StartupNotificationDefine=void 0;var o=function(){function e(){}return e.STARTUP_DO="STARTUP_DO",e}();i.StartupNotificationDefine=o,cc._RF.pop()},{}],StartupStepDefine:[function(e,t,i){"use strict";cc._RF.push(t,"e44eenTofJNirrStjnpW3ly","StartupStepDefine"),Object.defineProperty(i,"__esModule",{value:!0}),i.StartupStepDefine=void 0,function(e){e[e.ResourceConfig=0]="ResourceConfig",e[e.LaunchSDK=1]="LaunchSDK",e[e.CDNConfig=2]="CDNConfig",e[e.End=3]="End"}(i.StartupStepDefine||(i.StartupStepDefine={})),cc._RF.pop()},{}],StayStateController:[function(e,t,i){"use strict";cc._RF.push(t,"55f93jiOS5AuJGRNgt6DwN9","StayStateController"),Object.defineProperty(i,"__esModule",{value:!0}),i.StayStateController=void 0;var o=e("../../MiniGame"),n=e("./WindowStateController"),r=function(){function e(){this.m_stayStartTime=0,this.m_checkTimes=[],this.m_checkers={},this.m_listeningTime=!1,e.ms_instance=this}return Object.defineProperty(e,"Instance",{get:function(){return e.ms_instance||new e},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.resetStayTime(),this.listenTime()},e.prototype.addStayChecker=function(e,t,i,o){void 0===o&&(o=null);var n=new miniframe.Callback(t,i,o);this.m_checkers[e]?this.m_checkers[e].push(n):(this.m_checkers[e]=[n],this.m_checkTimes.push(e))},e.prototype.resetStayTime=function(){this.m_stayStartTime=miniframe.now()},e.prototype.getCurrentStayTime=function(){return miniframe.now()-this.m_stayStartTime},e.prototype.updateCheckers=function(){if(!(this.m_checkTimes.length<=0||n.WindowStateController.Instance.hasAnyWindowOpened()||o.MiniGame.Guide.getGuideMode()>0))for(var e=this.getCurrentStayTime(),t=this.m_checkTimes.length,i=0;i<t;i++)e>=this.m_checkTimes[i]&&this.updateCheckersByTime(this.m_checkTimes[i])},e.prototype.updateCheckersByTime=function(e){var t=this.m_checkers[e];if(t&&!(t.length<=0))for(var i=t.length,o=0;o<i;o++)t[o].invoke()},e.prototype.listenTime=function(){this.m_listeningTime||(this.m_listeningTime=!0,miniframe.Timer.addUpdateEventListener(this))},e.prototype.unlistenTime=function(){this.m_listeningTime&&(this.m_listeningTime=!1,miniframe.Timer.removeUpdateEventListener(this))},e.prototype.onTimeSystemUpdate=function(){return this.updateCheckers(),!1},e.ms_instance=null,e}();i.StayStateController=r,cc._RF.pop()},{"../../MiniGame":"MiniGame","./WindowStateController":"WindowStateController"}],StorageDataController:[function(e,t,i){"use strict";cc._RF.push(t,"b85ccRR/r5OgpL21HU8ncIt","StorageDataController"),Object.defineProperty(i,"__esModule",{value:!0}),i.StorageDataController=void 0;var o=e("../../../Extension/Storage/StorageIO"),n=e("../../../Extension/Storage/StorageTypeDefine"),r=function(){function e(){this.m_storageType=0,this.m_io=null,this.m_started=!1,this.m_listeningTime=!1,e.ms_instance=this}return Object.defineProperty(e,"Instance",{get:function(){return e.ms_instance||new e},enumerable:!1,configurable:!0}),e.prototype.initController=function(e){this.m_io?console.warn("can not init storage twice"):(this.m_storageType=e,this.m_io=new o.StorageIO(this.m_storageType,"io_groups",32))},e.prototype.addGroup=function(e,t,i){if(void 0===t&&(t=!0),void 0===i&&(i=!0),this.m_io){if(e.setStorageType(this.m_storageType),t&&i){var o=this.m_io.getGroup(e.getName(),!1);o&&e.setRawData(o.getRawData())}this.m_io.addGroup(e,t)}else console.warn("please init storage data controller first")},e.prototype.containsGroup=function(e){return this.m_io?!!this.m_io.getGroup(e,!1):null},e.prototype.start=function(e,t){var i=this;this.m_io?this.m_started?console.warn("storage data controller already started"):(this.m_started=!0,this.m_io.load(function(){e&&e.call(t),i.m_storageType!=n.StorageTypeDefine.None&&i.listenTime()},this)):console.warn("please init storage data controller first")},e.prototype.flush=function(){this.m_io&&this.m_io.flushOnNext()},e.prototype.listenTime=function(){this.m_listeningTime||(this.m_listeningTime=!0,miniframe.Timer.addUpdateEventListener(this))},e.prototype.unlistenTime=function(){this.m_listeningTime&&(this.m_listeningTime=!1,miniframe.Timer.removeUpdateEventListener(this))},e.prototype.onTimeSystemUpdate=function(e){return this.m_io.update(e),!1},e.ms_instance=null,e}();i.StorageDataController=r,cc._RF.pop()},{"../../../Extension/Storage/StorageIO":"StorageIO","../../../Extension/Storage/StorageTypeDefine":"StorageTypeDefine"}],StorageGroupData:[function(e,t,i){"use strict";cc._RF.push(t,"be872XtWbBHIIXSzYpgxh6v","StorageGroupData"),Object.defineProperty(i,"__esModule",{value:!0}),i.StorageGroupData=void 0;var o=e("./StorageGroupIO"),n=e("./StorageMetaProperty"),r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.m_properties={},t}return __extends(t,e),t.prototype.containsProperty=function(e){return void 0!==this.m_properties[e]},t.prototype.getProperty=function(e){return this.m_properties[e]},t.prototype.requestProperty=function(e){return this.containsProperty(e)||this.initProperty(e),this.getProperty(e)},t.prototype.initProperty=function(e,t){void 0===t&&(t=!0),this.m_properties[e]?console.warn("init property failed: already exist",e):(this.m_properties[e]=this.createProperty(e),this.m_properties[e]&&t&&this.onStoragePropertyChanged(this.m_properties[e]))},t.prototype.setProperty=function(e){var t=e.getName();this.m_properties[t]?console.warn("set property failed: already exist",t):(e.setListener(this),this.m_properties[t]=e,this.onStoragePropertyChanged(e))},t.prototype.removeProperty=function(e){var t=this.m_properties[e];return t&&(delete this.m_properties[e],t.setListener(null),this.onStoragePropertyChanged(t)),t},t.prototype.createProperty=function(e){var t=this.onCreateProperty(e);return t&&t.setListener(this),t},t.prototype.createMetaProperty=function(e,t){var i=new n.StorageMetaProperty(e,t);return i&&i.setListener(this),i},t.prototype.onCreateProperty=function(){},t.prototype.onSetRawData=function(){for(var e in this.m_datas)this.m_properties[e]||this.initProperty(e,!1),this.m_properties[e]&&this.m_properties[e].decode(this.m_datas[e])},t.prototype.onUpdate=function(){if(this.m_isDirty){for(var e in this.m_datas)this.m_properties[e]||delete this.m_datas[e];for(var e in this.m_properties)this.setData(e,this.m_properties[e].encode(),!1)}else{e="";for(var t=this.m_dirtyKeys.length,i=0;i<t;i++)e=this.m_dirtyKeys[i],this.m_properties[e]?this.setData(e,this.m_properties[e].encode(),!1):this.removeData(e,!1)}},t.prototype.onStoragePropertyChanged=function(e){this.addDirtyKey(e.getName())},t}(o.StorageGroupIO);i.StorageGroupData=r,cc._RF.pop()},{"./StorageGroupIO":"StorageGroupIO","./StorageMetaProperty":"StorageMetaProperty"}],StorageGroupIO:[function(e,t,i){"use strict";cc._RF.push(t,"dbad4ebyoZDGInfZgwD4js+","StorageGroupIO"),Object.defineProperty(i,"__esModule",{value:!0}),i.StorageGroupIO=void 0;var o=e("./StorageKVData"),n=e("./StorageTypeDefine"),r=function(){function e(e){this.m_groupInfo=null,this.m_name="",this.m_storageType=0,this.m_datas={},this.m_rawData="",this.m_isDirty=!1,this.m_isDirtyLocked=!1,this.m_dirtyKeys=[],this.m_waitDirtyKeys=[],this.m_name=e}return e.prototype.getName=function(){return this.m_name},e.prototype.setStorageType=function(e){this.m_storageType=e},e.prototype.setGroupInfo=function(e){this.m_groupInfo=e},e.prototype.setRawData=function(e,t){if(void 0===t&&(t=!0),this.m_rawData=e,t&&"string"==typeof this.m_rawData)try{this.m_datas=JSON.parse(this.m_rawData),this.onSetRawData()}catch(i){console.info("apply raw data failed:",i)}},e.prototype.onSetRawData=function(){},e.prototype.getRawData=function(){return this.m_rawData=JSON.stringify(this.m_datas),this.m_rawData},e.prototype.containsData=function(e){return"string"==typeof this.m_datas[e]},e.prototype.setData=function(e,t,i){void 0===i&&(i=!0),this.m_datas[e]!=t&&(this.m_datas[e]=t,i&&this.addDirtyKey(e))},e.prototype.getData=function(e){return this.m_datas[e]||""},e.prototype.removeData=function(e,t){void 0===t&&(t=!0),void 0!==this.m_datas[e]&&(delete this.m_datas[e],t&&this.addDirtyKey(e))},e.prototype.setDirty=function(){this.m_isDirty=!0},e.prototype.addDirtyKey=function(e){this.m_storageType!=n.StorageTypeDefine.None&&(this.m_isDirtyLocked?miniframe.safePush(this.m_waitDirtyKeys,e):miniframe.safePush(this.m_dirtyKeys,e))},e.prototype.lockDirty=function(){this.m_isDirtyLocked||(this.m_isDirtyLocked=!0)},e.prototype.unlockDirty=function(e){this.m_isDirtyLocked&&(e&&(this.m_dirtyKeys.length>0&&this.m_dirtyKeys.splice(0,this.m_dirtyKeys.length),this.m_waitDirtyKeys.length>0&&(miniframe.safePushList(this.m_dirtyKeys,this.m_waitDirtyKeys),this.m_waitDirtyKeys.splice(0,this.m_waitDirtyKeys.length)),this.m_isDirty=!1),this.m_isDirtyLocked=!1)},e.prototype.update=function(){return!(this.m_storageType==n.StorageTypeDefine.None||this.m_isDirtyLocked||!this.m_isDirty&&this.m_dirtyKeys.length<=0||(this.onUpdate(),this.onFlush(),this.m_isDirty=!1,this.m_dirtyKeys.splice(0,this.m_dirtyKeys.length),0))},e.prototype.onUpdate=function(){},e.prototype.onFlush=function(){if(this.m_isDirty){var e=this.getRawData();minisdk.setLocalStorageSync(this.getName(),e),this.m_storageType==n.StorageTypeDefine.Both&&minisdk.userStorage&&(this.lockDirty(),minisdk.userStorage.setRawData(this.getName(),this.getRawData(),this.m_groupInfo.time,this.onFlushComplete,this))}else if(e=this.getRawData(),minisdk.setLocalStorageSync(this.getName(),e),this.m_storageType==n.StorageTypeDefine.Both&&minisdk.userStorage){for(var t=null,i=[],r="",a=this.m_dirtyKeys.length,s=0;s<a;s++)r=this.m_dirtyKeys[s],(t=new o.StorageKVData).key=r,t.value=this.m_datas[r]||"",t.state=void 0===this.m_datas[r]?-1:0,i.push(t);this.lockDirty(),minisdk.userStorage.setDatas(this.getName(),i,this.m_groupInfo.time,this.onFlushComplete,this)}},e.prototype.onFlushComplete=function(e){this.unlockDirty(e)},e.prototype.dispose=function(){this.m_groupInfo=null},e}();i.StorageGroupIO=r,cc._RF.pop()},{"./StorageKVData":"StorageKVData","./StorageTypeDefine":"StorageTypeDefine"}],StorageGroupInfo:[function(e,t,i){"use strict";cc._RF.push(t,"11e11n5AJxDXr8+IgYiDaYL","StorageGroupInfo"),Object.defineProperty(i,"__esModule",{value:!0}),i.StorageGroupInfo=void 0;i.StorageGroupInfo=function(){this.name="",this.time=0},cc._RF.pop()},{}],StorageGroupRawData:[function(e,t,i){"use strict";cc._RF.push(t,"20977obeQpF8ICVtZkhAuJl","StorageGroupRawData"),Object.defineProperty(i,"__esModule",{value:!0}),i.StorageGroupRawData=void 0;i.StorageGroupRawData=function(){this.group="",this.rawData="",this.time=0},cc._RF.pop()},{}],StorageIO:[function(e,t,i){"use strict";cc._RF.push(t,"f143a/YSt5P8rgIUlE98ivJ","StorageIO"),Object.defineProperty(i,"__esModule",{value:!0}),i.StorageIO=void 0;var o=e("./StorageGroupIO"),n=e("./StorageGroupInfo"),r=e("./StorageTypeDefine"),a=function(){function e(e,t,i){void 0===t&&(t="io_groups"),void 0===i&&(i=1e3),this.m_loadCallback=null,this.m_loadCallbackTarget=null,this.m_loadRetry=0,this.m_loadRetryInterval=0,this.m_storageType=0,this.m_groupInfoSaveKey="",this.m_groupInfoMap={},this.m_groupInfoList=[],this.m_groups={},this.m_flushInterval=0,this.m_timePassed=0,this.m_flushOnNext=!1,this.m_storageType=e,this.m_groupInfoSaveKey=t,this.m_flushInterval=i}return e.prototype.load=function(e,t,i,o){void 0===i&&(i=10),void 0===o&&(o=1e3),this.m_loadCallback=e,this.m_loadCallbackTarget=t,this.m_loadRetry=i,this.m_loadRetryInterval=o,this.loadGroupInfos(),this.m_storageType==r.StorageTypeDefine.Both&&minisdk.userStorage?minisdk.userStorage.getAll(this.onLoadRemoteComplete,this,this.m_loadRetry,this.m_loadRetryInterval):this.onLoadRemoteComplete(!0,null)},e.prototype.loadGroupInfos=function(){var e=null,t=minisdk.getLocalStorageSync(this.m_groupInfoSaveKey);if("string"==typeof t)try{e=JSON.parse(t)}catch(n){console.info("load group infos failed:",n)}if(e&&e.length>0)for(var i=e.length,o=0;o<i;o++)this.getGroupInfo(e[o].name).time=e[o].time},e.prototype.onLoadRemoteComplete=function(e,t){var i={};if(t&&t.length>0)for(var o=t.length,n=0;n<o;n++)i[t[n].group]=t[n];var r=!1,a=null,s=null,p=null,u="";for(var c in this.m_groupInfoMap)a=this.m_groupInfoMap[c],s=this.getGroupIO(a.name),(p=i?i[a.name]:null)&&(delete i[a.name],p.time>a.time)?(a.time=p.time,s.setRawData(p.rawData),minisdk.setLocalStorageSync(a.name,p.rawData),r=!0):"string"==typeof(u=minisdk.getLocalStorageSync(a.name))&&(s.setRawData(u),p&&p.rawData==u||s.setDirty());if(i)for(var c in i)p=i[c],(a=this.getGroupInfo(c)).time=p.time,r=!0,(s=this.getGroupIO(c)).setRawData(p.rawData),minisdk.setLocalStorageSync(a.name,p.rawData);r&&this.flushLocalGroupInfos(),this.onLoadAllComplete()},e.prototype.flushLocalGroupInfos=function(){if(this.m_groupInfoList){var e=JSON.stringify(this.m_groupInfoList);minisdk.setLocalStorageSync(this.m_groupInfoSaveKey,e)}},e.prototype.onLoadAllComplete=function(){if(this.m_loadCallback){var e=this.m_loadCallback,t=this.m_loadCallbackTarget;this.m_loadCallback=null,this.m_loadCallbackTarget=null,e.call(t)}},e.prototype.update=function(e){if(this.m_flushOnNext)this.m_timePassed=0;else if(this.m_flushInterval>0){if(this.m_timePassed<this.m_flushInterval)return void(this.m_timePassed+=e);this.m_timePassed=0}this.flush()},e.prototype.flushOnNext=function(){this.m_flushOnNext=!0},e.prototype.flush=function(){this.m_flushOnNext=!1;var e=0;for(var t in this.m_groups)this.m_groups[t].update()&&e++;e>0&&this.flushLocalGroupInfos()},e.prototype.getGroup=function(e,t){if(!this.m_groups[e]){if(!t)return null;this.m_groups[e]=this.getGroupIO(e)}return this.m_groups[e]},e.prototype.addGroup=function(e,t){if(void 0===t&&(t=!1),this.m_groups[e.getName()]){if(!t)return void console.info("add group failed: already exist",e.getName());console.info("add group replace",e.getName());var i=this.m_groups[e.getName()];delete this.m_groups[e.getName()],i.dispose()}this.m_groups[e.getName()]=e,this.m_groups[e.getName()].setGroupInfo(this.getGroupInfo(e.getName()))},e.prototype.getGroupInfo=function(e){if(!this.m_groupInfoMap[e]){var t=new n.StorageGroupInfo;t.name=e,this.m_groupInfoMap[e]=t,this.m_groupInfoList.push(t)}return this.m_groupInfoMap[e]},e.prototype.getGroupIO=function(e){if(!this.m_groups[e]){var t=new o.StorageGroupIO(e);t.setStorageType(this.m_storageType),t.setGroupInfo(this.getGroupInfo(e)),this.m_groups[e]=t}return this.m_groups[e]},e}();i.StorageIO=a,cc._RF.pop()},{"./StorageGroupIO":"StorageGroupIO","./StorageGroupInfo":"StorageGroupInfo","./StorageTypeDefine":"StorageTypeDefine"}],StorageKVData:[function(e,t,i){"use strict";cc._RF.push(t,"18e82EMBRlHDqGrhql1ldfk","StorageKVData"),Object.defineProperty(i,"__esModule",{value:!0}),i.StorageKVData=void 0;i.StorageKVData=function(){this.key="",this.value="",this.state=0},cc._RF.pop()},{}],StorageMetaProperty:[function(e,t,i){"use strict";cc._RF.push(t,"cf417ANjL5LYZprYm4hjcsy","StorageMetaProperty"),Object.defineProperty(i,"__esModule",{value:!0}),i.StorageMetaProperty=void 0;var o=e("./StorageUtility"),n=function(){function e(e,t){this.m_name="",this.m_valueType=0,this.m_listener=null,this.m_value=void 0,this.m_name=e,this.m_valueType=t,this.m_value=o.StorageUtility.Init(this.m_valueType)}return e.prototype.setValue=function(e){this.m_value!=e&&(this.m_value=e,this.m_listener&&this.m_listener.onStoragePropertyChanged(this))},e.prototype.getValue=function(){return this.m_value},e.prototype.getName=function(){return this.m_name},e.prototype.setListener=function(e){this.m_listener=e},e.prototype.decode=function(e){this.m_value=o.StorageUtility.Decode(this.m_valueType,e)},e.prototype.encode=function(){return null==this.m_value?"":o.StorageUtility.Encode(this.m_valueType,this.m_value)},e}();i.StorageMetaProperty=n,cc._RF.pop()},{"./StorageUtility":"StorageUtility"}],StorageProperty:[function(e,t,i){"use strict";cc._RF.push(t,"36121yc6K9EHKAbGFuPu/7i","StorageProperty"),Object.defineProperty(i,"__esModule",{value:!0}),i.StorageProperty=void 0;var o=function(){function e(e){this.m_name="",this.m_listener=null,this.m_name=e}return e.prototype.getName=function(){return this.m_name},e.prototype.setListener=function(e){this.m_listener=e},e.prototype.decode=function(){},e.prototype.encode=function(){return""},e.prototype.notifyChanged=function(){this.m_listener&&this.m_listener.onStoragePropertyChanged(this)},e}();i.StorageProperty=o,cc._RF.pop()},{}],StorageTypeDefine:[function(e,t,i){"use strict";cc._RF.push(t,"ee0b5pHBklCl7VHfQTciNIN","StorageTypeDefine"),Object.defineProperty(i,"__esModule",{value:!0}),i.StorageTypeDefine=void 0,function(e){e[e.None=0]="None",e[e.Local=1]="Local",e[e.Both=2]="Both"}(i.StorageTypeDefine||(i.StorageTypeDefine={})),cc._RF.pop()},{}],StorageUtility:[function(e,t,i){"use strict";cc._RF.push(t,"18391qUoQBObbJ+eUBwnjvR","StorageUtility"),Object.defineProperty(i,"__esModule",{value:!0}),i.StorageUtility=void 0;var o=e("./StorageValueTypeDefine"),n=function(){function e(){}return e.Init=function(e){switch(e){case o.StorageValueTypeDefine.Vec4List:case o.StorageValueTypeDefine.Vec3List:case o.StorageValueTypeDefine.Vec2List:case o.StorageValueTypeDefine.IntList:case o.StorageValueTypeDefine.FloatList:case o.StorageValueTypeDefine.StringList:return[];case o.StorageValueTypeDefine.Vec4:return new cc.Vec4;case o.StorageValueTypeDefine.Vec3:return new cc.Vec3;case o.StorageValueTypeDefine.Vec2:return new cc.Vec2;case o.StorageValueTypeDefine.Float:case o.StorageValueTypeDefine.Int:return 0;default:return""}},e.Encode=function(t,i){switch(t){case o.StorageValueTypeDefine.Vec4List:return e.EncodeVec4List(i);case o.StorageValueTypeDefine.Vec3List:return e.EncodeVec3List(i);case o.StorageValueTypeDefine.Vec2List:return e.EncodeVec2List(i);case o.StorageValueTypeDefine.Vec4:return e.EncodeVec4(i);case o.StorageValueTypeDefine.Vec3:return e.EncodeVec3(i);case o.StorageValueTypeDefine.Vec2:return e.EncodeVec2(i);case o.StorageValueTypeDefine.IntList:case o.StorageValueTypeDefine.FloatList:case o.StorageValueTypeDefine.StringList:return i?i.join(","):"";case o.StorageValueTypeDefine.Float:case o.StorageValueTypeDefine.Int:return i+"";default:return i}},e.Decode=function(t,i){switch(t){case o.StorageValueTypeDefine.Vec4List:return e.DecodeVec4List(i);case o.StorageValueTypeDefine.Vec3List:return e.DecodeVec3List(i);case o.StorageValueTypeDefine.Vec2List:return e.DecodeVec2List(i);case o.StorageValueTypeDefine.Vec4:return e.DecodeVec4(i);case o.StorageValueTypeDefine.Vec3:return e.DecodeVec3(i);case o.StorageValueTypeDefine.Vec2:return e.DecodeVec2(i);case o.StorageValueTypeDefine.IntList:return e.DecodeIntList(i);case o.StorageValueTypeDefine.FloatList:return e.DecodeFloatList(i);case o.StorageValueTypeDefine.StringList:return i.split(",");case o.StorageValueTypeDefine.Float:return parseFloat(i);case o.StorageValueTypeDefine.Int:return parseInt(i);default:return i}},e.DecodeIntList=function(e,t){if(void 0===t&&(t=","),!e)return[];var i=e.split(t);if(!i||i.length<=0)return[];for(var o=[],n=i.length,r=0;r<n;r++)o.push(parseInt(i[r]));return o},e.DecodeFloatList=function(e,t){if(void 0===t&&(t=","),!e)return[];var i=e.split(t);if(!i||i.length<=0)return[];for(var o=[],n=i.length,r=0;r<n;r++)o.push(parseFloat(i[r]));return o},e.DecodeVec4List=function(t,i){if(void 0===i&&(i=","),!t)return[];var o=t.split(i);if(!o||o.length<=0)return[];for(var n=[],r=o.length,a=0;a<r;a++)n.push(e.DecodeVec4(o[a]));return n},e.DecodeVec3List=function(t,i){if(void 0===i&&(i=","),!t)return[];var o=t.split(i);if(!o||o.length<=0)return[];for(var n=[],r=o.length,a=0;a<r;a++)n.push(e.DecodeVec3(o[a]));return n},e.DecodeVec2List=function(t,i){void 0===i&&(i=",");var o=[];return e.DecodeVec2ListWith(o,t,i),o},e.DecodeVec2ListWith=function(t,i,o){if(void 0===o&&(o=","),!i)return[];var n=i.split(o);if(!n||n.length<=0)return[];for(var r=n.length,a=0;a<r;a++)t.push(e.DecodeVec2(n[a]))},e.DecodeVec4=function(e,t){if(void 0===t&&(t="|"),!e)return new cc.Vec4;var i=e.split(t);if(!i||i.length<=0)return new cc.Vec4;var o=new cc.Vec4;return o.x=i.length>0?parseFloat(i[0]):0,o.y=i.length>1?parseFloat(i[1]):0,o.z=i.length>2?parseFloat(i[2]):0,o.w=i.length>3?parseFloat(i[3]):0,o},e.DecodeVec3=function(e,t){if(void 0===t&&(t="|"),!e)return new cc.Vec3;var i=e.split(t);if(!i||i.length<=0)return new cc.Vec3;var o=new cc.Vec3;return o.x=i.length>0?parseFloat(i[0]):0,o.y=i.length>1?parseFloat(i[1]):0,o.z=i.length>2?parseFloat(i[2]):0,o},e.DecodeVec2=function(e,t){if(void 0===t&&(t="|"),!e)return new cc.Vec2;var i=e.split(t);if(!i||i.length<=0)return new cc.Vec2;var o=new cc.Vec2;return o.x=i.length>0?parseFloat(i[0]):0,o.y=i.length>1?parseFloat(i[1]):0,o},e.EncodeVec4List=function(t,i){void 0===i&&(i=",");for(var o="",n=t.length,r=0;r<n;r++)r>0&&(o+=i),o+=e.EncodeVec4(t[r]);return o},e.EncodeVec3List=function(t,i){void 0===i&&(i=",");for(var o="",n=t.length,r=0;r<n;r++)r>0&&(o+=i),o+=e.EncodeVec3(t[r]);return o},e.EncodeVec2List=function(t,i){void 0===i&&(i=",");for(var o="",n=t.length,r=0;r<n;r++)r>0&&(o+=i),o+=e.EncodeVec2(t[r]);return o},e.EncodeVec4=function(e,t){return void 0===t&&(t="|"),0==e.x&&0==e.y&&0==e.z&&0==e.w?"":e.x+t+e.y+t+e.z+t+e.w},e.EncodeVec3=function(e,t){return void 0===t&&(t="|"),0==e.x&&0==e.y&&0==e.z?"":e.x+t+e.y+t+e.z},e.EncodeVec2=function(e,t){return void 0===t&&(t="|"),0==e.x&&0==e.y?"":e.x+t+e.y},e}();i.StorageUtility=n,cc._RF.pop()},{"./StorageValueTypeDefine":"StorageValueTypeDefine"}],StorageValueTypeDefine:[function(e,t,i){"use strict";cc._RF.push(t,"f299eo5x1hJQrpyxy0pwayY","StorageValueTypeDefine"),Object.defineProperty(i,"__esModule",{value:!0}),i.StorageValueTypeDefine=void 0,function(e){e[e.String=0]="String",e[e.Int=1]="Int",e[e.Float=2]="Float",e[e.Vec2=3]="Vec2",e[e.Vec3=4]="Vec3",e[e.Vec4=5]="Vec4",e[e.StringList=6]="StringList",e[e.IntList=7]="IntList",e[e.FloatList=8]="FloatList",e[e.Vec2List=9]="Vec2List",e[e.Vec3List=10]="Vec3List",e[e.Vec4List=11]="Vec4List",e[e.Max=12]="Max"}(i.StorageValueTypeDefine||(i.StorageValueTypeDefine={})),cc._RF.pop()},{}],StoryUIMediator:[function(e,t,i){"use strict";cc._RF.push(t,"1cadcgmI9pE5oX/gI9E4Fn5","StoryUIMediator"),Object.defineProperty(i,"__esModule",{value:!0}),i.StoryUIMediator=void 0;var o=e("../../../../App/Mediator/BaseUIMediator"),n=e("../../../Business/Control/GuideDataController"),r=e("../../Core/Control/CoreGameController"),a=e("../Define/BusinessUILayerDefine"),s=function(e){function t(){var t=e.call(this,"StoryUIMediator","PF_Story_Base",a.BusinessUILayerDefine.Special,!0,!1,!1,!0,!0)||this;return t.m_storyBody=null,t.m_storyContainer=null,t.m_storyNodes=[],t.m_storyIndex=0,t}return __extends(t,e),t.prototype.onUIMediatorInit=function(t,i){e.prototype.onUIMediatorInit.call(this,t,i),this.m_storyContainer=miniframe.findNodeIn(t,"content",!0),this.m_storyContainer||(this.m_storyContainer=t),this.m_storyNodes.length>0&&this.m_storyNodes.splice(0,this.m_storyNodes.length);for(var o=0;o<3;o++)this.m_storyNodes.push(miniframe.findNodeIn(t,"PF_Story_Comic_"+(o+1),!0)),this.m_storyNodes[o].active=!1},t.prototype.onUIMediatorUnInit=function(){this.m_storyBody&&(this.m_storyBody.dispose(),this.m_storyBody=null),e.prototype.onUIMediatorUnInit.call(this)},t.prototype.onUIMediatorPrepare=function(t,i){e.prototype.onUIMediatorPrepare.call(this,t,i),this.setButtonVisible("next",!1)},t.prototype.onUIMediatorOpen=function(t,i){e.prototype.onUIMediatorOpen.call(this,t,i),r.CoreGameController.Instance.storyOpen(),n.GuideDataController.Instance.preloadGuide(0),this.nextStory()},t.prototype.onUIMediatorClose=function(t){e.prototype.onUIMediatorClose.call(this,t),r.CoreGameController.Instance.storyClose()},t.prototype.onButtonClick=function(t){switch(t){case"next":this.setButtonVisible("next",!1),this.changeStory();break;default:e.prototype.onButtonClick.call(this,t)}},t.prototype.nextStory=function(){this.setButtonVisible("next",!1),this.m_storyNodes.length>0?this.playStory(this.m_storyNodes.shift()):this.endStory()},t.prototype.endStory=function(){this.onClose()},t.prototype.changeStory=function(){this.m_storyBody?this.m_storyBody.playAnimation("story_comic_"+this.m_storyIndex+"_end",this.onStoryEnd,this):this.nextStory()},t.prototype.playStory=function(e){this.m_storyIndex++,this.m_storyBody?this.m_storyBody.releaseNode(!1,!1):this.m_storyBody=new miniframe.LazyNode,this.m_storyBody.bindNode(e),this.m_storyBody.playAnimation("story_comic_"+this.m_storyIndex+"_start",this.onStoryStart,this),e.active=!0},t.prototype.onStoryStart=function(){this.setButtonVisible("next",!0)},t.prototype.onStoryEnd=function(){this.nextStory()},t.prototype.onTouchEnd=function(){this.changeStory()},t}(o.BaseUIMediator);i.StoryUIMediator=s,cc._RF.pop()},{"../../../../App/Mediator/BaseUIMediator":"BaseUIMediator","../../../Business/Control/GuideDataController":"GuideDataController","../../Core/Control/CoreGameController":"CoreGameController","../Define/BusinessUILayerDefine":"BusinessUILayerDefine"}],SystemActiveUIMediator:[function(e,t,i){"use strict";cc._RF.push(t,"45036B+azhLBaciKREoVYPC","SystemActiveUIMediator"),Object.defineProperty(i,"__esModule",{value:!0}),i.SystemActiveUIMediator=void 0;var o=e("../Basic/BusinessUIMediator"),n=e("../Component/SystemActiveUIScript"),r=e("../Define/BusinessUILayerDefine"),a=e("../../Core/Control/CoreGameController"),s=e("../../../Business/Define/SystemIDDefine"),p=e("../../../Core/Express/Control/ExpressDropBody"),u=e("../../../MiniGame"),c=e("../../MediatorNameDefine"),l=e("../../../Business/Define/WindowTypeDefine"),d=e("../../../Business/Control/SystemDataController"),f=function(e){function t(){var t=e.call(this,"SystemActiveUIMediator","PF_UI_SystemActive",r.BusinessUILayerDefine.Popup,!1,!1,!0,!0,!0,l.WindowTypeDefine.Default)||this;return t.m_systemActiveScript=null,t.m_systemID=0,t.m_nextConfigs=[],t}return __extends(t,e),t.prototype.onUIMediatorInit=function(t,i){e.prototype.onUIMediatorInit.call(this,t,i),this.m_systemActiveScript=t?t.getComponent(n.default):null},t.prototype.onUIMediatorUnInit=function(){this.m_systemActiveScript=null,e.prototype.onUIMediatorUnInit.call(this)},t.prototype.onUIMediatorPrepare=function(t,i){e.prototype.onUIMediatorPrepare.call(this,t,i);var o=i;this.m_systemID=o.getId();var n=o?o.getOpenActiveIndex()-1:-1;if(this.m_systemActiveScript)for(var r=this.m_systemActiveScript.systemNodes.length,a=0;a<r;a++)this.m_systemActiveScript.systemNodes[a]&&(this.m_systemActiveScript.systemNodes[a].active=a==n)},t.prototype.onUIMediatorRefresh=function(t){e.prototype.onUIMediatorRefresh.call(this,t),this.m_nextConfigs.push(t)},t.prototype.onUIMediatorBeginClose=function(t){var i=this;e.prototype.onUIMediatorBeginClose.call(this,t);var o=new p.ExpressDropBody;o.loadResource("PF_Fly_System_"+this.m_systemID),o.setParent(this.m_systemActiveScript.systemContainer),o.setPosition(cc.Vec2.ZERO),o.setScale(new cc.Vec2(1.5,1.5)),o.getNode()?this.onFlySystem(o):o.setLoadCallback(function(){i.onFlySystem(o)},this)},t.prototype.onUIMediatorClose=function(t){e.prototype.onUIMediatorClose.call(this,t),this.m_nextConfigs.length>0&&u.MiniGame.MVC.openMediator(c.MediatorNameDefine.SystemActiveUIMediator,this.m_nextConfigs.shift())},t.prototype.onButtonClick=function(t){e.prototype.onButtonClick.call(this,t)},t.prototype.onFlySystem=function(e){var t="",i=this.m_systemID;i==s.SystemIDDefine.BookAndWeapon?t="bookweapon":i==s.SystemIDDefine.Event?t="event":i==s.SystemIDDefine.ExpressTarget?t="expresstarget":i==s.SystemIDDefine.Wanted&&(t="wanted");var o=a.CoreGameController.Instance.getFlyNodePosition(t);a.CoreGameController.Instance.flyUINodeTo(e,1,o,void 0,void 0,function(){d.SystemDataController.Instance.onSystemActive(i)},this,void 0,void 0,.5)},t}(o.BusinessUIMediator);i.SystemActiveUIMediator=f,cc._RF.pop()},{"../../../Business/Control/SystemDataController":"SystemDataController","../../../Business/Define/SystemIDDefine":"SystemIDDefine","../../../Business/Define/WindowTypeDefine":"WindowTypeDefine","../../../Core/Express/Control/ExpressDropBody":"ExpressDropBody","../../../MiniGame":"MiniGame","../../Core/Control/CoreGameController":"CoreGameController","../../MediatorNameDefine":"MediatorNameDefine","../Basic/BusinessUIMediator":"BusinessUIMediator","../Component/SystemActiveUIScript":"SystemActiveUIScript","../Define/BusinessUILayerDefine":"BusinessUILayerDefine"}],SystemActiveUIScript:[function(e,t,i){"use strict";cc._RF.push(t,"66a5cow70JCHZ/+wWK1O3zv","SystemActiveUIScript"),Object.defineProperty(i,"__esModule",{value:!0});var o=cc._decorator,n=o.ccclass,r=o.property,a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.systemContainer=null,t.systemNodes=[],t}return __extends(t,e),__decorate([r(cc.Node)],t.prototype,"systemContainer",void 0),__decorate([r([cc.Node])],t.prototype,"systemNodes",void 0),__decorate([n],t)}(cc.Component);i.default=a,cc._RF.pop()},{}],SystemDataController:[function(e,t,i){"use strict";cc._RF.push(t,"49ddcr2N9hO261hFF0y5IAi","SystemDataController"),Object.defineProperty(i,"__esModule",{value:!0}),i.SystemDataController=void 0;var o=e("../../../Config/ConfigKeyDefine"),n=e("../../MiniGame"),r=e("../../Module/MediatorNameDefine"),a=e("../Data/SystemData"),s=e("../Define/ConditionTypeDefine"),p=e("../Define/ControlCodeDefine"),u=e("../Define/WindowTypeDefine"),c=e("./CharDataController"),l=e("./ConfigDataController"),d=e("./ExpressDataController"),f=e("./GuideDataController"),g=e("./ItemDataController"),m=e("./StorageDataController"),h=e("./WindowStateController"),_=function(){function e(){this.m_systems=null,this.m_systemConditionToIDs=null,this.m_waitOpenSystemIDs=[],e.ms_instance=this,n.MiniGame.SystemOpen.registerDefaultConditionHandler(l.ConfigDataController.Instance.checkCondition),c.CharDataController.Instance.addListener(this),d.ExpressDataController.Instance.addListener(this),g.ItemDataController.Instance.addListener(this),f.GuideDataController.Instance.addListener(this),h.WindowStateController.Instance.addListener(this),this.initSystemConfigs()}return Object.defineProperty(e,"Instance",{get:function(){return e.ms_instance||new e},enumerable:!1,configurable:!0}),e.prototype.initController=function(){this.m_systems||(this.m_systems=new a.SystemData,m.StorageDataController.Instance.addGroup(this.m_systems))},e.prototype.initData=function(){if(this.m_systems){var e=this.m_systems.getOpenedSystemIDs();if(e&&e.length>0)for(var t=e.length,i=0;i<t;i++)n.MiniGame.SystemOpen.setSystemState(e[i],!0,!0,!1)}},e.prototype.isSystemOpen=function(e){return!!n.MiniGame.SystemOpen.isSystemOpen(e)&&(this.m_systems&&this.m_systems.handlAddOpenedSystemID(e),!0)},e.prototype.initSystemConfigs=function(){if(!this.m_systemConditionToIDs){this.m_systemConditionToIDs={};var e=null,t=miniframe.Config.getDataMap(o.ConfigKeyDefine.OPENCOND);for(var i in t)e=t[i],this.addSystemIDByConditions(e.getConditions(),e.getId())}},e.prototype.addSystemIDByConditions=function(e,t){for(var i=e.length,o=0;o<i;o++)this.addSystemIDByCondition(e[o],t)},e.prototype.addSystemIDByCondition=function(e,t){var i=this.getSystemConditionKey(e.x,e.y,e.z);null!=i&&(this.m_systemConditionToIDs[i]?this.m_systemConditionToIDs[i].push(t):this.m_systemConditionToIDs[i]=[t])},e.prototype.getSystemConditionKey=function(e,t,i){switch(e){case s.ConditionTypeDefine.Value:case s.ConditionTypeDefine.PreCity:case s.ConditionTypeDefine.CityStar:case s.ConditionTypeDefine.ActiveTarget:return e+"|"+t;case s.ConditionTypeDefine.GetItem:return e+"|"+t+"|"+i;case s.ConditionTypeDefine.TaskGuideComplete:return e+"";default:return}},e.prototype.checkSystemsByCondition=function(e,t,i){void 0===t&&(t=0),void 0===i&&(i=0);var o=this.getSystemConditionKey(e,t,i);if(null!=o){var r=this.m_systemConditionToIDs[o];if(r&&!(r.length<=0))for(var a=r.length,s=0;s<a;s++)n.MiniGame.SystemOpen.isSystemOpen(r[s])?(r.splice(s,1),s--,a--):(n.MiniGame.SystemOpen.checkSystem(r[s],!1,!1),n.MiniGame.SystemOpen.isSystemOpen(r[s])&&(this.onSystemOpen(r[s]),r.splice(s,1),s--,a--))}},e.prototype.onSystemOpen=function(e,t){if(void 0===t&&(t=!1),this.m_systems&&this.m_systems.handlAddOpenedSystemID(e),t||!h.WindowStateController.Instance.hasAnyWindowOpened(u.WindowTypeDefine.Default)){var i=miniframe.Config.getData(o.ConfigKeyDefine.OPENCOND,e);i&&(i.getOpenActiveIndex()<=0?this.onSystemActive(e):n.MiniGame.MVC.openMediator(r.MediatorNameDefine.SystemActiveUIMediator,i,!0))}else miniframe.safePush(this.m_waitOpenSystemIDs,e)},e.prototype.openSystem=function(e){n.MiniGame.SystemOpen.isSystemOpen(e)||(n.MiniGame.SystemOpen.setSystemState(e,!0,!1,!1),this.onSystemOpen(e))},e.prototype.onSystemActive=function(e){var t=n.MiniGame.SystemOpen.getButtons(e);if(t&&t.length>0)for(var i=null,o=t.length,r=0;r<o;r++)""!=t[r].getTipsHandler()&&n.MiniGame.ButtonTips.refreshButtonTipsByHandler(t[r].getTipsHandler()),(i=t[r].getNode().getComponent(cc.Animation))&&i.play("system_open");n.MiniGame.SystemOpen.notifySystemOpen(e)},e.prototype.onDataControllerUpdate=function(e,t){switch(e){case p.ControlCodeDefine.CharValueListChange:for(var i=t,o=i.length,n=0;n<o;n++)this.checkSystemsByCondition(s.ConditionTypeDefine.Value,i[n]);break;case p.ControlCodeDefine.ExpressCityActive:this.checkSystemsByCondition(s.ConditionTypeDefine.PreCity,t);break;case p.ControlCodeDefine.ExpressCityStarChange:this.checkSystemsByCondition(s.ConditionTypeDefine.CityStar,t);break;case p.ControlCodeDefine.ExpressTargetListActive:var r=t;if(!r||r.length<=0)return;for(o=r.length,n=0;n<o;n++)this.checkSystemsByCondition(s.ConditionTypeDefine.ActiveTarget,r[n]);this.checkSystemsByCondition(s.ConditionTypeDefine.ActiveTarget,0);break;case p.ControlCodeDefine.ExpressCommitTask:this.checkSystemsByCondition(s.ConditionTypeDefine.TaskGuideComplete);break;case p.ControlCodeDefine.ItemAdd:this.checkSystemsByCondition(s.ConditionTypeDefine.GetItem,t.getConfigID()),this.checkSystemsByCondition(s.ConditionTypeDefine.GetItem,0,t.getItemType()),this.checkSystemsByCondition(s.ConditionTypeDefine.TaskGuideComplete);break;case p.ControlCodeDefine.WindowAllClosed:if(this.m_waitOpenSystemIDs.length>0)for(;this.m_waitOpenSystemIDs.length>0;)this.onSystemOpen(this.m_waitOpenSystemIDs.shift(),!0)}},e.ms_instance=null,e}();i.SystemDataController=_,cc._RF.pop()},{"../../../Config/ConfigKeyDefine":"ConfigKeyDefine","../../MiniGame":"MiniGame","../../Module/MediatorNameDefine":"MediatorNameDefine","../Data/SystemData":"SystemData","../Define/ConditionTypeDefine":"ConditionTypeDefine","../Define/ControlCodeDefine":"ControlCodeDefine","../Define/WindowTypeDefine":"WindowTypeDefine","./CharDataController":"CharDataController","./ConfigDataController":"ConfigDataController","./ExpressDataController":"ExpressDataController","./GuideDataController":"GuideDataController","./ItemDataController":"ItemDataController","./StorageDataController":"StorageDataController","./WindowStateController":"WindowStateController"}],SystemData:[function(e,t,i){"use strict";cc._RF.push(t,"1aba1puiPxALbPa+bRj2P1h","SystemData"),Object.defineProperty(i,"__esModule",{value:!0}),i.SystemData=void 0;var o=e("../../../Extension/Storage/StorageGroupData"),n=e("./IntListStorageProperty"),r=function(e){function t(){var t=e.call(this,"i_system")||this;return t.m_openedSystemIDs=null,t}return __extends(t,e),t.prototype.onCreateProperty=function(i){return i==t.Name_OpenedSystemIDList?(this.m_openedSystemIDs||(this.m_openedSystemIDs=new n.IntListStorageProperty(i)),this.m_openedSystemIDs):e.prototype.onCreateProperty.call(this,i)},t.prototype.isSystemOpen=function(e){return this.m_openedSystemIDs||this.initProperty(t.Name_OpenedSystemIDList),!!this.m_openedSystemIDs&&this.m_openedSystemIDs.containsIntValue(e)},t.prototype.getOpenedSystemIDs=function(){return this.m_openedSystemIDs?this.m_openedSystemIDs.getIntList():null},t.prototype.handlAddOpenedSystemID=function(e,i){return void 0===i&&(i=!0),this.m_openedSystemIDs||this.initProperty(t.Name_OpenedSystemIDList),!(!this.m_openedSystemIDs||this.m_openedSystemIDs.containsIntValue(e)||(this.m_openedSystemIDs.pushIntValue(e,0,i),0))},t.Name_OpenedSystemIDList="opens",t}(o.StorageGroupData);i.SystemData=r,cc._RF.pop()},{"../../../Extension/Storage/StorageGroupData":"StorageGroupData","./IntListStorageProperty":"IntListStorageProperty"}],SystemIDDefine:[function(e,t,i){"use strict";cc._RF.push(t,"7fb14lum2lOvZbl12W021n9","SystemIDDefine"),Object.defineProperty(i,"__esModule",{value:!0}),i.SystemIDDefine=void 0,function(e){e[e.BookAndWeapon=1]="BookAndWeapon",e[e.Event=2]="Event",e[e.ExpressTarget=3]="ExpressTarget",e[e.Wanted=4]="Wanted",e[e.CityEntry=7]="CityEntry",e[e.CityMonsterCanFight=8]="CityMonsterCanFight",e[e.CityBenefit=9]="CityBenefit",e[e.CityBuildingCanLevelUp=10]="CityBuildingCanLevelUp",e[e.CityCanStarUp=11]="CityCanStarUp",e[e.CityBuildingCanBuild=12]="CityBuildingCanBuild"}(i.SystemIDDefine||(i.SystemIDDefine={})),cc._RF.pop()},{}],SystemOpenController:[function(e,t,i){"use strict";cc._RF.push(t,"13014l/91dOkpLAJ9uwZnLn","SystemOpenController"),Object.defineProperty(i,"__esModule",{value:!0}),i.SystemOpenController=void 0;var o=e("../../Config/ConfigKeyDefine"),n=e("./SystemOpenData"),r=e("../Prompt/PromptController"),a=e("../Locale/LocaleController"),s=e("./SystemOpenPromptTagDefine"),p=function(){function e(){this.m_systemDatas=null,this.m_defaultConditionHandler=null,this.m_conditionHandlers={},this.m_listeners=new miniframe.Queue,e.ms_instance=this}return Object.defineProperty(e,"Instance",{get:function(){return e.ms_instance||new e},enumerable:!1,configurable:!0}),e.prototype.initDatas=function(){if(!this.m_systemDatas){this.m_systemDatas={};var e=null,t=null,i=miniframe.Config.getDataMap(o.ConfigKeyDefine.OPENCOND);for(var r in i)e=i[r],(t=new n.SystemOpenData).systemID=e.getId(),"function"==typeof e.getCondition?t.conditions=[new miniframe.Number3(e.getCondition(),e.getValue(),0)]:"function"==typeof e.getConditions&&(t.conditions=e.getConditions()),"function"==typeof e.getCheckType?t.checkType=e.getCheckType():t.checkType=0,t.nameLan=e.getNameLan(),t.descLan=e.getSystemOpenDescLan(),this.m_systemDatas[t.systemID]=t}},e.prototype.addListener=function(e){this.m_listeners.add(e)},e.prototype.removeListener=function(e){this.m_listeners.remove(e)},e.prototype.registerButton=function(e){this.initDatas();var t=this.m_systemDatas[e.getSystemID()];t&&miniframe.safePush(t.buttons,e)&&e.setSystemState(this.isSystemOpen(e.getSystemID()))},e.prototype.unregisterButton=function(e){this.initDatas();var t=this.m_systemDatas[e.getSystemID()];t&&(t.buttons.length<=0||miniframe.safeRemove(t.buttons,e))},e.prototype.getButtons=function(e){var t=this.m_systemDatas[e];return t?t.buttons:null},e.prototype.registerDefaultConditionHandler=function(e){this.m_defaultConditionHandler=e},e.prototype.registerConditionHandler=function(e,t){this.m_conditionHandlers[e]=t},e.prototype.isSystemOpen=function(e,t){void 0===t&&(t=!1),this.initDatas();var i=this.m_systemDatas[e];return!!i&&(i.isOpen||t&&i.descLan>0&&r.PromptController.Instance.openPromptByTag(s.SystemOpenPromptTagDefine.SystemHint,a.LocaleController.Instance.getLanguage(i.descLan)),i.isOpen)},e.prototype.setSystemState=function(e,t,i,o){void 0===i&&(i=!0),void 0===o&&(o=!0),this.initDatas();var n=this.m_systemDatas[e];if(n&&n.isOpen!=t&&(n.isOpen=t,n.isOpen)){if(i&&n.buttons.length>0)for(var r=n.buttons.length,a=0;a<r;a++)n.buttons[a].setSystemState(!0);o&&this.notifySystemOpen(e)}},e.prototype.checkAllSystems=function(e,t){for(var i in void 0===e&&(e=!0),void 0===t&&(t=!0),this.initDatas(),this.m_systemDatas)this.checkSystemData(this.m_systemDatas[i],e,t)},e.prototype.checkSystem=function(e,t,i){void 0===t&&(t=!0),void 0===i&&(i=!0),this.initDatas();var o=this.m_systemDatas[e];o&&this.checkSystemData(o,t,i)},e.prototype.checkSystemByCondition=function(e,t,i){for(var o in void 0===t&&(t=!0),void 0===i&&(i=!0),this.initDatas(),this.m_systemDatas)this.m_systemDatas[o].containsCondition(e)&&this.checkSystemData(this.m_systemDatas[o],t,i)},e.prototype.checkSystemData=function(e,t,i){if(void 0===t&&(t=!0),void 0===i&&(i=!0),this.initDatas(),!e.isOpen){var o=!0;if(e.conditions&&e.conditions.length>0){for(var n=0,r=null,a=null,s=e.conditions.length,p=0;p<s;p++){if(r=e.conditions[p],!(a=this.m_conditionHandlers[r.x]||this.m_defaultConditionHandler)){if(1==e.checkType)continue;o=!1;break}if(!a(r.x,r.y,r.z)){if(1==e.checkType)continue;o=!1;break}n++}1==e.checkType&&(o=n>0)}if(e.isOpen=o,e.isOpen){if(t&&e.buttons.length>0)for(s=e.buttons.length,p=0;p<s;p++)e.buttons[p].setSystemState(!0);i&&this.notifySystemOpen(e.systemID)}}},e.prototype.clearAllSystems=function(){this.m_systemDatas=null},e.prototype.notifySystemOpen=function(e){if(this.m_listeners.hasElement()){this.m_listeners.beginIterate();for(var t=this.m_listeners.getCount(),i=0;i<t;i++)this.m_listeners.getAt(i).onSystemOpen(e);this.m_listeners.endIterate()}},e.ms_instance=null,e}();i.SystemOpenController=p,cc._RF.pop()},{"../../Config/ConfigKeyDefine":"ConfigKeyDefine","../Locale/LocaleController":"LocaleController","../Prompt/PromptController":"PromptController","./SystemOpenData":"SystemOpenData","./SystemOpenPromptTagDefine":"SystemOpenPromptTagDefine"}],SystemOpenData:[function(e,t,i){"use strict";cc._RF.push(t,"c3e8dAlEKlA7rxeXI82HlY5","SystemOpenData"),Object.defineProperty(i,"__esModule",{value:!0}),i.SystemOpenData=void 0;var o=function(){function e(){this.systemID=0,this.nameLan=0,this.descLan=0,this.conditions=null,this.checkType=0,this.isOpen=!1,this.buttons=[]}return e.prototype.containsCondition=function(e){if(this.conditions&&this.conditions.length>0)for(var t=this.conditions.length,i=0;i<t;i++)if(this.conditions[i].x==e)return!0;return!1},e}();i.SystemOpenData=o,cc._RF.pop()},{}],SystemOpenPromptTagDefine:[function(e,t,i){"use strict";cc._RF.push(t,"81076a8lw5IU4Q3MQwwF4xk","SystemOpenPromptTagDefine"),Object.defineProperty(i,"__esModule",{value:!0}),i.SystemOpenPromptTagDefine=void 0;var o=function(){function e(){}return e.SystemHint="system_hint",e}();i.SystemOpenPromptTagDefine=o,cc._RF.pop()},{}],TargetEventListItemUIViewScript:[function(e,t,i){"use strict";cc._RF.push(t,"39d3fbzFm1FKZ7JA21efFXI","TargetEventListItemUIViewScript"),Object.defineProperty(i,"__esModule",{value:!0});var o=e("../../../../Extension/UI/Label/UITextScript"),n=e("../../../../Extension/UI/Item/ItemUIViewScript"),r=cc._decorator,a=r.ccclass,s=r.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.icon=null,t.titleLabel=null,t.activeNode=null,t.deactiveNode=null,t}return __extends(t,e),__decorate([s(cc.Sprite)],t.prototype,"icon",void 0),__decorate([s(o.default)],t.prototype,"titleLabel",void 0),__decorate([s(cc.Node)],t.prototype,"activeNode",void 0),__decorate([s(cc.Node)],t.prototype,"deactiveNode",void 0),__decorate([a],t)}(n.default);i.default=p,cc._RF.pop()},{"../../../../Extension/UI/Item/ItemUIViewScript":"ItemUIViewScript","../../../../Extension/UI/Label/UITextScript":"UITextScript"}],TargetEventListItemUIView:[function(e,t,i){"use strict";cc._RF.push(t,"7616eniIQ9GFKnY78PZBQgj","TargetEventListItemUIView"),Object.defineProperty(i,"__esModule",{value:!0}),i.TargetEventListItemUIView=void 0;var o=e("../../../../Config/ConfigKeyDefine"),n=e("../../../../Extension/UI/Sprite/UISprite"),r=e("../../../Business/Control/ConfigDataController"),a=e("../../../Business/Control/ItemDataController"),s=e("../../../Business/Define/ItemPackTypeDefine"),p=e("../../../MiniGame"),u=e("../../MediatorNameDefine"),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.m_icon=null,t.m_awardV2=null,t.m_isActivated=!1,t.m_isComplete=!1,t.m_eventBagConfig=null,t.m_awardItemConfig=null,t}return __extends(t,e),t.prototype.onInitScript=function(){e.prototype.onInitScript.call(this);var t=this.getScript();t&&t.icon&&(this.m_icon||(this.m_icon=new n.UISprite),this.m_icon.bindScript(t.icon))},t.prototype.onSetData=function(e,t,i){return i&&(this.m_eventBagConfig=null,this.m_awardItemConfig=null,this.m_awardV2=null,this.m_isActivated=!1,this.m_isComplete=!1),this.m_isActivated=!1,!this.m_eventBagConfig&&t&&(this.m_eventBagConfig=miniframe.Config.getData(o.ConfigKeyDefine.EXPRESS_EVENT_BAG,t),this.m_eventBagConfig&&(this.m_awardItemConfig=miniframe.Config.getData(o.ConfigKeyDefine.ITEM_INFO,this.m_eventBagConfig.getAwardId()))),this.m_eventBagConfig?(i&&(e.titleLabel&&e.titleLabel.setLanguage(this.m_eventBagConfig.getTitleLan()),this.m_icon&&(this.m_awardItemConfig?(this.m_icon.hookAtlasSprite(this.m_awardItemConfig.getIconAt(0),this.m_awardItemConfig.getIconAt(1)),this.m_icon.getNode().setPosition(new cc.Vec2(miniframe.toNumber(this.m_awardItemConfig.getIconAt(2)),miniframe.toNumber(this.m_awardItemConfig.getIconAt(3))))):this.m_icon.clear())),this.m_isComplete=a.ItemDataController.Instance.getItemCountByConfigID(s.ItemPackTypeDefine.Default,this.m_eventBagConfig.getAwardId())>0,this.m_isComplete?(this.m_isActivated=!0,e.activeNode&&(e.activeNode.active=!0),e.deactiveNode&&(e.deactiveNode.active=!1)):(this.m_awardV2||(this.m_awardV2=r.ConfigDataController.Instance.getCombineItemNeeeds(this.m_eventBagConfig.getAwardId())),(this.m_awardV2?a.ItemDataController.Instance.getItemCountByConfigID(s.ItemPackTypeDefine.Default,this.m_awardV2.x):0)>0?(this.m_isActivated=!0,e.activeNode&&(e.activeNode.active=!0),e.deactiveNode&&(e.deactiveNode.active=!1)):(e.activeNode&&(e.activeNode.active=!1),e.deactiveNode&&(e.deactiveNode.active=!0)))):(e.activeNode&&(e.activeNode.active=!1),e.deactiveNode&&(e.deactiveNode.active=!0)),!0},t.prototype.onButtonClick=function(t){switch(t){case"check":if(this.m_isActivated){if(!this.m_eventBagConfig)return;p.MiniGame.MVC.openMediator(u.MediatorNameDefine.EventContentUIMediator,this.m_eventBagConfig)}else{var i=p.MiniGame.Locale.getLanguage(100203);p.MiniGame.MVC.openMediator(u.MediatorNameDefine.PromptAutoUIMediator,i,!0)}break;default:e.prototype.onButtonClick.call(this,t)}},t.prototype.getAwardNeedItemID=function(){return this.m_awardV2?this.m_awardV2.x:0},t}(e("../Basic/BusinessItemUIView").BusinessItemUIView);i.TargetEventListItemUIView=c,cc._RF.pop()},{"../../../../Config/ConfigKeyDefine":"ConfigKeyDefine","../../../../Extension/UI/Sprite/UISprite":"UISprite","../../../Business/Control/ConfigDataController":"ConfigDataController","../../../Business/Control/ItemDataController":"ItemDataController","../../../Business/Define/ItemPackTypeDefine":"ItemPackTypeDefine","../../../MiniGame":"MiniGame","../../MediatorNameDefine":"MediatorNameDefine","../Basic/BusinessItemUIView":"BusinessItemUIView"}],TargetListItemUIViewScript:[function(e,t,i){"use strict";cc._RF.push(t,"5bca4fV1oNHYIHasKCIczs5","TargetListItemUIViewScript"),Object.defineProperty(i,"__esModule",{value:!0});var o=e("../../../../Extension/UI/Label/UITextScript"),n=e("../../../../Extension/UI/Item/ItemUIViewScript"),r=cc._decorator,a=r.ccclass,s=r.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.icon=null,t.nameLabel=null,t.activeNode=null,t.deactiveNode=null,t.awardNode=null,t}return __extends(t,e),__decorate([s(cc.Sprite)],t.prototype,"icon",void 0),__decorate([s(o.default)],t.prototype,"nameLabel",void 0),__decorate([s(cc.Node)],t.prototype,"activeNode",void 0),__decorate([s(cc.Node)],t.prototype,"deactiveNode",void 0),__decorate([s(cc.Node)],t.prototype,"awardNode",void 0),__decorate([a],t)}(n.default);i.default=p,cc._RF.pop()},{"../../../../Extension/UI/Item/ItemUIViewScript":"ItemUIViewScript","../../../../Extension/UI/Label/UITextScript":"UITextScript"}],TargetListItemUIView:[function(e,t,i){"use strict";cc._RF.push(t,"7e844xpK8FPrYPW929iCy8p","TargetListItemUIView"),Object.defineProperty(i,"__esModule",{value:!0}),i.TargetListItemUIView=void 0;var o=e("../../../../Config/ConfigKeyDefine"),n=e("../../../../Extension/UI/Sprite/UISprite"),r=e("../../../Business/Control/ConfigDataController"),a=e("../../../Business/Control/ExpressDataController"),s=e("../../../Business/Define/ConditionTypeDefine"),p=e("../../../MiniGame"),u=e("../../MediatorNameDefine"),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.m_icon=null,t.m_isActivated=!1,t.m_listener=null,t}return __extends(t,e),t.prototype.setListener=function(e){this.m_listener=e},t.prototype.onInitScript=function(){e.prototype.onInitScript.call(this);var t=this.getScript();t&&t.icon&&(this.m_icon||(this.m_icon=new n.UISprite),this.m_icon.bindScript(t.icon))},t.prototype.onSetData=function(t,i,o){if(o&&(this.m_isActivated=!1),i){o&&(this.m_icon&&(this.m_icon.hookAtlasSprite(i.getFigureAt(0),i.getFigureAt(1)),this.m_icon.getNode().setPosition(new cc.Vec2(miniframe.toNumber(i.getFigureAt(2)),miniframe.toNumber(i.getFigureAt(3))))),t.nameLabel&&t.nameLabel.setLanguage(i.getNameLan())),this.m_isActivated=r.ConfigDataController.Instance.isConditionAchieved(i.getConditions()),t.activeNode&&(t.activeNode.active=this.m_isActivated),t.deactiveNode&&(t.deactiveNode.active=!this.m_isActivated);var n=!a.ExpressDataController.Instance.isTargetAwardHasDrawn(i.getId());t.awardNode&&(t.awardNode.active=n),this.m_icon&&this.m_icon.setShaderProperty("disableLevel",this.m_isActivated?0:1)}else this.m_icon&&this.m_icon.clear();return e.prototype.onSetData.call(this,t,i,o)},t.prototype.onButtonClick=function(t){switch(t){case"check":if(!this.getData())return;if(this.m_isActivated)p.MiniGame.MVC.openMediator(u.MediatorNameDefine.GuestIntroUIMediator,this.getData());else{var i=this.getData();if(i){for(var n=0,r=i.getConditionsCount(),c=0;c<r;c++)i.getConditionsAt(c).x==s.ConditionTypeDefine.CityStar&&(n=i.getConditionsAt(c).y,i.getConditionsAt(c).z);if(n>0){var l=miniframe.Config.getData(o.ConfigKeyDefine.EXPRESS_CITY,n);if(l){var d=p.MiniGame.Locale.getLanguageFormat(100204,p.MiniGame.Locale.getLanguage(l.getShortNameLan()));p.MiniGame.MVC.openMediator(u.MediatorNameDefine.PromptAutoUIMediator,d,!0)}}}}break;case"draw":if(!this.getData())return;a.ExpressDataController.Instance.handleDrawTargetAward(this.getData().getId());break;default:e.prototype.onButtonClick.call(this,t)}},t}(e("../Basic/BusinessItemUIView").BusinessItemUIView);i.TargetListItemUIView=c,cc._RF.pop()},{"../../../../Config/ConfigKeyDefine":"ConfigKeyDefine","../../../../Extension/UI/Sprite/UISprite":"UISprite","../../../Business/Control/ConfigDataController":"ConfigDataController","../../../Business/Control/ExpressDataController":"ExpressDataController","../../../Business/Define/ConditionTypeDefine":"ConditionTypeDefine","../../../MiniGame":"MiniGame","../../MediatorNameDefine":"MediatorNameDefine","../Basic/BusinessItemUIView":"BusinessItemUIView"}],TargetListUIMediator:[function(e,t,i){"use strict";cc._RF.push(t,"bf502EY35dBG5w1w0JaZRZo","TargetListUIMediator"),Object.defineProperty(i,"__esModule",{value:!0}),i.TargetListUIMediator=void 0;var o=e("../../../../Config/ConfigKeyDefine"),n=e("../../../../Extension/UI/Scroll/UIScrollScript"),r=e("../../../../Extension/UI/Tab/UITabScript"),a=e("../../../../Extension/UI/Scroll/UIScrollList"),s=e("../../../../Extension/UI/Sprite/UISprite"),p=e("../../../../Extension/UI/Tab/UITab"),u=e("../../../Business/Control/ConfigDataController"),c=e("../../../Business/Control/ExpressDataController"),l=e("../../../Business/Define/ConditionTypeDefine"),d=e("../../../Business/Define/ControlCodeDefine"),f=e("../Basic/BusinessUIMediator"),g=e("../../../MiniGame"),m=e("../Component/TargetListUIScript"),h=e("../Define/BusinessUILayerDefine"),_=e("../View/TargetListItemUIView"),y=e("../../MediatorNameDefine"),C=e("../../../Business/Define/ButtonTipsHandlerDefine"),I=e("../../../Business/Define/WindowTypeDefine"),D=function(e){function t(){var t=e.call(this,"TargetListUIMediator","PF_UI_TargetList",h.BusinessUILayerDefine.UI,!1,!1,!0,!0,!0,I.WindowTypeDefine.Default)||this;return t.m_targetListScript=null,t.m_icon=null,t.m_configList=null,t.m_tab=null,t.m_scroll=null,t.m_constConfig=null,t}return __extends(t,e),t.prototype.onUIMediatorInit=function(t,i){e.prototype.onUIMediatorInit.call(this,t,i),this.m_targetListScript=t.getComponent(m.default),this.m_targetListScript&&this.m_targetListScript.icon&&(this.m_icon||(this.m_icon=new s.UISprite),this.m_icon.bindScript(this.m_targetListScript.icon));var u=t.getComponent(r.default);u&&(this.m_tab||(this.m_tab=new p.UITab,this.m_tab.setListener(this)),this.m_tab.bindScript(u));var c=t.getComponentInChildren(n.default);c&&(this.m_scroll||(this.m_scroll=new a.UIScrollList(_.TargetListItemUIView,this.getMediatorName()),this.m_scroll.setListener(this)),this.m_scroll.bindScript(c)),this.m_constConfig=miniframe.Config.getData(o.ConfigKeyDefine.CONST,1010)},t.prototype.onUIMediatorUnInit=function(){this.m_icon&&(this.m_icon.dispose(),this.m_icon=null),this.m_tab&&(this.m_tab.dispose(),this.m_tab=null),this.m_scroll&&(this.m_scroll.dispose(),this.m_scroll=null),this.m_targetListScript=null,e.prototype.onUIMediatorUnInit.call(this)},t.prototype.onUIMediatorPrepare=function(t,i){e.prototype.onUIMediatorPrepare.call(this,t,i);var o=0;"number"==typeof i&&(o=i),this.m_tab&&this.m_tab.selectTab(o,!0,!0),this.hidePopup(!1),this.updateProgress(),c.ExpressDataController.Instance.addListener(this)},t.prototype.onUIMediatorOpen=function(t,i){e.prototype.onUIMediatorOpen.call(this,t,i),this.m_scroll&&this.m_scroll.scrollToTop()},t.prototype.onUIMediatorClose=function(t){e.prototype.onUIMediatorClose.call(this,t),c.ExpressDataController.Instance.removeListener(this)},t.prototype.onButtonClick=function(i){switch(i){case"close_popup":this.hidePopup(!0);break;case"question":var n=this.m_tab.getSelectedIndex(),r=t.TargetTypes[n],a=r-1,s=u.ConfigDataController.Instance.getExpressTargetsBuildingID(r),p=miniframe.Config.getData(o.ConfigKeyDefine.EXPRESS_BUILDING,s),c=p?g.MiniGame.Locale.getLanguage(p.getNameLan()):"",l=g.MiniGame.Locale.getLanguage(100101+a);g.MiniGame.Instance.requestComplexPromptData(100202,this.onCreateAutoPromptData,this,[c,l],[r]);break;default:e.prototype.onButtonClick.call(this,i)}},t.prototype.onCreateAutoPromptData=function(e){g.MiniGame.MVC.openMediator(y.MediatorNameDefine.PromptAutoUIMediator,e,!0)},t.prototype.onCreateSimplePromptData=function(e){g.MiniGame.MVC.openMediator(y.MediatorNameDefine.PromptSimpleUIMediator,e,!0)},t.prototype.showPopup=function(){this.m_targetListScript&&this.m_targetListScript.popupNode&&(this.m_targetListScript.popupNode.active=!0,this.m_script&&this.m_script.viewAniComp&&this.m_script.viewAniComp.play("targetlistdeactive_open"))},t.prototype.hidePopup=function(e){if(this.m_targetListScript&&this.m_targetListScript.popupNode)return e&&this.m_script&&this.m_script.viewAniComp?(this.m_script.viewAniComp.on(cc.Animation.EventType.FINISHED,this.onHidePopupComplete,this),void this.m_script.viewAniComp.play("targetlistdeactive_close")):void(this.m_targetListScript.popupNode.active=!1)},t.prototype.onHidePopupComplete=function(){this.m_script.viewAniComp.off(cc.Animation.EventType.FINISHED,this.onHidePopupComplete,this),this.m_targetListScript.popupNode.active=!1},t.prototype.updateTargetInfo=function(e){if(this.m_icon&&this.m_icon.hookAtlasSprite("ATLAS_GuestTS","type_"+e),this.m_targetListScript&&(this.m_targetListScript.nameLabel&&this.m_targetListScript.nameLabel.setLanguage(this.m_constConfig.getValueAt(e-1)),this.m_targetListScript.rateLabel)){var t="",i=0,o=u.ConfigDataController.Instance.getTargetTradeBasicRate(e);t="number"==typeof o?(i=o*(1+.01*c.ExpressDataController.Instance.getAreaTaskRate(c.ExpressDataController.Instance.getAreaID(),e)))>Math.floor(i)?i.toFixed(2):i+"":(i=o)+"",this.m_targetListScript.rateLabel.string=t+"%"}},t.prototype.updateProgress=function(){if(this.m_targetListScript&&this.m_targetListScript.progressLabel){for(var e=0,i=0,o=null,n=0,r=t.TargetTypes.length,a=0;a<r;a++){n=(o=u.ConfigDataController.Instance.getExpressTargetConfigsByType(t.TargetTypes[a])).length;for(var s=0;s<n;s++)u.ConfigDataController.Instance.isConditionAchieved(o[s].getConditions())&&e++;i+=o.length}this.m_targetListScript.progressLabel.string=e+"/"+i}},t.prototype.onTargetListItemUIViewClick=function(e){if(this.m_targetListScript){var t=e.getData();if(t){for(var i=0,n=0,r=t.getConditionsCount(),a=0;a<r;a++)t.getConditionsAt(a).x==l.ConditionTypeDefine.CityStar&&(i=t.getConditionsAt(a).y,n=t.getConditionsAt(a).z);if(i>0){var s=miniframe.Config.getData(o.ConfigKeyDefine.EXPRESS_CITY,i);if(s){this.m_targetListScript.conditionLabel&&this.m_targetListScript.conditionLabel.setLanguage(s.getNameLan());var p=this.m_targetListScript.conditionStarNodes.length;for(a=0;a<p;a++)this.m_targetListScript.conditionStarNodes[a]&&(this.m_targetListScript.conditionStarNodes[a].active=a<n);this.showPopup()}}}}},t.prototype.onUITabButtonInit=function(e,t){this.onButtonInit(t)},t.prototype.onUITabSelect=function(e,i){if(i>=0&&i<t.TargetTypes.length){var o=t.TargetTypes[i];this.m_configList=u.ConfigDataController.Instance.getExpressTargetConfigsByType(o),this.m_scroll&&this.m_scroll.setDataList(this.m_configList,!0),this.updateTargetInfo(o)}},t.prototype.onUIScrollListItemInit=function(e,t,i){i.setListener(this)},t.prototype.onUIScrollListFocusOn=function(){},t.prototype.compareItemDatas=function(e,t,i){return t.getId()==i},t.prototype.onDataControllerUpdate=function(e,t){switch(e){case d.ControlCodeDefine.ExpressTargetAwardUpdate:var i=miniframe.Config.getData(o.ConfigKeyDefine.EXPRESS_TARGET,t);if(i){var n=miniframe.Config.getData(o.ConfigKeyDefine.DROPBAG,i.getDropbag());if(n){var r=[g.MiniGame.Locale.getLanguage(i.getNameLan()),g.MiniGame.Locale.getLanguage(n.getDropsAt(0).x,o.ConfigKeyDefine.LAN_VALUES),n.getDropsAt(0).y],a=[n.getDropsAt(0).x];g.MiniGame.Instance.requestComplexPromptData(100205,this.onCreateSimplePromptData,this,r,a)}g.MiniGame.ButtonTips.refreshButtonTipsByHandler(C.ButtonTipsHandlerDefine.TargetAwardPrefix+i.getType())}this.m_scroll&&this.m_scroll.refreshDataListWith(this.compareItemDatas,t,!1)}},t.TargetTypes=[1,2,3,4],t}(f.BusinessUIMediator);i.TargetListUIMediator=D,cc._RF.pop()},{"../../../../Config/ConfigKeyDefine":"ConfigKeyDefine","../../../../Extension/UI/Scroll/UIScrollList":"UIScrollList","../../../../Extension/UI/Scroll/UIScrollScript":"UIScrollScript","../../../../Extension/UI/Sprite/UISprite":"UISprite","../../../../Extension/UI/Tab/UITab":"UITab","../../../../Extension/UI/Tab/UITabScript":"UITabScript","../../../Business/Control/ConfigDataController":"ConfigDataController","../../../Business/Control/ExpressDataController":"ExpressDataController","../../../Business/Define/ButtonTipsHandlerDefine":"ButtonTipsHandlerDefine","../../../Business/Define/ConditionTypeDefine":"ConditionTypeDefine","../../../Business/Define/ControlCodeDefine":"ControlCodeDefine","../../../Business/Define/WindowTypeDefine":"WindowTypeDefine","../../../MiniGame":"MiniGame","../../MediatorNameDefine":"MediatorNameDefine","../Basic/BusinessUIMediator":"BusinessUIMediator","../Component/TargetListUIScript":"TargetListUIScript","../Define/BusinessUILayerDefine":"BusinessUILayerDefine","../View/TargetListItemUIView":"TargetListItemUIView"}],TargetListUIScript:[function(e,t,i){"use strict";cc._RF.push(t,"97e88k+WQZD5pg+AGywoyk0","TargetListUIScript"),Object.defineProperty(i,"__esModule",{value:!0});var o=e("../../../../Extension/UI/Label/UITextScript"),n=cc._decorator,r=n.ccclass,a=n.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.popupNode=null,t.progressLabel=null,t.icon=null,t.nameLabel=null,t.rateLabel=null,t.conditionLabel=null,t.conditionStarNodes=[],t}return __extends(t,e),__decorate([a(cc.Node)],t.prototype,"popupNode",void 0),__decorate([a(o.default)],t.prototype,"progressLabel",void 0),__decorate([a(cc.Sprite)],t.prototype,"icon",void 0),__decorate([a(o.default)],t.prototype,"nameLabel",void 0),__decorate([a(o.default)],t.prototype,"rateLabel",void 0),__decorate([a(o.default)],t.prototype,"conditionLabel",void 0),__decorate([a([cc.Node])],t.prototype,"conditionStarNodes",void 0),__decorate([r],t)}(cc.Component);i.default=s,cc._RF.pop()},{"../../../../Extension/UI/Label/UITextScript":"UITextScript"}],TaskConfigData:[function(e,t,i){"use strict";cc._RF.push(t,"315c9mFM2RDZL6VH2swjvGp","TaskConfigData"),Object.defineProperty(i,"__esModule",{value:!0}),i.TaskConfigData=void 0;var o=function(){function e(e){this.m_data=null,this.m_conditions=[],this.m_data=e,this.init()}return e.prototype.getId=function(){return this.m_data.getId()},e.prototype.getNameLan=function(){return this.m_data.getNameLan()},e.prototype.getDescLan=function(){return this.m_data.getDescLan()},e.prototype.getHintLans=function(){return this.m_data.getHintLansList()},e.prototype.getHintLansCount=function(){return this.m_data.getHintLansList().length},e.prototype.getHintLansAt=function(e){return e<0||e>=this.m_data.getHintLansList().length?0:this.m_data.getHintLansList()[e]},e.prototype.getConditions=function(){return this.m_conditions},e.prototype.getConditionsCount=function(){return this.m_conditions.length},e.prototype.getConditionsAt=function(e){return e<0||e>=this.m_conditions.length?null:this.m_conditions[e]},e.prototype.getType=function(){return this.m_data.getType()},e.prototype.getSubType=function(){return this.m_data.getSubType()},e.prototype.getTargets=function(){return this.m_data.getTargetsList()},e.prototype.getTargetsCount=function(){return this.m_data.getTargetsList().length},e.prototype.getTargetsAt=function(e){return e<0||e>=this.m_data.getTargetsList().length?0:this.m_data.getTargetsList()[e]},e.prototype.getDropbag=function(){return this.m_data.getDropbag()},e.prototype.init=function(){this.m_conditions=miniframe.Number3.parseListFrom(this.m_data.getConditionsList())},e.prototype.getConfigKey=function(){return this.getId()},e}();i.TaskConfigData=o,cc._RF.pop()},{}],TaskDataController:[function(e,t,i){"use strict";cc._RF.push(t,"f7151UbrY1HdKCEUQ3nhukB","TaskDataController"),Object.defineProperty(i,"__esModule",{value:!0}),i.TaskDataController=void 0;var o=e("../../../Config/ConfigKeyDefine"),n=e("../../../Extension/DataControl/BasicDataController"),r=e("../Data/TaskPackageData"),a=e("../Define/ControlCodeDefine"),s=e("../Define/TaskStateDefine"),p=e("../Define/TaskTypeDefine"),u=e("./CharDataController"),c=e("./StorageDataController"),l=function(e){function t(){var i=e.call(this)||this;return i.m_taskPacks=null,t.ms_instance=i,i}return __extends(t,e),Object.defineProperty(t,"Instance",{get:function(){return t.ms_instance||new t},enumerable:!1,configurable:!0}),t.prototype.initController=function(){if(!this.m_taskPacks){this.m_taskPacks={};var e=new r.TaskPackageData(p.TaskTypeDefine.Trade);this.m_taskPacks[e.getTaskType()]=e,c.StorageDataController.Instance.addGroup(e)}},t.prototype.initData=function(){var e=null,t=null,i=null;for(var n in this.m_taskPacks)for(var r in e=this.m_taskPacks[n].getTaskDataMap())(t=e[r]).getState()==s.TaskStateDefine.Finish?i?i.push(t):i=[t]:this.notifyUpdate(a.ControlCodeDefine.TaskAdd,t);if(i&&i.length>0)for(var p=null,c=null;i.length>0;)t=i.pop(),(p=miniframe.Config.getData(o.ConfigKeyDefine.TASK,t.getConfigID()))&&(c=miniframe.Config.getData(o.ConfigKeyDefine.DROPBAG,p.getDropbag()))&&u.CharDataController.Instance.handleAddCharValues(c.getDrops()),this.handleRemoveTask(t.getTaskType(),t.getUID())},t.prototype.getTaskPack=function(e){return this.m_taskPacks[e]},t.prototype.getTaskData=function(e,t){var i=this.m_taskPacks[e];return i?i.getTaskData(t):null},t.prototype.getTaskDataByConfigID=function(e,t){var i=this.m_taskPacks[e];return i?i.getTaskDataByConfigID(t):null},t.prototype.getTaskCountByStates=function(e,t){var i=this.m_taskPacks[e];return i?i.getTaskCountByStates(t):0},t.prototype.hasTaskDataWithStateByConfigID=function(e,t,i){var o=this.m_taskPacks[e];return!!o&&o.hasTaskDataWithStateByConfigID(t,i)},t.prototype.hasTaskDataWithStateByTypes=function(e,t,i){var o=this.m_taskPacks[e];return!!o&&o.hasTaskDataWithStateBySubType(t,i)},t.prototype.handleAddTask=function(e,t,i){void 0===i&&(i=!0);var o=this.m_taskPacks[e];return!!o&&!!o.handleAddTask(t)&&(i&&this.notifyUpdate(a.ControlCodeDefine.TaskAdd,t),!0)},t.prototype.handleSetTaskState=function(e,t,i,o){void 0===o&&(o=!0);var n=this.m_taskPacks[e];return!!n&&!!n.handleSetTaskState(t,i)&&(o&&this.notifyUpdate(a.ControlCodeDefine.TaskStateUpdate,n.getTaskData(t)),!0)},t.prototype.handleSetTaskParameter=function(e,t,i,o,n){void 0===n&&(n=!0);var r=this.m_taskPacks[e];return!!r&&!!r.handleSetTaskParameter(t,i,o)&&(n&&this.notifyUpdate(a.ControlCodeDefine.TaskParameterUpdate,r.getTaskData(t)),!0)},t.prototype.handleSetTaskParameters=function(e,t,i,o){void 0===o&&(o=!0);var n=this.m_taskPacks[e];return!!n&&!!n.handleSetTaskParameters(t,i)&&(o&&this.notifyUpdate(a.ControlCodeDefine.TaskParameterUpdate,n.getTaskData(t)),!0)},t.prototype.handleRemoveTask=function(e,t,i){void 0===i&&(i=!0);var o=this.m_taskPacks[e];if(!o)return!1;var n=o.handleRemoveTask(t);return!!n&&(i&&this.notifyUpdate(a.ControlCodeDefine.TaskRemove,n),!0)},t.ms_instance=null,t}(n.BasicDataController);i.TaskDataController=l,cc._RF.pop()},{"../../../Config/ConfigKeyDefine":"ConfigKeyDefine","../../../Extension/DataControl/BasicDataController":"BasicDataController","../Data/TaskPackageData":"TaskPackageData","../Define/ControlCodeDefine":"ControlCodeDefine","../Define/TaskStateDefine":"TaskStateDefine","../Define/TaskTypeDefine":"TaskTypeDefine","./CharDataController":"CharDataController","./StorageDataController":"StorageDataController"}],TaskData:[function(e,t,i){"use strict";cc._RF.push(t,"4a67b3LppBK/JvifueeZaBR","TaskData"),Object.defineProperty(i,"__esModule",{value:!0}),i.TaskData=void 0;var o=e("../../../Config/ConfigKeyDefine"),n=function(e){function t(t){var i=e.call(this,t)||this;return i.m_taskType=NaN,i.m_taskSubType=NaN,i}return __extends(t,e),t.prototype.getUID=function(){return this.getName()},t.prototype.getConfigID=function(){return this.getIntValueAt(t.Index_ConfigID)},t.prototype.setConfigID=function(e,i){void 0===i&&(i=!0),this.setIntValueAt(t.Index_ConfigID,e,i)},t.prototype.getState=function(){return this.getIntValueAt(t.Index_State)},t.prototype.setState=function(e,i){void 0===i&&(i=!0),this.setIntValueAt(t.Index_State,e,i)},t.prototype.getTaskType=function(){return this.initTask(),this.m_taskType},t.prototype.getTaskSubType=function(){return this.initTask(),this.m_taskSubType},t.prototype.initTask=function(){if(isNaN(this.m_taskType)){this.m_taskType=0,this.m_taskSubType=0;var e=miniframe.Config.getData(o.ConfigKeyDefine.TASK,this.getConfigID());e&&(this.m_taskType=e.getType(),this.m_taskSubType=e.getSubType())}},t.prototype.getParameterAt=function(e){return this.getIntValueAt(t.Index_ParameterStart+e)},t.prototype.setParameterAt=function(e,i,o){void 0===o&&(o=!0),this.setIntValueAt(t.Index_ParameterStart+e,i,o)},t.Index_ConfigID=0,t.Index_State=1,t.Index_ParameterStart=2,t}(e("./IntListStorageProperty").IntListStorageProperty);i.TaskData=n,cc._RF.pop()},{"../../../Config/ConfigKeyDefine":"ConfigKeyDefine","./IntListStorageProperty":"IntListStorageProperty"}],TaskGuideConfigData:[function(e,t,i){"use strict";cc._RF.push(t,"8334ecpJhBKSoDX+IL6Cyrr","TaskGuideConfigData"),Object.defineProperty(i,"__esModule",{value:!0}),i.TaskGuideConfigData=void 0;var o=function(){function e(e){this.m_data=null,this.m_complete_conditions=[],this.m_task_ranges=[],this.m_data=e,this.init()}return e.prototype.getId=function(){return this.m_data.getId()},e.prototype.getTaskId=function(){return this.m_data.getTaskId()},e.prototype.getCompleteTaskState=function(){return this.m_data.getCompleteTaskState()},e.prototype.getCompleteConditions=function(){return this.m_complete_conditions},e.prototype.getCompleteConditionsCount=function(){return this.m_complete_conditions.length},e.prototype.getCompleteConditionsAt=function(e){return e<0||e>=this.m_complete_conditions.length?null:this.m_complete_conditions[e]},e.prototype.getTaskRanges=function(){return this.m_task_ranges},e.prototype.getTaskRangesCount=function(){return this.m_task_ranges.length},e.prototype.getTaskRangesAt=function(e){return e<0||e>=this.m_task_ranges.length?null:this.m_task_ranges[e]},e.prototype.getCheckType=function(){return this.m_data.getCheckType()},e.prototype.init=function(){this.m_complete_conditions=miniframe.Number3.parseListFrom(this.m_data.getCompleteConditionsList()),this.m_task_ranges=miniframe.Number2.parseListFrom(this.m_data.getTaskRangesList())},e.prototype.getConfigKey=function(){return this.getId()},e}();i.TaskGuideConfigData=o,cc._RF.pop()},{}],TaskPackageData:[function(e,t,i){"use strict";cc._RF.push(t,"d5322YVAh1CSoNdEJwGb01Q","TaskPackageData"),Object.defineProperty(i,"__esModule",{value:!0}),i.TaskPackageData=void 0;var o=e("../../../Extension/Storage/StorageGroupData"),n=e("./TaskData"),r=function(e){function t(t){var i=e.call(this,"i_task_"+t)||this;return i.m_taskType=0,i.m_taskType=t,i}return __extends(t,e),t.prototype.onCreateProperty=function(e){return new n.TaskData(e)},t.prototype.getTaskType=function(){return this.m_taskType},t.prototype.getTaskData=function(e){return this.getProperty(e)},t.prototype.getTaskDataByConfigID=function(e){var t=null;for(var i in this.m_properties)if((t=this.m_properties[i]).getConfigID()==e)return t;return null},t.prototype.getTaskDataMap=function(){return this.m_properties},t.prototype.getTaskCountByStates=function(e){var t=0,i=null;for(var o in this.m_properties)i=this.m_properties[o],-1!=e.indexOf(i.getState())&&t++;return t},t.prototype.hasTaskDataWithStateByConfigID=function(e,t){var i=null;for(var o in this.m_properties)if((i=this.m_properties[o]).getConfigID()==e&&i.getState()==t)return!0;return!1},t.prototype.hasTaskDataWithStateBySubType=function(e,t){var i=null;for(var o in this.m_properties)if((i=this.m_properties[o]).getTaskSubType()==e&&i.getState()==t)return!0;return!1},t.prototype.handleAddTask=function(e){return this.setProperty(e),!0},t.prototype.handleSetTaskState=function(e,t){var i=this.getProperty(e);return!!i&&(i.setState(t),!0)},t.prototype.handleSetTaskParameter=function(e,t,i){var o=this.getProperty(e);return!!o&&(o.setParameterAt(t,i),!0)},t.prototype.handleSetTaskParameters=function(e,t){var i=this.getProperty(e);if(!i)return!1;for(var o=t.length,n=0;n<o;n++)i.setParameterAt(t[n].x,t[n].y,!1);return i.notifyChanged(),!0},t.prototype.handleRemoveTask=function(e){return this.removeProperty(e)},t}(o.StorageGroupData);i.TaskPackageData=r,cc._RF.pop()},{"../../../Extension/Storage/StorageGroupData":"StorageGroupData","./TaskData":"TaskData"}],TaskStateDefine:[function(e,t,i){"use strict";cc._RF.push(t,"d7cebXChWZCNJ6BUvKM8Yjt","TaskStateDefine"),Object.defineProperty(i,"__esModule",{value:!0}),i.TaskStateDefine=void 0,function(e){e[e.NotAccept=0]="NotAccept",e[e.CanAccept=1]="CanAccept",e[e.Doing=2]="Doing",e[e.Finish=3]="Finish",e[e.Commit=4]="Commit"}(i.TaskStateDefine||(i.TaskStateDefine={})),cc._RF.pop()},{}],TaskTargetConfigData:[function(e,t,i){"use strict";cc._RF.push(t,"64935QWwthLna7VcbKkLgWP","TaskTargetConfigData"),Object.defineProperty(i,"__esModule",{value:!0}),i.TaskTargetConfigData=void 0;var o=function(){function e(e){this.m_data=null,this.m_param3=[],this.m_data=e,this.init()}return e.prototype.getId=function(){return this.m_data.getId()},e.prototype.getType=function(){return this.m_data.getType()},e.prototype.getParam1=function(){return this.m_data.getParam1()},e.prototype.getParam2=function(){return this.m_data.getParam2List()},e.prototype.getParam2Count=function(){return this.m_data.getParam2List().length},e.prototype.getParam2At=function(e){return e<0||e>=this.m_data.getParam2List().length?0:this.m_data.getParam2List()[e]},e.prototype.getParam3=function(){return this.m_param3},e.prototype.getParam3Count=function(){return this.m_param3.length},e.prototype.getParam3At=function(e){return e<0||e>=this.m_param3.length?null:this.m_param3[e]},e.prototype.getParam4=function(){return this.m_data.getParam4()},e.prototype.init=function(){this.m_param3=miniframe.Number2.parseListFrom(this.m_data.getParam3List())},e.prototype.getConfigKey=function(){return this.getId()},e}();i.TaskTargetConfigData=o,cc._RF.pop()},{}],TaskTriggerConfigData:[function(e,t,i){"use strict";cc._RF.push(t,"e4ab3fKBAZOaYAJu9D7qvmN","TaskTriggerConfigData"),Object.defineProperty(i,"__esModule",{value:!0}),i.TaskTriggerConfigData=void 0;var o=function(){function e(e){this.m_data=null,this.m_trigger_conditions=[],this.m_data=e,this.init()}return e.prototype.getId=function(){return this.m_data.getId()},e.prototype.getTaskIds=function(){return this.m_data.getTaskIdsList()},e.prototype.getTaskIdsCount=function(){return this.m_data.getTaskIdsList().length},e.prototype.getTaskIdsAt=function(e){return e<0||e>=this.m_data.getTaskIdsList().length?0:this.m_data.getTaskIdsList()[e]},e.prototype.getTriggerConditions=function(){return this.m_trigger_conditions},e.prototype.getTriggerConditionsCount=function(){return this.m_trigger_conditions.length},e.prototype.getTriggerConditionsAt=function(e){return e<0||e>=this.m_trigger_conditions.length?null:this.m_trigger_conditions[e]},e.prototype.getCheckType=function(){return this.m_data.getCheckType()},e.prototype.getDaylimitCount=function(){return this.m_data.getDaylimitCount()},e.prototype.getLimitCount=function(){return this.m_data.getLimitCount()},e.prototype.init=function(){this.m_trigger_conditions=miniframe.Number3.parseListFrom(this.m_data.getTriggerConditionsList())},e.prototype.getConfigKey=function(){return this.getId()},e}();i.TaskTriggerConfigData=o,cc._RF.pop()},{}],TaskTriggerData:[function(e,t,i){"use strict";cc._RF.push(t,"339812LkpBIt700ZBVIUjlh","TaskTriggerData"),Object.defineProperty(i,"__esModule",{value:!0}),i.TaskTriggerData=void 0;var o=e("../../../Extension/Storage/StorageGroupData"),n=e("./TaskTriggerItemData"),r=function(e){function t(){var t=e.call(this,"i_task_trigger")||this;return t.m_map={},t}return __extends(t,e),t.prototype.onCreateProperty=function(e){var t=parseInt(e);return this.m_map[t]||(this.m_map[t]=new n.TaskTriggerItemData(t)),this.m_map[t]},t.prototype.getTaskTriggerData=function(e){return this.m_map[e]},t.prototype.getTaskTriggerDatas=function(){return this.m_map},t.prototype.addCount=function(e,t,i,o){return void 0===o&&(o=!0),this.m_map[e]||this.initProperty(e.toString()),!!this.m_map[e]&&(this.m_map[e].addCount(t,!1),this.m_map[e].addDailyCount(t,!1),this.m_map[e].setDailyTime(i,o),!0)},t.prototype.setDailyCount=function(e,t,i,o){return void 0===o&&(o=!0),this.m_map[e]||this.initProperty(e.toString()),!!this.m_map[e]&&(this.m_map[e].setDailyCount(t,!1),this.m_map[e].setDailyTime(i,o),!0)},t}(o.StorageGroupData);i.TaskTriggerData=r,cc._RF.pop()},{"../../../Extension/Storage/StorageGroupData":"StorageGroupData","./TaskTriggerItemData":"TaskTriggerItemData"}],TaskTriggerItemData:[function(e,t,i){"use strict";cc._RF.push(t,"4202aNtQkNERr34zMhyiRhI","TaskTriggerItemData"),Object.defineProperty(i,"__esModule",{value:!0}),i.TaskTriggerItemData=void 0;var o=e("../../../Config/ConfigKeyDefine"),n=function(e){function t(t){var i=e.call(this,t.toString())||this;return i.m_triggerID=0,i.m_limitCount=NaN,i.m_dayLimitCount=0,i.m_triggerID=t,i}return __extends(t,e),t.prototype.getTriggerID=function(){return this.m_triggerID},t.prototype.getLimitCount=function(){return this.initTaskTriggerInfo(),this.m_limitCount},t.prototype.getDayLimitCount=function(){return this.initTaskTriggerInfo(),this.m_dayLimitCount},t.prototype.initTaskTriggerInfo=function(){if(isNaN(this.m_limitCount)){this.m_limitCount=0,this.m_dayLimitCount=0;var e=miniframe.Config.getData(o.ConfigKeyDefine.TASK_TRIGGER,this.m_triggerID);e&&(this.m_limitCount=e.getLimitCount(),this.m_dayLimitCount=e.getDaylimitCount())}},t.prototype.getCount=function(){return this.getIntValueAt(t.Index_Count)},t.prototype.setCount=function(e,i){void 0===i&&(i=!0),this.setIntValueAt(t.Index_Count,e,i)},t.prototype.addCount=function(e,t){void 0===t&&(t=!0),this.setCount(this.getCount()+e,t)},t.prototype.getDailyCount=function(){return this.getIntValueAt(t.Index_DailyCount)},t.prototype.setDailyCount=function(e,i){void 0===i&&(i=!0),this.setIntValueAt(t.Index_DailyCount,e,i)},t.prototype.addDailyCount=function(e,t){void 0===t&&(t=!0),this.setCount(this.getCount()+e,t)},t.prototype.getDailyTime=function(){return this.getIntValueAt(t.Index_DailyTime)},t.prototype.setDailyTime=function(e,i){void 0===i&&(i=!0),this.setIntValueAt(t.Index_DailyTime,e,i)},t.prototype.isFull=function(){return!(this.getLimitCount()<=0)&&this.getCount()>=this.getLimitCount()},t.prototype.isDailyFull=function(){return!(this.getDayLimitCount()<=0)&&this.getDailyCount()>=this.getDayLimitCount()},t.Index_Count=0,t.Index_DailyCount=1,t.Index_DailyTime=1,t}(e("./IntListStorageProperty").IntListStorageProperty);i.TaskTriggerItemData=n,cc._RF.pop()},{"../../../Config/ConfigKeyDefine":"ConfigKeyDefine","./IntListStorageProperty":"IntListStorageProperty"}],TaskTypeDefine:[function(e,t,i){"use strict";cc._RF.push(t,"122c5uXaDNO7aZXDNy+pKP6","TaskTypeDefine"),Object.defineProperty(i,"__esModule",{value:!0}),i.TaskTypeDefine=void 0,function(e){e[e.Trade=11]="Trade"}(i.TaskTypeDefine||(i.TaskTypeDefine={})),cc._RF.pop()},{}],TradeTaskData:[function(e,t,i){"use strict";cc._RF.push(t,"c81195cFb1B7qKvwWrrkCBU","TradeTaskData"),Object.defineProperty(i,"__esModule",{value:!0}),i.TradeTaskData=void 0;i.TradeTaskData=function(){this.taskConfigID=0,this.targetID=0,this.targetType=0,this.routeIDs=null,this.tradeType=0,this.tradeEvents=null},cc._RF.pop()},{}],UIButtonScript:[function(e,t,i){"use strict";cc._RF.push(t,"dd915GeufhLfrbZwzF4BJL6","UIButtonScript"),Object.defineProperty(i,"__esModule",{value:!0});var o=e("../Label/UITextScript"),n=cc._decorator,r=n.ccclass,a=n.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.label=null,t.buttonKey="",t.clickAudioID=0,t.clickAudio="",t.clickJump="",t.isNavigation=!1,t.isNavigationToggle=!1,t.isNavigationMain=!1,t.navigationHandler="",t.navigationOnNode=null,t.navigationOffNode=null,t.systemID=0,t.systemUnLockNode=null,t.systemLockNode=null,t.systemLockPrompt=!0,t.tipsNode=null,t.tipsNodeList=[],t.tipsLabel=null,t.tipsParent="",t.tipsHandler="",t.switchOnNode=null,t.switchOffNode=null,t.autoGray=!1,t.grayContainer=null,t}return __extends(t,e),__decorate([a(o.default)],t.prototype,"label",void 0),__decorate([a(cc.String)],t.prototype,"buttonKey",void 0),__decorate([a(cc.Integer)],t.prototype,"clickAudioID",void 0),__decorate([a(cc.String)],t.prototype,"clickAudio",void 0),__decorate([a(cc.String)],t.prototype,"clickJump",void 0),__decorate([a(cc.Boolean)],t.prototype,"isNavigation",void 0),__decorate([a({visible:function(){return this.isNavigation}})],t.prototype,"isNavigationToggle",void 0),__decorate([a({visible:function(){return this.isNavigation}})],t.prototype,"isNavigationMain",void 0),__decorate([a({visible:function(){return this.isNavigation}})],t.prototype,"navigationHandler",void 0),__decorate([a({type:cc.Node,visible:function(){return this.isNavigation}})],t.prototype,"navigationOnNode",void 0),__decorate([a({type:cc.Node,visible:function(){return this.isNavigation}})],t.prototype,"navigationOffNode",void 0),__decorate([a(cc.Integer)],t.prototype,"systemID",void 0),__decorate([a({type:cc.Node,visible:function(){return this.systemID>0}})],t.prototype,"systemUnLockNode",void 0),__decorate([a({type:cc.Node,visible:function(){return this.systemID>0}})],t.prototype,"systemLockNode",void 0),__decorate([a({visible:function(){return this.systemID>0}})],t.prototype,"systemLockPrompt",void 0),__decorate([a(cc.Node)],t.prototype,"tipsNode",void 0),__decorate([a([cc.Node])],t.prototype,"tipsNodeList",void 0),__decorate([a({type:o.default,visible:function(){return this.tipsNode||this.tipsNodeList.length>0}})],t.prototype,"tipsLabel",void 0),__decorate([a({visible:function(){return this.tipsNode||this.tipsNodeList.length>0}})],t.prototype,"tipsParent",void 0),__decorate([a({visible:function(){return this.tipsNode||this.tipsNodeList.length>0}})],t.prototype,"tipsHandler",void 0),__decorate([a(cc.Node)],t.prototype,"switchOnNode",void 0),__decorate([a(cc.Node)],t.prototype,"switchOffNode",void 0),__decorate([a(cc.Boolean)],t.prototype,"autoGray",void 0),__decorate([a({type:cc.Node,visible:function(){return this.autoGray}})],t.prototype,"grayContainer",void 0),__decorate([r],t)}(cc.Button);i.default=s,cc._RF.pop()},{"../Label/UITextScript":"UITextScript"}],UIButton:[function(e,t,i){"use strict";cc._RF.push(t,"2fd03f4Q4pP1YxUKQwYF3Y4","UIButton"),Object.defineProperty(i,"__esModule",{value:!0}),i.UIButton=void 0;var o=e("./UIButtonScript"),n=function(e){function t(i){void 0===i&&(i="");var n=e.call(this,i,o.default)||this;return n.m_buttonUID=0,n.m_tipsState=0,n.m_tipsText="",n.m_interactable=!0,n.m_gray=!1,n.m_listener=null,n.m_autoGray=!1,t.ms_buttonUIDCounter++,n.m_buttonUID=t.ms_buttonUIDCounter,n}return __extends(t,e),Object.defineProperty(t.prototype,"uiScript",{get:function(){return this.m_script},enumerable:!1,configurable:!0}),t.prototype.getButtonUID=function(){return this.m_buttonUID},t.prototype.setInteractable=function(e){this.m_interactable!=e&&(this.m_interactable=e,this.uiScript&&(this.uiScript.interactable=e))},t.prototype.getInteractable=function(){return this.m_interactable},t.prototype.setGray=function(e){this.m_gray!=e&&(this.m_gray=e,this.updateGrayState())},t.prototype.updateGrayState=function(){this.m_node&&this.m_autoGray&&(this.uiScript&&this.uiScript.grayContainer?miniframe.grayNode(this.uiScript.grayContainer,this.m_gray):miniframe.grayNode(this.m_node,this.m_gray))},t.prototype.setColor=function(e,t){if(void 0===t&&(t=!0),this.m_node)if(t)for(var i=this.m_node.getComponentsInChildren(cc.Sprite),o=i.length,n=0;n<o;n++)i[n].node.color=e;else this.m_node.color=e},t.prototype.setListener=function(e){this.m_listener!=e&&(this.m_listener=e,this.m_node&&(this.m_listener?this.onEvent(cc.Node.EventType.TOUCH_END,this.onButtonClickEvent,this):this.offEvent(cc.Node.EventType.TOUCH_END,this.onButtonClickEvent,this)))},t.prototype.onInitScript=function(){e.prototype.onInitScript.call(this),this.onSetTipsState(),this.onSetTipsLabel(),this.uiScript&&(this.m_autoGray=this.uiScript.autoGray),this.updateGrayState(),this.m_listener&&this.onEvent(cc.Node.EventType.TOUCH_END,this.onButtonClickEvent,this)},t.prototype.onUnInitScript=function(){this.m_autoGray=!1},t.prototype.onButtonClickEvent=function(){this.m_interactable&&this.m_listener&&this.m_listener.onUIButtonTouchEnd(this)},t.prototype.getClickJumpMediator=function(){return this.uiScript?this.uiScript.clickJump&&""!=this.uiScript.clickJump?this.uiScript.clickJump.endsWith("Mediator")?this.uiScript.clickJump:this.uiScript.clickJump+"Mediator":this.uiScript.clickJump:""},t.prototype.compareButtonKey=function(e){return!!this.uiScript&&this.uiScript.buttonKey==e},t.prototype.getButtonKey=function(){return this.uiScript?this.uiScript.buttonKey:""},t.prototype.setButtonKey=function(e){this.uiScript&&(this.uiScript.buttonKey=e)},t.prototype.setButtonLabel=function(e){this.uiScript&&this.uiScript.label&&(this.uiScript.label.string=e)},t.prototype.getTipsState=function(){return this.m_tipsState},t.prototype.setTipsState=function(e){this.m_tipsState=e,this.onSetTipsState()},t.prototype.onSetTipsState=function(){if(this.uiScript&&(this.uiScript.tipsNode&&(this.uiScript.tipsNode.active=this.m_tipsState>0),this.uiScript.tipsNodeList.length>0))for(var e=this.uiScript.tipsNodeList.length,t=0;t<e;t++)this.uiScript.tipsNodeList[t]&&(this.uiScript.tipsNodeList[t].active=t==this.m_tipsState)},t.prototype.setTipsLabel=function(e){this.m_tipsText=e,this.onSetTipsLabel()},t.prototype.onSetTipsLabel=function(){this.uiScript&&this.uiScript.tipsLabel&&(this.uiScript.tipsLabel.string=this.m_tipsText)},t.prototype.getTipsHandler=function(){return this.uiScript?this.uiScript.tipsHandler:""},t.prototype.getSystemID=function(){return this.uiScript?this.uiScript.systemID:0},t.prototype.setSystemState=function(e){this.uiScript.systemLockNode&&(this.uiScript.systemLockNode.active=!e),this.uiScript.systemUnLockNode&&(this.uiScript.systemUnLockNode.active=e)},t.prototype.switchOn=function(){this.uiScript&&(this.uiScript.switchOnNode&&(this.uiScript.switchOnNode.active=!0),this.uiScript.switchOffNode&&(this.uiScript.switchOffNode.active=!1))},t.prototype.switchOff=function(){this.uiScript&&(this.uiScript.switchOnNode&&(this.uiScript.switchOnNode.active=!1),this.uiScript.switchOffNode&&(this.uiScript.switchOffNode.active=!0))},t.ms_buttonUIDCounter=0,t}(e("../Basic/UIComponent").UIComponent);i.UIButton=n,cc._RF.pop()},{"../Basic/UIComponent":"UIComponent","./UIButtonScript":"UIButtonScript"}],UIComponent:[function(e,t,i){"use strict";cc._RF.push(t,"05eb04VXRFJU4NlyJTp3tZh","UIComponent"),Object.defineProperty(i,"__esModule",{value:!0}),i.UIComponent=void 0;var o=function(){function e(e,t){void 0===e&&(e=""),void 0===t&&(t=null),this.m_node=null,this.m_script=null,this.m_scriptCls=null,this.m_showState=0,this.m_mediatorName="",this.m_mediatorName=e,this.m_scriptCls=t}return e.prototype.setMediatorName=function(e){this.m_mediatorName=e},e.prototype.getMediatorName=function(){return this.m_mediatorName},e.prototype.bindScript=function(e){this.m_script!=e&&(this.m_script&&(this.onUnInitScript(),this.setNode(null)),this.m_script=e,this.m_script&&(this.setNode(this.m_script.node),this.onInitScript()))},e.prototype.getScript=function(){return this.m_script},e.prototype.onInitScript=function(){},e.prototype.onUnInitScript=function(){},e.prototype.bindNode=function(e){this.m_node!=e&&(this.m_node=e,this.m_scriptCls&&(this.m_script=this.m_node.getComponent(this.m_scriptCls),this.m_script&&this.onInitScript()),this.onBindNode(),this.m_node&&(this.m_node.active=this.m_showState>=0,this.m_showState>0?this.onShow():this.m_showState<0&&this.onHide()))},e.prototype.setNode=function(e){this.m_node=e},e.prototype.getNode=function(){return this.m_node},e.prototype.show=function(){this.m_showState>0||(this.m_showState=1,this.m_node&&(this.m_node.active=!0,this.onShow()))},e.prototype.hide=function(){this.m_showState<0||(this.m_showState=-1,this.m_node&&(this.m_node.active=!1,this.onHide()))},e.prototype.isShown=function(){return!!this.m_node&&this.m_node.active},e.prototype.getWidth=function(){return this.m_node?this.m_node.width:0},e.prototype.getHeight=function(){return this.m_node?this.m_node.height:0},e.prototype.setX=function(e){this.m_node&&(this.m_node.x=e)},e.prototype.getX=function(){return this.m_node?this.m_node.x:0},e.prototype.setY=function(e){this.m_node&&(this.m_node.y=e)},e.prototype.getY=function(){return this.m_node?this.m_node.y:0},e.prototype.dispose=function(e){void 0===e&&(e=!1),this.onDispose(),this.onUnInitScript(),this.m_script=null,this.m_node&&e&&this.m_node.destroy(),this.m_node=null},e.prototype.onDispose=function(){},e.prototype.getComponent=function(e){return this.m_node?this.m_node.getComponent(e):null},e.prototype.onShow=function(){},e.prototype.onHide=function(){},e.prototype.onBindNode=function(){},e.prototype.onEvent=function(e,t,i){void 0===i&&(i=null),this.m_node&&this.m_node.on(e,t,i)},e.prototype.offEvent=function(e,t,i){void 0===i&&(i=null),this.m_node&&this.m_node.off(e,t,i)},e}();i.UIComponent=o,cc._RF.pop()},{}],UIDUtility:[function(e,t,i){"use strict";cc._RF.push(t,"03a1d5op1NGUY6sKPJKj1oG","UIDUtility"),Object.defineProperty(i,"__esModule",{value:!0}),i.UIDUtility=void 0;var o=function(){function e(){}return e.GenerateUID=function(t,i){var o=0,n=miniframe.nowMS(),r="";return e.ms_typeTimes[t]?(e.ms_typeTimes[t].x==n?(o=e.ms_typeTimes[t].y,o++,e.ms_typeTimes[t].y=o):(o=0,e.ms_typeTimes[t].x=n,e.ms_typeTimes[t].y=o),r+=n,r+=o,r+=i):(e.ms_typeTimes[t]=new cc.Vec2(n,o),r+=n,r+=o,r+=i),r},e.TypeItem=1,e.TypeTask=2,e.ms_typeTimes={},e}();i.UIDUtility=o,cc._RF.pop()},{}],UIItemScript:[function(e,t,i){"use strict";cc._RF.push(t,"da18caqkEpOeITbGNWPGB/B","UIItemScript"),Object.defineProperty(i,"__esModule",{value:!0});var o=cc._decorator,n=o.ccclass,r=(o.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.m_parameter=null,t}return __extends(t,e),t.prototype.show=function(){this.node.active=!0},t.prototype.hide=function(){this.node.active=!1},t.prototype.setParameter=function(e){this.m_parameter=e},t.prototype.getParameter=function(){return this.m_parameter},t.prototype.clear=function(){},__decorate([n],t)}(cc.Component));i.default=r,cc._RF.pop()},{}],UILabelScript:[function(e,t,i){"use strict";cc._RF.push(t,"d2e79I/ruZH6rAjZHybdZch","UILabelScript"),Object.defineProperty(i,"__esModule",{value:!0});var o=e("../../../Config/ConfigKeyDefine"),n=e("../../Locale/LocaleController"),r=e("./UITextScript"),a=cc._decorator,s=a.ccclass,p=a.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.lanType="lan",t.lanValue=0,t.limitWidth=0,t.limitOverflow=cc.Label.Overflow.CLAMP,t.m_uiText=null,t}return __extends(t,e),t.prototype.onLoad=function(){this.m_uiText=this.getComponent(r.default),this.m_uiText||this.limitWidth>0&&this.node.on(cc.Node.EventType.SIZE_CHANGED,this.onSizeChanged,this)},t.prototype.start=function(){if(!this.m_uiText){if(0!=this.lanValue&&""!=this.lanType&&null!=miniframe.Config){var e=0;"attr"==this.lanType?e=o.ConfigKeyDefine.LAN_ATTRI:"value"==this.lanType?e=o.ConfigKeyDefine.LAN_VALUES:"lan"==this.lanType&&(e=o.ConfigKeyDefine.LANGUAGE),e>0&&(this.string=n.LocaleController.Instance.getLanguage(this.lanValue,e))}!this.font&&miniframe.UI.getUIFontFamily()&&""!=miniframe.UI.getUIFontFamily()&&(this.fontFamily=miniframe.UI.getUIFontFamily())}},t.prototype.onDestroy=function(){this.m_uiText||this.limitWidth>0&&this.node.off(cc.Node.EventType.SIZE_CHANGED,this.onSizeChanged,this)},t.prototype.setString=function(e){this.m_uiText?this.m_uiText.string=e:this.string!=e&&(this.limitWidth>0?(this.overflow!=cc.Label.Overflow.NONE&&(this.overflow=cc.Label.Overflow.NONE,this.node.width=0),this.string=e,this.updateLimitSize()):this.string=e)},t.prototype.updateLimitSize=function(){var e=this;this.node.width>this.limitWidth&&setTimeout(function(){e.overflow=e.limitOverflow,e.node.width=e.limitWidth},32)},t.prototype.onSizeChanged=function(){this.updateLimitSize()},__decorate([p(cc.String)],t.prototype,"lanType",void 0),__decorate([p(cc.Integer)],t.prototype,"lanValue",void 0),__decorate([p(cc.Integer)],t.prototype,"limitWidth",void 0),__decorate([p({type:cc.Enum(cc.Label.Overflow)})],t.prototype,"limitOverflow",void 0),__decorate([s],t)}(cc.Label);i.default=u,cc._RF.pop()},{"../../../Config/ConfigKeyDefine":"ConfigKeyDefine","../../Locale/LocaleController":"LocaleController","./UITextScript":"UITextScript"}],UINumberTextScript:[function(e,t,i){"use strict";cc._RF.push(t,"8aa37ja17RLrLd0kkon49CY","UINumberTextScript"),Object.defineProperty(i,"__esModule",{value:!0});var o=e("../../../../Extension/BigNumber/VBigNumber"),n=e("../../../../Extension/UI/Label/UITextScript"),r=e("../../../Business/Control/CharDataController"),a=e("../../../Business/Define/ValueTypeDefine"),s=cc._decorator,p=s.ccclass,u=s.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.text=null,t.duration=.5,t.minSpeed=1,t.valueType=0,t.isBigNumber=!1,t.m_isPlaying=!1,t.m_valueFrom=0,t.m_valueTo=0,t.m_speed=0,t.m_bigValueFrom=null,t.m_bigValueTo=null,t.m_bigSpeed=null,t.m_bigSpeedCal=null,t}return __extends(t,e),t.prototype.onLoad=function(){this.text||(this.text=this.getComponent(n.default)),this.valueType==a.ValueTypeDefine.Coin&&(this.isBigNumber=!0),this.isBigNumber&&(this.m_bigValueFrom=new o.VBigNumber,this.m_bigValueTo=new o.VBigNumber,this.m_bigSpeed=new o.VBigNumber,this.m_bigSpeedCal=new o.VBigNumber)},t.prototype.update=function(e){if(this.m_isPlaying){var t=!1;if(this.isBigNumber){this.m_bigSpeedCal.setValue(this.m_bigSpeed.getValue()),this.m_bigSpeedCal.multiply(1e3*e),this.m_bigSpeedCal.divide(1e3);var i=this.m_bigValueTo.compareValue(this.m_bigValueFrom.getValue());i>0?(this.m_bigValueFrom.add(this.m_bigSpeedCal.getValue()),this.m_bigValueTo.compareValue(this.m_bigValueFrom.getValue())<0&&(this.m_bigValueFrom.setValue(this.m_bigValueTo.getValue()),t=!0)):i<0?(this.m_bigValueFrom.subtract(this.m_bigSpeedCal.getValue()),this.m_bigValueTo.compareValue(this.m_bigValueFrom.getValue())>0&&(this.m_bigValueFrom.setValue(this.m_bigValueTo.getValue()),t=!0)):t=!0}else{var o=this.m_speed*e;this.m_valueTo>this.m_valueFrom?(this.m_valueFrom+=o,this.m_valueTo<this.m_valueFrom&&(this.m_valueFrom=this.m_valueTo,t=!0)):this.m_valueTo<this.m_valueFrom?(this.m_valueFrom-=o,this.m_valueTo>this.m_valueFrom&&(this.m_valueFrom=this.m_valueTo,t=!0)):t=!0}this.updateVisual(),t&&(this.m_isPlaying=!1)}},t.prototype.setValue=function(e){this.isBigNumber?(this.m_bigValueFrom.setValue(e),this.m_bigValueTo.setValue(e)):(this.m_valueFrom=e,this.m_valueTo=e),this.updateVisual()},t.prototype.playValue=function(e){if(this.isBigNumber){this.m_bigValueTo.setValue(e);var t=this.m_bigValueTo.compareValue(this.m_bigValueFrom.getValue());t>0?(this.m_bigSpeed.setValue(this.m_bigValueTo.getValue()),this.m_bigSpeed.subtract(this.m_bigValueFrom.getValue()),this.m_bigSpeed.multiply(1e3),this.m_bigSpeed.divide(1e3*this.duration),this.m_bigSpeed.compareValue(1e3*this.minSpeed)<0&&this.m_bigSpeed.setValue(1e3*this.minSpeed)):t<0?(this.m_bigSpeed.setValue(this.m_bigValueFrom.getValue()),this.m_bigSpeed.subtract(this.m_bigValueTo.getValue()),this.m_bigSpeed.multiply(1e3),this.m_bigSpeed.divide(1e3*this.duration),this.m_bigSpeed.compareValue(1e3*this.minSpeed)<0&&this.m_bigSpeed.setValue(1e3*this.minSpeed)):this.m_bigSpeed.setValue("0")}else this.m_valueTo=e,this.m_speed=Math.abs(this.m_valueTo-this.m_valueFrom)/this.duration,this.m_speed<this.minSpeed&&(this.m_speed=this.minSpeed);this.m_isPlaying||(this.m_isPlaying=!0)},t.prototype.updateVisual=function(){if(this.text){var e;e=this.isBigNumber?this.m_bigValueFrom.getIntValue():Math.floor(this.m_valueFrom)+"",this.valueType==a.ValueTypeDefine.Coin||this.valueType==a.ValueTypeDefine.Gold?this.text.string=r.CharDataController.Instance.formatValueString(e):this.text.string=e}},__decorate([u(n.default)],t.prototype,"text",void 0),__decorate([u(cc.Float)],t.prototype,"duration",void 0),__decorate([u(cc.Float)],t.prototype,"minSpeed",void 0),__decorate([u(cc.Integer)],t.prototype,"valueType",void 0),__decorate([u(cc.Boolean)],t.prototype,"isBigNumber",void 0),__decorate([p],t)}(cc.Component);i.default=c,cc._RF.pop()},{"../../../../Extension/BigNumber/VBigNumber":"VBigNumber","../../../../Extension/UI/Label/UITextScript":"UITextScript","../../../Business/Control/CharDataController":"CharDataController","../../../Business/Define/ValueTypeDefine":"ValueTypeDefine"}],UIScrollList:[function(e,t,i){"use strict";cc._RF.push(t,"17508LQAZ1IuZ0+BCPfZZFV","UIScrollList"),Object.defineProperty(i,"__esModule",{value:!0}),i.UIScrollList=void 0;var o=e("./UIScrollScript"),n=function(e){function t(t,i){void 0===i&&(i="");var n=e.call(this,i,o.default)||this;return n.m_itemCls=null,n.m_itemLimitMax=0,n.m_itemPageCount=10,n.m_itemCreateDeltaMS=0,n.m_itemCreateCell=1,n.m_itemList=[],n.m_dataList=null,n.m_listeningUpdate=!1,n.m_optimizeCreation=!1,n.m_createIndex=-1,n.m_createMax=-1,n.m_createDeltaMSCount=0,n.m_content=null,n.m_mask=null,n.m_maskLeft=0,n.m_maskRight=0,n.m_maskTop=0,n.m_maskBottom=0,n.m_optimizeItems=!1,n.m_lookAtIndex=-1,n.m_focusIndex=-1,n.m_nextFocusIndex=-1,n.m_focusOnEnd=!1,n.m_listener=null,n.m_itemCls=t,n}return __extends(t,e),Object.defineProperty(t.prototype,"uiScript",{get:function(){return this.m_script},enumerable:!1,configurable:!0}),t.prototype.getItemCount=function(){return this.m_dataList?Math.min(this.m_itemList.length,this.m_dataList.length):0},t.prototype.setListener=function(e){this.m_listener=e},t.prototype.setOptimizeCreation=function(e){this.m_optimizeCreation=e},t.prototype.setOptimizeItems=function(e){this.m_optimizeItems=e,this.m_optimizeItems&&this.initOptimizeProps()},t.prototype.setItemPageCount=function(e){this.m_itemPageCount=e},t.prototype.setItemLimitMax=function(e){this.m_itemLimitMax=e},t.prototype.setItemCreateCell=function(e){this.m_itemCreateCell=e},t.prototype.setItemCreateDeltaMS=function(e){this.m_itemCreateDeltaMS=e},t.prototype.setContentSize=function(e,t){this.uiScript&&this.uiScript.content&&(this.uiScript.content.width=e,this.uiScript.content.height=t)},t.prototype.getItems=function(){return this.m_itemList},t.prototype.getItemAt=function(e){return e<0||e>=this.m_itemList.length?null:this.m_itemList[e]},t.prototype.createItemAt=function(e){for(;this.m_itemList.length<=e;)this.createItem()},t.prototype.createItem=function(){var e=this.m_itemList.length;if(this.uiScript.itemTemplate){var t=cc.instantiate(this.uiScript.itemTemplate);this.uiScript.content.addChild(t);var i=new this.m_itemCls(this.getMediatorName());i.setIndex(e),i.bindNode(t);var o=this.getItemSpotAt(this.m_itemList.length);o?t.setPosition(o):t.setPosition(cc.Vec2.ZERO),this.m_createIndex=e,this.m_itemList.push(i),i.init(),this.m_listener&&this.m_listener.onUIScrollListItemInit(this,e,i)}},t.prototype.getItemSpotAt=function(e){return this.uiScript.itemSpots?e<0||e>=this.uiScript.itemSpots.children.length?null:this.uiScript.itemSpots.children[e].getPosition():null},t.prototype.isCreating=function(){return this.m_listeningUpdate},t.prototype.isScrolling=function(){return this.uiScript.isScrolling()||this.uiScript.isAutoScrolling()},t.prototype.addItem=function(e){if(e){var t=this.m_itemList.length,i=new this.m_itemCls(this.getMediatorName());i.setIndex(t),i.bindNode(e);var o=this.getItemSpotAt(this.m_itemList.length);o&&e.setPosition(o),this.m_createIndex=t,this.m_itemList.push(i),i.init(),this.m_listener&&this.m_listener.onUIScrollListItemInit(this,t,i)}},t.prototype.lookAtItem=function(e){var t=this.m_itemList.indexOf(e);-1!=t&&this.lookAt(t)},t.prototype.lookAt=function(e,t){if(void 0===t&&(t=!1),!t&&this.m_listeningUpdate)this.m_lookAtIndex=e;else{var i=this.getItemCount();if(e<=0||i<=1)this.scrollToTop();else if(e>=i-1)this.scrollToBottom(0);else{var o=1/(i-1)*e;this.scrollTo(o)}}},t.prototype.scrollToTop=function(e){void 0===e&&(e=void 0),this.uiScript.horizontal&&this.uiScript.vertical?this.uiScript.scrollToTopLeft(e):this.uiScript.horizontal?this.uiScript.scrollToLeft(e):this.uiScript.vertical&&this.uiScript.scrollToTop(e),this.m_optimizeItems&&this.checkItemsVisible()},t.prototype.scrollToBottom=function(e){void 0===e&&(e=void 0),this.uiScript.horizontal&&this.uiScript.vertical?this.uiScript.scrollToBottomRight(e):this.uiScript.horizontal?this.uiScript.scrollToRight(e):this.uiScript.vertical&&this.uiScript.scrollToBottom(e),this.m_optimizeItems&&this.checkItemsVisible()},t.prototype.scrollTo=function(e,t){void 0===t&&(t=void 0);var i=this.uiScript.getMaxScrollOffset();this.uiScript.horizontal&&this.uiScript.vertical?this.uiScript.scrollToOffset(new cc.Vec2(e*i.x,e*i.y),t):this.uiScript.horizontal?this.uiScript.scrollToOffset(new cc.Vec2(e*i.x,0),t):this.uiScript.vertical&&this.uiScript.scrollToOffset(new cc.Vec2(0,e*i.y),t),this.m_optimizeItems&&this.checkItemsVisible()},t.prototype.getFocusIndex=function(){return this.m_focusIndex},t.prototype.focusOnNext=function(e,t){void 0===e&&(e=!1),void 0===t&&(t=!1),this.m_focusIndex>=this.getItemCount()-1||(-1==this.m_focusIndex?this.focusOn(1,e,t):this.focusOn(this.m_focusIndex+1,e,t))},t.prototype.focusOnPrev=function(e,t){void 0===e&&(e=!1),void 0===t&&(t=!1),this.m_focusIndex<=0||this.focusOn(this.m_focusIndex-1,e,t)},t.prototype.focusOn=function(e,t,i){if(void 0===t&&(t=!1),void 0===i&&(i=!1),i||this.m_focusIndex!=e)if(t||this.m_listeningUpdate)this.m_nextFocusIndex=e;else{var o=this.getItemCount();if(e<=0||o<=1)this.scrollToTop(this.uiScript.focusDuration);else if(e>=o-1)this.scrollToBottom(this.uiScript.focusDuration);else{var n=1/(o-1)*e;this.scrollTo(n,this.uiScript.focusDuration)}this.m_focusIndex=e,this.refreshItemScale(),this.m_listener&&this.m_listener.onUIScrollListFocusOn(this,this.m_focusIndex,this.getItemAt(this.m_focusIndex))}},t.prototype.setDataList=function(e,t){void 0===t&&(t=!0),this.m_dataList=e,this.m_createIndex=0,this.m_itemList.length<this.m_itemPageCount?(this.m_createMax=this.m_itemPageCount,this.m_itemLimitMax>0&&this.m_createMax>this.m_itemLimitMax&&(this.m_createMax=this.m_itemLimitMax)):this.m_createMax=0,this.m_createDeltaMSCount=0,this.m_optimizeCreation?this.startCreateScrollItems():(this.createScrollItems(),t&&this.scrollToTop())},t.prototype.refreshDataAt=function(e){e<0||e>=this.m_itemList.length||this.m_itemList[e].setData(this.getDataAt(e))},t.prototype.refreshDataList=function(){for(var e=this.getDataCount(),t=0;t<e&&t<this.m_itemList.length;t++)this.m_itemList[t].setData(this.getDataAt(t))},t.prototype.refreshDataListWith=function(e,t,i){void 0===i&&(i=!1);for(var o=null,n=this.getDataCount(),r=0;r<n&&r<this.m_itemList.length;r++)if(o=this.getDataAt(r),e){if(e(this.m_itemList[r],o,t)&&(this.m_itemList[r].setData(o),i))break}else this.m_itemList[r].setData(o)},t.prototype.refreshDataListCustom=function(e,t){if(e)for(var i=this.getDataCount(),o=0;o<i&&o<this.m_itemList.length;o++)e.call(t,this,this.m_itemList[o],this.getDataAt(o))},t.prototype.showItems=function(){for(var e=this.m_itemList.length,t=0;t<e;t++)this.m_itemList[t].show()},t.prototype.hideItems=function(){for(var e=this.m_itemList.length,t=0;t<e;t++)this.m_itemList[t].hide()},t.prototype.onDispose=function(){e.prototype.onDispose.call(this),this.m_itemList.splice(0,this.m_itemList.length),this.m_dataList=null},t.prototype.initOptimizeProps=function(){this.uiScript&&(this.m_content=this.uiScript.content,this.m_mask=this.m_content.getParent().getComponent(cc.Mask),this.m_mask&&(this.m_maskLeft=-this.m_mask.node.width*this.m_mask.node.anchorX,this.m_maskRight=this.m_maskLeft+this.m_mask.node.width,this.m_maskBottom=-this.m_mask.node.height*this.m_mask.node.anchorY,this.m_maskTop=this.m_maskBottom+this.m_mask.node.height))},t.prototype.onInitScript=function(){if(e.prototype.onInitScript.call(this),this.uiScript){for(var t=this.uiScript.items.length,i=0;i<t;i++)this.addItem(this.uiScript.items[i]);this.m_optimizeItems&&this.initOptimizeProps(),this.uiScript.vertical&&this.uiScript.node.on("scroll-to-bottom",this.onScrollToBottom,this),this.uiScript.horizontal&&this.uiScript.node.on("scroll-to-right",this.onScrollToBottom,this),(this.m_optimizeItems||this.uiScript.focusMode)&&this.uiScript.node.on("scrolling",this.onScrolling,this),this.uiScript.focusMode&&this.uiScript.node.on("scroll-ended",this.onScrollEnded,this),this.uiScript.useContentSize&&this.uiScript.content&&(this.uiScript.content.width=this.uiScript.contentSize.width,this.uiScript.content.height=this.uiScript.contentSize.height)}},t.prototype.onUnInitScript=function(){e.prototype.onUnInitScript.call(this),this.m_content=null,this.m_mask=null,this.uiScript&&(this.uiScript.vertical&&this.uiScript.node.off("scroll-to-bottom",this.onScrollToBottom,this),this.uiScript.horizontal&&this.uiScript.node.off("scroll-to-right",this.onScrollToBottom,this),(this.m_optimizeItems||this.uiScript.focusMode)&&this.uiScript.node.off("scrolling",this.onScrolling,this),this.uiScript.focusMode&&this.uiScript.node.off("scroll-ended",this.onScrollEnded,this))},t.prototype.checkItemsVisible=function(){if(this.m_mask)for(var e=this.m_itemList.length,t=0;t<e&&!(t>=this.getDataCount());t++)this.checkItemVisible(this.m_itemList[t])},t.prototype.checkItemVisible=function(e){if(e.contentNode){var t=!1,i=e.node;if(this.uiScript.horizontal){var o=i.x-i.width*i.anchorX,n=o+i.width;o=this.m_content.x+o,n=this.m_content.x+n,o>=this.m_maskRight||n<=this.m_maskLeft||(t=!0)}if(this.uiScript.vertical){var r=i.y-i.height*i.anchorY,a=r+i.height;r=this.m_content.y+r,(a=this.m_content.y+a)<=this.m_maskBottom||r>=this.m_maskTop||(t=!0)}e.contentNode.active=t}},t.prototype.onScrolling=function(){this.m_optimizeItems&&this.checkItemsVisible(),this.uiScript.focusMode&&(this.uiScript.isScrolling()?(this.updateFocus(),this.uiScript.autoFocusOn&&(this.m_focusOnEnd=!0)):this.uiScript.isAutoScrolling()&&this.m_focusOnEnd&&this.uiScript.stopAutoScroll())},t.prototype.onScrollEnded=function(){if(this.uiScript.focusMode){if(!this.m_focusOnEnd)return;this.m_focusOnEnd=!1,this.updateFocus(),this.focusOn(this.m_focusIndex,!1,!0)}},t.prototype.updateFocus=function(){if(!(this.getItemCount()<=0)){var e=this.uiScript.getScrollOffset(),t=this.uiScript.getMaxScrollOffset(),i=0,o=0;this.uiScript.horizontal?(i=-e.x,o=t.x):(i=e.y,o=t.y);var n,r=i/o,a=this.getItemCount()-1,s=Math.floor(r*a),p=Math.ceil(r*a);n=(r-s/a)/(1/a)>=.5?p:s,this.m_focusIndex!=n&&(this.m_focusIndex=n,this.refreshItemScale(),this.m_listener&&this.m_listener.onUIScrollListFocusOn(this,this.m_focusIndex,this.getItemAt(this.m_focusIndex)))}},t.prototype.refreshItemScale=function(){if(this.uiScript.focusScaleRange.x!=this.uiScript.focusScaleRange.y||1!=this.uiScript.focusScaleRange.x)for(var e=this.getItemCount(),t=0;t<e;t++)this.m_itemList[t].getNode().runAction(cc.scaleTo(.2,t==this.m_focusIndex?this.uiScript.focusScaleRange.y:this.uiScript.focusScaleRange.x))},t.prototype.onScrollToBottom=function(){this.createRestItems()},t.prototype.createRestItems=function(){if(this.m_createIndex>=this.getDataCount())return!1;if(this.m_itemLimitMax>0){if(this.m_createIndex>=this.m_itemLimitMax)return!1;this.m_createMax=this.m_itemPageCount,this.m_createIndex+this.m_createMax>this.m_itemLimitMax&&(this.m_createMax=this.m_itemLimitMax-this.m_createIndex)}else this.m_createMax=this.m_itemPageCount;return this.startCreateScrollItems(),!0},t.prototype.startCreateScrollItems=function(){this.checkScrollItem()&&this.listenUpdate()},t.prototype.stopCreateScrollItems=function(e){if(e&&this.deactiveScrollItemsFrom(this.m_createIndex),this.m_optimizeItems&&this.checkItemsVisible(),this.m_lookAtIndex>=0){var t=this.m_lookAtIndex;this.m_lookAtIndex=-1,this.lookAt(t,!0)}if(this.unlistenUpdate(),this.uiScript.focusMode&&this.m_nextFocusIndex>=0){var i=this.getItemCount();if(i>0&&(i>=this.getDataCount()||i>=this.m_itemPageCount)&&this.m_nextFocusIndex<i){var o=this.m_nextFocusIndex;this.m_nextFocusIndex=-1,this.focusOn(o)}}},t.prototype.checkScrollItem=function(){return null==this.getDataAt(this.m_createIndex)?(this.stopCreateScrollItems(!0),!1):this.m_createIndex>=this.m_itemList.length||(this.m_itemList[this.m_createIndex].setData(this.getDataAt(this.m_createIndex)),this.m_createIndex++,this.checkScrollItem())},t.prototype.createScrollItem=function(){if(null==this.getDataAt(this.m_createIndex))return this.stopCreateScrollItems(!0),!1;if(this.m_createIndex>=this.m_itemList.length){if(this.m_optimizeCreation){if(this.m_itemPageCount>0&&this.m_createMax<=0)return this.stopCreateScrollItems(!1),!1;this.m_createMax--}this.createItem()}else{var e=this.m_itemList[this.m_createIndex];if(e){var t=this.getItemSpotAt(this.m_createIndex);t&&e.getNode().setPosition(t)}}return this.m_itemList[this.m_createIndex].setData(this.getDataAt(this.m_createIndex)),this.m_createIndex++,!0},t.prototype.createScrollItems=function(){for(;this.createScrollItem(););},t.prototype.deactiveScrollItemsFrom=function(e){if(e<this.m_itemList.length)for(var t=this.m_itemList.length,i=e;i<t;i++)this.m_itemList[i].setData(null)},t.prototype.getDataAt=function(e){if(this.m_dataList&&!(e<0||e>=this.m_dataList.length))return this.m_dataList[e]},t.prototype.getDataCount=function(){return this.m_dataList?this.m_dataList.length:0},t.prototype.listenUpdate=function(){this.m_listeningUpdate||(this.m_listeningUpdate=!0,miniframe.Timer.addUpdateEventListener(this))},t.prototype.unlistenUpdate=function(){this.m_listeningUpdate&&(this.m_listeningUpdate=!1,miniframe.Timer.removeUpdateEventListener(this))},t.prototype.update=function(e){if(this.m_itemCreateDeltaMS>0){if(this.m_createDeltaMSCount-=e,this.m_createDeltaMSCount>0)return;this.m_createDeltaMSCount=this.m_itemCreateDeltaMS}if(this.m_itemCreateCell<=1)this.createScrollItem();else for(var t=0;t<this.m_itemCreateCell&&this.createScrollItem();t++);},t.prototype.onTimeSystemUpdate=function(e){return this.update(e),!1},t}(e("../Basic/UIComponent").UIComponent);i.UIScrollList=n,cc._RF.pop()},{"../Basic/UIComponent":"UIComponent","./UIScrollScript":"UIScrollScript"}],UIScrollScript:[function(e,t,i){"use strict";cc._RF.push(t,"587f6NJopBO/LWLOeIuWOpl","UIScrollScript"),Object.defineProperty(i,"__esModule",{value:!0});var o=cc._decorator,n=o.ccclass,r=o.property,a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.itemTemplate=null,t.items=[],t.focusMode=!1,t.focusScaleRange=new cc.Vec2(1,1.2),t.autoFocusOn=!1,t.focusDuration=.1,t.itemSpots=null,t.useContentSize=!1,t.contentSize=cc.Size.ZERO,t}return __extends(t,e),__decorate([r(cc.Prefab)],t.prototype,"itemTemplate",void 0),__decorate([r([cc.Node])],t.prototype,"items",void 0),__decorate([r(cc.Boolean)],t.prototype,"focusMode",void 0),__decorate([r(cc.Vec2)],t.prototype,"focusScaleRange",void 0),__decorate([r(cc.Boolean)],t.prototype,"autoFocusOn",void 0),__decorate([r(cc.Float)],t.prototype,"focusDuration",void 0),__decorate([r(cc.Node)],t.prototype,"itemSpots",void 0),__decorate([r(cc.Boolean)],t.prototype,"useContentSize",void 0),__decorate([r(cc.Size)],t.prototype,"contentSize",void 0),__decorate([n],t)}(cc.ScrollView);i.default=a,cc._RF.pop()},{}],UISprite:[function(e,t,i){"use strict";cc._RF.push(t,"1af97g2Wr5Eq7+m3ZJrUcmF","UISprite"),Object.defineProperty(i,"__esModule",{value:!0}),i.UISprite=void 0;var o=function(e){function t(t){void 0===t&&(t="");var i=e.call(this,t,cc.Sprite)||this;return i.m_atlasLoadHandler=new miniframe.Callback(i.onAtlasLoadComplte,i),i.m_spriteLoadHandler=new miniframe.Callback(i.onSpriteLoadComplte,i),i.m_atlasName="",i.m_spriteName="",i.m_atlas=null,i}return __extends(t,e),Object.defineProperty(t.prototype,"uiScript",{get:function(){return this.m_script},enumerable:!1,configurable:!0}),t.prototype.hookAtlasSprite=function(e,t){if(this.m_atlasName!=e||this.m_spriteName!=t){if(this.m_atlasName==e&&this.m_atlas)return this.m_spriteName=t,void this.setSpriteFrame(this.m_atlas.getSpriteFrame(this.m_spriteName));this.clear(),this.m_atlasName=e,this.m_spriteName=t,this.m_atlasName&&""!=this.m_atlasName&&(this.m_atlasName.startsWith("http")?miniframe.Loader.loadRemote(this.m_atlasName,cc.SpriteAtlas,this.m_atlasLoadHandler):miniframe.Loader.loadResource(this.m_atlasName,this))}},t.prototype.hookSprite=function(e){this.m_spriteName!=e&&(this.clear(),this.m_spriteName=e,this.m_spriteName&&""!=this.m_spriteName&&(this.m_spriteName.startsWith("http")?miniframe.Loader.loadRemote(this.m_spriteName,cc.SpriteFrame,this.m_spriteLoadHandler):miniframe.Loader.loadResource(this.m_spriteName,this)))},t.prototype.clear=function(){this.m_atlasName="",this.m_spriteName="",this.m_atlas=null,this.uiScript&&(this.uiScript.spriteFrame=null)},t.prototype.setSpriteFrame=function(e){this.uiScript&&(this.uiScript.spriteFrame=e)},t.prototype.getSpriteFrame=function(){return this.uiScript?this.uiScript.spriteFrame:null},t.prototype.setSpriteName=function(e){this.m_spriteName!=e&&(this.m_spriteName=e,this.m_atlas&&this.setSpriteFrame(this.m_atlas.getSpriteFrame(this.m_spriteName)))},t.prototype.onAtlasLoadComplte=function(e,t){this.m_atlasName==e&&(t?(this.m_atlasName=miniframe.getFileNameWithoutExtension(t.name),this.m_atlas=t,this.setSpriteFrame(this.m_atlas.getSpriteFrame(this.m_spriteName))):this.clear())},t.prototype.onSpriteLoadComplte=function(e,t){this.m_spriteName==e&&this.setSpriteFrame(t)},t.prototype.setShaderProperty=function(e,t){if(this.uiScript){var i=this.uiScript.getMaterial(0);i&&i.setProperty(e,t)}},t.prototype.setMaterialAt=function(e,t){this.uiScript&&this.uiScript.setMaterial(e,t)},t.prototype.onLoadAssetLoadProgress=function(){},t.prototype.onLoadAssetLoadComplete=function(e){var t=e;if(t==this.m_atlasName)this.onAtlasLoadComplte(t,miniframe.Resource.getPrefab(t));else if(t==this.m_spriteName){var i=miniframe.Resource.getPrefab(t);this.onSpriteLoadComplte(t,i?new cc.SpriteFrame(i):null)}},t}(e("../Basic/UIComponent").UIComponent);i.UISprite=o,cc._RF.pop()},{"../Basic/UIComponent":"UIComponent"}],UITabScript:[function(e,t,i){"use strict";cc._RF.push(t,"daed13gkkxCELll4gDbHdK3","UITabScript"),Object.defineProperty(i,"__esModule",{value:!0});var o=e("../Button/UIButtonScript"),n=cc._decorator,r=n.ccclass,a=n.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.tabButtons=[],t.tabActiveNodes=[],t}return __extends(t,e),__decorate([a([o.default])],t.prototype,"tabButtons",void 0),__decorate([a([cc.Node])],t.prototype,"tabActiveNodes",void 0),__decorate([r],t)}(cc.Component);i.default=s,cc._RF.pop()},{"../Button/UIButtonScript":"UIButtonScript"}],UITab:[function(e,t,i){"use strict";cc._RF.push(t,"4d5bdJHvChOsqYYRVRxZQxA","UITab"),Object.defineProperty(i,"__esModule",{value:!0}),i.UITab=void 0;var o=e("./UITabScript"),n=e("../Button/UIButton"),r=function(e){function t(t){void 0===t&&(t="");var i=e.call(this,t,o.default)||this;return i.m_listener=null,i.m_buttons=[],i.m_selectedIndex=-1,i}return __extends(t,e),Object.defineProperty(t.prototype,"uiScript",{get:function(){return this.m_script},enumerable:!1,configurable:!0}),t.prototype.onInitScript=function(){if(e.prototype.onInitScript.call(this),this.uiScript)for(var t=this.uiScript.tabButtons.length,i=0;i<t;i++)i>=this.m_buttons.length&&(this.m_buttons.push(new n.UIButton(this.getMediatorName())),this.m_buttons[i].setListener(this)),this.m_buttons[i].bindScript(this.uiScript.tabButtons[i]),this.m_listener&&this.m_listener.onUITabButtonInit(this,this.m_buttons[i])},t.prototype.onUnInitScript=function(){for(;this.m_buttons.length>0;)this.m_buttons.pop().dispose();e.prototype.onUnInitScript.call(this)},t.prototype.setListener=function(e){this.m_listener=e},t.prototype.selectTab=function(e,t,i){void 0===t&&(t=!0),void 0===i&&(i=!1),(i||this.m_selectedIndex!=e)&&(this.m_selectedIndex=e,this.updateButtonStates(),t&&this.m_listener&&this.m_listener.onUITabSelect(this,this.m_selectedIndex))},t.prototype.getSelectedIndex=function(){return this.m_selectedIndex},t.prototype.updateButtonStates=function(){for(var e=this.m_buttons.length,t=0;t<e;t++)t==this.m_selectedIndex?this.m_buttons[t].switchOn():this.m_buttons[t].switchOff();for(e=this.uiScript.tabActiveNodes.length,t=0;t<e;t++)this.uiScript.tabActiveNodes[t]&&(this.uiScript.tabActiveNodes[t].active=t==this.m_selectedIndex)},t.prototype.onUIButtonTouchEnd=function(e){var t=this.m_buttons.indexOf(e);this.selectTab(t,!0,!1)},t}(e("../Basic/UIComponent").UIComponent);i.UITab=r,cc._RF.pop()},{"../Basic/UIComponent":"UIComponent","../Button/UIButton":"UIButton","./UITabScript":"UITabScript"}],UITextScript:[function(e,t,i){"use strict";cc._RF.push(t,"ebc73PjgGdEFraMcfsjnITw","UITextScript"),Object.defineProperty(i,"__esModule",{value:!0});var o,n=e("../../../Config/ConfigKeyDefine"),r=e("../../Locale/LocaleController"),a=cc._decorator,s=a.ccclass,p=a.property,u=a.executeInEditMode;(function(e){e[e.None=0]="None",e[e.Label=1]="Label",e[e.RichText=2]="RichText"})(o||(o={}));var c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.label=null,t.lanType="lan",t.lanValue=0,t.limitWidth=0,t.limitOverflow=cc.Label.Overflow.CLAMP,t.normalColor=cc.Color.WHITE,t.disableColor=cc.Color.GRAY,t.m_labelType=o.None,t.m_enabled=!0,t.m_stringChanged=!1,t.m_cachedString="",t}return __extends(t,e),t.prototype.onFocusInEditor=function(){this.label==this&&(this.label=null),this.label||(this.label=this.getComponent(cc.RichText),this.label||(this.label=this.getComponent(cc.Label))),this.normalColor=this.node.color},t.prototype.onLoad=function(){this.label==this&&(this.label=null),this.label||(this.label=this.getComponent(cc.RichText),this.label||(this.label=this.getComponent(cc.Label))),this.m_labelType=o.None,this.label&&(this.m_labelType=o.Label,void 0===this.label.overflow&&(this.m_labelType=o.RichText)),this.normalColor=this.node.color,this.m_stringChanged&&this.onSetString(this.m_cachedString),this.m_labelType==o.Label&&this.limitWidth>0&&this.node.on(cc.Node.EventType.SIZE_CHANGED,this.onSizeChanged,this)},t.prototype.start=function(){if(0!=this.lanValue&&""!=this.lanType&&null!=miniframe.Config){var e=0;"attr"==this.lanType?e=n.ConfigKeyDefine.LAN_ATTRI:"value"==this.lanType?e=n.ConfigKeyDefine.LAN_VALUES:"lan"==this.lanType&&(e=n.ConfigKeyDefine.LANGUAGE),e>0&&(this.string=r.LocaleController.Instance.getLanguage(this.lanValue,e))}this.label&&!this.label.font&&miniframe.UI.getUIFontFamily()&&""!=miniframe.UI.getUIFontFamily()&&(this.label.fontFamily=miniframe.UI.getUIFontFamily())},t.prototype.onDestroy=function(){this.limitWidth>0&&this.node.off(cc.Node.EventType.SIZE_CHANGED,this.onSizeChanged,this)},t.prototype.setLanguage=function(e,t){void 0===t&&(t=0),this.string=r.LocaleController.Instance.getLanguage(e,t)},t.prototype.setLanguageFormat=function(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];var o="";e>0?(o=r.LocaleController.Instance.getLanguage(e))&&""!=o&&(o=miniframe.formatParamString(o,t)):t&&t.length>0&&(o=1==t.length?t[0]+"":t.join("")),this.string=o},t.prototype.setLanguageFormatByConfigKey=function(e,t){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var n="";e>0?(n=r.LocaleController.Instance.getLanguage(e,t))&&""!=n&&(n=miniframe.formatParamString(n,i)):i&&i.length>0&&(n=1==i.length?i[0]+"":i.join("")),this.string=n},t.prototype.setEnabled=function(e){this.m_enabled!=e&&(this.m_enabled=e,this.node.color=e?this.normalColor:this.disableColor)},Object.defineProperty(t.prototype,"string",{get:function(){return this.label?this.label.string:""},set:function(e){this.string!=e&&(this.m_cachedString=e,this.onSetString(e),this.m_stringChanged=!0)},enumerable:!1,configurable:!0}),t.prototype.onSetString=function(e){this.label&&(this.m_labelType==o.Label&&this.limitWidth>0?(this.label.overflow!=cc.Label.Overflow.NONE&&(this.label.overflow=cc.Label.Overflow.NONE,this.node.width=0),this.label.string=e,this.updateLimitSize()):this.label.string=e)},Object.defineProperty(t.prototype,"overflow",{set:function(e){this.label&&this.m_labelType==o.Label&&(this.label.overflow=e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ImageAtlas",{set:function(e){this.label&&this.m_labelType==o.RichText&&(this.label.imageAtlas=e)},enumerable:!1,configurable:!0}),t.prototype.updateLimitSize=function(){var e=this;this.m_labelType==o.Label&&this.node.width>this.limitWidth&&setTimeout(function(){e.label.overflow=e.limitOverflow,e.node.width=e.limitWidth},32)},t.prototype.onSizeChanged=function(){this.updateLimitSize()},__decorate([p({type:cc.Component,visible:!1})],t.prototype,"label",void 0),__decorate([p(cc.String)],t.prototype,"lanType",void 0),__decorate([p(cc.Integer)],t.prototype,"lanValue",void 0),__decorate([p(cc.Integer)],t.prototype,"limitWidth",void 0),__decorate([p({type:cc.Enum(cc.Label.Overflow)})],t.prototype,"limitOverflow",void 0),__decorate([p({visible:!1})],t.prototype,"normalColor",void 0),__decorate([p(cc.Color)],t.prototype,"disableColor",void 0),__decorate([s,u],t)}(cc.Component);i.default=c,cc._RF.pop()},{"../../../Config/ConfigKeyDefine":"ConfigKeyDefine","../../Locale/LocaleController":"LocaleController"}],UIViewScript:[function(e,t,i){"use strict";cc._RF.push(t,"25f6e5vSB5Je7zK8XE8L/BO","UIViewScript"),Object.defineProperty(i,"__esModule",{value:!0});var o=e("../Button/UIButtonScript"),n=cc._decorator,r=n.ccclass,a=n.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.buttons=[],t.viewAniComp=null,t.viewOpenAniName="",t.viewCloseAniName="",t.viewOpenAudioID=0,t.viewOpenAudio="",t.viewCloseAudioID=0,t.viewCloseAudio="",t}return __extends(t,e),__decorate([a([o.default])],t.prototype,"buttons",void 0),__decorate([a(cc.Animation)],t.prototype,"viewAniComp",void 0),__decorate([a(cc.String)],t.prototype,"viewOpenAniName",void 0),__decorate([a(cc.String)],t.prototype,"viewCloseAniName",void 0),__decorate([a(cc.Integer)],t.prototype,"viewOpenAudioID",void 0),__decorate([a(cc.String)],t.prototype,"viewOpenAudio",void 0),__decorate([a(cc.Integer)],t.prototype,"viewCloseAudioID",void 0),__decorate([a(cc.String)],t.prototype,"viewCloseAudio",void 0),__decorate([r],t)}(cc.Component);i.default=s,cc._RF.pop()},{"../Button/UIButtonScript":"UIButtonScript"}],UpdateInitializer:[function(e,t,i){"use strict";cc._RF.push(t,"604a7hBUyJA/ZS05lbG9vUh","UpdateInitializer"),Object.defineProperty(i,"__esModule",{value:!0}),i.UpdateInitializer=void 0;var o=e("../Mediator/UpdateUIMediator"),n=e("../Define/UpdateMediatorNameDefine"),r=function(){function e(){}return e.CreateUpdateUIMediator=function(){return new o.UpdateUIMediator},e.prototype.initialize=function(){miniframe.Facade.registerMediatorClass(n.UpdateMediatorNameDefine.UpdateUIMediator,e.CreateUpdateUIMediator)},e.prototype.uninitialize=function(){miniframe.Facade.unregisterMediatorClass(n.UpdateMediatorNameDefine.UpdateUIMediator)},e.prototype.dispose=function(){},e}();i.UpdateInitializer=r,cc._RF.pop()},{"../Define/UpdateMediatorNameDefine":"UpdateMediatorNameDefine","../Mediator/UpdateUIMediator":"UpdateUIMediator"}],UpdateMediatorNameDefine:[function(e,t,i){"use strict";cc._RF.push(t,"5bc84Z1ZhtEcKBSxO3HVkMv","UpdateMediatorNameDefine"),Object.defineProperty(i,"__esModule",{value:!0}),i.UpdateMediatorNameDefine=void 0;var o=function(){function e(){}return e.UpdateUIMediator="UpdateUIMediator",e}();i.UpdateMediatorNameDefine=o,cc._RF.pop()},{}],UpdateModuleConfig:[function(e,t,i){"use strict";cc._RF.push(t,"5f9200uemdF+6kkrQoYQfgj","UpdateModuleConfig"),Object.defineProperty(i,"__esModule",{value:!0}),i.UpdateModuleConfig=void 0;var o=e("../Define/UpdateMediatorNameDefine"),n=e("../Initialize/UpdateInitializer"),r=function(e){function t(i){var r=e.call(this)||this;return r.name=t.ModuleName,r.type=miniframe.ModuleTypeDefine.MAIN,r.entryCommand="",r.entryMediator=o.UpdateMediatorNameDefine.UpdateUIMediator,r.entryParameter=null,r.isEntryModule=!1,r.isDefaultModule=!1,r.isAutoLaunch=!1,r.isAutoDispose=!0,r.isAutoNext=!1,r.nextModules=[i],r.backgroundModules=null,r.initializerClass=function(){return new n.UpdateInitializer},r}return __extends(t,e),t.ModuleName="Update",t}(miniframe.ModuleConfig);i.UpdateModuleConfig=r,cc._RF.pop()},{"../Define/UpdateMediatorNameDefine":"UpdateMediatorNameDefine","../Initialize/UpdateInitializer":"UpdateInitializer"}],UpdateNotificationDefine:[function(e,t,i){"use strict";cc._RF.push(t,"2f0187ipDRN9bIN7oBnTW31","UpdateNotificationDefine"),Object.defineProperty(i,"__esModule",{value:!0}),i.UpdateNotificationDefine=void 0;i.UpdateNotificationDefine=function(){},cc._RF.pop()},{}],UpdateUIMediator:[function(e,t,i){"use strict";cc._RF.push(t,"35ed3wfVZtEtLFc3Uc46umK","UpdateUIMediator"),Object.defineProperty(i,"__esModule",{value:!0}),i.UpdateUIMediator=void 0;var o=e("../../../Mediator/BaseUIMediator"),n=e("../Define/UpdateMediatorNameDefine"),r=function(e){function t(){var t=e.call(this,n.UpdateMediatorNameDefine.UpdateUIMediator,"PF_UI_Update",1,!0,!1,!1,!1,!1)||this;return t.m_label=null,t.m_loadStep=0,t.m_loadStepTotal=2,t.m_progressBar=null,t.m_parameters=null,t.m_preloadSettings=null,t.m_loader=null,t.m_loadStart=0,t.m_loadEnd=0,t}return __extends(t,e),t.prototype.onUIMediatorInit=function(t,i){if(e.prototype.onUIMediatorInit.call(this,t,i),t){var o=t,n=o.getChildByName("Label");this.m_label=n?n.getComponent(cc.Label):null,n=o.getChildByName("Progress"),this.m_progressBar=n?n.getComponent(cc.ProgressBar):null}},t.prototype.onUIMediatorUnInit=function(){this.m_label=null,this.m_progressBar=null,this.m_loader=null,e.prototype.onUIMediatorUnInit.call(this)},t.prototype.onUIMediatorOpen=function(i,o){e.prototype.onUIMediatorOpen.call(this,i,o),this.m_parameters=o,this.m_preloadSettings=this.m_parameters.preloads,this.m_preloadSettings&&delete this.m_parameters.preloads,this.m_loadStep=0,this.m_loadStart=miniframe.nowMS();var n=this.m_preloadSettings?this.m_preloadSettings.getPreloadConfigs():null;n&&n.length>0?(this.setProgress(t.CONFIG_LOAD_KEY,0),this.loadConfigs(t.CONFIG_LOAD_KEY,n)):this.onPreloadConfigComplete()},t.prototype.loadConfigs=function(e,t){this.m_loader||(this.m_loader=new miniframe.SimpleLoader),this.m_loader.setName(e);for(var i=[],o=t.length,n=0;n<o;n++)i.push(new miniframe.SimpleLoadData(t[n],!0));this.m_loader.load(i,this,this.m_preloadSettings.getPreloadAbreast())},t.prototype.loadResources=function(e,t){this.m_loader||(this.m_loader=new miniframe.SimpleLoader),this.m_loader.setName(e);for(var i=[],o=t.length,n=0;n<o&&!(n>=o-1);n+=2)i.push(new miniframe.SimpleLoadData(t[n],!1));this.m_loader.load(i,this,this.m_preloadSettings.getPreloadAbreast())},t.prototype.onPreloadConfigComplete=function(){var e=this.m_preloadSettings?this.m_preloadSettings.getPreloadResources():null;e&&e.length>0?this.loadResources(t.RESOURCE_LOAD_KEY,e):this.onPreloadResourceComplete()},t.prototype.onPreloadResourceComplete=function(){var e=this.m_preloadSettings?this.m_preloadSettings.getPreloadResources():null;if(e&&e.length>0)for(var t=null,i=e.length,o=0;o<i&&!(o>=i-1);o+=2)if(e[o+1]){if(!(t=miniframe.Resource.requestPrefabInstance(e[o])))continue;miniframe.Resource.recyclePrefabInstance(t)}this.onUpdateLoadComplete()},t.prototype.setProgress=function(e,t){var i=1/this.m_loadStepTotal;t=this.m_loadStep*i+t*i,this.m_progressBar&&(this.m_progressBar.progress=t),t=Math.floor(100*t),this.m_label&&(this.m_label.string=t.toString())},t.prototype.onUpdateLoadComplete=function(){this.m_loadEnd=miniframe.nowMS(),console.info("load total "+(this.m_loadEnd-this.m_loadStart)),this.closeSelf(),this.m_preloadSettings=null;var e=this.m_parameters;this.m_parameters=null,miniframe.Modules.next(e)},t.prototype.onSimpleLoadProgress=function(e,t){this.setProgress(e,t)},t.prototype.onSimpleLoadComplete=function(e){this.m_loadStep++,e==t.CONFIG_LOAD_KEY?this.onPreloadConfigComplete():e==t.RESOURCE_LOAD_KEY&&this.onPreloadResourceComplete()},t.CONFIG_LOAD_KEY="LoadConfig",t.RESOURCE_LOAD_KEY="LoadResource",t}(o.BaseUIMediator);i.UpdateUIMediator=r,cc._RF.pop()},{"../../../Mediator/BaseUIMediator":"BaseUIMediator","../Define/UpdateMediatorNameDefine":"UpdateMediatorNameDefine"}],VBigInteger:[function(e,t,i){"use strict";cc._RF.push(t,"d096cF/RQRABpZWKVOsd5o5","VBigInteger"),Object.defineProperty(i,"__esModule",{value:!0}),i.VBigInteger=void 0;var o=e("../../../biginteger.js"),n=function(){function e(e){void 0===e&&(e=""),this.m_value=null,this.m_value=new o.BigInteger(e)}return e.prototype.setValue=function(e){"number"==typeof e&&(e=e.toString()),this.m_value=o.BigInteger.parse(e)},e.prototype.getValue=function(){var e=this.m_value.toString(),t=e.indexOf(".");return-1!=t&&(e=e.substring(0,t)),e},e.prototype.add=function(e){this.m_value=this.m_value.add(e)},e.prototype.subtract=function(e){this.m_value=this.m_value.subtract(e)},e.prototype.multiply=function(e){this.m_value=this.m_value.multiplySingleDigit(e)},e.prototype.divide=function(e){this.m_value=this.m_value.divide(e)},e.prototype.compareValue=function(e){return this.m_value.compare(e)},e}();i.VBigInteger=n,cc._RF.pop()},{"../../../biginteger.js":"biginteger"}],VBigNumber:[function(e,t,i){"use strict";cc._RF.push(t,"5dd64wy94hIlIn6UaCjiMkp","VBigNumber"),Object.defineProperty(i,"__esModule",{value:!0}),i.VBigNumber=void 0;var o=e("./VBigInteger"),n=function(){function e(e,t){void 0===e&&(e=""),void 0===t&&(t=0),this.m_floatMax=0,this.m_integer=null,this.m_float=null,this.m_helper=null,this.m_floatMax=t,this.m_integer=new o.VBigInteger,this.m_float=this.m_floatMax>0?new o.VBigInteger:null,this.m_helper=this.m_float?new o.VBigInteger:null,this.setValue(e)}return e.prototype.clone=function(){return new e(this.getValue(),this.m_floatMax)},e.prototype.setValue=function(e){if("number"==typeof e&&(e=e.toString()),this.m_float){var t=e.indexOf(".");if(-1==t)this.m_integer.setValue(e),this.m_float.setValue("0");else{var i=e.substring(0,t),o=e.substring(t+1);if(o.length>this.m_floatMax)o=o.substring(0,this.m_floatMax);else for(;o.length<this.m_floatMax;)o+="0";this.m_integer.setValue(i),this.m_float.setValue(o)}}else this.m_integer.setValue(e)},e.prototype.getValue=function(){return this.m_float?this.m_integer.getValue()+"."+this.m_float.getValue():this.m_integer.getValue()},e.prototype.getIntValue=function(){return this.m_integer.getValue()},e.prototype.getRoundIntValue=function(){if(this.m_float){var t=this.m_float.getValue();if("string"==typeof t&&(t.length>1&&(t=t.slice(0,1)),(t=parseInt(t))>=5)){var i=new e;return i.setValue(this.m_integer.getValue()),i.add("1"),i.getValue()}}return this.m_integer.getValue()},e.prototype.add=function(e){if("number"==typeof e&&(e=e.toString()),this.m_float){var t=e.indexOf(".");if(-1==t)this.m_integer.add(e);else{var i=e.substring(0,t),o=e.substring(t+1);if(o.length>this.m_floatMax)o=o.substring(0,this.m_floatMax);else for(;o.length<this.m_floatMax;)o+="0";if(this.m_integer.add(i),this.m_float.add(o),(o=this.m_float.getValue()).length>this.m_floatMax){var n=o.length-this.m_floatMax;this.m_integer.add(o.substring(0,n)),this.m_float.setValue(o.substring(n))}}}else this.m_integer.add(e)},e.prototype.subtract=function(e){if("number"==typeof e&&(e=e.toString()),this.m_float){var t=e.indexOf(".");if(-1==t)this.m_integer.subtract(e);else{var i=e.substring(0,t),o=e.substring(t+1);if(o.length>this.m_floatMax)o=o.substring(0,this.m_floatMax);else for(;o.length<this.m_floatMax;)o+="0";this.m_integer.subtract(i),this.m_float.compareValue(o)>=0?this.m_float.subtract(o):(this.m_integer.subtract("1"),this.m_float.add(Math.pow(10,this.m_floatMax)),this.m_float.subtract(o))}}else this.m_integer.subtract(e)},e.prototype.multiply=function(e){if("number"==typeof e&&(e=e.toString()),this.m_float){this.m_integer.multiply(e),this.m_float.multiply(e);var t=this.m_float.getValue();if(t.length>this.m_floatMax){var i=t.length-this.m_floatMax;this.m_integer.add(t.substring(0,i)),this.m_float.setValue(t.substring(i))}}else this.m_integer.multiply(e)},e.prototype.divide=function(e){if("number"==typeof e&&(e=e.toString()),this.m_float)if(this.m_integer.compareValue(e)>=0){var t=this.m_integer.getValue();this.m_integer.divide(e);var i=this.m_integer.getValue();this.m_helper.setValue(e),this.m_helper.multiply(i);var o=this.m_helper.getValue();if(this.m_helper.setValue(t),this.m_helper.subtract(o),0!=this.m_helper.compareValue("0")&&(this.m_helper.multiply(Math.pow(10,this.m_floatMax)),this.m_float.add(this.m_helper.getValue()),this.m_float.divide(e),(r=this.m_float.getValue()).length>this.m_floatMax)){var n=r.length-this.m_floatMax;this.m_integer.add(r.substring(0,n)),this.m_float.setValue(r.substring(n))}}else{var r=this.m_float.getValue();this.m_float.setValue(this.m_integer.getValue()),this.m_float.multiply(Math.pow(10,this.m_floatMax)),this.m_float.add(r),this.m_float.divide(e),(r=this.m_float.getValue()).length>this.m_floatMax?(n=r.length-this.m_floatMax,this.m_integer.setValue(r.substring(0,n)),this.m_float.setValue(r.substring(n))):this.m_integer.setValue("0")}else this.m_integer.divide(e)},e.prototype.compareValue=function(e){if("number"==typeof e&&(e=e.toString()),this.m_float){var t=0,i=e.indexOf(".");if(-1==i)0==(t=this.m_integer.compareValue(e))&&(t=this.m_float.compareValue("0"));else{var o=e.substring(0,i),n=e.substring(i+1);if(n.length>this.m_floatMax)n=n.substring(0,this.m_floatMax);else for(;n.length<this.m_floatMax;)n+="0";0==(t=this.m_integer.compareValue(o))&&(t=this.m_float.compareValue(n))}return t}return this.m_integer.compareValue(e)},e}();i.VBigNumber=n,cc._RF.pop()},{"./VBigInteger":"VBigInteger"}],ValueTypeDefine:[function(e,t,i){"use strict";cc._RF.push(t,"360d67X5oVDFKbaJ7QOZgYh","ValueTypeDefine"),Object.defineProperty(i,"__esModule",{value:!0}),i.ValueTypeDefine=void 0,function(e){e[e.None=0]="None",e[e.Coin=1]="Coin",e[e.Gold=2]="Gold",e[e.Reputation=3]="Reputation",e[e.Max=4]="Max"}(i.ValueTypeDefine||(i.ValueTypeDefine={})),cc._RF.pop()},{}],VideoTypeDefine:[function(e,t,i){"use strict";cc._RF.push(t,"dcac2BEI4pMOo0TSjgC9dm7","VideoTypeDefine"),Object.defineProperty(i,"__esModule",{value:!0}),i.VideoTypeDefine=void 0,function(e){e[e.BuildingBuy=101]="BuildingBuy",e[e.BuildingLevelUp=102]="BuildingLevelUp",e[e.TradeTask=103]="TradeTask",e[e.DropYinPiao=104]="DropYinPiao",e[e.WantedRefresh=105]="WantedRefresh",e[e.WantedFight=106]="WantedFight"}(i.VideoTypeDefine||(i.VideoTypeDefine={})),cc._RF.pop()},{}],WantedItemUIViewScript:[function(e,t,i){"use strict";cc._RF.push(t,"8fcf467Ko1A+a6ozrBI7zsO","WantedItemUIViewScript"),Object.defineProperty(i,"__esModule",{value:!0});var o=e("../../../../Extension/UI/Item/ItemUIViewScript"),n=e("../../../../Extension/UI/Label/UITextScript"),r=cc._decorator,a=r.ccclass,s=r.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.icon=null,t.nameLabel=null,t.powerLabel=null,t.weekPointIcon=null,t.weekPointTitleLabel=null,t.weekPointValueLabel=null,t.awardIcon=null,t.awardValueLabel=null,t.canGoNode=null,t.finishNode=null,t}return __extends(t,e),__decorate([s(cc.Sprite)],t.prototype,"icon",void 0),__decorate([s(n.default)],t.prototype,"nameLabel",void 0),__decorate([s(n.default)],t.prototype,"powerLabel",void 0),__decorate([s(cc.Sprite)],t.prototype,"weekPointIcon",void 0),__decorate([s(n.default)],t.prototype,"weekPointTitleLabel",void 0),__decorate([s(n.default)],t.prototype,"weekPointValueLabel",void 0),__decorate([s(cc.Sprite)],t.prototype,"awardIcon",void 0),__decorate([s(n.default)],t.prototype,"awardValueLabel",void 0),__decorate([s(cc.Node)],t.prototype,"canGoNode",void 0),__decorate([s(cc.Node)],t.prototype,"finishNode",void 0),__decorate([a],t)}(o.default);i.default=p,cc._RF.pop()},{"../../../../Extension/UI/Item/ItemUIViewScript":"ItemUIViewScript","../../../../Extension/UI/Label/UITextScript":"UITextScript"}],WantedItemUIView:[function(e,t,i){"use strict";cc._RF.push(t,"39832fky5FB2bC9VLMgLKd6","WantedItemUIView"),Object.defineProperty(i,"__esModule",{value:!0}),i.WantedItemUIView=void 0;var o=e("../../../../Config/ConfigKeyDefine"),n=e("../../../../Extension/UI/Sprite/UISprite"),r=e("../../../Business/Control/BattleDataController"),a=e("../../../Business/Control/LimitDataController"),s=e("../../../Business/Define/LimitIDDefine"),p=e("../../../Business/Define/VideoTypeDefine"),u=e("../../../MiniGame"),c=e("../../MediatorNameDefine"),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.m_icon=null,t.m_weekPointIcon=null,t.m_awardIcon=null,t.m_npcInfoConfig=null,t.m_hasFreeCount=!1,t.m_hasADCount=!1,t}return __extends(t,e),t.prototype.onInitScript=function(){e.prototype.onInitScript.call(this);var t=this.getScript();t&&(t.icon&&(this.m_icon||(this.m_icon=new n.UISprite),this.m_icon.bindScript(t.icon)),t.weekPointIcon&&(this.m_weekPointIcon||(this.m_weekPointIcon=new n.UISprite),this.m_weekPointIcon.bindScript(t.weekPointIcon)),t.awardIcon&&(this.m_awardIcon||(this.m_awardIcon=new n.UISprite),this.m_awardIcon.bindScript(t.awardIcon)))},t.prototype.onUnInitScript=function(){this.m_icon&&(this.m_icon.dispose(),this.m_icon=null),this.m_weekPointIcon&&(this.m_weekPointIcon.dispose(),this.m_weekPointIcon=null),this.m_awardIcon&&(this.m_awardIcon.dispose(),this.m_awardIcon=null),e.prototype.onUnInitScript.call(this)},t.prototype.onSetData=function(t,i,n){if(i){this.m_npcInfoConfig&&this.m_npcInfoConfig.getId()==i.getNPCInfoID()||(this.m_npcInfoConfig=miniframe.Config.getData(o.ConfigKeyDefine.NPC_INFO,i.getNPCInfoID()),this.m_npcInfoConfig?this.m_icon&&(this.m_icon.hookAtlasSprite(this.m_npcInfoConfig.getIconAt(0),this.m_npcInfoConfig.getIconAt(1)),this.m_icon.getNode().setPosition(new cc.Vec2(miniframe.toNumber(this.m_npcInfoConfig.getIconAt(2)),miniframe.toNumber(this.m_npcInfoConfig.getIconAt(3))))):this.m_icon&&this.m_icon.clear()),t.nameLabel&&(t.nameLabel.string=this.m_npcInfoConfig.getNameLan()),t.powerLabel&&(t.powerLabel.string=i.calculatePower()+"");var p=i.getWeakPoint();this.m_weekPointIcon&&this.m_weekPointIcon.hookAtlasSprite("ATLAS_Attrs","attr_"+p.x),t.weekPointTitleLabel&&(t.weekPointTitleLabel.string=u.MiniGame.Locale.getLanguage(p.x,o.ConfigKeyDefine.LAN_ATTRI)),t.weekPointValueLabel&&(t.weekPointValueLabel.string=p.y+"",t.weekPointValueLabel.setEnabled(r.BattleDataController.Instance.compareHostAttr(p.x,p.y)<0));var c=i.getAward(),l="",d=null,f=null;if(1==c.x)d=miniframe.Config.getData(o.ConfigKeyDefine.ITEM_INFO,c.y);else if(3==c.x||4==c.x){var g=c.y;f=miniframe.Config.getData(o.ConfigKeyDefine.EXPRESS_EVENT_BAG,g)}d?(l=u.MiniGame.Locale.getLanguage(d.getNameLan()),this.m_awardIcon&&(this.m_awardIcon.hookAtlasSprite(d.getIconAt(0),d.getIconAt(1)),this.m_awardIcon.getNode().setPosition(new cc.Vec2(miniframe.toNumber(d.getIconAt(2)),miniframe.toNumber(d.getIconAt(3)))))):f?(l=u.MiniGame.Locale.getLanguage(f.getTitleLan()),this.m_awardIcon&&this.m_awardIcon.clear()):this.m_awardIcon&&this.m_awardIcon.clear(),t.awardValueLabel&&(t.awardValueLabel.string=l+"x"+c.z),t.canGoNode&&(t.canGoNode.active=0==i.getState()),t.finishNode&&(t.finishNode.active=1==i.getState())}else this.m_icon&&this.m_icon.clear();return this.m_hasFreeCount=!a.LimitDataController.Instance.isLimitFull(s.LimitIDDefine.DailyFreeWanted),this.m_hasADCount=minisdk.ads&&minisdk.ads.isRewardedVideoOpened()&&!this.m_hasFreeCount&&!a.LimitDataController.Instance.isLimitFull(s.LimitIDDefine.DailyADWanted),this.m_hasADCount?(this.setButtonVisible("ad",!0),this.setButtonVisible("go",!1)):(this.setButtonVisible("ad",!1),this.setButtonVisible("go",!0),this.m_hasFreeCount?this.setButtonEnable("go",!0):this.setButtonEnable("go",!1,!0)),e.prototype.onSetData.call(this,t,i,n)},t.prototype.onButtonClick=function(t){switch(t){case"go":if(!this.getData())return;if(this.m_hasFreeCount){var i=r.BattleDataController.Instance.createBattleFightData(this.getData(),s.LimitIDDefine.DailyFreeWanted);if(!i)return;u.MiniGame.MVC.openMediator(c.MediatorNameDefine.BattleUIMediator,i),u.MiniGame.MVC.closeMediator(c.MediatorNameDefine.WantedUIMediator)}else u.MiniGame.MVC.openMediator(c.MediatorNameDefine.PromptAutoUIMediator,u.MiniGame.Locale.getLanguage(100035));break;case"ad":if(!this.getData())return;minisdk.ads&&minisdk.ads.isRewardedVideoOpened()&&(this.lockUI(),minisdk.ads.showRewardedVideo(p.VideoTypeDefine.WantedFight,null,this.onWantedFight,this));break;default:e.prototype.onButtonClick.call(this,t)}},t.prototype.onWantedFight=function(e,t,i){if(this.unlockUI(),1==i){var o=r.BattleDataController.Instance.createBattleFightData(this.getData(),s.LimitIDDefine.DailyADWanted);if(!o)return;u.MiniGame.MVC.openMediator(c.MediatorNameDefine.BattleUIMediator,o),u.MiniGame.MVC.closeMediator(c.MediatorNameDefine.WantedUIMediator)}},t}(e("../Basic/BusinessItemUIView").BusinessItemUIView);i.WantedItemUIView=l,cc._RF.pop()},{"../../../../Config/ConfigKeyDefine":"ConfigKeyDefine","../../../../Extension/UI/Sprite/UISprite":"UISprite","../../../Business/Control/BattleDataController":"BattleDataController","../../../Business/Control/LimitDataController":"LimitDataController","../../../Business/Define/LimitIDDefine":"LimitIDDefine","../../../Business/Define/VideoTypeDefine":"VideoTypeDefine","../../../MiniGame":"MiniGame","../../MediatorNameDefine":"MediatorNameDefine","../Basic/BusinessItemUIView":"BusinessItemUIView"}],WantedUIMediator:[function(e,t,i){"use strict";cc._RF.push(t,"d8f00mqUz9P0YFaTvfPTQ2W","WantedUIMediator"),Object.defineProperty(i,"__esModule",{value:!0}),i.WantedUIMediator=void 0;var o=e("../../../../Extension/UI/Scroll/UIScrollList"),n=e("../../../../Extension/UI/Scroll/UIScrollScript"),r=e("../../../Business/Control/BattleDataController"),a=e("../../../Business/Control/CDDataController"),s=e("../../../Business/Control/LimitDataController"),p=e("../../../Business/Define/CDIDDefine"),u=e("../../../Business/Define/ControlCodeDefine"),c=e("../../../Business/Define/LimitIDDefine"),l=e("../../../Business/Define/VideoTypeDefine"),d=e("../../../Business/Define/WindowTypeDefine"),f=e("../Basic/BusinessUIMediator"),g=e("../Component/WantedUIScript"),m=e("../Define/BusinessUILayerDefine"),h=e("../View/WantedItemUIView"),_=function(e){function t(){var t=e.call(this,"WantedUIMediator","PF_UI_Wanted",m.BusinessUILayerDefine.UI,!1,!1,!0,!0,!0,d.WindowTypeDefine.Default)||this;return t.m_wantedScript=null,t.m_scroll=null,t}return __extends(t,e),t.prototype.onUIMediatorInit=function(t,i){e.prototype.onUIMediatorInit.call(this,t,i),this.m_wantedScript=t?t.getComponent(g.default):null;var r=t.getComponentInChildren(n.default);r&&(this.m_scroll=new o.UIScrollList(h.WantedItemUIView,this.getMediatorName()),this.m_scroll.bindScript(r))},t.prototype.onUIMediatorUnInit=function(){this.m_wantedScript=null,e.prototype.onUIMediatorUnInit.call(this)},t.prototype.onUIMediatorPrepare=function(t,i){if(e.prototype.onUIMediatorPrepare.call(this,t,i),this.m_scroll){var o=r.BattleDataController.Instance.getNPCDatas();this.m_scroll.setDataList(o)}if(this.m_wantedScript){var n=r.BattleDataController.Instance.getHostData(!0);this.m_wantedScript.powerLabel&&(this.m_wantedScript.powerLabel.string=n.powerRange.y+"")}this.updateLimitInfo(),this.updateRefreshInfo(),s.LimitDataController.Instance.addListener(this),a.CDDataController.Instance.addListener(this)},t.prototype.onUIMediatorOpen=function(t,i){e.prototype.onUIMediatorOpen.call(this,t,i),this.m_scroll&&this.m_scroll.scrollToTop()},t.prototype.onUIMediatorClose=function(t){e.prototype.onUIMediatorClose.call(this,t)},t.prototype.onButtonClick=function(t){switch(t){case"refresh":minisdk.ads&&minisdk.ads.isRewardedVideoOpened()&&(this.lockUI(),minisdk.ads.showRewardedVideo(l.VideoTypeDefine.WantedRefresh,null,this.onWantedRefresh,this));break;default:e.prototype.onButtonClick.call(this,t)}},t.prototype.onWantedRefresh=function(e,t,i){if(this.unlockUI(),1==i&&r.BattleDataController.Instance.refreshBattleDatas(!0)){if(this.m_scroll){var o=r.BattleDataController.Instance.getNPCDatas();this.m_scroll.setDataList(o)}a.CDDataController.Instance.handleStartCD(p.CDIDDefine.WantedRefresh)}},t.prototype.updateLimitInfo=function(){var e=0,t=s.LimitDataController.Instance.getLimitData(c.LimitIDDefine.DailyFreeWanted);t&&(e=t.getLeftCount(),t.getLimitMaxCount()),this.m_wantedScript.leftCountLabel&&(this.m_wantedScript.leftCountLabel.string=e+"")},t.prototype.updateRefreshInfo=function(){var e=minisdk.ads&&minisdk.ads.isRewardedVideoOpened();this.setButtonVisible("refresh",e),e&&this.setButtonEnable("refresh",a.CDDataController.Instance.isCDAvailable(p.CDIDDefine.WantedRefresh))},t.prototype.onDataControllerUpdate=function(e,t){switch(e){case u.ControlCodeDefine.LimitChange:t==c.LimitIDDefine.DailyFreeWanted&&this.updateLimitInfo();break;case u.ControlCodeDefine.CDStart:case u.ControlCodeDefine.CDEnd:t==p.CDIDDefine.WantedRefresh&&this.updateRefreshInfo()}},t}(f.BusinessUIMediator);i.WantedUIMediator=_,cc._RF.pop()},{"../../../../Extension/UI/Scroll/UIScrollList":"UIScrollList","../../../../Extension/UI/Scroll/UIScrollScript":"UIScrollScript","../../../Business/Control/BattleDataController":"BattleDataController","../../../Business/Control/CDDataController":"CDDataController","../../../Business/Control/LimitDataController":"LimitDataController","../../../Business/Define/CDIDDefine":"CDIDDefine","../../../Business/Define/ControlCodeDefine":"ControlCodeDefine","../../../Business/Define/LimitIDDefine":"LimitIDDefine","../../../Business/Define/VideoTypeDefine":"VideoTypeDefine","../../../Business/Define/WindowTypeDefine":"WindowTypeDefine","../Basic/BusinessUIMediator":"BusinessUIMediator","../Component/WantedUIScript":"WantedUIScript","../Define/BusinessUILayerDefine":"BusinessUILayerDefine","../View/WantedItemUIView":"WantedItemUIView"}],WantedUIScript:[function(e,t,i){"use strict";cc._RF.push(t,"4d646TgvVZP5ZcTWGaFO5vS","WantedUIScript"),Object.defineProperty(i,"__esModule",{value:!0});var o=e("../../../../Extension/UI/Label/UITextScript"),n=cc._decorator,r=n.ccclass,a=n.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.powerLabel=null,t.leftCountLabel=null,t}return __extends(t,e),__decorate([a(o.default)],t.prototype,"powerLabel",void 0),__decorate([a(o.default)],t.prototype,"leftCountLabel",void 0),__decorate([r],t)}(cc.Component);i.default=s,cc._RF.pop()},{"../../../../Extension/UI/Label/UITextScript":"UITextScript"}],WeaponAttrItemUIView:[function(e,t,i){"use strict";cc._RF.push(t,"64bdevmEHhPeZ5iY8/XE8GV","WeaponAttrItemUIView"),Object.defineProperty(i,"__esModule",{value:!0}),i.WeaponAttrItemUIView=void 0;var o=e("../../../../Extension/UI/Sprite/UISprite"),n=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.m_icon=null,t.m_attrType=0,t.m_growConfigChanged=!1,t.m_currentGrowConfig=null,t.m_nextGrowConfig=null,t}return __extends(t,e),t.prototype.onInitScript=function(){e.prototype.onInitScript.call(this);var t=this.getScript();t&&t.icon&&(this.m_icon||(this.m_icon=new o.UISprite),this.m_icon.bindScript(t.icon))},t.prototype.onSetData=function(e,t,i){if((i||this.m_growConfigChanged)&&(this.m_growConfigChanged=!1,t&&""!=t)){var o=t.split("|");if(1==this.m_attrType){e.nodes.length>0&&(e.nodes[0].active=!0);var n=0,r=0;if(o.length>0&&(n=miniframe.toNumber(o[0])),o.length>1&&(r=miniframe.toNumber(o[1])),this.m_icon&&(o.length>3?this.m_icon.hookAtlasSprite(o[2],o[3]):this.m_icon.clear()),e.labels.length>0){e.labels[0].string="",o.length>4&&(s=miniframe.toNumber(o[4]))>0&&e.labels[0].setLanguage(s);var a=0;o.length>5&&(a=miniframe.toNumber(o[5])),a>0?(e.labels[0].overflow=cc.Label.Overflow.CLAMP,e.labels[0].node.width=a):e.labels[0].overflow=cc.Label.Overflow.NONE}e.labels.length>1&&(e.labels[1].string="",o.length>6?""==o[6]?e.nodes.length>0&&(e.nodes[0].active=!1):(s=miniframe.toNumber(o[6]))>0?e.labels[1].setLanguageFormat(s,this.getCurrentProp(n,r)):e.labels[1].string=this.getCurrentProp(n,r)+"":e.nodes.length>0&&(e.nodes[0].active=!1)),e.labels.length>2&&(e.labels[2].string="",this.m_nextGrowConfig&&o.length>7?""==o[7]?e.nodes.length>0&&(e.nodes[0].active=!1):(s=miniframe.toNumber(o[7]))>0?e.labels[2].setLanguageFormat(s,this.getNextProp(n,r)):e.labels[2].string=this.getNextProp(n,r)+"":e.nodes.length>0&&(e.nodes[0].active=!1))}else{var s;this.m_icon&&(o.length>1?this.m_icon.hookAtlasSprite(o[0],o[1]):this.m_icon.clear()),e.labels.length>0&&(e.labels[0].string="",o.length>2&&(s=miniframe.toNumber(o[2]))>0&&e.labels[0].setLanguage(s)),e.labels.length>1&&(e.labels[1].string="",o.length>3&&(s=miniframe.toNumber(o[3]))>0&&e.labels[1].setLanguage(s))}}return!!t},t.prototype.setAttrType=function(e){this.m_attrType=e},t.prototype.setGrowConfigs=function(e,t){this.m_currentGrowConfig==e&&this.m_nextGrowConfig==t||(this.m_growConfigChanged=!0,this.m_currentGrowConfig=e,this.m_nextGrowConfig=t)},t.prototype.getCurrentProp=function(e,t){return this.getPropByConfig(this.m_currentGrowConfig,e,t)},t.prototype.getNextProp=function(e,t){return this.getPropByConfig(this.m_nextGrowConfig,e,t)},t.prototype.getPropByConfig=function(e,t,i){if(!e)return 0;switch(t){case 1:return this.getPropIn(e.getAttrs(),i);case 2:return e.getPower().y}return 0},t.prototype.getPropIn=function(e,t){if(e.length<=0)return 0;if(t<=0)return e[0].y;for(var i=e.length,o=0;o<i;o++)if(e[o].x==t)return e[o].y;return 0},t}(e("../Basic/BusinessItemUIView").BusinessItemUIView);i.WeaponAttrItemUIView=n,cc._RF.pop()},{"../../../../Extension/UI/Sprite/UISprite":"UISprite","../Basic/BusinessItemUIView":"BusinessItemUIView"}],WeaponGrowInfoConfigData:[function(e,t,i){"use strict";cc._RF.push(t,"2885dyfHwtLd6lpC4NJVHhL","WeaponGrowInfoConfigData"),Object.defineProperty(i,"__esModule",{value:!0}),i.WeaponGrowInfoConfigData=void 0;var o=function(){function e(e){this.m_data=null,this.m_attrs=[],this.m_data=e,this.init()}return e.prototype.getId=function(){return this.m_data.getId()},e.prototype.getAttrs=function(){return this.m_attrs},e.prototype.getAttrsCount=function(){return this.m_attrs.length},e.prototype.getAttrsAt=function(e){return e<0||e>=this.m_attrs.length?null:this.m_attrs[e]},e.prototype.getPower=function(){return this.m_power},e.prototype.init=function(){this.m_attrs=miniframe.Number2.parseListFrom(this.m_data.getAttrsList()),this.m_power=miniframe.Number2.parseFrom(this.m_data.getPower())},e.prototype.getConfigKey=function(){return this.getId()},e}();i.WeaponGrowInfoConfigData=o,cc._RF.pop()},{}],WeaponInfoConfigData:[function(e,t,i){"use strict";cc._RF.push(t,"97541PJ7q5Op7pTte4205xA","WeaponInfoConfigData"),Object.defineProperty(i,"__esModule",{value:!0}),i.WeaponInfoConfigData=void 0;var o=function(){function e(e){this.m_data=null,this.m_data=e,this.init()}return e.prototype.getId=function(){return this.m_data.getId()},e.prototype.init=function(){},e.prototype.getConfigKey=function(){return this.getId()},e}();i.WeaponInfoConfigData=o,cc._RF.pop()},{}],WindowStateController:[function(e,t,i){"use strict";cc._RF.push(t,"52f82k+YrRKjbQ8QVbSPNnL","WindowStateController"),Object.defineProperty(i,"__esModule",{value:!0}),i.WindowStateController=void 0;var o=e("../../../Extension/DataControl/BasicDataController"),n=e("../../MiniGame"),r=e("../Define/ControlCodeDefine"),a=e("./StayStateController"),s=function(){this.name="",this.type=0,this.state=0},p=function(e){function t(){var i=e.call(this)||this;return i.m_windowDatas={},i.m_typeWindows={},i.m_lastWindow="",t.ms_instance=i,i}return __extends(t,e),Object.defineProperty(t,"Instance",{get:function(){return t.ms_instance||new t},enumerable:!1,configurable:!0}),t.prototype.registerWindow=function(e,t){if(void 0===t&&(t=0),!this.m_windowDatas[e]){var i=new s;i.name=e,i.type=t,i.state=0,this.m_windowDatas[e]=i,this.m_typeWindows[t]||(this.m_typeWindows[t]=[]),this.m_typeWindows[t].push(e)}},t.prototype.hasAnyWindowOpened=function(e){void 0===e&&(e=0);var t=this.m_typeWindows[e];if(t&&t.length>0)for(var i=t.length,o=0;o<i;o++)if(n.MiniGame.MVC.isMediatorOpened(t[o]))return!0;return!1},t.prototype.onWindowOpen=function(e){this.m_windowDatas[e]&&(this.m_windowDatas[e].state>0||(this.m_windowDatas[e].state=1,this.m_lastWindow="",a.StayStateController.Instance.resetStayTime()))},t.prototype.onWindowClose=function(e){this.m_windowDatas[e]&&(this.m_windowDatas[e].state<0||(this.m_windowDatas[e].state=-1,this.m_lastWindow=e,this.hasAnyWindowOpened(this.m_windowDatas[e].type)||(a.StayStateController.Instance.resetStayTime(),this.notifyUpdate(r.ControlCodeDefine.WindowAllClosed,this.m_windowDatas[e].type))))},t.prototype.getLastWindow=function(){return this.m_lastWindow},t.ms_instance=null,t}(o.BasicDataController);i.WindowStateController=p,cc._RF.pop()},{"../../../Extension/DataControl/BasicDataController":"BasicDataController","../../MiniGame":"MiniGame","../Define/ControlCodeDefine":"ControlCodeDefine","./StayStateController":"StayStateController"}],WindowTypeDefine:[function(e,t,i){"use strict";cc._RF.push(t,"7ef67j+KahOG6HCT3f841Yu","WindowTypeDefine"),Object.defineProperty(i,"__esModule",{value:!0}),i.WindowTypeDefine=void 0,function(e){e[e.Default=0]="Default",e[e.Toolbar=1]="Toolbar",e[e.Prompt=2]="Prompt"}(i.WindowTypeDefine||(i.WindowTypeDefine={})),cc._RF.pop()},{}],YinPiaoInfoUIMediator:[function(e,t,i){"use strict";cc._RF.push(t,"f1a8aGfdK9P/rtMSzUOw4eg","YinPiaoInfoUIMediator"),Object.defineProperty(i,"__esModule",{value:!0}),i.YinPiaoInfoUIMediator=void 0;var o=e("../../../../Config/ConfigKeyDefine"),n=e("../../../Business/Control/CharDataController"),r=e("../../../Business/Control/ExpressDataController"),a=e("../../../Business/Define/VideoTypeDefine"),s=e("../../../Business/Define/WindowTypeDefine"),p=e("../Basic/BusinessUIMediator"),u=e("../Component/CueInfoUIScript"),c=e("../Define/BusinessUILayerDefine"),l=function(e){function t(){var t=e.call(this,"YinPiaoInfoUIMediator","PF_UI_YinPiaoInfo",c.BusinessUILayerDefine.UI,!1,!1,!0,!0,!0,s.WindowTypeDefine.Default)||this;return t.m_cueInfoScript=null,t.m_drop=null,t.m_groupID=0,t.m_eventID=0,t.m_groupConfig=null,t.m_eventConfig=null,t.m_nextDrops=[],t}return __extends(t,e),t.prototype.onUIMediatorInit=function(t,i){e.prototype.onUIMediatorInit.call(this,t,i),this.m_cueInfoScript=t?t.getComponent(u.default):null},t.prototype.onUIMediatorUnInit=function(){this.m_cueInfoScript=null,e.prototype.onUIMediatorUnInit.call(this)},t.prototype.onUIMediatorPrepare=function(t,i){e.prototype.onUIMediatorPrepare.call(this,t,i),this.showNext(i)},t.prototype.onUIMediatorClose=function(t){e.prototype.onUIMediatorClose.call(this,t),this.m_drop=null},t.prototype.onUIMediatorRefresh=function(t){e.prototype.onUIMediatorRefresh.call(this,t),this.m_nextDrops.push(t)},t.prototype.onButtonClick=function(t){switch(t){case"ad":minisdk.ads&&minisdk.ads.isRewardedVideoOpened()&&(this.lockUI(),minisdk.ads.showRewardedVideo(a.VideoTypeDefine.DropYinPiao,null,this.onDrawAward,this));break;case"next":this.onNext(!1);break;default:e.prototype.onButtonClick.call(this,t)}},t.prototype.showNext=function(e){this.m_drop=e;var t=this.m_drop.getDropData();t?(this.m_groupID=t.getParameterAt(0),this.m_eventID=t.getParameterAt(1)):(this.m_groupID=0,this.m_eventID=0),this.m_groupConfig=miniframe.Config.getData(o.ConfigKeyDefine.EXPRESS_EVENT_BAG,this.m_groupID),this.m_cueInfoScript.titleLabel&&this.m_cueInfoScript.titleLabel.setLanguage(this.m_groupConfig.getTitleLan()),this.m_eventConfig=miniframe.Config.getData(o.ConfigKeyDefine.EXPRESS_EVENT,this.m_eventID),this.m_eventConfig&&(this.m_cueInfoScript.contentLabel&&(this.m_cueInfoScript.contentLabel.string=this.m_eventConfig.getContent()),this.onSetAward(0))},t.prototype.onDrawAward=function(e,t,i){this.unlockUI(),1==i&&(this.onGetDropBag(0),this.onNext(!0))},t.prototype.onGetDropBag=function(e){if(!(e<0||e>=this.m_eventConfig.getDropbagCount())){var t=r.ExpressDataController.Instance.isEventGroupFull(this.m_groupID,this.m_groupConfig)?this.m_eventConfig.getDropbagAt(e):this.m_eventConfig.getDropbagFirstAt(e),i=miniframe.Config.getData(o.ConfigKeyDefine.DROPBAG,t);i&&n.CharDataController.Instance.handleAddCharValues(i.getDrops())}},t.prototype.onSetAward=function(e){this.m_cueInfoScript.awardLabel&&(this.m_cueInfoScript.awardLabel.string=this.m_eventConfig.getAwardContentAt(e));for(var t=this.m_cueInfoScript.awardValueNodes.length,i=0;i<t;i++)this.m_cueInfoScript.awardValueNodes[i].active=!1;var n=this.m_eventConfig.getDropbagAt(e),r=miniframe.Config.getData(o.ConfigKeyDefine.DROPBAG,n);if(r){r.getDrops().sort(this.compareDropValue);var a=r.getDropsCount();for(i=0;i<a;i++)i<this.m_cueInfoScript.awardValueNodes.length&&(this.m_cueInfoScript.awardValueNodes[i].active=!0),i<this.m_cueInfoScript.awardValueLabels.length&&(this.m_cueInfoScript.awardValueLabels[i].string=r.getDropsAt(i).y+"")}else this.m_cueInfoScript.awardLabel.string=""},t.prototype.compareDropValue=function(e,t){return e.x-t.x},t.prototype.onNext=function(e){var t=void 0;this.m_groupConfig&&(t=this.m_groupConfig.getEventsCount()),r.ExpressDataController.Instance.handleAddUsedEvent(this.m_groupID,this.m_eventID,!1,t),e?this.m_drop&&this.m_drop.fly():this.m_drop&&this.m_drop.clear(),this.m_drop=null,this.m_nextDrops.length>0?this.showNext(this.m_nextDrops.shift()):this.onClose()},t.prototype.onDataControllerUpdate=function(){},t}(p.BusinessUIMediator);i.YinPiaoInfoUIMediator=l,cc._RF.pop()},{"../../../../Config/ConfigKeyDefine":"ConfigKeyDefine","../../../Business/Control/CharDataController":"CharDataController","../../../Business/Control/ExpressDataController":"ExpressDataController","../../../Business/Define/VideoTypeDefine":"VideoTypeDefine","../../../Business/Define/WindowTypeDefine":"WindowTypeDefine","../Basic/BusinessUIMediator":"BusinessUIMediator","../Component/CueInfoUIScript":"CueInfoUIScript","../Define/BusinessUILayerDefine":"BusinessUILayerDefine"}],audio_pb:[function(e,t,i){"use strict";cc._RF.push(t,"8e883BT5P5BMI129L4N5Hu5","audio_pb");var o=e("google-protobuf"),n=o,r=function(){return this}();if(n.exportSymbol("proto.AudioConfigProto",null,r),null==a)var a=a||{};a.AudioConfigProto=function(e){o.Message.initialize(this,e,0,-1,a.AudioConfigProto.repeatedFields_,null)},n.inherits(a.AudioConfigProto,o.Message),n.DEBUG&&!COMPILED&&(a.AudioConfigProto.displayName="proto.AudioConfigProto"),a.AudioConfigProto.repeatedFields_=[6],o.Message.GENERATE_TO_OBJECT&&(a.AudioConfigProto.prototype.toObject=function(e){return a.AudioConfigProto.toObject(e,this)},a.AudioConfigProto.toObject=function(e,t){var i={id:o.Message.getFieldWithDefault(t,1,0),type:o.Message.getFieldWithDefault(t,2,0),playType:o.Message.getFieldWithDefault(t,3,0),isLoop:o.Message.getFieldWithDefault(t,4,0),prefix:o.Message.getFieldWithDefault(t,5,""),stepsList:o.Message.getRepeatedField(t,6)};return e&&(i.$jspbMessageInstance=t),i}),a.AudioConfigProto.deserializeBinary=function(e){var t=new o.BinaryReader(e),i=new a.AudioConfigProto;return a.AudioConfigProto.deserializeBinaryFromReader(i,t)},a.AudioConfigProto.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var i=t.readInt32();e.setId(i);break;case 2:i=t.readInt32(),e.setType(i);break;case 3:i=t.readInt32(),e.setPlayType(i);break;case 4:i=t.readInt32(),e.setIsLoop(i);break;case 5:i=t.readString(),e.setPrefix(i);break;case 6:i=t.readString(),e.addSteps(i);break;default:t.skipField()}return e},a.AudioConfigProto.prototype.serializeBinary=function(){var e=new o.BinaryWriter;return a.AudioConfigProto.serializeBinaryToWriter(this,e),e.getResultBuffer()},a.AudioConfigProto.serializeBinaryToWriter=function(e,t){var i=void 0;0!==(i=e.getId())&&t.writeInt32(1,i),0!==(i=e.getType())&&t.writeInt32(2,i),0!==(i=e.getPlayType())&&t.writeInt32(3,i),0!==(i=e.getIsLoop())&&t.writeInt32(4,i),(i=e.getPrefix()).length>0&&t.writeString(5,i),(i=e.getStepsList()).length>0&&t.writeRepeatedString(6,i)},a.AudioConfigProto.prototype.getId=function(){return o.Message.getFieldWithDefault(this,1,0)},a.AudioConfigProto.prototype.setId=function(e){o.Message.setProto3IntField(this,1,e)},a.AudioConfigProto.prototype.getType=function(){return o.Message.getFieldWithDefault(this,2,0)},a.AudioConfigProto.prototype.setType=function(e){o.Message.setProto3IntField(this,2,e)},a.AudioConfigProto.prototype.getPlayType=function(){return o.Message.getFieldWithDefault(this,3,0)},a.AudioConfigProto.prototype.setPlayType=function(e){o.Message.setProto3IntField(this,3,e)},a.AudioConfigProto.prototype.getIsLoop=function(){return o.Message.getFieldWithDefault(this,4,0)},a.AudioConfigProto.prototype.setIsLoop=function(e){o.Message.setProto3IntField(this,4,e)},a.AudioConfigProto.prototype.getPrefix=function(){return o.Message.getFieldWithDefault(this,5,"")},a.AudioConfigProto.prototype.setPrefix=function(e){o.Message.setProto3StringField(this,5,e)},a.AudioConfigProto.prototype.getStepsList=function(){return o.Message.getRepeatedField(this,6)},a.AudioConfigProto.prototype.setStepsList=function(e){o.Message.setField(this,6,e||[])},a.AudioConfigProto.prototype.addSteps=function(e,t){o.Message.addToRepeatedField(this,6,e,t)},a.AudioConfigProto.prototype.clearStepsList=function(){this.setStepsList([])},n.object.extend(i,a),cc._RF.pop()},{"google-protobuf":"google-protobuf"}],biginteger:[function(e,t,i){"use strict";cc._RF.push(t,"79d04KCgFBKpoSq9HCAWT5+","biginteger"),function(e){var t={};function i(e,o,r){if(r!==t)return e instanceof i?e:void 0===e?n:i.parse(e);for(e=e||[];e.length&&!e[e.length-1];)--e.length;this._d=e,this._s=e.length?o||1:0}i._construct=function(e,o){return new i(e,o,t)};var o=1e7;i.base=o,i.base_log10=7;var n=new i([],0,t);i.ZERO=n;var r=new i([1],1,t);i.ONE=r;var a=new i(r._d,-1,t);i.M_ONE=a,i._0=n,i._1=r,i.small=[n,r,new i([2],1,t),new i([3],1,t),new i([4],1,t),new i([5],1,t),new i([6],1,t),new i([7],1,t),new i([8],1,t),new i([9],1,t),new i([10],1,t),new i([11],1,t),new i([12],1,t),new i([13],1,t),new i([14],1,t),new i([15],1,t),new i([16],1,t),new i([17],1,t),new i([18],1,t),new i([19],1,t),new i([20],1,t),new i([21],1,t),new i([22],1,t),new i([23],1,t),new i([24],1,t),new i([25],1,t),new i([26],1,t),new i([27],1,t),new i([28],1,t),new i([29],1,t),new i([30],1,t),new i([31],1,t),new i([32],1,t),new i([33],1,t),new i([34],1,t),new i([35],1,t),new i([36],1,t)],i.digits="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ".split(""),i.prototype.toString=function(e){if((e=+e||10)<2||e>36)throw new Error("illegal radix "+e+".");if(0===this._s)return"0";if(10===e){var t=this._s<0?"-":"";t+=this._d[this._d.length-1].toString();for(var o=this._d.length-2;o>=0;o--){for(var n=this._d[o].toString();n.length<7;)n="0"+n;t+=n}return t}var r=i.digits;e=i.small[e];for(var a,s=this._s,p=this.abs(),u=[];0!==p._s;){var c=p.divRem(e);p=c[0],a=c[1],u.push(r[a.valueOf()])}return(s<0?"-":"")+u.reverse().join("")},i.radixRegex=[/^$/,/^$/,/^[01]*$/,/^[012]*$/,/^[0-3]*$/,/^[0-4]*$/,/^[0-5]*$/,/^[0-6]*$/,/^[0-7]*$/,/^[0-8]*$/,/^[0-9]*$/,/^[0-9aA]*$/,/^[0-9abAB]*$/,/^[0-9abcABC]*$/,/^[0-9a-dA-D]*$/,/^[0-9a-eA-E]*$/,/^[0-9a-fA-F]*$/,/^[0-9a-gA-G]*$/,/^[0-9a-hA-H]*$/,/^[0-9a-iA-I]*$/,/^[0-9a-jA-J]*$/,/^[0-9a-kA-K]*$/,/^[0-9a-lA-L]*$/,/^[0-9a-mA-M]*$/,/^[0-9a-nA-N]*$/,/^[0-9a-oA-O]*$/,/^[0-9a-pA-P]*$/,/^[0-9a-qA-Q]*$/,/^[0-9a-rA-R]*$/,/^[0-9a-sA-S]*$/,/^[0-9a-tA-T]*$/,/^[0-9a-uA-U]*$/,/^[0-9a-vA-V]*$/,/^[0-9a-wA-W]*$/,/^[0-9a-xA-X]*$/,/^[0-9a-yA-Y]*$/,/^[0-9a-zA-Z]*$/],i.parse=function(e,o){e=e.toString(),void 0!==o&&10!=+o||(e=e.replace(/\s*[*xX]\s*10\s*(\^|\*\*)\s*/,"e").replace(/^([+\-])?(\d+)\.?(\d*)[eE]([+\-]?\d+)$/,function(e,t,i,o,n){var r=(n=+n)<0,a=i.length+n;e=(r?i:o).length,n=(n=Math.abs(n))>=e?n-e+r:0;var s=new Array(n+1).join("0"),p=i+o;return(t||"")+(r?p=s+p:p+=s).substr(0,a+=r?s.length:0)+(a<p.length?"."+p.substr(a):"")}));var r=new RegExp("^([+\\-]?)("+(void 0===o?"0[xcb]":16==o?"0x":8==o?"0c":2==o?"0b":"")+")?([0-9a-z]*)(?:\\.\\d*)?$","i").exec(e);if(r){var a=r[1]||"+",s=r[2]||"",p=r[3]||"";if(void 0===o)o="0x"===s||"0X"===s?16:"0c"===s||"0C"===s?8:"0b"===s||"0B"===s?2:10;else if(o<2||o>36)throw new Error("Illegal radix "+o+".");if(o=+o,!i.radixRegex[o].test(p))throw new Error("Bad digit for radix "+o);if(0===(p=p.replace(/^0+/,"").split("")).length)return n;if(a="-"===a?-1:1,10==o){for(var u=[];p.length>=7;)u.push(parseInt(p.splice(p.length-i.base_log10,i.base_log10).join(""),10));return u.push(parseInt(p.join(""),10)),new i(u,a,t)}u=n,o=i.small[o];for(var c=i.small,l=0;l<p.length;l++)u=u.multiply(o).add(c[parseInt(p[l],36)]);return new i(u._d,a,t)}throw new Error("Invalid BigInteger format: "+e)},i.prototype.add=function(e){if(0===this._s)return i(e);if(0===(e=i(e))._s)return this;if(this._s!==e._s)return e=e.negate(),this.subtract(e);for(var n,r=this._d,a=e._d,s=r.length,p=a.length,u=new Array(Math.max(s,p)+1),c=Math.min(s,p),l=0,d=0;d<c;d++)n=r[d]+a[d]+l,u[d]=n%o,l=n/o|0;for(p>s&&(r=a,s=p),d=c;l&&d<s;d++)n=r[d]+l,u[d]=n%o,l=n/o|0;for(l&&(u[d]=l);d<s;d++)u[d]=r[d];return new i(u,this._s,t)},i.prototype.negate=function(){return new i(this._d,0|-this._s,t)},i.prototype.abs=function(){return this._s<0?this.negate():this},i.prototype.subtract=function(e){if(0===this._s)return i(e).negate();if(0===(e=i(e))._s)return this;if(this._s!==e._s)return e=e.negate(),this.add(e);var r=this;this._s<0&&(r=new i(e._d,1,t),e=new i(this._d,1,t));var a=r.compareAbs(e);if(0===a)return n;if(a<0){var s=e;e=r,r=s}var p,u,c=r._d,l=e._d,d=c.length,f=l.length,g=new Array(d),m=0;for(p=0;p<f;p++)(u=c[p]-m-l[p])<0?(u+=o,m=1):m=0,g[p]=u;for(p=f;p<d;p++){if(!((u=c[p]-m)<0)){g[p++]=u;break}u+=o,g[p]=u}for(;p<d;p++)g[p]=c[p];return new i(g,a,t)},function(){function e(e,n){for(var r=e._d,a=r.slice(),s=0;;){var p=(r[s]||0)+1;if(a[s]=p%o,p<=o-1)break;++s}return new i(a,n,t)}function n(e,n){for(var r=e._d,a=r.slice(),s=0;;){var p=(r[s]||0)-1;if(!(p<0)){a[s]=p;break}a[s]=p+o,++s}return new i(a,n,t)}i.prototype.next=function(){switch(this._s){case 0:return r;case-1:return n(this,-1);default:return e(this,1)}},i.prototype.prev=function(){switch(this._s){case 0:return a;case-1:return e(this,-1);default:return n(this,1)}}}(),i.prototype.compareAbs=function(e){if(this===e)return 0;if(!(e instanceof i)){if(!isFinite(e))return isNaN(e)?e:-1;e=i(e)}if(0===this._s)return 0!==e._s?-1:0;if(0===e._s)return 1;var t=this._d.length,o=e._d.length;if(t<o)return-1;if(t>o)return 1;for(var n=this._d,r=e._d,a=t-1;a>=0;a--)if(n[a]!==r[a])return n[a]<r[a]?-1:1;return 0},i.prototype.compare=function(e){return this===e?0:(e=i(e),0===this._s?-e._s:this._s===e._s?this.compareAbs(e)*this._s:this._s)},i.prototype.isUnit=function(){return this===r||this===a||1===this._d.length&&1===this._d[0]},i.prototype.multiply=function(e){if(0===this._s)return n;if(0===(e=i(e))._s)return n;if(this.isUnit())return this._s<0?e.negate():e;if(e.isUnit())return e._s<0?this.negate():this;if(this===e)return this.square();var r,a=this._d.length>=e._d.length,s=(a?this:e)._d,p=(a?e:this)._d,u=s.length,c=p.length,l=u+c,d=new Array(l);for(r=0;r<l;r++)d[r]=0;for(r=0;r<c;r++){for(var f,g=0,m=p[r],h=u+r,_=r;_<h;_++)g=(f=d[_]+m*s[_-r]+g)/o|0,d[_]=f%o|0;g&&(g=(f=d[_]+g)/o|0,d[_]=f%o)}return new i(d,this._s*e._s,t)},i.prototype.multiplySingleDigit=function(e){if(0===e||0===this._s)return n;if(1===e)return this;var r;if(1===this._d.length)return new i((r=this._d[0]*e)>=o?[r%o|0,r/o|0]:[r],1,t);if(2===e)return this.add(this);if(this.isUnit())return new i([e],1,t);for(var a=this._d,s=a.length,p=s+1,u=new Array(p),c=0;c<p;c++)u[c]=0;for(var l=0,d=0;d<s;d++)l=(r=e*a[d]+l)/o|0,u[d]=r%o|0;return l&&(u[d]=l),new i(u,1,t)},i.prototype.square=function(){if(0===this._s)return n;if(this.isUnit())return r;var e,a,s,p,u=this._d,c=u.length,l=new Array(c+c+1);for(p=0;p<c;p++)s=2*p,a=(e=u[p]*u[p])/o|0,l[s]=e%o,l[s+1]=a;for(p=0;p<c;p++){a=0,s=2*p+1;for(var d=p+1;d<c;d++,s++)a=(e=u[d]*u[p]*2+l[s]+a)/o|0,l[s]=e%o;var f=a+l[s=c+p];a=f/o|0,l[s]=f%o,l[s+1]+=a}return new i(l,1,t)},i.prototype.quotient=function(e){return this.divRem(e)[0]},i.prototype.divide=i.prototype.quotient,i.prototype.remainder=function(e){return this.divRem(e)[1]},i.prototype.divRem=function(e){if(0===(e=i(e))._s)throw new Error("Divide by zero");if(0===this._s)return[n,n];if(1===e._d.length)return this.divRemSmall(e._s*e._d[0]);switch(this.compareAbs(e)){case 0:return[this._s===e._s?r:a,n];case-1:return[n,this]}for(var s,p=this._s*e._s,u=e.abs(),c=this._d,l=c.length,d=(e._d.length,[]),f=new i([],0,t);l;)if(f._d.unshift(c[--l]),(f=new i(f._d,1,t)).compareAbs(e)<0)d.push(0);else{if(0===f._s)s=0;else{var g=f._d.length,m=u._d.length,h=f._d[g-1]*o+f._d[g-2],_=u._d[m-1]*o+u._d[m-2];f._d.length>u._d.length&&(h=(h+1)*o),s=Math.ceil(h/_)}do{var y=u.multiplySingleDigit(s);if(y.compareAbs(f)<=0)break;s--}while(s);if(d.push(s),s){var C=f.subtract(y);f._d=C._d.slice()}}return[new i(d.reverse(),p,t),new i(f._d,this._s,t)]},i.prototype.divRemSmall=function(e){var r;if(0==(e=+e))throw new Error("Divide by zero");var a=e<0?-1:1,s=this._s*a;if((e=Math.abs(e))<1||e>=o)throw new Error("Argument out of range");if(0===this._s)return[n,n];if(1===e||-1===e)return[1===s?this.abs():new i(this._d,s,t),n];if(1===this._d.length){var p=new i([this._d[0]/e|0],1,t);return r=new i([this._d[0]%e|0],1,t),s<0&&(p=p.negate()),this._s<0&&(r=r.negate()),[p,r]}for(var u,c=this._d.slice(),l=new Array(c.length),d=0,f=0,g=0;c.length;)(d=d*o+c[c.length-1])<e?(l[g++]=0,c.pop(),f=o*f+d):(f=d-e*(u=0===d?0:d/e|0),l[g++]=u,u?(c.pop(),d=f):c.pop());return r=new i([f],1,t),this._s<0&&(r=r.negate()),[new i(l.reverse(),s,t),r]},i.prototype.isEven=function(){var e=this._d;return 0===this._s||0===e.length||e[0]%2==0},i.prototype.isOdd=function(){return!this.isEven()},i.prototype.sign=function(){return this._s},i.prototype.isPositive=function(){return this._s>0},i.prototype.isNegative=function(){return this._s<0},i.prototype.isZero=function(){return 0===this._s},i.prototype.exp10=function(e){if(0==(e=+e))return this;if(Math.abs(e)>Number(s))throw new Error("exponent too large in BigInteger.exp10");if(0===this._s)return n;if(e>0){for(var o=new i(this._d.slice(),this._s,t);e>=7;e-=7)o._d.unshift(0);return 0==e?o:(o._s=1,o=o.multiplySingleDigit(Math.pow(10,e)),this._s<0?o.negate():o)}if(-e>=7*this._d.length)return n;for(o=new i(this._d.slice(),this._s,t),e=-e;e>=7;e-=7)o._d.shift();return 0==e?o:o.divRemSmall(Math.pow(10,e))[0]},i.prototype.pow=function(e){if(this.isUnit())return this._s>0?this:i(e).isOdd()?this:this.negate();if(0===(e=i(e))._s)return r;if(e._s<0){if(0===this._s)throw new Error("Divide by zero");return n}if(0===this._s)return n;if(e.isUnit())return this;if(e.compareAbs(s)>0)throw new Error("exponent too large in BigInteger.pow");for(var t=this,o=r,a=i.small[2];e.isPositive();){if(e.isOdd()&&(o=o.multiply(t),e.isUnit()))return o;t=t.square(),e=e.quotient(a)}return o},i.prototype.modPow=function(e,t){for(var o=r,n=this;e.isPositive();)e.isOdd()&&(o=o.multiply(n).remainder(t)),(e=e.quotient(i.small[2])).isPositive()&&(n=n.square().remainder(t));return o},i.prototype.log=function(){switch(this._s){case 0:return-1/0;case-1:return NaN}var e=this._d.length;if(7*e<30)return Math.log(this.valueOf());var n=Math.ceil(30/7),r=this._d.slice(e-n);return Math.log(new i(r,1,t).valueOf())+(e-n)*Math.log(o)},i.prototype.valueOf=function(){return parseInt(this.toString(),10)},i.prototype.toJSValue=function(){return parseInt(this.toString(),10)};var s=i(2147483647);i.MAX_EXP=s,function(){function e(e){return function(t){return e.call(i(t))}}function t(e){return function(t,o){return e.call(i(t),i(o))}}function o(e){return function(t,o,n){return e.call(i(t),i(o),i(n))}}(function(){var n,r,a="toJSValue,isEven,isOdd,sign,isZero,isNegative,abs,isUnit,square,negate,isPositive,toString,next,prev,log".split(","),s="compare,remainder,divRem,subtract,add,quotient,divide,multiply,pow,compareAbs".split(","),p=["modPow"];for(n=0;n<a.length;n++)i[r=a[n]]=e(i.prototype[r]);for(n=0;n<s.length;n++)i[r=s[n]]=t(i.prototype[r]);for(n=0;n<p.length;n++)i[r=p[n]]=o(i.prototype[r]);i.exp10=function(e,t){return i(e).exp10(t)}})()}(),e.BigInteger=i}(void 0!==i?i:void 0),cc._RF.pop()},{}],cd_common_pb:[function(e,t,i){"use strict";cc._RF.push(t,"a36a3JSD+lL75h89dp7oBET","cd_common_pb");var o=e("google-protobuf"),n=o,r=function(){return this}();if(n.exportSymbol("proto.CdCommonConfigProto",null,r),null==a)var a=a||{};a.CdCommonConfigProto=function(e){o.Message.initialize(this,e,0,-1,null,null)},n.inherits(a.CdCommonConfigProto,o.Message),n.DEBUG&&!COMPILED&&(a.CdCommonConfigProto.displayName="proto.CdCommonConfigProto"),o.Message.GENERATE_TO_OBJECT&&(a.CdCommonConfigProto.prototype.toObject=function(e){return a.CdCommonConfigProto.toObject(e,this)},a.CdCommonConfigProto.toObject=function(e,t){var i={id:o.Message.getFieldWithDefault(t,1,0),total:o.Message.getFieldWithDefault(t,2,0),loop:o.Message.getFieldWithDefault(t,3,0),daylimit:o.Message.getFieldWithDefault(t,4,0)};return e&&(i.$jspbMessageInstance=t),i}),a.CdCommonConfigProto.deserializeBinary=function(e){var t=new o.BinaryReader(e),i=new a.CdCommonConfigProto;return a.CdCommonConfigProto.deserializeBinaryFromReader(i,t)},a.CdCommonConfigProto.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var i=t.readInt32();e.setId(i);break;case 2:i=t.readInt32(),e.setTotal(i);break;case 3:i=t.readInt32(),e.setLoop(i);break;case 4:i=t.readInt32(),e.setDaylimit(i);break;default:t.skipField()}return e},a.CdCommonConfigProto.prototype.serializeBinary=function(){var e=new o.BinaryWriter;return a.CdCommonConfigProto.serializeBinaryToWriter(this,e),e.getResultBuffer()},a.CdCommonConfigProto.serializeBinaryToWriter=function(e,t){var i=void 0;0!==(i=e.getId())&&t.writeInt32(1,i),0!==(i=e.getTotal())&&t.writeInt32(2,i),0!==(i=e.getLoop())&&t.writeInt32(3,i),0!==(i=e.getDaylimit())&&t.writeInt32(4,i)},a.CdCommonConfigProto.prototype.getId=function(){return o.Message.getFieldWithDefault(this,1,0)},a.CdCommonConfigProto.prototype.setId=function(e){o.Message.setProto3IntField(this,1,e)},a.CdCommonConfigProto.prototype.getTotal=function(){return o.Message.getFieldWithDefault(this,2,0)},a.CdCommonConfigProto.prototype.setTotal=function(e){o.Message.setProto3IntField(this,2,e)},a.CdCommonConfigProto.prototype.getLoop=function(){return o.Message.getFieldWithDefault(this,3,0)},a.CdCommonConfigProto.prototype.setLoop=function(e){o.Message.setProto3IntField(this,3,e)},a.CdCommonConfigProto.prototype.getDaylimit=function(){return o.Message.getFieldWithDefault(this,4,0)},a.CdCommonConfigProto.prototype.setDaylimit=function(e){o.Message.setProto3IntField(this,4,e)},n.object.extend(i,a),cc._RF.pop()},{"google-protobuf":"google-protobuf"}],config_utils_pb:[function(e,t,i){"use strict";cc._RF.push(t,"f38cc9MJKhDYaUVfi0zk5UE","config_utils_pb");var o=e("google-protobuf"),n=o,r=function(){return this}();if(n.exportSymbol("proto.ProtoFloat2",null,r),n.exportSymbol("proto.ProtoFloat3",null,r),n.exportSymbol("proto.ProtoFloat4",null,r),n.exportSymbol("proto.ProtoInt2",null,r),n.exportSymbol("proto.ProtoInt3",null,r),n.exportSymbol("proto.ProtoInt4",null,r),n.exportSymbol("proto.ProtoInt5",null,r),n.exportSymbol("proto.ProtoString2",null,r),null==a)var a=a||{};a.ProtoString2=function(e){o.Message.initialize(this,e,0,-1,null,null)},n.inherits(a.ProtoString2,o.Message),n.DEBUG&&!COMPILED&&(a.ProtoString2.displayName="proto.ProtoString2"),o.Message.GENERATE_TO_OBJECT&&(a.ProtoString2.prototype.toObject=function(e){return a.ProtoString2.toObject(e,this)},a.ProtoString2.toObject=function(e,t){var i={key:o.Message.getFieldWithDefault(t,1,""),value:o.Message.getFieldWithDefault(t,2,"")};return e&&(i.$jspbMessageInstance=t),i}),a.ProtoString2.deserializeBinary=function(e){var t=new o.BinaryReader(e),i=new a.ProtoString2;return a.ProtoString2.deserializeBinaryFromReader(i,t)},a.ProtoString2.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var i=t.readString();e.setKey(i);break;case 2:i=t.readString(),e.setValue(i);break;default:t.skipField()}return e},a.ProtoString2.prototype.serializeBinary=function(){var e=new o.BinaryWriter;return a.ProtoString2.serializeBinaryToWriter(this,e),e.getResultBuffer()},a.ProtoString2.serializeBinaryToWriter=function(e,t){var i=void 0;(i=e.getKey()).length>0&&t.writeString(1,i),(i=e.getValue()).length>0&&t.writeString(2,i)},a.ProtoString2.prototype.getKey=function(){return o.Message.getFieldWithDefault(this,1,"")},a.ProtoString2.prototype.setKey=function(e){o.Message.setProto3StringField(this,1,e)},a.ProtoString2.prototype.getValue=function(){return o.Message.getFieldWithDefault(this,2,"")},a.ProtoString2.prototype.setValue=function(e){o.Message.setProto3StringField(this,2,e)},a.ProtoInt2=function(e){o.Message.initialize(this,e,0,-1,null,null)},n.inherits(a.ProtoInt2,o.Message),n.DEBUG&&!COMPILED&&(a.ProtoInt2.displayName="proto.ProtoInt2"),o.Message.GENERATE_TO_OBJECT&&(a.ProtoInt2.prototype.toObject=function(e){return a.ProtoInt2.toObject(e,this)},a.ProtoInt2.toObject=function(e,t){var i={key:o.Message.getFieldWithDefault(t,1,0),value:o.Message.getFieldWithDefault(t,2,0)};return e&&(i.$jspbMessageInstance=t),i}),a.ProtoInt2.deserializeBinary=function(e){var t=new o.BinaryReader(e),i=new a.ProtoInt2;return a.ProtoInt2.deserializeBinaryFromReader(i,t)},a.ProtoInt2.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var i=t.readInt32();e.setKey(i);break;case 2:i=t.readInt32(),e.setValue(i);break;default:t.skipField()}return e},a.ProtoInt2.prototype.serializeBinary=function(){var e=new o.BinaryWriter;return a.ProtoInt2.serializeBinaryToWriter(this,e),e.getResultBuffer()},a.ProtoInt2.serializeBinaryToWriter=function(e,t){var i=void 0;0!==(i=e.getKey())&&t.writeInt32(1,i),0!==(i=e.getValue())&&t.writeInt32(2,i)},a.ProtoInt2.prototype.getKey=function(){return o.Message.getFieldWithDefault(this,1,0)},a.ProtoInt2.prototype.setKey=function(e){o.Message.setProto3IntField(this,1,e)},a.ProtoInt2.prototype.getValue=function(){return o.Message.getFieldWithDefault(this,2,0)},a.ProtoInt2.prototype.setValue=function(e){o.Message.setProto3IntField(this,2,e)},a.ProtoInt3=function(e){o.Message.initialize(this,e,0,-1,null,null)},n.inherits(a.ProtoInt3,o.Message),n.DEBUG&&!COMPILED&&(a.ProtoInt3.displayName="proto.ProtoInt3"),o.Message.GENERATE_TO_OBJECT&&(a.ProtoInt3.prototype.toObject=function(e){return a.ProtoInt3.toObject(e,this)},a.ProtoInt3.toObject=function(e,t){var i={key:o.Message.getFieldWithDefault(t,1,0),value:o.Message.getFieldWithDefault(t,2,0),param:o.Message.getFieldWithDefault(t,3,0)};return e&&(i.$jspbMessageInstance=t),i}),a.ProtoInt3.deserializeBinary=function(e){var t=new o.BinaryReader(e),i=new a.ProtoInt3;return a.ProtoInt3.deserializeBinaryFromReader(i,t)},a.ProtoInt3.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var i=t.readInt32();e.setKey(i);break;case 2:i=t.readInt32(),e.setValue(i);break;case 3:i=t.readInt32(),e.setParam(i);break;default:t.skipField()}return e},a.ProtoInt3.prototype.serializeBinary=function(){var e=new o.BinaryWriter;return a.ProtoInt3.serializeBinaryToWriter(this,e),e.getResultBuffer()},a.ProtoInt3.serializeBinaryToWriter=function(e,t){var i=void 0;0!==(i=e.getKey())&&t.writeInt32(1,i),0!==(i=e.getValue())&&t.writeInt32(2,i),0!==(i=e.getParam())&&t.writeInt32(3,i)},a.ProtoInt3.prototype.getKey=function(){return o.Message.getFieldWithDefault(this,1,0)},a.ProtoInt3.prototype.setKey=function(e){o.Message.setProto3IntField(this,1,e)},a.ProtoInt3.prototype.getValue=function(){return o.Message.getFieldWithDefault(this,2,0)},a.ProtoInt3.prototype.setValue=function(e){o.Message.setProto3IntField(this,2,e)},a.ProtoInt3.prototype.getParam=function(){return o.Message.getFieldWithDefault(this,3,0)},a.ProtoInt3.prototype.setParam=function(e){o.Message.setProto3IntField(this,3,e)},a.ProtoInt4=function(e){o.Message.initialize(this,e,0,-1,null,null)},n.inherits(a.ProtoInt4,o.Message),n.DEBUG&&!COMPILED&&(a.ProtoInt4.displayName="proto.ProtoInt4"),o.Message.GENERATE_TO_OBJECT&&(a.ProtoInt4.prototype.toObject=function(e){return a.ProtoInt4.toObject(e,this)},a.ProtoInt4.toObject=function(e,t){var i={key:o.Message.getFieldWithDefault(t,1,0),value:o.Message.getFieldWithDefault(t,2,0),param:o.Message.getFieldWithDefault(t,3,0),extra:o.Message.getFieldWithDefault(t,4,0)};return e&&(i.$jspbMessageInstance=t),i}),a.ProtoInt4.deserializeBinary=function(e){var t=new o.BinaryReader(e),i=new a.ProtoInt4;return a.ProtoInt4.deserializeBinaryFromReader(i,t)},a.ProtoInt4.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var i=t.readInt32();e.setKey(i);break;case 2:i=t.readInt32(),e.setValue(i);break;case 3:i=t.readInt32(),e.setParam(i);break;case 4:i=t.readInt32(),e.setExtra(i);break;default:t.skipField()}return e},a.ProtoInt4.prototype.serializeBinary=function(){var e=new o.BinaryWriter;return a.ProtoInt4.serializeBinaryToWriter(this,e),e.getResultBuffer()},a.ProtoInt4.serializeBinaryToWriter=function(e,t){var i=void 0;0!==(i=e.getKey())&&t.writeInt32(1,i),0!==(i=e.getValue())&&t.writeInt32(2,i),0!==(i=e.getParam())&&t.writeInt32(3,i),0!==(i=e.getExtra())&&t.writeInt32(4,i)},a.ProtoInt4.prototype.getKey=function(){return o.Message.getFieldWithDefault(this,1,0)},a.ProtoInt4.prototype.setKey=function(e){o.Message.setProto3IntField(this,1,e)},a.ProtoInt4.prototype.getValue=function(){return o.Message.getFieldWithDefault(this,2,0)},a.ProtoInt4.prototype.setValue=function(e){o.Message.setProto3IntField(this,2,e)},a.ProtoInt4.prototype.getParam=function(){return o.Message.getFieldWithDefault(this,3,0)},a.ProtoInt4.prototype.setParam=function(e){o.Message.setProto3IntField(this,3,e)},a.ProtoInt4.prototype.getExtra=function(){return o.Message.getFieldWithDefault(this,4,0)},a.ProtoInt4.prototype.setExtra=function(e){o.Message.setProto3IntField(this,4,e)},a.ProtoInt5=function(e){o.Message.initialize(this,e,0,-1,null,null)},n.inherits(a.ProtoInt5,o.Message),n.DEBUG&&!COMPILED&&(a.ProtoInt5.displayName="proto.ProtoInt5"),o.Message.GENERATE_TO_OBJECT&&(a.ProtoInt5.prototype.toObject=function(e){return a.ProtoInt5.toObject(e,this)},a.ProtoInt5.toObject=function(e,t){var i={key:o.Message.getFieldWithDefault(t,1,0),value:o.Message.getFieldWithDefault(t,2,0),param:o.Message.getFieldWithDefault(t,3,0),extra:o.Message.getFieldWithDefault(t,4,0),extra2:o.Message.getFieldWithDefault(t,5,0)};return e&&(i.$jspbMessageInstance=t),i}),a.ProtoInt5.deserializeBinary=function(e){var t=new o.BinaryReader(e),i=new a.ProtoInt5;return a.ProtoInt5.deserializeBinaryFromReader(i,t)},a.ProtoInt5.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var i=t.readInt32();e.setKey(i);break;case 2:i=t.readInt32(),e.setValue(i);break;case 3:i=t.readInt32(),e.setParam(i);break;case 4:i=t.readInt32(),e.setExtra(i);break;case 5:i=t.readInt32(),e.setExtra2(i);break;default:t.skipField()}return e},a.ProtoInt5.prototype.serializeBinary=function(){var e=new o.BinaryWriter;return a.ProtoInt5.serializeBinaryToWriter(this,e),e.getResultBuffer()},a.ProtoInt5.serializeBinaryToWriter=function(e,t){var i=void 0;0!==(i=e.getKey())&&t.writeInt32(1,i),0!==(i=e.getValue())&&t.writeInt32(2,i),0!==(i=e.getParam())&&t.writeInt32(3,i),0!==(i=e.getExtra())&&t.writeInt32(4,i),0!==(i=e.getExtra2())&&t.writeInt32(5,i)},a.ProtoInt5.prototype.getKey=function(){return o.Message.getFieldWithDefault(this,1,0)},a.ProtoInt5.prototype.setKey=function(e){o.Message.setProto3IntField(this,1,e)},a.ProtoInt5.prototype.getValue=function(){return o.Message.getFieldWithDefault(this,2,0)},a.ProtoInt5.prototype.setValue=function(e){o.Message.setProto3IntField(this,2,e)},a.ProtoInt5.prototype.getParam=function(){return o.Message.getFieldWithDefault(this,3,0)},a.ProtoInt5.prototype.setParam=function(e){o.Message.setProto3IntField(this,3,e)},a.ProtoInt5.prototype.getExtra=function(){return o.Message.getFieldWithDefault(this,4,0)},a.ProtoInt5.prototype.setExtra=function(e){o.Message.setProto3IntField(this,4,e)},a.ProtoInt5.prototype.getExtra2=function(){return o.Message.getFieldWithDefault(this,5,0)},a.ProtoInt5.prototype.setExtra2=function(e){o.Message.setProto3IntField(this,5,e)},a.ProtoFloat2=function(e){o.Message.initialize(this,e,0,-1,null,null)},n.inherits(a.ProtoFloat2,o.Message),n.DEBUG&&!COMPILED&&(a.ProtoFloat2.displayName="proto.ProtoFloat2"),o.Message.GENERATE_TO_OBJECT&&(a.ProtoFloat2.prototype.toObject=function(e){return a.ProtoFloat2.toObject(e,this)},a.ProtoFloat2.toObject=function(e,t){var i={key:+o.Message.getFieldWithDefault(t,1,0),value:+o.Message.getFieldWithDefault(t,2,0)};return e&&(i.$jspbMessageInstance=t),i}),a.ProtoFloat2.deserializeBinary=function(e){var t=new o.BinaryReader(e),i=new a.ProtoFloat2;return a.ProtoFloat2.deserializeBinaryFromReader(i,t)},a.ProtoFloat2.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var i=t.readFloat();e.setKey(i);break;case 2:i=t.readFloat(),e.setValue(i);break;default:t.skipField()}return e},a.ProtoFloat2.prototype.serializeBinary=function(){var e=new o.BinaryWriter;return a.ProtoFloat2.serializeBinaryToWriter(this,e),e.getResultBuffer()},a.ProtoFloat2.serializeBinaryToWriter=function(e,t){var i=void 0;0!==(i=e.getKey())&&t.writeFloat(1,i),0!==(i=e.getValue())&&t.writeFloat(2,i)},a.ProtoFloat2.prototype.getKey=function(){return+o.Message.getFieldWithDefault(this,1,0)},a.ProtoFloat2.prototype.setKey=function(e){o.Message.setProto3FloatField(this,1,e)},a.ProtoFloat2.prototype.getValue=function(){return+o.Message.getFieldWithDefault(this,2,0)},a.ProtoFloat2.prototype.setValue=function(e){o.Message.setProto3FloatField(this,2,e)},a.ProtoFloat3=function(e){o.Message.initialize(this,e,0,-1,null,null)},n.inherits(a.ProtoFloat3,o.Message),n.DEBUG&&!COMPILED&&(a.ProtoFloat3.displayName="proto.ProtoFloat3"),o.Message.GENERATE_TO_OBJECT&&(a.ProtoFloat3.prototype.toObject=function(e){return a.ProtoFloat3.toObject(e,this)},a.ProtoFloat3.toObject=function(e,t){var i={key:+o.Message.getFieldWithDefault(t,1,0),value:+o.Message.getFieldWithDefault(t,2,0),param:+o.Message.getFieldWithDefault(t,3,0)};return e&&(i.$jspbMessageInstance=t),i}),a.ProtoFloat3.deserializeBinary=function(e){var t=new o.BinaryReader(e),i=new a.ProtoFloat3;return a.ProtoFloat3.deserializeBinaryFromReader(i,t)},a.ProtoFloat3.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var i=t.readFloat();e.setKey(i);break;case 2:i=t.readFloat(),e.setValue(i);break;case 3:i=t.readFloat(),e.setParam(i);break;default:t.skipField()}return e},a.ProtoFloat3.prototype.serializeBinary=function(){var e=new o.BinaryWriter;return a.ProtoFloat3.serializeBinaryToWriter(this,e),e.getResultBuffer()},a.ProtoFloat3.serializeBinaryToWriter=function(e,t){var i=void 0;0!==(i=e.getKey())&&t.writeFloat(1,i),0!==(i=e.getValue())&&t.writeFloat(2,i),0!==(i=e.getParam())&&t.writeFloat(3,i)},a.ProtoFloat3.prototype.getKey=function(){return+o.Message.getFieldWithDefault(this,1,0)},a.ProtoFloat3.prototype.setKey=function(e){o.Message.setProto3FloatField(this,1,e)},a.ProtoFloat3.prototype.getValue=function(){return+o.Message.getFieldWithDefault(this,2,0)},a.ProtoFloat3.prototype.setValue=function(e){o.Message.setProto3FloatField(this,2,e)},a.ProtoFloat3.prototype.getParam=function(){return+o.Message.getFieldWithDefault(this,3,0)},a.ProtoFloat3.prototype.setParam=function(e){o.Message.setProto3FloatField(this,3,e)},a.ProtoFloat4=function(e){o.Message.initialize(this,e,0,-1,null,null)},n.inherits(a.ProtoFloat4,o.Message),n.DEBUG&&!COMPILED&&(a.ProtoFloat4.displayName="proto.ProtoFloat4"),o.Message.GENERATE_TO_OBJECT&&(a.ProtoFloat4.prototype.toObject=function(e){return a.ProtoFloat4.toObject(e,this)},a.ProtoFloat4.toObject=function(e,t){var i={key:+o.Message.getFieldWithDefault(t,1,0),value:+o.Message.getFieldWithDefault(t,2,0),param:+o.Message.getFieldWithDefault(t,3,0),extra:+o.Message.getFieldWithDefault(t,4,0)};return e&&(i.$jspbMessageInstance=t),i}),a.ProtoFloat4.deserializeBinary=function(e){var t=new o.BinaryReader(e),i=new a.ProtoFloat4;return a.ProtoFloat4.deserializeBinaryFromReader(i,t)},a.ProtoFloat4.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var i=t.readFloat();e.setKey(i);break;case 2:i=t.readFloat(),e.setValue(i);break;case 3:i=t.readFloat(),e.setParam(i);break;case 4:i=t.readFloat(),e.setExtra(i);break;default:t.skipField()}return e},a.ProtoFloat4.prototype.serializeBinary=function(){var e=new o.BinaryWriter;return a.ProtoFloat4.serializeBinaryToWriter(this,e),e.getResultBuffer()},a.ProtoFloat4.serializeBinaryToWriter=function(e,t){var i=void 0;0!==(i=e.getKey())&&t.writeFloat(1,i),0!==(i=e.getValue())&&t.writeFloat(2,i),0!==(i=e.getParam())&&t.writeFloat(3,i),0!==(i=e.getExtra())&&t.writeFloat(4,i)},a.ProtoFloat4.prototype.getKey=function(){return+o.Message.getFieldWithDefault(this,1,0)},a.ProtoFloat4.prototype.setKey=function(e){o.Message.setProto3FloatField(this,1,e)},a.ProtoFloat4.prototype.getValue=function(){return+o.Message.getFieldWithDefault(this,2,0)},a.ProtoFloat4.prototype.setValue=function(e){o.Message.setProto3FloatField(this,2,e)},a.ProtoFloat4.prototype.getParam=function(){return+o.Message.getFieldWithDefault(this,3,0)},a.ProtoFloat4.prototype.setParam=function(e){o.Message.setProto3FloatField(this,3,e)},a.ProtoFloat4.prototype.getExtra=function(){return+o.Message.getFieldWithDefault(this,4,0)},a.ProtoFloat4.prototype.setExtra=function(e){o.Message.setProto3FloatField(this,4,e)},n.object.extend(i,a),cc._RF.pop()},{"google-protobuf":"google-protobuf"}],const_pb:[function(e,t,i){"use strict";cc._RF.push(t,"d858fu1VfJKA4x98U86YV5a","const_pb");var o=e("google-protobuf"),n=o,r=function(){return this}();if(n.exportSymbol("proto.ConstConfigProto",null,r),null==a)var a=a||{};a.ConstConfigProto=function(e){o.Message.initialize(this,e,0,-1,a.ConstConfigProto.repeatedFields_,null)},n.inherits(a.ConstConfigProto,o.Message),n.DEBUG&&!COMPILED&&(a.ConstConfigProto.displayName="proto.ConstConfigProto"),a.ConstConfigProto.repeatedFields_=[2],o.Message.GENERATE_TO_OBJECT&&(a.ConstConfigProto.prototype.toObject=function(e){return a.ConstConfigProto.toObject(e,this)},a.ConstConfigProto.toObject=function(e,t){var i={id:o.Message.getFieldWithDefault(t,1,0),valueList:o.Message.getRepeatedField(t,2)};return e&&(i.$jspbMessageInstance=t),i}),a.ConstConfigProto.deserializeBinary=function(e){var t=new o.BinaryReader(e),i=new a.ConstConfigProto;return a.ConstConfigProto.deserializeBinaryFromReader(i,t)},a.ConstConfigProto.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var i=t.readInt32();e.setId(i);break;case 2:i=t.readPackedInt32(),e.setValueList(i);break;default:t.skipField()}return e},a.ConstConfigProto.prototype.serializeBinary=function(){var e=new o.BinaryWriter;return a.ConstConfigProto.serializeBinaryToWriter(this,e),e.getResultBuffer()},a.ConstConfigProto.serializeBinaryToWriter=function(e,t){var i=void 0;0!==(i=e.getId())&&t.writeInt32(1,i),(i=e.getValueList()).length>0&&t.writePackedInt32(2,i)},a.ConstConfigProto.prototype.getId=function(){return o.Message.getFieldWithDefault(this,1,0)},a.ConstConfigProto.prototype.setId=function(e){o.Message.setProto3IntField(this,1,e)},a.ConstConfigProto.prototype.getValueList=function(){return o.Message.getRepeatedField(this,2)},a.ConstConfigProto.prototype.setValueList=function(e){o.Message.setField(this,2,e||[])},a.ConstConfigProto.prototype.addValue=function(e,t){o.Message.addToRepeatedField(this,2,e,t)},a.ConstConfigProto.prototype.clearValueList=function(){this.setValueList([])},n.object.extend(i,a),cc._RF.pop()},{"google-protobuf":"google-protobuf"}],dropbag_pb:[function(e,t,i){"use strict";cc._RF.push(t,"24340kvBnJMjaNDed2MHjMY","dropbag_pb");var o=e("google-protobuf"),n=o,r=function(){return this}(),a=e("./config_utils_pb.js");if(n.exportSymbol("proto.DropbagConfigProto",null,r),null==s)var s=s||{};s.DropbagConfigProto=function(e){o.Message.initialize(this,e,0,-1,s.DropbagConfigProto.repeatedFields_,null)},n.inherits(s.DropbagConfigProto,o.Message),n.DEBUG&&!COMPILED&&(s.DropbagConfigProto.displayName="proto.DropbagConfigProto"),s.DropbagConfigProto.repeatedFields_=[2],o.Message.GENERATE_TO_OBJECT&&(s.DropbagConfigProto.prototype.toObject=function(e){return s.DropbagConfigProto.toObject(e,this)},s.DropbagConfigProto.toObject=function(e,t){var i={id:o.Message.getFieldWithDefault(t,1,0),dropsList:o.Message.toObjectList(t.getDropsList(),a.ProtoInt3.toObject,e),dropCount:o.Message.getFieldWithDefault(t,3,0)};return e&&(i.$jspbMessageInstance=t),i}),s.DropbagConfigProto.deserializeBinary=function(e){var t=new o.BinaryReader(e),i=new s.DropbagConfigProto;return s.DropbagConfigProto.deserializeBinaryFromReader(i,t)},s.DropbagConfigProto.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var i=t.readInt32();e.setId(i);break;case 2:i=new a.ProtoInt3,t.readMessage(i,a.ProtoInt3.deserializeBinaryFromReader),e.addDrops(i);break;case 3:i=t.readInt32(),e.setDropCount(i);break;default:t.skipField()}return e},s.DropbagConfigProto.prototype.serializeBinary=function(){var e=new o.BinaryWriter;return s.DropbagConfigProto.serializeBinaryToWriter(this,e),e.getResultBuffer()},s.DropbagConfigProto.serializeBinaryToWriter=function(e,t){var i=void 0;0!==(i=e.getId())&&t.writeInt32(1,i),(i=e.getDropsList()).length>0&&t.writeRepeatedMessage(2,i,a.ProtoInt3.serializeBinaryToWriter),0!==(i=e.getDropCount())&&t.writeInt32(3,i)},s.DropbagConfigProto.prototype.getId=function(){return o.Message.getFieldWithDefault(this,1,0)},s.DropbagConfigProto.prototype.setId=function(e){o.Message.setProto3IntField(this,1,e)},s.DropbagConfigProto.prototype.getDropsList=function(){return o.Message.getRepeatedWrapperField(this,a.ProtoInt3,2)},s.DropbagConfigProto.prototype.setDropsList=function(e){o.Message.setRepeatedWrapperField(this,2,e)},s.DropbagConfigProto.prototype.addDrops=function(e,t){return o.Message.addToRepeatedWrapperField(this,2,e,s.ProtoInt3,t)},s.DropbagConfigProto.prototype.clearDropsList=function(){this.setDropsList([])},s.DropbagConfigProto.prototype.getDropCount=function(){return o.Message.getFieldWithDefault(this,3,0)},s.DropbagConfigProto.prototype.setDropCount=function(e){o.Message.setProto3IntField(this,3,e)},n.object.extend(i,s),cc._RF.pop()},{"./config_utils_pb.js":"config_utils_pb","google-protobuf":"google-protobuf"}],effect_pb:[function(e,t,i){"use strict";cc._RF.push(t,"766932F5Q9PXqebmaIOaWRL","effect_pb");var o=e("google-protobuf"),n=o,r=function(){return this}();if(n.exportSymbol("proto.EffectConfigProto",null,r),null==a)var a=a||{};a.EffectConfigProto=function(e){o.Message.initialize(this,e,0,-1,null,null)},n.inherits(a.EffectConfigProto,o.Message),n.DEBUG&&!COMPILED&&(a.EffectConfigProto.displayName="proto.EffectConfigProto"),o.Message.GENERATE_TO_OBJECT&&(a.EffectConfigProto.prototype.toObject=function(e){return a.EffectConfigProto.toObject(e,this)},a.EffectConfigProto.toObject=function(e,t){var i={id:o.Message.getFieldWithDefault(t,1,0),resource:o.Message.getFieldWithDefault(t,2,""),abreastCount:o.Message.getFieldWithDefault(t,3,0),cacheCount:o.Message.getFieldWithDefault(t,4,0)};return e&&(i.$jspbMessageInstance=t),i}),a.EffectConfigProto.deserializeBinary=function(e){var t=new o.BinaryReader(e),i=new a.EffectConfigProto;return a.EffectConfigProto.deserializeBinaryFromReader(i,t)},a.EffectConfigProto.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var i=t.readInt32();e.setId(i);break;case 2:i=t.readString(),e.setResource(i);break;case 3:i=t.readInt32(),e.setAbreastCount(i);break;case 4:i=t.readInt32(),e.setCacheCount(i);break;default:t.skipField()}return e},a.EffectConfigProto.prototype.serializeBinary=function(){var e=new o.BinaryWriter;return a.EffectConfigProto.serializeBinaryToWriter(this,e),e.getResultBuffer()},a.EffectConfigProto.serializeBinaryToWriter=function(e,t){var i=void 0;0!==(i=e.getId())&&t.writeInt32(1,i),(i=e.getResource()).length>0&&t.writeString(2,i),0!==(i=e.getAbreastCount())&&t.writeInt32(3,i),0!==(i=e.getCacheCount())&&t.writeInt32(4,i)},a.EffectConfigProto.prototype.getId=function(){return o.Message.getFieldWithDefault(this,1,0)},a.EffectConfigProto.prototype.setId=function(e){o.Message.setProto3IntField(this,1,e)},a.EffectConfigProto.prototype.getResource=function(){return o.Message.getFieldWithDefault(this,2,"")},a.EffectConfigProto.prototype.setResource=function(e){o.Message.setProto3StringField(this,2,e)},a.EffectConfigProto.prototype.getAbreastCount=function(){return o.Message.getFieldWithDefault(this,3,0)},a.EffectConfigProto.prototype.setAbreastCount=function(e){o.Message.setProto3IntField(this,3,e)},a.EffectConfigProto.prototype.getCacheCount=function(){return o.Message.getFieldWithDefault(this,4,0)},a.EffectConfigProto.prototype.setCacheCount=function(e){o.Message.setProto3IntField(this,4,e)},n.object.extend(i,a),cc._RF.pop()},{"google-protobuf":"google-protobuf"}],express_area_pb:[function(e,t,i){"use strict";cc._RF.push(t,"59527+v+o1A16loOlYptoYX","express_area_pb");var o=e("google-protobuf"),n=o,r=function(){return this}(),a=e("./config_utils_pb.js");if(n.exportSymbol("proto.ExpressAreaConfigProto",null,r),null==s)var s=s||{};s.ExpressAreaConfigProto=function(e){o.Message.initialize(this,e,0,-1,s.ExpressAreaConfigProto.repeatedFields_,null)},n.inherits(s.ExpressAreaConfigProto,o.Message),n.DEBUG&&!COMPILED&&(s.ExpressAreaConfigProto.displayName="proto.ExpressAreaConfigProto"),s.ExpressAreaConfigProto.repeatedFields_=[3],o.Message.GENERATE_TO_OBJECT&&(s.ExpressAreaConfigProto.prototype.toObject=function(e){return s.ExpressAreaConfigProto.toObject(e,this)},s.ExpressAreaConfigProto.toObject=function(e,t){var i={id:o.Message.getFieldWithDefault(t,1,0),nameLan:o.Message.getFieldWithDefault(t,2,0),conditionsList:o.Message.toObjectList(t.getConditionsList(),a.ProtoInt3.toObject,e),resource:o.Message.getFieldWithDefault(t,4,"")};return e&&(i.$jspbMessageInstance=t),i}),s.ExpressAreaConfigProto.deserializeBinary=function(e){var t=new o.BinaryReader(e),i=new s.ExpressAreaConfigProto;return s.ExpressAreaConfigProto.deserializeBinaryFromReader(i,t)},s.ExpressAreaConfigProto.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var i=t.readInt32();e.setId(i);break;case 2:i=t.readInt32(),e.setNameLan(i);break;case 3:i=new a.ProtoInt3,t.readMessage(i,a.ProtoInt3.deserializeBinaryFromReader),e.addConditions(i);break;case 4:i=t.readString(),e.setResource(i);break;default:t.skipField()}return e},s.ExpressAreaConfigProto.prototype.serializeBinary=function(){var e=new o.BinaryWriter;return s.ExpressAreaConfigProto.serializeBinaryToWriter(this,e),e.getResultBuffer()},s.ExpressAreaConfigProto.serializeBinaryToWriter=function(e,t){var i=void 0;0!==(i=e.getId())&&t.writeInt32(1,i),0!==(i=e.getNameLan())&&t.writeInt32(2,i),(i=e.getConditionsList()).length>0&&t.writeRepeatedMessage(3,i,a.ProtoInt3.serializeBinaryToWriter),(i=e.getResource()).length>0&&t.writeString(4,i)},s.ExpressAreaConfigProto.prototype.getId=function(){return o.Message.getFieldWithDefault(this,1,0)},s.ExpressAreaConfigProto.prototype.setId=function(e){o.Message.setProto3IntField(this,1,e)},s.ExpressAreaConfigProto.prototype.getNameLan=function(){return o.Message.getFieldWithDefault(this,2,0)},s.ExpressAreaConfigProto.prototype.setNameLan=function(e){o.Message.setProto3IntField(this,2,e)},s.ExpressAreaConfigProto.prototype.getConditionsList=function(){return o.Message.getRepeatedWrapperField(this,a.ProtoInt3,3)},s.ExpressAreaConfigProto.prototype.setConditionsList=function(e){o.Message.setRepeatedWrapperField(this,3,e)},s.ExpressAreaConfigProto.prototype.addConditions=function(e,t){return o.Message.addToRepeatedWrapperField(this,3,e,s.ProtoInt3,t)},s.ExpressAreaConfigProto.prototype.clearConditionsList=function(){this.setConditionsList([])},s.ExpressAreaConfigProto.prototype.getResource=function(){return o.Message.getFieldWithDefault(this,4,"")},s.ExpressAreaConfigProto.prototype.setResource=function(e){o.Message.setProto3StringField(this,4,e)},n.object.extend(i,s),cc._RF.pop()},{"./config_utils_pb.js":"config_utils_pb","google-protobuf":"google-protobuf"}],express_building_grow_pb:[function(e,t,i){"use strict";cc._RF.push(t,"84ac17lN7lDrK7EVO43VWj4","express_building_grow_pb");var o=e("google-protobuf"),n=o,r=function(){return this}(),a=e("./config_utils_pb.js");if(n.exportSymbol("proto.ExpressBuildingGrowConfigProto",null,r),null==s)var s=s||{};s.ExpressBuildingGrowConfigProto=function(e){o.Message.initialize(this,e,0,-1,s.ExpressBuildingGrowConfigProto.repeatedFields_,null)},n.inherits(s.ExpressBuildingGrowConfigProto,o.Message),n.DEBUG&&!COMPILED&&(s.ExpressBuildingGrowConfigProto.displayName="proto.ExpressBuildingGrowConfigProto"),s.ExpressBuildingGrowConfigProto.repeatedFields_=[4,5,6,7],o.Message.GENERATE_TO_OBJECT&&(s.ExpressBuildingGrowConfigProto.prototype.toObject=function(e){return s.ExpressBuildingGrowConfigProto.toObject(e,this)},s.ExpressBuildingGrowConfigProto.toObject=function(e,t){var i={id:o.Message.getFieldWithDefault(t,1,0),type:o.Message.getFieldWithDefault(t,2,0),level:o.Message.getFieldWithDefault(t,3,0),attrsList:o.Message.toObjectList(t.getAttrsList(),a.ProtoInt2.toObject,e),incomesList:o.Message.toObjectList(t.getIncomesList(),a.ProtoInt2.toObject,e),levelupIncomesList:o.Message.toObjectList(t.getLevelupIncomesList(),a.ProtoInt2.toObject,e),ratesList:o.Message.toObjectList(t.getRatesList(),a.ProtoInt2.toObject,e)};return e&&(i.$jspbMessageInstance=t),i}),s.ExpressBuildingGrowConfigProto.deserializeBinary=function(e){var t=new o.BinaryReader(e),i=new s.ExpressBuildingGrowConfigProto;return s.ExpressBuildingGrowConfigProto.deserializeBinaryFromReader(i,t)},s.ExpressBuildingGrowConfigProto.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var i=t.readInt32();e.setId(i);break;case 2:i=t.readInt32(),e.setType(i);break;case 3:i=t.readInt32(),e.setLevel(i);break;case 4:i=new a.ProtoInt2,t.readMessage(i,a.ProtoInt2.deserializeBinaryFromReader),e.addAttrs(i);break;case 5:i=new a.ProtoInt2,t.readMessage(i,a.ProtoInt2.deserializeBinaryFromReader),e.addIncomes(i);break;case 6:i=new a.ProtoInt2,t.readMessage(i,a.ProtoInt2.deserializeBinaryFromReader),e.addLevelupIncomes(i);break;case 7:i=new a.ProtoInt2,t.readMessage(i,a.ProtoInt2.deserializeBinaryFromReader),e.addRates(i);break;default:t.skipField()}return e},s.ExpressBuildingGrowConfigProto.prototype.serializeBinary=function(){var e=new o.BinaryWriter;return s.ExpressBuildingGrowConfigProto.serializeBinaryToWriter(this,e),e.getResultBuffer()},s.ExpressBuildingGrowConfigProto.serializeBinaryToWriter=function(e,t){var i=void 0;0!==(i=e.getId())&&t.writeInt32(1,i),0!==(i=e.getType())&&t.writeInt32(2,i),0!==(i=e.getLevel())&&t.writeInt32(3,i),(i=e.getAttrsList()).length>0&&t.writeRepeatedMessage(4,i,a.ProtoInt2.serializeBinaryToWriter),(i=e.getIncomesList()).length>0&&t.writeRepeatedMessage(5,i,a.ProtoInt2.serializeBinaryToWriter),(i=e.getLevelupIncomesList()).length>0&&t.writeRepeatedMessage(6,i,a.ProtoInt2.serializeBinaryToWriter),(i=e.getRatesList()).length>0&&t.writeRepeatedMessage(7,i,a.ProtoInt2.serializeBinaryToWriter)},s.ExpressBuildingGrowConfigProto.prototype.getId=function(){return o.Message.getFieldWithDefault(this,1,0)},s.ExpressBuildingGrowConfigProto.prototype.setId=function(e){o.Message.setProto3IntField(this,1,e)},s.ExpressBuildingGrowConfigProto.prototype.getType=function(){return o.Message.getFieldWithDefault(this,2,0)},s.ExpressBuildingGrowConfigProto.prototype.setType=function(e){o.Message.setProto3IntField(this,2,e)},s.ExpressBuildingGrowConfigProto.prototype.getLevel=function(){return o.Message.getFieldWithDefault(this,3,0)},s.ExpressBuildingGrowConfigProto.prototype.setLevel=function(e){o.Message.setProto3IntField(this,3,e)},s.ExpressBuildingGrowConfigProto.prototype.getAttrsList=function(){return o.Message.getRepeatedWrapperField(this,a.ProtoInt2,4)},s.ExpressBuildingGrowConfigProto.prototype.setAttrsList=function(e){o.Message.setRepeatedWrapperField(this,4,e)},s.ExpressBuildingGrowConfigProto.prototype.addAttrs=function(e,t){return o.Message.addToRepeatedWrapperField(this,4,e,s.ProtoInt2,t)},s.ExpressBuildingGrowConfigProto.prototype.clearAttrsList=function(){this.setAttrsList([])},s.ExpressBuildingGrowConfigProto.prototype.getIncomesList=function(){return o.Message.getRepeatedWrapperField(this,a.ProtoInt2,5)},s.ExpressBuildingGrowConfigProto.prototype.setIncomesList=function(e){o.Message.setRepeatedWrapperField(this,5,e)},s.ExpressBuildingGrowConfigProto.prototype.addIncomes=function(e,t){return o.Message.addToRepeatedWrapperField(this,5,e,s.ProtoInt2,t)},s.ExpressBuildingGrowConfigProto.prototype.clearIncomesList=function(){this.setIncomesList([])},s.ExpressBuildingGrowConfigProto.prototype.getLevelupIncomesList=function(){return o.Message.getRepeatedWrapperField(this,a.ProtoInt2,6)},s.ExpressBuildingGrowConfigProto.prototype.setLevelupIncomesList=function(e){o.Message.setRepeatedWrapperField(this,6,e)},s.ExpressBuildingGrowConfigProto.prototype.addLevelupIncomes=function(e,t){return o.Message.addToRepeatedWrapperField(this,6,e,s.ProtoInt2,t)},s.ExpressBuildingGrowConfigProto.prototype.clearLevelupIncomesList=function(){this.setLevelupIncomesList([])},s.ExpressBuildingGrowConfigProto.prototype.getRatesList=function(){return o.Message.getRepeatedWrapperField(this,a.ProtoInt2,7)},s.ExpressBuildingGrowConfigProto.prototype.setRatesList=function(e){o.Message.setRepeatedWrapperField(this,7,e)},s.ExpressBuildingGrowConfigProto.prototype.addRates=function(e,t){return o.Message.addToRepeatedWrapperField(this,7,e,s.ProtoInt2,t)},s.ExpressBuildingGrowConfigProto.prototype.clearRatesList=function(){this.setRatesList([])},n.object.extend(i,s),cc._RF.pop()},{"./config_utils_pb.js":"config_utils_pb","google-protobuf":"google-protobuf"}],express_building_levelup_pb:[function(e,t,i){"use strict";cc._RF.push(t,"07780C8EslA7IDpCYDpJHGj","express_building_levelup_pb");var o=e("google-protobuf"),n=o,r=function(){return this}(),a=e("./config_utils_pb.js");if(n.exportSymbol("proto.ExpressBuildingLevelupConfigProto",null,r),null==s)var s=s||{};s.ExpressBuildingLevelupConfigProto=function(e){o.Message.initialize(this,e,0,-1,s.ExpressBuildingLevelupConfigProto.repeatedFields_,null)},n.inherits(s.ExpressBuildingLevelupConfigProto,o.Message),n.DEBUG&&!COMPILED&&(s.ExpressBuildingLevelupConfigProto.displayName="proto.ExpressBuildingLevelupConfigProto"),s.ExpressBuildingLevelupConfigProto.repeatedFields_=[3],o.Message.GENERATE_TO_OBJECT&&(s.ExpressBuildingLevelupConfigProto.prototype.toObject=function(e){return s.ExpressBuildingLevelupConfigProto.toObject(e,this)},s.ExpressBuildingLevelupConfigProto.toObject=function(e,t){var i={id:o.Message.getFieldWithDefault(t,1,0),starLimit:o.Message.getFieldWithDefault(t,2,0),consumesList:o.Message.toObjectList(t.getConsumesList(),a.ProtoInt2.toObject,e),exp:o.Message.getFieldWithDefault(t,4,0)};return e&&(i.$jspbMessageInstance=t),i}),s.ExpressBuildingLevelupConfigProto.deserializeBinary=function(e){var t=new o.BinaryReader(e),i=new s.ExpressBuildingLevelupConfigProto;return s.ExpressBuildingLevelupConfigProto.deserializeBinaryFromReader(i,t)},s.ExpressBuildingLevelupConfigProto.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var i=t.readInt32();e.setId(i);break;case 2:i=t.readInt32(),e.setStarLimit(i);break;case 3:i=new a.ProtoInt2,t.readMessage(i,a.ProtoInt2.deserializeBinaryFromReader),e.addConsumes(i);break;case 4:i=t.readInt32(),e.setExp(i);break;default:t.skipField()}return e},s.ExpressBuildingLevelupConfigProto.prototype.serializeBinary=function(){var e=new o.BinaryWriter;return s.ExpressBuildingLevelupConfigProto.serializeBinaryToWriter(this,e),e.getResultBuffer()},s.ExpressBuildingLevelupConfigProto.serializeBinaryToWriter=function(e,t){var i=void 0;0!==(i=e.getId())&&t.writeInt32(1,i),0!==(i=e.getStarLimit())&&t.writeInt32(2,i),(i=e.getConsumesList()).length>0&&t.writeRepeatedMessage(3,i,a.ProtoInt2.serializeBinaryToWriter),0!==(i=e.getExp())&&t.writeInt32(4,i)},s.ExpressBuildingLevelupConfigProto.prototype.getId=function(){return o.Message.getFieldWithDefault(this,1,0)},s.ExpressBuildingLevelupConfigProto.prototype.setId=function(e){o.Message.setProto3IntField(this,1,e)},s.ExpressBuildingLevelupConfigProto.prototype.getStarLimit=function(){return o.Message.getFieldWithDefault(this,2,0)},s.ExpressBuildingLevelupConfigProto.prototype.setStarLimit=function(e){o.Message.setProto3IntField(this,2,e)},s.ExpressBuildingLevelupConfigProto.prototype.getConsumesList=function(){return o.Message.getRepeatedWrapperField(this,a.ProtoInt2,3)},s.ExpressBuildingLevelupConfigProto.prototype.setConsumesList=function(e){o.Message.setRepeatedWrapperField(this,3,e)},s.ExpressBuildingLevelupConfigProto.prototype.addConsumes=function(e,t){return o.Message.addToRepeatedWrapperField(this,3,e,s.ProtoInt2,t)},s.ExpressBuildingLevelupConfigProto.prototype.clearConsumesList=function(){this.setConsumesList([])},s.ExpressBuildingLevelupConfigProto.prototype.getExp=function(){return o.Message.getFieldWithDefault(this,4,0)},s.ExpressBuildingLevelupConfigProto.prototype.setExp=function(e){o.Message.setProto3IntField(this,4,e)},n.object.extend(i,s),cc._RF.pop()},{"./config_utils_pb.js":"config_utils_pb","google-protobuf":"google-protobuf"}],express_building_pb:[function(e,t,i){"use strict";cc._RF.push(t,"d5098pTvMdLEZcxydr/VUlR","express_building_pb");var o=e("google-protobuf"),n=o,r=function(){return this}();if(n.exportSymbol("proto.ExpressBuildingConfigProto",null,r),null==a)var a=a||{};a.ExpressBuildingConfigProto=function(e){o.Message.initialize(this,e,0,-1,a.ExpressBuildingConfigProto.repeatedFields_,null)},n.inherits(a.ExpressBuildingConfigProto,o.Message),n.DEBUG&&!COMPILED&&(a.ExpressBuildingConfigProto.displayName="proto.ExpressBuildingConfigProto"),a.ExpressBuildingConfigProto.repeatedFields_=[4,5,7],o.Message.GENERATE_TO_OBJECT&&(a.ExpressBuildingConfigProto.prototype.toObject=function(e){return a.ExpressBuildingConfigProto.toObject(e,this)},a.ExpressBuildingConfigProto.toObject=function(e,t){var i={id:o.Message.getFieldWithDefault(t,1,0),nameLan:o.Message.getFieldWithDefault(t,2,0),descLan:o.Message.getFieldWithDefault(t,3,0),attrDescLanList:o.Message.getRepeatedField(t,4),createDescLanList:o.Message.getRepeatedField(t,5),type:o.Message.getFieldWithDefault(t,6,0),iconList:o.Message.getRepeatedField(t,7)};return e&&(i.$jspbMessageInstance=t),i}),a.ExpressBuildingConfigProto.deserializeBinary=function(e){var t=new o.BinaryReader(e),i=new a.ExpressBuildingConfigProto;return a.ExpressBuildingConfigProto.deserializeBinaryFromReader(i,t)},a.ExpressBuildingConfigProto.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var i=t.readInt32();e.setId(i);break;case 2:i=t.readInt32(),e.setNameLan(i);break;case 3:i=t.readInt32(),e.setDescLan(i);break;case 4:i=t.readString(),e.addAttrDescLan(i);break;case 5:i=t.readString(),e.addCreateDescLan(i);break;case 6:i=t.readInt32(),e.setType(i);break;case 7:i=t.readString(),e.addIcon(i);break;default:t.skipField()}return e},a.ExpressBuildingConfigProto.prototype.serializeBinary=function(){var e=new o.BinaryWriter;return a.ExpressBuildingConfigProto.serializeBinaryToWriter(this,e),e.getResultBuffer()},a.ExpressBuildingConfigProto.serializeBinaryToWriter=function(e,t){var i=void 0;0!==(i=e.getId())&&t.writeInt32(1,i),0!==(i=e.getNameLan())&&t.writeInt32(2,i),0!==(i=e.getDescLan())&&t.writeInt32(3,i),(i=e.getAttrDescLanList()).length>0&&t.writeRepeatedString(4,i),(i=e.getCreateDescLanList()).length>0&&t.writeRepeatedString(5,i),0!==(i=e.getType())&&t.writeInt32(6,i),(i=e.getIconList()).length>0&&t.writeRepeatedString(7,i)},a.ExpressBuildingConfigProto.prototype.getId=function(){return o.Message.getFieldWithDefault(this,1,0)},a.ExpressBuildingConfigProto.prototype.setId=function(e){o.Message.setProto3IntField(this,1,e)},a.ExpressBuildingConfigProto.prototype.getNameLan=function(){return o.Message.getFieldWithDefault(this,2,0)},a.ExpressBuildingConfigProto.prototype.setNameLan=function(e){o.Message.setProto3IntField(this,2,e)},a.ExpressBuildingConfigProto.prototype.getDescLan=function(){return o.Message.getFieldWithDefault(this,3,0)},a.ExpressBuildingConfigProto.prototype.setDescLan=function(e){o.Message.setProto3IntField(this,3,e)},a.ExpressBuildingConfigProto.prototype.getAttrDescLanList=function(){return o.Message.getRepeatedField(this,4)},a.ExpressBuildingConfigProto.prototype.setAttrDescLanList=function(e){o.Message.setField(this,4,e||[])},a.ExpressBuildingConfigProto.prototype.addAttrDescLan=function(e,t){o.Message.addToRepeatedField(this,4,e,t)},a.ExpressBuildingConfigProto.prototype.clearAttrDescLanList=function(){this.setAttrDescLanList([])},a.ExpressBuildingConfigProto.prototype.getCreateDescLanList=function(){return o.Message.getRepeatedField(this,5)},a.ExpressBuildingConfigProto.prototype.setCreateDescLanList=function(e){o.Message.setField(this,5,e||[])},a.ExpressBuildingConfigProto.prototype.addCreateDescLan=function(e,t){o.Message.addToRepeatedField(this,5,e,t)},a.ExpressBuildingConfigProto.prototype.clearCreateDescLanList=function(){this.setCreateDescLanList([])},a.ExpressBuildingConfigProto.prototype.getType=function(){return o.Message.getFieldWithDefault(this,6,0)},a.ExpressBuildingConfigProto.prototype.setType=function(e){o.Message.setProto3IntField(this,6,e)},a.ExpressBuildingConfigProto.prototype.getIconList=function(){return o.Message.getRepeatedField(this,7)},a.ExpressBuildingConfigProto.prototype.setIconList=function(e){o.Message.setField(this,7,e||[])},a.ExpressBuildingConfigProto.prototype.addIcon=function(e,t){o.Message.addToRepeatedField(this,7,e,t)},a.ExpressBuildingConfigProto.prototype.clearIconList=function(){this.setIconList([])},n.object.extend(i,a),cc._RF.pop()},{"google-protobuf":"google-protobuf"}],express_city_pb:[function(e,t,i){"use strict";cc._RF.push(t,"ddec0kCqKJHcYFGo/AmdF2v","express_city_pb");var o=e("google-protobuf"),n=o,r=function(){return this}(),a=e("./config_utils_pb.js");if(n.exportSymbol("proto.ExpressCityConfigProto",null,r),null==s)var s=s||{};s.ExpressCityConfigProto=function(e){o.Message.initialize(this,e,0,-1,s.ExpressCityConfigProto.repeatedFields_,null)},n.inherits(s.ExpressCityConfigProto,o.Message),n.DEBUG&&!COMPILED&&(s.ExpressCityConfigProto.displayName="proto.ExpressCityConfigProto"),s.ExpressCityConfigProto.repeatedFields_=[7,10,13],o.Message.GENERATE_TO_OBJECT&&(s.ExpressCityConfigProto.prototype.toObject=function(e){return s.ExpressCityConfigProto.toObject(e,this)},s.ExpressCityConfigProto.toObject=function(e,t){var i={id:o.Message.getFieldWithDefault(t,1,0),nameLan:o.Message.getFieldWithDefault(t,2,0),shortNameLan:o.Message.getFieldWithDefault(t,3,0),descLan:o.Message.getFieldWithDefault(t,4,0),area:o.Message.getFieldWithDefault(t,5,0),preDisplayCity:o.Message.getFieldWithDefault(t,6,0),conditionsList:o.Message.toObjectList(t.getConditionsList(),a.ProtoInt3.toObject,e),checkType:o.Message.getFieldWithDefault(t,8,0),resource:o.Message.getFieldWithDefault(t,9,""),targetsList:o.Message.getRepeatedField(t,10),stationCount:o.Message.getFieldWithDefault(t,11,0),stationSize:o.Message.getFieldWithDefault(t,12,0),monstersList:o.Message.getRepeatedField(t,13)};return e&&(i.$jspbMessageInstance=t),i}),s.ExpressCityConfigProto.deserializeBinary=function(e){var t=new o.BinaryReader(e),i=new s.ExpressCityConfigProto;return s.ExpressCityConfigProto.deserializeBinaryFromReader(i,t)},s.ExpressCityConfigProto.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var i=t.readInt32();e.setId(i);break;case 2:i=t.readInt32(),e.setNameLan(i);break;case 3:i=t.readInt32(),e.setShortNameLan(i);break;case 4:i=t.readInt32(),e.setDescLan(i);break;case 5:i=t.readInt32(),e.setArea(i);break;case 6:i=t.readInt32(),e.setPreDisplayCity(i);break;case 7:i=new a.ProtoInt3,t.readMessage(i,a.ProtoInt3.deserializeBinaryFromReader),e.addConditions(i);break;case 8:i=t.readInt32(),e.setCheckType(i);break;case 9:i=t.readString(),e.setResource(i);break;case 10:i=t.readPackedInt32(),e.setTargetsList(i);break;case 11:i=t.readInt32(),e.setStationCount(i);break;case 12:i=t.readInt32(),e.setStationSize(i);break;case 13:i=t.readPackedInt32(),e.setMonstersList(i);break;default:t.skipField()}return e},s.ExpressCityConfigProto.prototype.serializeBinary=function(){var e=new o.BinaryWriter;return s.ExpressCityConfigProto.serializeBinaryToWriter(this,e),e.getResultBuffer()},s.ExpressCityConfigProto.serializeBinaryToWriter=function(e,t){var i=void 0;0!==(i=e.getId())&&t.writeInt32(1,i),0!==(i=e.getNameLan())&&t.writeInt32(2,i),0!==(i=e.getShortNameLan())&&t.writeInt32(3,i),0!==(i=e.getDescLan())&&t.writeInt32(4,i),0!==(i=e.getArea())&&t.writeInt32(5,i),0!==(i=e.getPreDisplayCity())&&t.writeInt32(6,i),(i=e.getConditionsList()).length>0&&t.writeRepeatedMessage(7,i,a.ProtoInt3.serializeBinaryToWriter),0!==(i=e.getCheckType())&&t.writeInt32(8,i),(i=e.getResource()).length>0&&t.writeString(9,i),(i=e.getTargetsList()).length>0&&t.writePackedInt32(10,i),0!==(i=e.getStationCount())&&t.writeInt32(11,i),0!==(i=e.getStationSize())&&t.writeInt32(12,i),(i=e.getMonstersList()).length>0&&t.writePackedInt32(13,i)},s.ExpressCityConfigProto.prototype.getId=function(){return o.Message.getFieldWithDefault(this,1,0)},s.ExpressCityConfigProto.prototype.setId=function(e){o.Message.setProto3IntField(this,1,e)},s.ExpressCityConfigProto.prototype.getNameLan=function(){return o.Message.getFieldWithDefault(this,2,0)},s.ExpressCityConfigProto.prototype.setNameLan=function(e){o.Message.setProto3IntField(this,2,e)},s.ExpressCityConfigProto.prototype.getShortNameLan=function(){return o.Message.getFieldWithDefault(this,3,0)},s.ExpressCityConfigProto.prototype.setShortNameLan=function(e){o.Message.setProto3IntField(this,3,e)},s.ExpressCityConfigProto.prototype.getDescLan=function(){return o.Message.getFieldWithDefault(this,4,0)},s.ExpressCityConfigProto.prototype.setDescLan=function(e){o.Message.setProto3IntField(this,4,e)},s.ExpressCityConfigProto.prototype.getArea=function(){return o.Message.getFieldWithDefault(this,5,0)},s.ExpressCityConfigProto.prototype.setArea=function(e){o.Message.setProto3IntField(this,5,e)},s.ExpressCityConfigProto.prototype.getPreDisplayCity=function(){return o.Message.getFieldWithDefault(this,6,0)},s.ExpressCityConfigProto.prototype.setPreDisplayCity=function(e){o.Message.setProto3IntField(this,6,e)},s.ExpressCityConfigProto.prototype.getConditionsList=function(){return o.Message.getRepeatedWrapperField(this,a.ProtoInt3,7)},s.ExpressCityConfigProto.prototype.setConditionsList=function(e){o.Message.setRepeatedWrapperField(this,7,e)},s.ExpressCityConfigProto.prototype.addConditions=function(e,t){return o.Message.addToRepeatedWrapperField(this,7,e,s.ProtoInt3,t)},s.ExpressCityConfigProto.prototype.clearConditionsList=function(){this.setConditionsList([])},s.ExpressCityConfigProto.prototype.getCheckType=function(){return o.Message.getFieldWithDefault(this,8,0)},s.ExpressCityConfigProto.prototype.setCheckType=function(e){o.Message.setProto3IntField(this,8,e)},s.ExpressCityConfigProto.prototype.getResource=function(){return o.Message.getFieldWithDefault(this,9,"")},s.ExpressCityConfigProto.prototype.setResource=function(e){o.Message.setProto3StringField(this,9,e)},s.ExpressCityConfigProto.prototype.getTargetsList=function(){return o.Message.getRepeatedField(this,10)},s.ExpressCityConfigProto.prototype.setTargetsList=function(e){o.Message.setField(this,10,e||[])},s.ExpressCityConfigProto.prototype.addTargets=function(e,t){o.Message.addToRepeatedField(this,10,e,t)},s.ExpressCityConfigProto.prototype.clearTargetsList=function(){this.setTargetsList([])},s.ExpressCityConfigProto.prototype.getStationCount=function(){return o.Message.getFieldWithDefault(this,11,0)},s.ExpressCityConfigProto.prototype.setStationCount=function(e){o.Message.setProto3IntField(this,11,e)},s.ExpressCityConfigProto.prototype.getStationSize=function(){return o.Message.getFieldWithDefault(this,12,0)},s.ExpressCityConfigProto.prototype.setStationSize=function(e){o.Message.setProto3IntField(this,12,e)},s.ExpressCityConfigProto.prototype.getMonstersList=function(){return o.Message.getRepeatedField(this,13)},s.ExpressCityConfigProto.prototype.setMonstersList=function(e){o.Message.setField(this,13,e||[])},s.ExpressCityConfigProto.prototype.addMonsters=function(e,t){o.Message.addToRepeatedField(this,13,e,t)},s.ExpressCityConfigProto.prototype.clearMonstersList=function(){this.setMonstersList([])},n.object.extend(i,s),cc._RF.pop()},{"./config_utils_pb.js":"config_utils_pb","google-protobuf":"google-protobuf"}],express_event_bag_pb:[function(e,t,i){"use strict";cc._RF.push(t,"f67a3xFJqVAwLhLwj6Vvgby","express_event_bag_pb");var o=e("google-protobuf"),n=o,r=function(){return this}();if(n.exportSymbol("proto.ExpressEventBagConfigProto",null,r),null==a)var a=a||{};a.ExpressEventBagConfigProto=function(e){o.Message.initialize(this,e,0,-1,a.ExpressEventBagConfigProto.repeatedFields_,null)},n.inherits(a.ExpressEventBagConfigProto,o.Message),n.DEBUG&&!COMPILED&&(a.ExpressEventBagConfigProto.displayName="proto.ExpressEventBagConfigProto"),a.ExpressEventBagConfigProto.repeatedFields_=[7],o.Message.GENERATE_TO_OBJECT&&(a.ExpressEventBagConfigProto.prototype.toObject=function(e){return a.ExpressEventBagConfigProto.toObject(e,this)},a.ExpressEventBagConfigProto.toObject=function(e,t){var i={id:o.Message.getFieldWithDefault(t,1,0),type:o.Message.getFieldWithDefault(t,2,0),subType:o.Message.getFieldWithDefault(t,3,0),titleLan:o.Message.getFieldWithDefault(t,4,0),awardId:o.Message.getFieldWithDefault(t,5,0),targetId:o.Message.getFieldWithDefault(t,6,0),eventsList:o.Message.getRepeatedField(t,7)};return e&&(i.$jspbMessageInstance=t),i}),a.ExpressEventBagConfigProto.deserializeBinary=function(e){var t=new o.BinaryReader(e),i=new a.ExpressEventBagConfigProto;return a.ExpressEventBagConfigProto.deserializeBinaryFromReader(i,t)},a.ExpressEventBagConfigProto.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var i=t.readInt32();e.setId(i);break;case 2:i=t.readInt32(),e.setType(i);break;case 3:i=t.readInt32(),e.setSubType(i);break;case 4:i=t.readInt32(),e.setTitleLan(i);break;case 5:i=t.readInt32(),e.setAwardId(i);break;case 6:i=t.readInt32(),e.setTargetId(i);break;case 7:i=t.readPackedInt32(),e.setEventsList(i);break;default:t.skipField()}return e},a.ExpressEventBagConfigProto.prototype.serializeBinary=function(){var e=new o.BinaryWriter;return a.ExpressEventBagConfigProto.serializeBinaryToWriter(this,e),e.getResultBuffer()},a.ExpressEventBagConfigProto.serializeBinaryToWriter=function(e,t){var i=void 0;0!==(i=e.getId())&&t.writeInt32(1,i),0!==(i=e.getType())&&t.writeInt32(2,i),0!==(i=e.getSubType())&&t.writeInt32(3,i),0!==(i=e.getTitleLan())&&t.writeInt32(4,i),0!==(i=e.getAwardId())&&t.writeInt32(5,i),0!==(i=e.getTargetId())&&t.writeInt32(6,i),(i=e.getEventsList()).length>0&&t.writePackedInt32(7,i)},a.ExpressEventBagConfigProto.prototype.getId=function(){return o.Message.getFieldWithDefault(this,1,0)},a.ExpressEventBagConfigProto.prototype.setId=function(e){o.Message.setProto3IntField(this,1,e)},a.ExpressEventBagConfigProto.prototype.getType=function(){return o.Message.getFieldWithDefault(this,2,0)},a.ExpressEventBagConfigProto.prototype.setType=function(e){o.Message.setProto3IntField(this,2,e)},a.ExpressEventBagConfigProto.prototype.getSubType=function(){return o.Message.getFieldWithDefault(this,3,0)},a.ExpressEventBagConfigProto.prototype.setSubType=function(e){o.Message.setProto3IntField(this,3,e)},a.ExpressEventBagConfigProto.prototype.getTitleLan=function(){return o.Message.getFieldWithDefault(this,4,0)},a.ExpressEventBagConfigProto.prototype.setTitleLan=function(e){o.Message.setProto3IntField(this,4,e)},a.ExpressEventBagConfigProto.prototype.getAwardId=function(){return o.Message.getFieldWithDefault(this,5,0)},a.ExpressEventBagConfigProto.prototype.setAwardId=function(e){o.Message.setProto3IntField(this,5,e)},a.ExpressEventBagConfigProto.prototype.getTargetId=function(){return o.Message.getFieldWithDefault(this,6,0)},a.ExpressEventBagConfigProto.prototype.setTargetId=function(e){o.Message.setProto3IntField(this,6,e)},a.ExpressEventBagConfigProto.prototype.getEventsList=function(){return o.Message.getRepeatedField(this,7)},a.ExpressEventBagConfigProto.prototype.setEventsList=function(e){o.Message.setField(this,7,e||[])},a.ExpressEventBagConfigProto.prototype.addEvents=function(e,t){o.Message.addToRepeatedField(this,7,e,t)},a.ExpressEventBagConfigProto.prototype.clearEventsList=function(){this.setEventsList([])},n.object.extend(i,a),cc._RF.pop()},{"google-protobuf":"google-protobuf"}],express_event_pb:[function(e,t,i){"use strict";cc._RF.push(t,"49463H1P4hIprkO0jNThulN","express_event_pb");var o=e("google-protobuf"),n=o,r=function(){return this}();if(n.exportSymbol("proto.ExpressEventConfigProto",null,r),null==a)var a=a||{};a.ExpressEventConfigProto=function(e){o.Message.initialize(this,e,0,-1,a.ExpressEventConfigProto.repeatedFields_,null)},n.inherits(a.ExpressEventConfigProto,o.Message),n.DEBUG&&!COMPILED&&(a.ExpressEventConfigProto.displayName="proto.ExpressEventConfigProto"),a.ExpressEventConfigProto.repeatedFields_=[2,3,6,7],o.Message.GENERATE_TO_OBJECT&&(a.ExpressEventConfigProto.prototype.toObject=function(e){return a.ExpressEventConfigProto.toObject(e,this)},a.ExpressEventConfigProto.toObject=function(e,t){var i={id:o.Message.getFieldWithDefault(t,1,0),dropbagFirstList:o.Message.getRepeatedField(t,2),dropbagList:o.Message.getRepeatedField(t,3),titleLan:o.Message.getFieldWithDefault(t,4,""),content:o.Message.getFieldWithDefault(t,5,""),awardContentList:o.Message.getRepeatedField(t,6),optionsList:o.Message.getRepeatedField(t,7)};return e&&(i.$jspbMessageInstance=t),i}),a.ExpressEventConfigProto.deserializeBinary=function(e){var t=new o.BinaryReader(e),i=new a.ExpressEventConfigProto;return a.ExpressEventConfigProto.deserializeBinaryFromReader(i,t)},a.ExpressEventConfigProto.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var i=t.readInt32();e.setId(i);break;case 2:i=t.readPackedInt32(),e.setDropbagFirstList(i);break;case 3:i=t.readPackedInt32(),e.setDropbagList(i);break;case 4:i=t.readString(),e.setTitleLan(i);break;case 5:i=t.readString(),e.setContent(i);break;case 6:i=t.readString(),e.addAwardContent(i);break;case 7:i=t.readString(),e.addOptions(i);break;default:t.skipField()}return e},a.ExpressEventConfigProto.prototype.serializeBinary=function(){var e=new o.BinaryWriter;return a.ExpressEventConfigProto.serializeBinaryToWriter(this,e),e.getResultBuffer()},a.ExpressEventConfigProto.serializeBinaryToWriter=function(e,t){var i=void 0;0!==(i=e.getId())&&t.writeInt32(1,i),(i=e.getDropbagFirstList()).length>0&&t.writePackedInt32(2,i),(i=e.getDropbagList()).length>0&&t.writePackedInt32(3,i),(i=e.getTitleLan()).length>0&&t.writeString(4,i),(i=e.getContent()).length>0&&t.writeString(5,i),(i=e.getAwardContentList()).length>0&&t.writeRepeatedString(6,i),(i=e.getOptionsList()).length>0&&t.writeRepeatedString(7,i)},a.ExpressEventConfigProto.prototype.getId=function(){return o.Message.getFieldWithDefault(this,1,0)},a.ExpressEventConfigProto.prototype.setId=function(e){o.Message.setProto3IntField(this,1,e)},a.ExpressEventConfigProto.prototype.getDropbagFirstList=function(){return o.Message.getRepeatedField(this,2)},a.ExpressEventConfigProto.prototype.setDropbagFirstList=function(e){o.Message.setField(this,2,e||[])},a.ExpressEventConfigProto.prototype.addDropbagFirst=function(e,t){o.Message.addToRepeatedField(this,2,e,t)},a.ExpressEventConfigProto.prototype.clearDropbagFirstList=function(){this.setDropbagFirstList([])},a.ExpressEventConfigProto.prototype.getDropbagList=function(){return o.Message.getRepeatedField(this,3)},a.ExpressEventConfigProto.prototype.setDropbagList=function(e){o.Message.setField(this,3,e||[])},a.ExpressEventConfigProto.prototype.addDropbag=function(e,t){o.Message.addToRepeatedField(this,3,e,t)},a.ExpressEventConfigProto.prototype.clearDropbagList=function(){this.setDropbagList([])},a.ExpressEventConfigProto.prototype.getTitleLan=function(){return o.Message.getFieldWithDefault(this,4,"")},a.ExpressEventConfigProto.prototype.setTitleLan=function(e){o.Message.setProto3StringField(this,4,e)},a.ExpressEventConfigProto.prototype.getContent=function(){return o.Message.getFieldWithDefault(this,5,"")},a.ExpressEventConfigProto.prototype.setContent=function(e){o.Message.setProto3StringField(this,5,e)},a.ExpressEventConfigProto.prototype.getAwardContentList=function(){return o.Message.getRepeatedField(this,6)},a.ExpressEventConfigProto.prototype.setAwardContentList=function(e){o.Message.setField(this,6,e||[])},a.ExpressEventConfigProto.prototype.addAwardContent=function(e,t){o.Message.addToRepeatedField(this,6,e,t)},a.ExpressEventConfigProto.prototype.clearAwardContentList=function(){this.setAwardContentList([])},a.ExpressEventConfigProto.prototype.getOptionsList=function(){return o.Message.getRepeatedField(this,7)},a.ExpressEventConfigProto.prototype.setOptionsList=function(e){o.Message.setField(this,7,e||[])},a.ExpressEventConfigProto.prototype.addOptions=function(e,t){o.Message.addToRepeatedField(this,7,e,t)},a.ExpressEventConfigProto.prototype.clearOptionsList=function(){this.setOptionsList([])},n.object.extend(i,a),cc._RF.pop()},{"google-protobuf":"google-protobuf"}],express_route_pb:[function(e,t,i){"use strict";cc._RF.push(t,"62092erOZRLdKr3FTdUm82j","express_route_pb");var o=e("google-protobuf"),n=o,r=function(){return this}(),a=e("./config_utils_pb.js");if(n.exportSymbol("proto.ExpressRouteConfigProto",null,r),null==s)var s=s||{};s.ExpressRouteConfigProto=function(e){o.Message.initialize(this,e,0,-1,s.ExpressRouteConfigProto.repeatedFields_,null)},n.inherits(s.ExpressRouteConfigProto,o.Message),n.DEBUG&&!COMPILED&&(s.ExpressRouteConfigProto.displayName="proto.ExpressRouteConfigProto"),s.ExpressRouteConfigProto.repeatedFields_=[2,3],o.Message.GENERATE_TO_OBJECT&&(s.ExpressRouteConfigProto.prototype.toObject=function(e){return s.ExpressRouteConfigProto.toObject(e,this)},s.ExpressRouteConfigProto.toObject=function(e,t){var i={id:o.Message.getFieldWithDefault(t,1,0),citiesList:o.Message.getRepeatedField(t,2),backupsList:o.Message.toObjectList(t.getBackupsList(),a.ProtoInt2.toObject,e),dest:o.Message.getFieldWithDefault(t,4,0)};return e&&(i.$jspbMessageInstance=t),i}),s.ExpressRouteConfigProto.deserializeBinary=function(e){var t=new o.BinaryReader(e),i=new s.ExpressRouteConfigProto;return s.ExpressRouteConfigProto.deserializeBinaryFromReader(i,t)},s.ExpressRouteConfigProto.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var i=t.readInt32();e.setId(i);break;case 2:i=t.readPackedInt32(),e.setCitiesList(i);break;case 3:i=new a.ProtoInt2,t.readMessage(i,a.ProtoInt2.deserializeBinaryFromReader),e.addBackups(i);break;case 4:i=t.readInt32(),e.setDest(i);break;default:t.skipField()}return e},s.ExpressRouteConfigProto.prototype.serializeBinary=function(){var e=new o.BinaryWriter;return s.ExpressRouteConfigProto.serializeBinaryToWriter(this,e),e.getResultBuffer()},s.ExpressRouteConfigProto.serializeBinaryToWriter=function(e,t){var i=void 0;0!==(i=e.getId())&&t.writeInt32(1,i),(i=e.getCitiesList()).length>0&&t.writePackedInt32(2,i),(i=e.getBackupsList()).length>0&&t.writeRepeatedMessage(3,i,a.ProtoInt2.serializeBinaryToWriter),0!==(i=e.getDest())&&t.writeInt32(4,i)},s.ExpressRouteConfigProto.prototype.getId=function(){return o.Message.getFieldWithDefault(this,1,0)},s.ExpressRouteConfigProto.prototype.setId=function(e){o.Message.setProto3IntField(this,1,e)},s.ExpressRouteConfigProto.prototype.getCitiesList=function(){return o.Message.getRepeatedField(this,2)},s.ExpressRouteConfigProto.prototype.setCitiesList=function(e){o.Message.setField(this,2,e||[])},s.ExpressRouteConfigProto.prototype.addCities=function(e,t){o.Message.addToRepeatedField(this,2,e,t)},s.ExpressRouteConfigProto.prototype.clearCitiesList=function(){this.setCitiesList([])},s.ExpressRouteConfigProto.prototype.getBackupsList=function(){return o.Message.getRepeatedWrapperField(this,a.ProtoInt2,3)},s.ExpressRouteConfigProto.prototype.setBackupsList=function(e){o.Message.setRepeatedWrapperField(this,3,e)},s.ExpressRouteConfigProto.prototype.addBackups=function(e,t){return o.Message.addToRepeatedWrapperField(this,3,e,s.ProtoInt2,t)},s.ExpressRouteConfigProto.prototype.clearBackupsList=function(){this.setBackupsList([])},s.ExpressRouteConfigProto.prototype.getDest=function(){return o.Message.getFieldWithDefault(this,4,0)},s.ExpressRouteConfigProto.prototype.setDest=function(e){o.Message.setProto3IntField(this,4,e)},n.object.extend(i,s),cc._RF.pop()},{"./config_utils_pb.js":"config_utils_pb","google-protobuf":"google-protobuf"}],express_station_consume_pb:[function(e,t,i){"use strict";cc._RF.push(t,"ad22fMQaW9InJjzq4Q9bVR3","express_station_consume_pb");var o=e("google-protobuf"),n=o,r=function(){return this}(),a=e("./config_utils_pb.js");if(n.exportSymbol("proto.ExpressStationConsumeConfigProto",null,r),null==s)var s=s||{};s.ExpressStationConsumeConfigProto=function(e){o.Message.initialize(this,e,0,-1,s.ExpressStationConsumeConfigProto.repeatedFields_,null)},n.inherits(s.ExpressStationConsumeConfigProto,o.Message),n.DEBUG&&!COMPILED&&(s.ExpressStationConsumeConfigProto.displayName="proto.ExpressStationConsumeConfigProto"),s.ExpressStationConsumeConfigProto.repeatedFields_=[2,3,5],o.Message.GENERATE_TO_OBJECT&&(s.ExpressStationConsumeConfigProto.prototype.toObject=function(e){return s.ExpressStationConsumeConfigProto.toObject(e,this)},s.ExpressStationConsumeConfigProto.toObject=function(e,t){var i={id:o.Message.getFieldWithDefault(t,1,0),conditionsList:o.Message.toObjectList(t.getConditionsList(),a.ProtoInt3.toObject,e),consumesList:o.Message.toObjectList(t.getConsumesList(),a.ProtoInt2.toObject,e),horseCount:o.Message.getFieldWithDefault(t,4,0),consumeAddiList:o.Message.toObjectList(t.getConsumeAddiList(),a.ProtoInt2.toObject,e)};return e&&(i.$jspbMessageInstance=t),i}),s.ExpressStationConsumeConfigProto.deserializeBinary=function(e){var t=new o.BinaryReader(e),i=new s.ExpressStationConsumeConfigProto;return s.ExpressStationConsumeConfigProto.deserializeBinaryFromReader(i,t)},s.ExpressStationConsumeConfigProto.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var i=t.readInt32();e.setId(i);break;case 2:i=new a.ProtoInt3,t.readMessage(i,a.ProtoInt3.deserializeBinaryFromReader),e.addConditions(i);break;case 3:i=new a.ProtoInt2,t.readMessage(i,a.ProtoInt2.deserializeBinaryFromReader),e.addConsumes(i);break;case 4:i=t.readInt32(),e.setHorseCount(i);break;case 5:i=new a.ProtoInt2,t.readMessage(i,a.ProtoInt2.deserializeBinaryFromReader),e.addConsumeAddi(i);break;default:t.skipField()}return e},s.ExpressStationConsumeConfigProto.prototype.serializeBinary=function(){var e=new o.BinaryWriter;return s.ExpressStationConsumeConfigProto.serializeBinaryToWriter(this,e),e.getResultBuffer()},s.ExpressStationConsumeConfigProto.serializeBinaryToWriter=function(e,t){var i=void 0;0!==(i=e.getId())&&t.writeInt32(1,i),(i=e.getConditionsList()).length>0&&t.writeRepeatedMessage(2,i,a.ProtoInt3.serializeBinaryToWriter),(i=e.getConsumesList()).length>0&&t.writeRepeatedMessage(3,i,a.ProtoInt2.serializeBinaryToWriter),0!==(i=e.getHorseCount())&&t.writeInt32(4,i),(i=e.getConsumeAddiList()).length>0&&t.writeRepeatedMessage(5,i,a.ProtoInt2.serializeBinaryToWriter)},s.ExpressStationConsumeConfigProto.prototype.getId=function(){return o.Message.getFieldWithDefault(this,1,0)},s.ExpressStationConsumeConfigProto.prototype.setId=function(e){o.Message.setProto3IntField(this,1,e)},s.ExpressStationConsumeConfigProto.prototype.getConditionsList=function(){return o.Message.getRepeatedWrapperField(this,a.ProtoInt3,2)},s.ExpressStationConsumeConfigProto.prototype.setConditionsList=function(e){o.Message.setRepeatedWrapperField(this,2,e)},s.ExpressStationConsumeConfigProto.prototype.addConditions=function(e,t){return o.Message.addToRepeatedWrapperField(this,2,e,s.ProtoInt3,t)},s.ExpressStationConsumeConfigProto.prototype.clearConditionsList=function(){this.setConditionsList([])},s.ExpressStationConsumeConfigProto.prototype.getConsumesList=function(){return o.Message.getRepeatedWrapperField(this,a.ProtoInt2,3)},s.ExpressStationConsumeConfigProto.prototype.setConsumesList=function(e){o.Message.setRepeatedWrapperField(this,3,e)},s.ExpressStationConsumeConfigProto.prototype.addConsumes=function(e,t){return o.Message.addToRepeatedWrapperField(this,3,e,s.ProtoInt2,t)},s.ExpressStationConsumeConfigProto.prototype.clearConsumesList=function(){this.setConsumesList([])},s.ExpressStationConsumeConfigProto.prototype.getHorseCount=function(){return o.Message.getFieldWithDefault(this,4,0)},s.ExpressStationConsumeConfigProto.prototype.setHorseCount=function(e){o.Message.setProto3IntField(this,4,e)},s.ExpressStationConsumeConfigProto.prototype.getConsumeAddiList=function(){return o.Message.getRepeatedWrapperField(this,a.ProtoInt2,5)},s.ExpressStationConsumeConfigProto.prototype.setConsumeAddiList=function(e){o.Message.setRepeatedWrapperField(this,5,e)},s.ExpressStationConsumeConfigProto.prototype.addConsumeAddi=function(e,t){return o.Message.addToRepeatedWrapperField(this,5,e,s.ProtoInt2,t)},s.ExpressStationConsumeConfigProto.prototype.clearConsumeAddiList=function(){this.setConsumeAddiList([])},n.object.extend(i,s),cc._RF.pop()},{"./config_utils_pb.js":"config_utils_pb","google-protobuf":"google-protobuf"}],express_station_grow_pb:[function(e,t,i){"use strict";cc._RF.push(t,"cb6a6EitRRD1ZOPVT1+pWfc","express_station_grow_pb");var o=e("google-protobuf"),n=o,r=function(){return this}(),a=e("./config_utils_pb.js");if(n.exportSymbol("proto.ExpressStationGrowConfigProto",null,r),null==s)var s=s||{};s.ExpressStationGrowConfigProto=function(e){o.Message.initialize(this,e,0,-1,s.ExpressStationGrowConfigProto.repeatedFields_,null)},n.inherits(s.ExpressStationGrowConfigProto,o.Message),n.DEBUG&&!COMPILED&&(s.ExpressStationGrowConfigProto.displayName="proto.ExpressStationGrowConfigProto"),s.ExpressStationGrowConfigProto.repeatedFields_=[4],o.Message.GENERATE_TO_OBJECT&&(s.ExpressStationGrowConfigProto.prototype.toObject=function(e){return s.ExpressStationGrowConfigProto.toObject(e,this)},s.ExpressStationGrowConfigProto.toObject=function(e,t){var i={id:o.Message.getFieldWithDefault(t,1,0),exp:o.Message.getFieldWithDefault(t,2,0),buildingCount:o.Message.getFieldWithDefault(t,3,0),consumesList:o.Message.toObjectList(t.getConsumesList(),a.ProtoInt2.toObject,e)};return e&&(i.$jspbMessageInstance=t),i}),s.ExpressStationGrowConfigProto.deserializeBinary=function(e){var t=new o.BinaryReader(e),i=new s.ExpressStationGrowConfigProto;return s.ExpressStationGrowConfigProto.deserializeBinaryFromReader(i,t)},s.ExpressStationGrowConfigProto.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var i=t.readInt32();e.setId(i);break;case 2:i=t.readInt32(),e.setExp(i);break;case 3:i=t.readInt32(),e.setBuildingCount(i);break;case 4:i=new a.ProtoInt2,t.readMessage(i,a.ProtoInt2.deserializeBinaryFromReader),e.addConsumes(i);break;default:t.skipField()}return e},s.ExpressStationGrowConfigProto.prototype.serializeBinary=function(){var e=new o.BinaryWriter;return s.ExpressStationGrowConfigProto.serializeBinaryToWriter(this,e),e.getResultBuffer()},s.ExpressStationGrowConfigProto.serializeBinaryToWriter=function(e,t){var i=void 0;0!==(i=e.getId())&&t.writeInt32(1,i),0!==(i=e.getExp())&&t.writeInt32(2,i),0!==(i=e.getBuildingCount())&&t.writeInt32(3,i),(i=e.getConsumesList()).length>0&&t.writeRepeatedMessage(4,i,a.ProtoInt2.serializeBinaryToWriter)},s.ExpressStationGrowConfigProto.prototype.getId=function(){return o.Message.getFieldWithDefault(this,1,0)},s.ExpressStationGrowConfigProto.prototype.setId=function(e){o.Message.setProto3IntField(this,1,e)},s.ExpressStationGrowConfigProto.prototype.getExp=function(){return o.Message.getFieldWithDefault(this,2,0)},s.ExpressStationGrowConfigProto.prototype.setExp=function(e){o.Message.setProto3IntField(this,2,e)},s.ExpressStationGrowConfigProto.prototype.getBuildingCount=function(){return o.Message.getFieldWithDefault(this,3,0)},s.ExpressStationGrowConfigProto.prototype.setBuildingCount=function(e){o.Message.setProto3IntField(this,3,e)},s.ExpressStationGrowConfigProto.prototype.getConsumesList=function(){return o.Message.getRepeatedWrapperField(this,a.ProtoInt2,4)},s.ExpressStationGrowConfigProto.prototype.setConsumesList=function(e){o.Message.setRepeatedWrapperField(this,4,e)},s.ExpressStationGrowConfigProto.prototype.addConsumes=function(e,t){return o.Message.addToRepeatedWrapperField(this,4,e,s.ProtoInt2,t)},s.ExpressStationGrowConfigProto.prototype.clearConsumesList=function(){this.setConsumesList([])},n.object.extend(i,s),cc._RF.pop()},{"./config_utils_pb.js":"config_utils_pb","google-protobuf":"google-protobuf"}],express_target_pb:[function(e,t,i){"use strict";cc._RF.push(t,"271c4+CnGRA+LyzlmBV1WjZ","express_target_pb");var o=e("google-protobuf"),n=o,r=function(){return this}(),a=e("./config_utils_pb.js");if(n.exportSymbol("proto.ExpressTargetConfigProto",null,r),null==s)var s=s||{};s.ExpressTargetConfigProto=function(e){o.Message.initialize(this,e,0,-1,s.ExpressTargetConfigProto.repeatedFields_,null)},n.inherits(s.ExpressTargetConfigProto,o.Message),n.DEBUG&&!COMPILED&&(s.ExpressTargetConfigProto.displayName="proto.ExpressTargetConfigProto"),s.ExpressTargetConfigProto.repeatedFields_=[2,8,9,10],o.Message.GENERATE_TO_OBJECT&&(s.ExpressTargetConfigProto.prototype.toObject=function(e){return s.ExpressTargetConfigProto.toObject(e,this)},s.ExpressTargetConfigProto.toObject=function(e,t){var i={id:o.Message.getFieldWithDefault(t,1,0),conditionsList:o.Message.toObjectList(t.getConditionsList(),a.ProtoInt3.toObject,e),type:o.Message.getFieldWithDefault(t,3,0),nameLan:o.Message.getFieldWithDefault(t,4,0),descLan:o.Message.getFieldWithDefault(t,5,0),descLan2:o.Message.getFieldWithDefault(t,6,0),dropbag:o.Message.getFieldWithDefault(t,7,0),iconList:o.Message.getRepeatedField(t,8),headList:o.Message.getRepeatedField(t,9),figureList:o.Message.getRepeatedField(t,10)};return e&&(i.$jspbMessageInstance=t),i}),s.ExpressTargetConfigProto.deserializeBinary=function(e){var t=new o.BinaryReader(e),i=new s.ExpressTargetConfigProto;return s.ExpressTargetConfigProto.deserializeBinaryFromReader(i,t)},s.ExpressTargetConfigProto.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var i=t.readInt32();e.setId(i);break;case 2:i=new a.ProtoInt3,t.readMessage(i,a.ProtoInt3.deserializeBinaryFromReader),e.addConditions(i);break;case 3:i=t.readInt32(),e.setType(i);break;case 4:i=t.readInt32(),e.setNameLan(i);break;case 5:i=t.readInt32(),e.setDescLan(i);break;case 6:i=t.readInt32(),e.setDescLan2(i);break;case 7:i=t.readInt32(),e.setDropbag(i);break;case 8:i=t.readString(),e.addIcon(i);break;case 9:i=t.readString(),e.addHead(i);break;case 10:i=t.readString(),e.addFigure(i);break;default:t.skipField()}return e},s.ExpressTargetConfigProto.prototype.serializeBinary=function(){var e=new o.BinaryWriter;return s.ExpressTargetConfigProto.serializeBinaryToWriter(this,e),e.getResultBuffer()},s.ExpressTargetConfigProto.serializeBinaryToWriter=function(e,t){var i=void 0;0!==(i=e.getId())&&t.writeInt32(1,i),(i=e.getConditionsList()).length>0&&t.writeRepeatedMessage(2,i,a.ProtoInt3.serializeBinaryToWriter),0!==(i=e.getType())&&t.writeInt32(3,i),0!==(i=e.getNameLan())&&t.writeInt32(4,i),0!==(i=e.getDescLan())&&t.writeInt32(5,i),0!==(i=e.getDescLan2())&&t.writeInt32(6,i),0!==(i=e.getDropbag())&&t.writeInt32(7,i),(i=e.getIconList()).length>0&&t.writeRepeatedString(8,i),(i=e.getHeadList()).length>0&&t.writeRepeatedString(9,i),(i=e.getFigureList()).length>0&&t.writeRepeatedString(10,i)},s.ExpressTargetConfigProto.prototype.getId=function(){return o.Message.getFieldWithDefault(this,1,0)},s.ExpressTargetConfigProto.prototype.setId=function(e){o.Message.setProto3IntField(this,1,e)},s.ExpressTargetConfigProto.prototype.getConditionsList=function(){return o.Message.getRepeatedWrapperField(this,a.ProtoInt3,2)},s.ExpressTargetConfigProto.prototype.setConditionsList=function(e){o.Message.setRepeatedWrapperField(this,2,e)},s.ExpressTargetConfigProto.prototype.addConditions=function(e,t){return o.Message.addToRepeatedWrapperField(this,2,e,s.ProtoInt3,t)},s.ExpressTargetConfigProto.prototype.clearConditionsList=function(){this.setConditionsList([])},s.ExpressTargetConfigProto.prototype.getType=function(){return o.Message.getFieldWithDefault(this,3,0)},s.ExpressTargetConfigProto.prototype.setType=function(e){o.Message.setProto3IntField(this,3,e)},s.ExpressTargetConfigProto.prototype.getNameLan=function(){return o.Message.getFieldWithDefault(this,4,0)},s.ExpressTargetConfigProto.prototype.setNameLan=function(e){o.Message.setProto3IntField(this,4,e)},s.ExpressTargetConfigProto.prototype.getDescLan=function(){return o.Message.getFieldWithDefault(this,5,0)},s.ExpressTargetConfigProto.prototype.setDescLan=function(e){o.Message.setProto3IntField(this,5,e)},s.ExpressTargetConfigProto.prototype.getDescLan2=function(){return o.Message.getFieldWithDefault(this,6,0)},s.ExpressTargetConfigProto.prototype.setDescLan2=function(e){o.Message.setProto3IntField(this,6,e)},s.ExpressTargetConfigProto.prototype.getDropbag=function(){return o.Message.getFieldWithDefault(this,7,0)},s.ExpressTargetConfigProto.prototype.setDropbag=function(e){o.Message.setProto3IntField(this,7,e)},s.ExpressTargetConfigProto.prototype.getIconList=function(){return o.Message.getRepeatedField(this,8)},s.ExpressTargetConfigProto.prototype.setIconList=function(e){o.Message.setField(this,8,e||[])},s.ExpressTargetConfigProto.prototype.addIcon=function(e,t){o.Message.addToRepeatedField(this,8,e,t)},s.ExpressTargetConfigProto.prototype.clearIconList=function(){this.setIconList([])},s.ExpressTargetConfigProto.prototype.getHeadList=function(){return o.Message.getRepeatedField(this,9)},s.ExpressTargetConfigProto.prototype.setHeadList=function(e){o.Message.setField(this,9,e||[])},s.ExpressTargetConfigProto.prototype.addHead=function(e,t){o.Message.addToRepeatedField(this,9,e,t)},s.ExpressTargetConfigProto.prototype.clearHeadList=function(){this.setHeadList([])},s.ExpressTargetConfigProto.prototype.getFigureList=function(){return o.Message.getRepeatedField(this,10)},s.ExpressTargetConfigProto.prototype.setFigureList=function(e){o.Message.setField(this,10,e||[])},s.ExpressTargetConfigProto.prototype.addFigure=function(e,t){o.Message.addToRepeatedField(this,10,e,t)},s.ExpressTargetConfigProto.prototype.clearFigureList=function(){this.setFigureList([])},n.object.extend(i,s),cc._RF.pop()},{"./config_utils_pb.js":"config_utils_pb","google-protobuf":"google-protobuf"}],game_book_base_pb:[function(e,t,i){"use strict";cc._RF.push(t,"22c52Xp6SVBCY5bEfJjU+R1","game_book_base_pb");var o=e("google-protobuf"),n=o,r=function(){return this}(),a=e("./config_utils_pb.js");if(n.exportSymbol("proto.GameBookBaseConfigProto",null,r),null==s)var s=s||{};s.GameBookBaseConfigProto=function(e){o.Message.initialize(this,e,0,-1,s.GameBookBaseConfigProto.repeatedFields_,null)},n.inherits(s.GameBookBaseConfigProto,o.Message),n.DEBUG&&!COMPILED&&(s.GameBookBaseConfigProto.displayName="proto.GameBookBaseConfigProto"),s.GameBookBaseConfigProto.repeatedFields_=[6],o.Message.GENERATE_TO_OBJECT&&(s.GameBookBaseConfigProto.prototype.toObject=function(e){return s.GameBookBaseConfigProto.toObject(e,this)},s.GameBookBaseConfigProto.toObject=function(e,t){var i={id:o.Message.getFieldWithDefault(t,1,0),answerCount:o.Message.getFieldWithDefault(t,2,0),answerTime:o.Message.getFieldWithDefault(t,3,0),pieceCount:o.Message.getFieldWithDefault(t,4,0),rotate:o.Message.getFieldWithDefault(t,5,0),consumesList:o.Message.toObjectList(t.getConsumesList(),a.ProtoInt2.toObject,e),ruleIntroLan:o.Message.getFieldWithDefault(t,7,0)};return e&&(i.$jspbMessageInstance=t),i}),s.GameBookBaseConfigProto.deserializeBinary=function(e){var t=new o.BinaryReader(e),i=new s.GameBookBaseConfigProto;return s.GameBookBaseConfigProto.deserializeBinaryFromReader(i,t)},s.GameBookBaseConfigProto.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var i=t.readInt32();e.setId(i);break;case 2:i=t.readInt32(),e.setAnswerCount(i);break;case 3:i=t.readInt32(),e.setAnswerTime(i);break;case 4:i=t.readInt32(),e.setPieceCount(i);break;case 5:i=t.readInt32(),e.setRotate(i);break;case 6:i=new a.ProtoInt2,t.readMessage(i,a.ProtoInt2.deserializeBinaryFromReader),e.addConsumes(i);break;case 7:i=t.readInt32(),e.setRuleIntroLan(i);break;default:t.skipField()}return e},s.GameBookBaseConfigProto.prototype.serializeBinary=function(){var e=new o.BinaryWriter;return s.GameBookBaseConfigProto.serializeBinaryToWriter(this,e),e.getResultBuffer()},s.GameBookBaseConfigProto.serializeBinaryToWriter=function(e,t){var i=void 0;0!==(i=e.getId())&&t.writeInt32(1,i),0!==(i=e.getAnswerCount())&&t.writeInt32(2,i),0!==(i=e.getAnswerTime())&&t.writeInt32(3,i),0!==(i=e.getPieceCount())&&t.writeInt32(4,i),0!==(i=e.getRotate())&&t.writeInt32(5,i),(i=e.getConsumesList()).length>0&&t.writeRepeatedMessage(6,i,a.ProtoInt2.serializeBinaryToWriter),0!==(i=e.getRuleIntroLan())&&t.writeInt32(7,i)},s.GameBookBaseConfigProto.prototype.getId=function(){return o.Message.getFieldWithDefault(this,1,0)},s.GameBookBaseConfigProto.prototype.setId=function(e){o.Message.setProto3IntField(this,1,e)},s.GameBookBaseConfigProto.prototype.getAnswerCount=function(){return o.Message.getFieldWithDefault(this,2,0)},s.GameBookBaseConfigProto.prototype.setAnswerCount=function(e){o.Message.setProto3IntField(this,2,e)},s.GameBookBaseConfigProto.prototype.getAnswerTime=function(){return o.Message.getFieldWithDefault(this,3,0)},s.GameBookBaseConfigProto.prototype.setAnswerTime=function(e){o.Message.setProto3IntField(this,3,e)},s.GameBookBaseConfigProto.prototype.getPieceCount=function(){return o.Message.getFieldWithDefault(this,4,0)},s.GameBookBaseConfigProto.prototype.setPieceCount=function(e){o.Message.setProto3IntField(this,4,e)},s.GameBookBaseConfigProto.prototype.getRotate=function(){return o.Message.getFieldWithDefault(this,5,0)},s.GameBookBaseConfigProto.prototype.setRotate=function(e){o.Message.setProto3IntField(this,5,e)},s.GameBookBaseConfigProto.prototype.getConsumesList=function(){return o.Message.getRepeatedWrapperField(this,a.ProtoInt2,6)},s.GameBookBaseConfigProto.prototype.setConsumesList=function(e){o.Message.setRepeatedWrapperField(this,6,e)},s.GameBookBaseConfigProto.prototype.addConsumes=function(e,t){return o.Message.addToRepeatedWrapperField(this,6,e,s.ProtoInt2,t)},s.GameBookBaseConfigProto.prototype.clearConsumesList=function(){this.setConsumesList([])},s.GameBookBaseConfigProto.prototype.getRuleIntroLan=function(){return o.Message.getFieldWithDefault(this,7,0)},s.GameBookBaseConfigProto.prototype.setRuleIntroLan=function(e){o.Message.setProto3IntField(this,7,e)},n.object.extend(i,s),cc._RF.pop()},{"./config_utils_pb.js":"config_utils_pb","google-protobuf":"google-protobuf"}],game_book_book_pb:[function(e,t,i){"use strict";cc._RF.push(t,"75c0auAa7dLhp0iVAP6rVZN","game_book_book_pb");var o=e("google-protobuf"),n=o,r=function(){return this}();if(n.exportSymbol("proto.GameBookBookConfigProto",null,r),null==a)var a=a||{};a.GameBookBookConfigProto=function(e){o.Message.initialize(this,e,0,-1,a.GameBookBookConfigProto.repeatedFields_,null)},n.inherits(a.GameBookBookConfigProto,o.Message),n.DEBUG&&!COMPILED&&(a.GameBookBookConfigProto.displayName="proto.GameBookBookConfigProto"),a.GameBookBookConfigProto.repeatedFields_=[2],o.Message.GENERATE_TO_OBJECT&&(a.GameBookBookConfigProto.prototype.toObject=function(e){return a.GameBookBookConfigProto.toObject(e,this)},a.GameBookBookConfigProto.toObject=function(e,t){var i={id:o.Message.getFieldWithDefault(t,1,0),piecesList:o.Message.getRepeatedField(t,2),layout:o.Message.getFieldWithDefault(t,3,0),page:o.Message.getFieldWithDefault(t,4,0)};return e&&(i.$jspbMessageInstance=t),i}),a.GameBookBookConfigProto.deserializeBinary=function(e){var t=new o.BinaryReader(e),i=new a.GameBookBookConfigProto;return a.GameBookBookConfigProto.deserializeBinaryFromReader(i,t)},a.GameBookBookConfigProto.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var i=t.readInt32();e.setId(i);break;case 2:i=t.readPackedInt32(),e.setPiecesList(i);break;case 3:i=t.readInt32(),e.setLayout(i);break;case 4:i=t.readInt32(),e.setPage(i);break;default:t.skipField()}return e},a.GameBookBookConfigProto.prototype.serializeBinary=function(){var e=new o.BinaryWriter;return a.GameBookBookConfigProto.serializeBinaryToWriter(this,e),e.getResultBuffer()},a.GameBookBookConfigProto.serializeBinaryToWriter=function(e,t){var i=void 0;0!==(i=e.getId())&&t.writeInt32(1,i),(i=e.getPiecesList()).length>0&&t.writePackedInt32(2,i),0!==(i=e.getLayout())&&t.writeInt32(3,i),0!==(i=e.getPage())&&t.writeInt32(4,i)},a.GameBookBookConfigProto.prototype.getId=function(){return o.Message.getFieldWithDefault(this,1,0)},a.GameBookBookConfigProto.prototype.setId=function(e){o.Message.setProto3IntField(this,1,e)},a.GameBookBookConfigProto.prototype.getPiecesList=function(){return o.Message.getRepeatedField(this,2)},a.GameBookBookConfigProto.prototype.setPiecesList=function(e){o.Message.setField(this,2,e||[])},a.GameBookBookConfigProto.prototype.addPieces=function(e,t){o.Message.addToRepeatedField(this,2,e,t)},a.GameBookBookConfigProto.prototype.clearPiecesList=function(){this.setPiecesList([])},a.GameBookBookConfigProto.prototype.getLayout=function(){return o.Message.getFieldWithDefault(this,3,0)},a.GameBookBookConfigProto.prototype.setLayout=function(e){o.Message.setProto3IntField(this,3,e)},a.GameBookBookConfigProto.prototype.getPage=function(){return o.Message.getFieldWithDefault(this,4,0)},a.GameBookBookConfigProto.prototype.setPage=function(e){o.Message.setProto3IntField(this,4,e)},n.object.extend(i,a),cc._RF.pop()},{"google-protobuf":"google-protobuf"}],game_book_layout_pb:[function(e,t,i){"use strict";cc._RF.push(t,"a3951yGUKNKwa48tRSfNo0a","game_book_layout_pb");var o=e("google-protobuf"),n=o,r=function(){return this}();if(n.exportSymbol("proto.GameBookLayoutConfigProto",null,r),null==a)var a=a||{};a.GameBookLayoutConfigProto=function(e){o.Message.initialize(this,e,0,-1,null,null)},n.inherits(a.GameBookLayoutConfigProto,o.Message),n.DEBUG&&!COMPILED&&(a.GameBookLayoutConfigProto.displayName="proto.GameBookLayoutConfigProto"),o.Message.GENERATE_TO_OBJECT&&(a.GameBookLayoutConfigProto.prototype.toObject=function(e){return a.GameBookLayoutConfigProto.toObject(e,this)},a.GameBookLayoutConfigProto.toObject=function(e,t){var i={id:o.Message.getFieldWithDefault(t,1,0),resource:o.Message.getFieldWithDefault(t,2,"")};return e&&(i.$jspbMessageInstance=t),i}),a.GameBookLayoutConfigProto.deserializeBinary=function(e){var t=new o.BinaryReader(e),i=new a.GameBookLayoutConfigProto;return a.GameBookLayoutConfigProto.deserializeBinaryFromReader(i,t)},a.GameBookLayoutConfigProto.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var i=t.readInt32();e.setId(i);break;case 2:i=t.readString(),e.setResource(i);break;default:t.skipField()}return e},a.GameBookLayoutConfigProto.prototype.serializeBinary=function(){var e=new o.BinaryWriter;return a.GameBookLayoutConfigProto.serializeBinaryToWriter(this,e),e.getResultBuffer()},a.GameBookLayoutConfigProto.serializeBinaryToWriter=function(e,t){var i=void 0;0!==(i=e.getId())&&t.writeInt32(1,i),(i=e.getResource()).length>0&&t.writeString(2,i)},a.GameBookLayoutConfigProto.prototype.getId=function(){return o.Message.getFieldWithDefault(this,1,0)},a.GameBookLayoutConfigProto.prototype.setId=function(e){o.Message.setProto3IntField(this,1,e)},a.GameBookLayoutConfigProto.prototype.getResource=function(){return o.Message.getFieldWithDefault(this,2,"")},a.GameBookLayoutConfigProto.prototype.setResource=function(e){o.Message.setProto3StringField(this,2,e)},n.object.extend(i,a),cc._RF.pop()},{"google-protobuf":"google-protobuf"}],game_book_page_pb:[function(e,t,i){"use strict";cc._RF.push(t,"8efb2ErVUZElJTG7reWim2y","game_book_page_pb");var o=e("google-protobuf"),n=o,r=function(){return this}();if(n.exportSymbol("proto.GameBookPageConfigProto",null,r),null==a)var a=a||{};a.GameBookPageConfigProto=function(e){o.Message.initialize(this,e,0,-1,null,null)},n.inherits(a.GameBookPageConfigProto,o.Message),n.DEBUG&&!COMPILED&&(a.GameBookPageConfigProto.displayName="proto.GameBookPageConfigProto"),o.Message.GENERATE_TO_OBJECT&&(a.GameBookPageConfigProto.prototype.toObject=function(e){return a.GameBookPageConfigProto.toObject(e,this)},a.GameBookPageConfigProto.toObject=function(e,t){var i={id:o.Message.getFieldWithDefault(t,1,0),resource:o.Message.getFieldWithDefault(t,2,"")};return e&&(i.$jspbMessageInstance=t),i}),a.GameBookPageConfigProto.deserializeBinary=function(e){var t=new o.BinaryReader(e),i=new a.GameBookPageConfigProto;return a.GameBookPageConfigProto.deserializeBinaryFromReader(i,t)},a.GameBookPageConfigProto.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var i=t.readInt32();e.setId(i);break;case 2:i=t.readString(),e.setResource(i);break;default:t.skipField()}return e},a.GameBookPageConfigProto.prototype.serializeBinary=function(){var e=new o.BinaryWriter;return a.GameBookPageConfigProto.serializeBinaryToWriter(this,e),e.getResultBuffer()},a.GameBookPageConfigProto.serializeBinaryToWriter=function(e,t){var i=void 0;0!==(i=e.getId())&&t.writeInt32(1,i),(i=e.getResource()).length>0&&t.writeString(2,i)},a.GameBookPageConfigProto.prototype.getId=function(){return o.Message.getFieldWithDefault(this,1,0)},a.GameBookPageConfigProto.prototype.setId=function(e){o.Message.setProto3IntField(this,1,e)},a.GameBookPageConfigProto.prototype.getResource=function(){return o.Message.getFieldWithDefault(this,2,"")},a.GameBookPageConfigProto.prototype.setResource=function(e){o.Message.setProto3StringField(this,2,e)},n.object.extend(i,a),cc._RF.pop()},{"google-protobuf":"google-protobuf"}],game_book_piece_pb:[function(e,t,i){"use strict";cc._RF.push(t,"cf876zLiQ1E/JcK3aHGv6Fr","game_book_piece_pb");var o=e("google-protobuf"),n=o,r=function(){return this}();if(n.exportSymbol("proto.GameBookPieceConfigProto",null,r),null==a)var a=a||{};a.GameBookPieceConfigProto=function(e){o.Message.initialize(this,e,0,-1,a.GameBookPieceConfigProto.repeatedFields_,null)},n.inherits(a.GameBookPieceConfigProto,o.Message),n.DEBUG&&!COMPILED&&(a.GameBookPieceConfigProto.displayName="proto.GameBookPieceConfigProto"),a.GameBookPieceConfigProto.repeatedFields_=[4],o.Message.GENERATE_TO_OBJECT&&(a.GameBookPieceConfigProto.prototype.toObject=function(e){return a.GameBookPieceConfigProto.toObject(e,this)},a.GameBookPieceConfigProto.toObject=function(e,t){var i={id:o.Message.getFieldWithDefault(t,1,0),resource:o.Message.getFieldWithDefault(t,2,""),type:o.Message.getFieldWithDefault(t,3,0),replacesList:o.Message.getRepeatedField(t,4)};return e&&(i.$jspbMessageInstance=t),i}),a.GameBookPieceConfigProto.deserializeBinary=function(e){var t=new o.BinaryReader(e),i=new a.GameBookPieceConfigProto;return a.GameBookPieceConfigProto.deserializeBinaryFromReader(i,t)},a.GameBookPieceConfigProto.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var i=t.readInt32();e.setId(i);break;case 2:i=t.readString(),e.setResource(i);break;case 3:i=t.readInt32(),e.setType(i);break;case 4:i=t.readPackedInt32(),e.setReplacesList(i);break;default:t.skipField()}return e},a.GameBookPieceConfigProto.prototype.serializeBinary=function(){var e=new o.BinaryWriter;return a.GameBookPieceConfigProto.serializeBinaryToWriter(this,e),e.getResultBuffer()},a.GameBookPieceConfigProto.serializeBinaryToWriter=function(e,t){var i=void 0;0!==(i=e.getId())&&t.writeInt32(1,i),(i=e.getResource()).length>0&&t.writeString(2,i),0!==(i=e.getType())&&t.writeInt32(3,i),(i=e.getReplacesList()).length>0&&t.writePackedInt32(4,i)},a.GameBookPieceConfigProto.prototype.getId=function(){return o.Message.getFieldWithDefault(this,1,0)},a.GameBookPieceConfigProto.prototype.setId=function(e){o.Message.setProto3IntField(this,1,e)},a.GameBookPieceConfigProto.prototype.getResource=function(){return o.Message.getFieldWithDefault(this,2,"")},a.GameBookPieceConfigProto.prototype.setResource=function(e){o.Message.setProto3StringField(this,2,e)},a.GameBookPieceConfigProto.prototype.getType=function(){return o.Message.getFieldWithDefault(this,3,0)},a.GameBookPieceConfigProto.prototype.setType=function(e){o.Message.setProto3IntField(this,3,e)},a.GameBookPieceConfigProto.prototype.getReplacesList=function(){return o.Message.getRepeatedField(this,4)},a.GameBookPieceConfigProto.prototype.setReplacesList=function(e){o.Message.setField(this,4,e||[])},a.GameBookPieceConfigProto.prototype.addReplaces=function(e,t){o.Message.addToRepeatedField(this,4,e,t)},a.GameBookPieceConfigProto.prototype.clearReplacesList=function(){this.setReplacesList([])},n.object.extend(i,a),cc._RF.pop()},{"google-protobuf":"google-protobuf"}],game_clue_base_pb:[function(e,t,i){"use strict";cc._RF.push(t,"cc7f5KMADpJQrJk3t1K2lrz","game_clue_base_pb");var o=e("google-protobuf"),n=o,r=function(){return this}(),a=e("./config_utils_pb.js");if(n.exportSymbol("proto.GameClueBaseConfigProto",null,r),null==s)var s=s||{};s.GameClueBaseConfigProto=function(e){o.Message.initialize(this,e,0,-1,s.GameClueBaseConfigProto.repeatedFields_,null)},n.inherits(s.GameClueBaseConfigProto,o.Message),n.DEBUG&&!COMPILED&&(s.GameClueBaseConfigProto.displayName="proto.GameClueBaseConfigProto"),s.GameClueBaseConfigProto.repeatedFields_=[5],o.Message.GENERATE_TO_OBJECT&&(s.GameClueBaseConfigProto.prototype.toObject=function(e){return s.GameClueBaseConfigProto.toObject(e,this)},s.GameClueBaseConfigProto.toObject=function(e,t){var i={id:o.Message.getFieldWithDefault(t,1,0),answerCount:o.Message.getFieldWithDefault(t,2,0),answerTime:o.Message.getFieldWithDefault(t,3,0),clueCount:o.Message.getFieldWithDefault(t,4,0),consumesList:o.Message.toObjectList(t.getConsumesList(),a.ProtoInt2.toObject,e),ruleIntroLan:o.Message.getFieldWithDefault(t,6,0)};return e&&(i.$jspbMessageInstance=t),i}),s.GameClueBaseConfigProto.deserializeBinary=function(e){var t=new o.BinaryReader(e),i=new s.GameClueBaseConfigProto;return s.GameClueBaseConfigProto.deserializeBinaryFromReader(i,t)},s.GameClueBaseConfigProto.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var i=t.readInt32();e.setId(i);break;case 2:i=t.readInt32(),e.setAnswerCount(i);break;case 3:i=t.readInt32(),e.setAnswerTime(i);break;case 4:i=t.readInt32(),e.setClueCount(i);break;case 5:i=new a.ProtoInt2,t.readMessage(i,a.ProtoInt2.deserializeBinaryFromReader),e.addConsumes(i);break;case 6:i=t.readInt32(),e.setRuleIntroLan(i);break;default:t.skipField()}return e},s.GameClueBaseConfigProto.prototype.serializeBinary=function(){var e=new o.BinaryWriter;return s.GameClueBaseConfigProto.serializeBinaryToWriter(this,e),e.getResultBuffer()},s.GameClueBaseConfigProto.serializeBinaryToWriter=function(e,t){var i=void 0;0!==(i=e.getId())&&t.writeInt32(1,i),0!==(i=e.getAnswerCount())&&t.writeInt32(2,i),0!==(i=e.getAnswerTime())&&t.writeInt32(3,i),0!==(i=e.getClueCount())&&t.writeInt32(4,i),(i=e.getConsumesList()).length>0&&t.writeRepeatedMessage(5,i,a.ProtoInt2.serializeBinaryToWriter),0!==(i=e.getRuleIntroLan())&&t.writeInt32(6,i)},s.GameClueBaseConfigProto.prototype.getId=function(){return o.Message.getFieldWithDefault(this,1,0)},s.GameClueBaseConfigProto.prototype.setId=function(e){o.Message.setProto3IntField(this,1,e)},s.GameClueBaseConfigProto.prototype.getAnswerCount=function(){return o.Message.getFieldWithDefault(this,2,0)},s.GameClueBaseConfigProto.prototype.setAnswerCount=function(e){o.Message.setProto3IntField(this,2,e)},s.GameClueBaseConfigProto.prototype.getAnswerTime=function(){return o.Message.getFieldWithDefault(this,3,0)},s.GameClueBaseConfigProto.prototype.setAnswerTime=function(e){o.Message.setProto3IntField(this,3,e)},s.GameClueBaseConfigProto.prototype.getClueCount=function(){return o.Message.getFieldWithDefault(this,4,0)},s.GameClueBaseConfigProto.prototype.setClueCount=function(e){o.Message.setProto3IntField(this,4,e)},s.GameClueBaseConfigProto.prototype.getConsumesList=function(){return o.Message.getRepeatedWrapperField(this,a.ProtoInt2,5)},s.GameClueBaseConfigProto.prototype.setConsumesList=function(e){o.Message.setRepeatedWrapperField(this,5,e)},s.GameClueBaseConfigProto.prototype.addConsumes=function(e,t){return o.Message.addToRepeatedWrapperField(this,5,e,s.ProtoInt2,t)},s.GameClueBaseConfigProto.prototype.clearConsumesList=function(){this.setConsumesList([])},s.GameClueBaseConfigProto.prototype.getRuleIntroLan=function(){return o.Message.getFieldWithDefault(this,6,0)},s.GameClueBaseConfigProto.prototype.setRuleIntroLan=function(e){o.Message.setProto3IntField(this,6,e)},n.object.extend(i,s),cc._RF.pop()},{"./config_utils_pb.js":"config_utils_pb","google-protobuf":"google-protobuf"}],game_clue_clue_pb:[function(e,t,i){"use strict";cc._RF.push(t,"b6ef2HZf0ZAw7HYIR8zMALP","game_clue_clue_pb");var o=e("google-protobuf"),n=o,r=function(){return this}();if(n.exportSymbol("proto.GameClueClueConfigProto",null,r),null==a)var a=a||{};a.GameClueClueConfigProto=function(e){o.Message.initialize(this,e,0,-1,a.GameClueClueConfigProto.repeatedFields_,null)},n.inherits(a.GameClueClueConfigProto,o.Message),n.DEBUG&&!COMPILED&&(a.GameClueClueConfigProto.displayName="proto.GameClueClueConfigProto"),a.GameClueClueConfigProto.repeatedFields_=[2],o.Message.GENERATE_TO_OBJECT&&(a.GameClueClueConfigProto.prototype.toObject=function(e){return a.GameClueClueConfigProto.toObject(e,this)},a.GameClueClueConfigProto.toObject=function(e,t){var i={id:o.Message.getFieldWithDefault(t,1,0),lansList:o.Message.getRepeatedField(t,2)};return e&&(i.$jspbMessageInstance=t),i}),a.GameClueClueConfigProto.deserializeBinary=function(e){var t=new o.BinaryReader(e),i=new a.GameClueClueConfigProto;return a.GameClueClueConfigProto.deserializeBinaryFromReader(i,t)},a.GameClueClueConfigProto.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var i=t.readInt32();e.setId(i);break;case 2:i=t.readPackedInt32(),e.setLansList(i);break;default:t.skipField()}return e},a.GameClueClueConfigProto.prototype.serializeBinary=function(){var e=new o.BinaryWriter;return a.GameClueClueConfigProto.serializeBinaryToWriter(this,e),e.getResultBuffer()},a.GameClueClueConfigProto.serializeBinaryToWriter=function(e,t){var i=void 0;0!==(i=e.getId())&&t.writeInt32(1,i),(i=e.getLansList()).length>0&&t.writePackedInt32(2,i)},a.GameClueClueConfigProto.prototype.getId=function(){return o.Message.getFieldWithDefault(this,1,0)},a.GameClueClueConfigProto.prototype.setId=function(e){o.Message.setProto3IntField(this,1,e)},a.GameClueClueConfigProto.prototype.getLansList=function(){return o.Message.getRepeatedField(this,2)},a.GameClueClueConfigProto.prototype.setLansList=function(e){o.Message.setField(this,2,e||[])},a.GameClueClueConfigProto.prototype.addLans=function(e,t){o.Message.addToRepeatedField(this,2,e,t)},a.GameClueClueConfigProto.prototype.clearLansList=function(){this.setLansList([])},n.object.extend(i,a),cc._RF.pop()},{"google-protobuf":"google-protobuf"}],game_clue_icon_pb:[function(e,t,i){"use strict";cc._RF.push(t,"21409VrRsBEELbekyhRgvdr","game_clue_icon_pb");var o=e("google-protobuf"),n=o,r=function(){return this}();if(n.exportSymbol("proto.GameClueIconConfigProto",null,r),null==a)var a=a||{};a.GameClueIconConfigProto=function(e){o.Message.initialize(this,e,0,-1,a.GameClueIconConfigProto.repeatedFields_,null)},n.inherits(a.GameClueIconConfigProto,o.Message),n.DEBUG&&!COMPILED&&(a.GameClueIconConfigProto.displayName="proto.GameClueIconConfigProto"),a.GameClueIconConfigProto.repeatedFields_=[2],o.Message.GENERATE_TO_OBJECT&&(a.GameClueIconConfigProto.prototype.toObject=function(e){return a.GameClueIconConfigProto.toObject(e,this)},a.GameClueIconConfigProto.toObject=function(e,t){var i={id:o.Message.getFieldWithDefault(t,1,0),contentsList:o.Message.getRepeatedField(t,2)};return e&&(i.$jspbMessageInstance=t),i}),a.GameClueIconConfigProto.deserializeBinary=function(e){var t=new o.BinaryReader(e),i=new a.GameClueIconConfigProto;return a.GameClueIconConfigProto.deserializeBinaryFromReader(i,t)},a.GameClueIconConfigProto.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var i=t.readInt32();e.setId(i);break;case 2:i=t.readString(),e.addContents(i);break;default:t.skipField()}return e},a.GameClueIconConfigProto.prototype.serializeBinary=function(){var e=new o.BinaryWriter;return a.GameClueIconConfigProto.serializeBinaryToWriter(this,e),e.getResultBuffer()},a.GameClueIconConfigProto.serializeBinaryToWriter=function(e,t){var i=void 0;0!==(i=e.getId())&&t.writeInt32(1,i),(i=e.getContentsList()).length>0&&t.writeRepeatedString(2,i)},a.GameClueIconConfigProto.prototype.getId=function(){return o.Message.getFieldWithDefault(this,1,0)},a.GameClueIconConfigProto.prototype.setId=function(e){o.Message.setProto3IntField(this,1,e)},a.GameClueIconConfigProto.prototype.getContentsList=function(){return o.Message.getRepeatedField(this,2)},a.GameClueIconConfigProto.prototype.setContentsList=function(e){o.Message.setField(this,2,e||[])},a.GameClueIconConfigProto.prototype.addContents=function(e,t){o.Message.addToRepeatedField(this,2,e,t)},a.GameClueIconConfigProto.prototype.clearContentsList=function(){this.setContentsList([])},n.object.extend(i,a),cc._RF.pop()},{"google-protobuf":"google-protobuf"}],game_weapon_base_pb:[function(e,t,i){"use strict";cc._RF.push(t,"9a663dLtB9MoZ7N8wXXV62h","game_weapon_base_pb");var o=e("google-protobuf"),n=o,r=function(){return this}(),a=e("./config_utils_pb.js");if(n.exportSymbol("proto.GameWeaponBaseConfigProto",null,r),null==s)var s=s||{};s.GameWeaponBaseConfigProto=function(e){o.Message.initialize(this,e,0,-1,s.GameWeaponBaseConfigProto.repeatedFields_,null)},n.inherits(s.GameWeaponBaseConfigProto,o.Message),n.DEBUG&&!COMPILED&&(s.GameWeaponBaseConfigProto.displayName="proto.GameWeaponBaseConfigProto"),s.GameWeaponBaseConfigProto.repeatedFields_=[5],o.Message.GENERATE_TO_OBJECT&&(s.GameWeaponBaseConfigProto.prototype.toObject=function(e){return s.GameWeaponBaseConfigProto.toObject(e,this)},s.GameWeaponBaseConfigProto.toObject=function(e,t){var i={id:o.Message.getFieldWithDefault(t,1,0),answerCount:o.Message.getFieldWithDefault(t,2,0),answerTime:o.Message.getFieldWithDefault(t,3,0),pieceCount:o.Message.getFieldWithDefault(t,4,0),consumesList:o.Message.toObjectList(t.getConsumesList(),a.ProtoInt2.toObject,e),ruleIntroLan:o.Message.getFieldWithDefault(t,6,0)};return e&&(i.$jspbMessageInstance=t),i}),s.GameWeaponBaseConfigProto.deserializeBinary=function(e){var t=new o.BinaryReader(e),i=new s.GameWeaponBaseConfigProto;return s.GameWeaponBaseConfigProto.deserializeBinaryFromReader(i,t)},s.GameWeaponBaseConfigProto.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var i=t.readInt32();e.setId(i);break;case 2:i=t.readInt32(),e.setAnswerCount(i);break;case 3:i=t.readInt32(),e.setAnswerTime(i);break;case 4:i=t.readInt32(),e.setPieceCount(i);break;case 5:i=new a.ProtoInt2,t.readMessage(i,a.ProtoInt2.deserializeBinaryFromReader),e.addConsumes(i);break;case 6:i=t.readInt32(),e.setRuleIntroLan(i);break;default:t.skipField()}return e},s.GameWeaponBaseConfigProto.prototype.serializeBinary=function(){var e=new o.BinaryWriter;return s.GameWeaponBaseConfigProto.serializeBinaryToWriter(this,e),e.getResultBuffer()},s.GameWeaponBaseConfigProto.serializeBinaryToWriter=function(e,t){var i=void 0;0!==(i=e.getId())&&t.writeInt32(1,i),0!==(i=e.getAnswerCount())&&t.writeInt32(2,i),0!==(i=e.getAnswerTime())&&t.writeInt32(3,i),0!==(i=e.getPieceCount())&&t.writeInt32(4,i),(i=e.getConsumesList()).length>0&&t.writeRepeatedMessage(5,i,a.ProtoInt2.serializeBinaryToWriter),0!==(i=e.getRuleIntroLan())&&t.writeInt32(6,i)},s.GameWeaponBaseConfigProto.prototype.getId=function(){return o.Message.getFieldWithDefault(this,1,0)},s.GameWeaponBaseConfigProto.prototype.setId=function(e){o.Message.setProto3IntField(this,1,e)},s.GameWeaponBaseConfigProto.prototype.getAnswerCount=function(){return o.Message.getFieldWithDefault(this,2,0)},s.GameWeaponBaseConfigProto.prototype.setAnswerCount=function(e){o.Message.setProto3IntField(this,2,e)},s.GameWeaponBaseConfigProto.prototype.getAnswerTime=function(){return o.Message.getFieldWithDefault(this,3,0)},s.GameWeaponBaseConfigProto.prototype.setAnswerTime=function(e){o.Message.setProto3IntField(this,3,e)},s.GameWeaponBaseConfigProto.prototype.getPieceCount=function(){return o.Message.getFieldWithDefault(this,4,0)},s.GameWeaponBaseConfigProto.prototype.setPieceCount=function(e){o.Message.setProto3IntField(this,4,e)},s.GameWeaponBaseConfigProto.prototype.getConsumesList=function(){return o.Message.getRepeatedWrapperField(this,a.ProtoInt2,5)},s.GameWeaponBaseConfigProto.prototype.setConsumesList=function(e){o.Message.setRepeatedWrapperField(this,5,e)},s.GameWeaponBaseConfigProto.prototype.addConsumes=function(e,t){return o.Message.addToRepeatedWrapperField(this,5,e,s.ProtoInt2,t)},s.GameWeaponBaseConfigProto.prototype.clearConsumesList=function(){this.setConsumesList([])},s.GameWeaponBaseConfigProto.prototype.getRuleIntroLan=function(){return o.Message.getFieldWithDefault(this,6,0)},s.GameWeaponBaseConfigProto.prototype.setRuleIntroLan=function(e){o.Message.setProto3IntField(this,6,e)},n.object.extend(i,s),cc._RF.pop()},{"./config_utils_pb.js":"config_utils_pb","google-protobuf":"google-protobuf"}],game_weapon_weapon_pb:[function(e,t,i){"use strict";cc._RF.push(t,"7a9deHByP5FBYGf2OifL4G7","game_weapon_weapon_pb");var o=e("google-protobuf"),n=o,r=function(){return this}();if(n.exportSymbol("proto.GameWeaponWeaponConfigProto",null,r),null==a)var a=a||{};a.GameWeaponWeaponConfigProto=function(e){o.Message.initialize(this,e,0,-1,null,null)},n.inherits(a.GameWeaponWeaponConfigProto,o.Message),n.DEBUG&&!COMPILED&&(a.GameWeaponWeaponConfigProto.displayName="proto.GameWeaponWeaponConfigProto"),o.Message.GENERATE_TO_OBJECT&&(a.GameWeaponWeaponConfigProto.prototype.toObject=function(e){return a.GameWeaponWeaponConfigProto.toObject(e,this)},a.GameWeaponWeaponConfigProto.toObject=function(e,t){var i={id:o.Message.getFieldWithDefault(t,1,0),resource:o.Message.getFieldWithDefault(t,2,"")};return e&&(i.$jspbMessageInstance=t),i}),a.GameWeaponWeaponConfigProto.deserializeBinary=function(e){var t=new o.BinaryReader(e),i=new a.GameWeaponWeaponConfigProto;return a.GameWeaponWeaponConfigProto.deserializeBinaryFromReader(i,t)},a.GameWeaponWeaponConfigProto.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var i=t.readInt32();e.setId(i);break;case 2:i=t.readString(),e.setResource(i);break;default:t.skipField()}return e},a.GameWeaponWeaponConfigProto.prototype.serializeBinary=function(){var e=new o.BinaryWriter;return a.GameWeaponWeaponConfigProto.serializeBinaryToWriter(this,e),e.getResultBuffer()},a.GameWeaponWeaponConfigProto.serializeBinaryToWriter=function(e,t){var i=void 0;0!==(i=e.getId())&&t.writeInt32(1,i),(i=e.getResource()).length>0&&t.writeString(2,i)},a.GameWeaponWeaponConfigProto.prototype.getId=function(){return o.Message.getFieldWithDefault(this,1,0)},a.GameWeaponWeaponConfigProto.prototype.setId=function(e){o.Message.setProto3IntField(this,1,e)},a.GameWeaponWeaponConfigProto.prototype.getResource=function(){return o.Message.getFieldWithDefault(this,2,"")},a.GameWeaponWeaponConfigProto.prototype.setResource=function(e){o.Message.setProto3StringField(this,2,e)},n.object.extend(i,a),cc._RF.pop()},{"google-protobuf":"google-protobuf"}],gift_award_pb:[function(e,t,i){"use strict";cc._RF.push(t,"da294IYuYhASY2lXzOiYRbE","gift_award_pb");var o=e("google-protobuf"),n=o,r=function(){return this}(),a=e("./config_utils_pb.js");if(n.exportSymbol("proto.GiftAwardConfigProto",null,r),null==s)var s=s||{};s.GiftAwardConfigProto=function(e){o.Message.initialize(this,e,0,-1,s.GiftAwardConfigProto.repeatedFields_,null)},n.inherits(s.GiftAwardConfigProto,o.Message),n.DEBUG&&!COMPILED&&(s.GiftAwardConfigProto.displayName="proto.GiftAwardConfigProto"),s.GiftAwardConfigProto.repeatedFields_=[5],o.Message.GENERATE_TO_OBJECT&&(s.GiftAwardConfigProto.prototype.toObject=function(e){return s.GiftAwardConfigProto.toObject(e,this)},s.GiftAwardConfigProto.toObject=function(e,t){var i,n={id:o.Message.getFieldWithDefault(t,1,0),awardId:o.Message.getFieldWithDefault(t,2,0),awardIndex:o.Message.getFieldWithDefault(t,3,0),timeRange:(i=t.getTimeRange())&&a.ProtoInt2.toObject(e,i),dropbagsList:o.Message.getRepeatedField(t,5)};return e&&(n.$jspbMessageInstance=t),n}),s.GiftAwardConfigProto.deserializeBinary=function(e){var t=new o.BinaryReader(e),i=new s.GiftAwardConfigProto;return s.GiftAwardConfigProto.deserializeBinaryFromReader(i,t)},s.GiftAwardConfigProto.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var i=t.readInt32();e.setId(i);break;case 2:i=t.readInt32(),e.setAwardId(i);break;case 3:i=t.readInt32(),e.setAwardIndex(i);break;case 4:i=new a.ProtoInt2,t.readMessage(i,a.ProtoInt2.deserializeBinaryFromReader),e.setTimeRange(i);break;case 5:i=t.readPackedInt32(),e.setDropbagsList(i);break;default:t.skipField()}return e},s.GiftAwardConfigProto.prototype.serializeBinary=function(){var e=new o.BinaryWriter;return s.GiftAwardConfigProto.serializeBinaryToWriter(this,e),e.getResultBuffer()},s.GiftAwardConfigProto.serializeBinaryToWriter=function(e,t){var i=void 0;0!==(i=e.getId())&&t.writeInt32(1,i),0!==(i=e.getAwardId())&&t.writeInt32(2,i),0!==(i=e.getAwardIndex())&&t.writeInt32(3,i),null!=(i=e.getTimeRange())&&t.writeMessage(4,i,a.ProtoInt2.serializeBinaryToWriter),(i=e.getDropbagsList()).length>0&&t.writePackedInt32(5,i)},s.GiftAwardConfigProto.prototype.getId=function(){return o.Message.getFieldWithDefault(this,1,0)},s.GiftAwardConfigProto.prototype.setId=function(e){o.Message.setProto3IntField(this,1,e)},s.GiftAwardConfigProto.prototype.getAwardId=function(){return o.Message.getFieldWithDefault(this,2,0)},s.GiftAwardConfigProto.prototype.setAwardId=function(e){o.Message.setProto3IntField(this,2,e)},s.GiftAwardConfigProto.prototype.getAwardIndex=function(){return o.Message.getFieldWithDefault(this,3,0)},s.GiftAwardConfigProto.prototype.setAwardIndex=function(e){o.Message.setProto3IntField(this,3,e)},s.GiftAwardConfigProto.prototype.getTimeRange=function(){return o.Message.getWrapperField(this,a.ProtoInt2,4)},s.GiftAwardConfigProto.prototype.setTimeRange=function(e){o.Message.setWrapperField(this,4,e)},s.GiftAwardConfigProto.prototype.clearTimeRange=function(){this.setTimeRange(void 0)},s.GiftAwardConfigProto.prototype.hasTimeRange=function(){return null!=o.Message.getField(this,4)},s.GiftAwardConfigProto.prototype.getDropbagsList=function(){return o.Message.getRepeatedField(this,5)},s.GiftAwardConfigProto.prototype.setDropbagsList=function(e){o.Message.setField(this,5,e||[])},s.GiftAwardConfigProto.prototype.addDropbags=function(e,t){o.Message.addToRepeatedField(this,5,e,t)},s.GiftAwardConfigProto.prototype.clearDropbagsList=function(){this.setDropbagsList([])},n.object.extend(i,s),cc._RF.pop()},{"./config_utils_pb.js":"config_utils_pb","google-protobuf":"google-protobuf"}],gift_pb:[function(e,t,i){"use strict";cc._RF.push(t,"ccd49vuIiNA6JBXFP0jWTAW","gift_pb");var o=e("google-protobuf"),n=o,r=function(){return this}();if(n.exportSymbol("proto.GiftConfigProto",null,r),null==a)var a=a||{};a.GiftConfigProto=function(e){o.Message.initialize(this,e,0,-1,null,null)},n.inherits(a.GiftConfigProto,o.Message),n.DEBUG&&!COMPILED&&(a.GiftConfigProto.displayName="proto.GiftConfigProto"),o.Message.GENERATE_TO_OBJECT&&(a.GiftConfigProto.prototype.toObject=function(e){return a.GiftConfigProto.toObject(e,this)},a.GiftConfigProto.toObject=function(e,t){var i={id:o.Message.getFieldWithDefault(t,1,0),type:o.Message.getFieldWithDefault(t,2,0),funcType:o.Message.getFieldWithDefault(t,3,0),funcValue:o.Message.getFieldWithDefault(t,4,0),daylimit:o.Message.getFieldWithDefault(t,5,0),awardId:o.Message.getFieldWithDefault(t,6,0),awardDelta:o.Message.getFieldWithDefault(t,7,0),nameLan:o.Message.getFieldWithDefault(t,8,0),descLan:o.Message.getFieldWithDefault(t,9,0)};return e&&(i.$jspbMessageInstance=t),i}),a.GiftConfigProto.deserializeBinary=function(e){var t=new o.BinaryReader(e),i=new a.GiftConfigProto;return a.GiftConfigProto.deserializeBinaryFromReader(i,t)},a.GiftConfigProto.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var i=t.readInt32();e.setId(i);break;case 2:i=t.readInt32(),e.setType(i);break;case 3:i=t.readInt32(),e.setFuncType(i);break;case 4:i=t.readInt32(),e.setFuncValue(i);break;case 5:i=t.readInt32(),e.setDaylimit(i);break;case 6:i=t.readInt32(),e.setAwardId(i);break;case 7:i=t.readInt32(),e.setAwardDelta(i);break;case 8:i=t.readInt32(),e.setNameLan(i);break;case 9:i=t.readInt32(),e.setDescLan(i);break;default:t.skipField()}return e},a.GiftConfigProto.prototype.serializeBinary=function(){var e=new o.BinaryWriter;return a.GiftConfigProto.serializeBinaryToWriter(this,e),e.getResultBuffer()},a.GiftConfigProto.serializeBinaryToWriter=function(e,t){var i=void 0;0!==(i=e.getId())&&t.writeInt32(1,i),0!==(i=e.getType())&&t.writeInt32(2,i),0!==(i=e.getFuncType())&&t.writeInt32(3,i),0!==(i=e.getFuncValue())&&t.writeInt32(4,i),0!==(i=e.getDaylimit())&&t.writeInt32(5,i),0!==(i=e.getAwardId())&&t.writeInt32(6,i),0!==(i=e.getAwardDelta())&&t.writeInt32(7,i),0!==(i=e.getNameLan())&&t.writeInt32(8,i),0!==(i=e.getDescLan())&&t.writeInt32(9,i)},a.GiftConfigProto.prototype.getId=function(){return o.Message.getFieldWithDefault(this,1,0)},a.GiftConfigProto.prototype.setId=function(e){o.Message.setProto3IntField(this,1,e)},a.GiftConfigProto.prototype.getType=function(){return o.Message.getFieldWithDefault(this,2,0)},a.GiftConfigProto.prototype.setType=function(e){o.Message.setProto3IntField(this,2,e)},a.GiftConfigProto.prototype.getFuncType=function(){return o.Message.getFieldWithDefault(this,3,0)},a.GiftConfigProto.prototype.setFuncType=function(e){o.Message.setProto3IntField(this,3,e)},a.GiftConfigProto.prototype.getFuncValue=function(){return o.Message.getFieldWithDefault(this,4,0)},a.GiftConfigProto.prototype.setFuncValue=function(e){o.Message.setProto3IntField(this,4,e)},a.GiftConfigProto.prototype.getDaylimit=function(){return o.Message.getFieldWithDefault(this,5,0)},a.GiftConfigProto.prototype.setDaylimit=function(e){o.Message.setProto3IntField(this,5,e)},a.GiftConfigProto.prototype.getAwardId=function(){return o.Message.getFieldWithDefault(this,6,0)},a.GiftConfigProto.prototype.setAwardId=function(e){o.Message.setProto3IntField(this,6,e)},a.GiftConfigProto.prototype.getAwardDelta=function(){return o.Message.getFieldWithDefault(this,7,0)},a.GiftConfigProto.prototype.setAwardDelta=function(e){o.Message.setProto3IntField(this,7,e)},a.GiftConfigProto.prototype.getNameLan=function(){return o.Message.getFieldWithDefault(this,8,0)},a.GiftConfigProto.prototype.setNameLan=function(e){o.Message.setProto3IntField(this,8,e)},a.GiftConfigProto.prototype.getDescLan=function(){return o.Message.getFieldWithDefault(this,9,0)},a.GiftConfigProto.prototype.setDescLan=function(e){o.Message.setProto3IntField(this,9,e)},n.object.extend(i,a),cc._RF.pop()},{"google-protobuf":"google-protobuf"}],"google-protobuf":[function(require,module,exports){(function(global){"use strict";cc._RF.push(module,"6c1877t/WFBjJSx3Ma422TN","google-protobuf");var $jscomp={scope:{},getGlobal:function(e){return null!=window?(console.log("getGlobal as window "+window),window):"undefined"!=typeof window&&window===e?e:void 0!==global?global:e}};$jscomp.global=$jscomp.getGlobal(void 0),$jscomp.initSymbol=function(){$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol),$jscomp.initSymbol=function(){}},$jscomp.symbolCounter_=0,$jscomp.Symbol=function(e){return"jscomp_symbol_"+e+$jscomp.symbolCounter_++},$jscomp.initSymbolIterator=function(){$jscomp.initSymbol(),$jscomp.global.Symbol.iterator||($jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator")),$jscomp.initSymbolIterator=function(){}},$jscomp.makeIterator=function(e){$jscomp.initSymbolIterator(),$jscomp.initSymbol(),$jscomp.initSymbolIterator();var t=e[Symbol.iterator];if(t)return t.call(e);var i=0;return{next:function(){return i<e.length?{done:!1,value:e[i++]}:{done:!0}}}},$jscomp.arrayFromIterator=function(e){for(var t,i=[];!(t=e.next()).done;)i.push(t.value);return i},$jscomp.arrayFromIterable=function(e){return e instanceof Array?e:$jscomp.arrayFromIterator($jscomp.makeIterator(e))},$jscomp.inherits=function(e,t){function i(){}for(var o in i.prototype=t.prototype,e.prototype=new i,e.prototype.constructor=e,t)if(Object.defineProperties){var n=Object.getOwnPropertyDescriptor(t,o);n&&Object.defineProperty(e,o,n)}else e[o]=t[o]},$jscomp.array=$jscomp.array||{},$jscomp.iteratorFromArray=function(e,t){$jscomp.initSymbolIterator(),e instanceof String&&(e+="");var i=0,o={next:function(){if(i<e.length){var n=i++;return{value:t(n,e[n]),done:!1}}return o.next=function(){return{done:!0,value:void 0}},o.next()}};return $jscomp.initSymbol(),$jscomp.initSymbolIterator(),o[Symbol.iterator]=function(){return o},o},$jscomp.findInternal=function(e,t,i){e instanceof String&&(e=String(e));for(var o=e.length,n=0;n<o;n++){var r=e[n];if(t.call(i,r,n,e))return{i:n,v:r}}return{i:-1,v:void 0}},$jscomp.array.from=function(e,t,i){$jscomp.initSymbolIterator(),t=null!=t?t:function(e){return e};var o=[];if($jscomp.initSymbol(),$jscomp.initSymbolIterator(),"function"==typeof(n=e[Symbol.iterator])&&(e=n.call(e)),"function"==typeof e.next)for(;!(n=e.next()).done;)o.push(t.call(i,n.value));else for(var n=e.length,r=0;r<n;r++)o.push(t.call(i,e[r]));return o},$jscomp.array.of=function(e){return $jscomp.array.from(arguments)},$jscomp.array.entries=function(){return $jscomp.iteratorFromArray(this,function(e,t){return[e,t]})},$jscomp.array.installHelper_=function(e,t){!Array.prototype[e]&&Object.defineProperties&&Object.defineProperty&&Object.defineProperty(Array.prototype,e,{configurable:!0,enumerable:!1,writable:!0,value:t})},$jscomp.array.entries$install=function(){$jscomp.array.installHelper_("entries",$jscomp.array.entries)},$jscomp.array.keys=function(){return $jscomp.iteratorFromArray(this,function(e){return e})},$jscomp.array.keys$install=function(){$jscomp.array.installHelper_("keys",$jscomp.array.keys)},$jscomp.array.values=function(){return $jscomp.iteratorFromArray(this,function(e,t){return t})},$jscomp.array.values$install=function(){$jscomp.array.installHelper_("values",$jscomp.array.values)},$jscomp.array.copyWithin=function(e,t,i){var o=this.length;if(e=Number(e),t=Number(t),i=Number(null!=i?i:o),e<t)for(i=Math.min(i,o);t<i;)t in this?this[e++]=this[t++]:(delete this[e++],t++);else for(e+=(i=Math.min(i,o+t-e))-t;i>t;)--i in this?this[--e]=this[i]:delete this[e];return this},$jscomp.array.copyWithin$install=function(){$jscomp.array.installHelper_("copyWithin",$jscomp.array.copyWithin)},$jscomp.array.fill=function(e,t,i){var o=this.length||0;for(0>t&&(t=Math.max(0,o+t)),(null==i||i>o)&&(i=o),0>(i=Number(i))&&(i=Math.max(0,o+i)),t=Number(t||0);t<i;t++)this[t]=e;return this},$jscomp.array.fill$install=function(){$jscomp.array.installHelper_("fill",$jscomp.array.fill)},$jscomp.array.find=function(e,t){return $jscomp.findInternal(this,e,t).v},$jscomp.array.find$install=function(){$jscomp.array.installHelper_("find",$jscomp.array.find)},$jscomp.array.findIndex=function(e,t){return $jscomp.findInternal(this,e,t).i},$jscomp.array.findIndex$install=function(){$jscomp.array.installHelper_("findIndex",$jscomp.array.findIndex)},$jscomp.ASSUME_NO_NATIVE_MAP=!1,$jscomp.Map$isConformant=function(){if($jscomp.ASSUME_NO_NATIVE_MAP)return!1;var e=$jscomp.global.Map;if(!e||!e.prototype.entries||"function"!=typeof Object.seal)return!1;try{var t=Object.seal({x:4}),i=new e($jscomp.makeIterator([[t,"s"]]));if("s"!=i.get(t)||1!=i.size||i.get({x:4})||i.set({x:4},"t")!=i||2!=i.size)return!1;var o=i.entries(),n=o.next();return!n.done&&n.value[0]==t&&"s"==n.value[1]&&!((n=o.next()).done||4!=n.value[0].x||"t"!=n.value[1]||!o.next().done)}catch(r){return!1}},$jscomp.Map=function(e){if(this.data_={},this.head_=$jscomp.Map.createHead(),this.size=0,e){e=$jscomp.makeIterator(e);for(var t;!(t=e.next()).done;)t=t.value,this.set(t[0],t[1])}},$jscomp.Map.prototype.set=function(e,t){var i=$jscomp.Map.maybeGetEntry(this,e);return i.list||(i.list=this.data_[i.id]=[]),i.entry?i.entry.value=t:(i.entry={next:this.head_,previous:this.head_.previous,head:this.head_,key:e,value:t},i.list.push(i.entry),this.head_.previous.next=i.entry,this.head_.previous=i.entry,this.size++),this},$jscomp.Map.prototype.delete=function(e){return!(!(e=$jscomp.Map.maybeGetEntry(this,e)).entry||!e.list||(e.list.splice(e.index,1),e.list.length||delete this.data_[e.id],e.entry.previous.next=e.entry.next,e.entry.next.previous=e.entry.previous,e.entry.head=null,this.size--,0))},$jscomp.Map.prototype.clear=function(){this.data_={},this.head_=this.head_.previous=$jscomp.Map.createHead(),this.size=0},$jscomp.Map.prototype.has=function(e){return!!$jscomp.Map.maybeGetEntry(this,e).entry},$jscomp.Map.prototype.get=function(e){return(e=$jscomp.Map.maybeGetEntry(this,e).entry)&&e.value},$jscomp.Map.prototype.entries=function(){return $jscomp.Map.makeIterator_(this,function(e){return[e.key,e.value]})},$jscomp.Map.prototype.keys=function(){return $jscomp.Map.makeIterator_(this,function(e){return e.key})},$jscomp.Map.prototype.values=function(){return $jscomp.Map.makeIterator_(this,function(e){return e.value})},$jscomp.Map.prototype.forEach=function(e,t){for(var i,o=this.entries();!(i=o.next()).done;)i=i.value,e.call(t,i[1],i[0],this)},$jscomp.Map.maybeGetEntry=function(e,t){var i=$jscomp.Map.getId(t),o=e.data_[i];if(o&&Object.prototype.hasOwnProperty.call(e.data_,i))for(var n=0;n<o.length;n++){var r=o[n];if(t!=t&&r.key!=r.key||t===r.key)return{id:i,list:o,index:n,entry:r}}return{id:i,list:o,index:-1,entry:void 0}},$jscomp.Map.makeIterator_=function(e,t){var i=e.head_,o={next:function(){if(i){for(;i.head!=e.head_;)i=i.previous;for(;i.next!=i.head;)return i=i.next,{done:!1,value:t(i)};i=null}return{done:!0,value:void 0}}};return $jscomp.initSymbol(),$jscomp.initSymbolIterator(),o[Symbol.iterator]=function(){return o},o},$jscomp.Map.mapIndex_=0,$jscomp.Map.createHead=function(){var e={};return e.previous=e.next=e.head=e},$jscomp.Map.getId=function(e){if(!(e instanceof Object))return"p_"+e;if(!($jscomp.Map.idKey in e))try{$jscomp.Map.defineProperty(e,$jscomp.Map.idKey,{value:++$jscomp.Map.mapIndex_})}catch(b){}return $jscomp.Map.idKey in e?e[$jscomp.Map.idKey]:"o_ "+e},$jscomp.Map.defineProperty=Object.defineProperty?function(e,t,i){Object.defineProperty(e,t,{value:String(i)})}:function(e,t,i){e[t]=String(i)},$jscomp.Map.Entry=function(){},$jscomp.Map$install=function(){$jscomp.initSymbol(),$jscomp.initSymbolIterator(),$jscomp.Map$isConformant()?$jscomp.Map=$jscomp.global.Map:($jscomp.initSymbol(),$jscomp.initSymbolIterator(),$jscomp.Map.prototype[Symbol.iterator]=$jscomp.Map.prototype.entries,$jscomp.initSymbol(),$jscomp.Map.idKey=Symbol("map-id-key"),$jscomp.Map$install=function(){})},$jscomp.math=$jscomp.math||{},$jscomp.math.clz32=function(e){if(0==(e=Number(e)>>>0))return 32;var t=0;return 0==(4294901760&e)&&(e<<=16,t+=16),0==(4278190080&e)&&(e<<=8,t+=8),0==(4026531840&e)&&(e<<=4,t+=4),0==(3221225472&e)&&(e<<=2,t+=2),0==(2147483648&e)&&t++,t},$jscomp.math.imul=function(e,t){var i=65535&(e=Number(e)),o=65535&(t=Number(t));return i*o+((e>>>16&65535)*o+i*(t>>>16&65535)<<16>>>0)|0},$jscomp.math.sign=function(e){return 0===(e=Number(e))||isNaN(e)?e:0<e?1:-1},$jscomp.math.log10=function(e){return Math.log(e)/Math.LN10},$jscomp.math.log2=function(e){return Math.log(e)/Math.LN2},$jscomp.math.log1p=function(e){if(.25>(e=Number(e))&&-.25<e){for(var t=e,i=1,o=e,n=0,r=1;n!=o;)o=(n=o)+(r*=-1)*(t*=e)/++i;return o}return Math.log(1+e)},$jscomp.math.expm1=function(e){if(.25>(e=Number(e))&&-.25<e){for(var t=e,i=1,o=e,n=0;n!=o;)o=(n=o)+(t*=e/++i);return o}return Math.exp(e)-1},$jscomp.math.cosh=function(e){return e=Number(e),(Math.exp(e)+Math.exp(-e))/2},$jscomp.math.sinh=function(e){return 0===(e=Number(e))?e:(Math.exp(e)-Math.exp(-e))/2},$jscomp.math.tanh=function(e){if(0===(e=Number(e)))return e;var t=(1-(t=Math.exp(-2*Math.abs(e))))/(1+t);return 0>e?-t:t},$jscomp.math.acosh=function(e){return e=Number(e),Math.log(e+Math.sqrt(e*e-1))},$jscomp.math.asinh=function(e){if(0===(e=Number(e)))return e;var t=Math.log(Math.abs(e)+Math.sqrt(e*e+1));return 0>e?-t:t},$jscomp.math.atanh=function(e){return e=Number(e),($jscomp.math.log1p(e)-$jscomp.math.log1p(-e))/2},$jscomp.math.hypot=function(e,t,i){e=Number(e),t=Number(t);var o,n,r,a=Math.max(Math.abs(e),Math.abs(t));for(o=2;o<arguments.length;o++)a=Math.max(a,Math.abs(arguments[o]));if(1e100<a||1e-100>a){for(r=(e/=a)*e+(t/=a)*t,o=2;o<arguments.length;o++)r+=(n=Number(arguments[o])/a)*n;return Math.sqrt(r)*a}for(r=e*e+t*t,o=2;o<arguments.length;o++)r+=(n=Number(arguments[o]))*n;return Math.sqrt(r)},$jscomp.math.trunc=function(e){if(e=Number(e),isNaN(e)||1/0===e||-1/0===e||0===e)return e;var t=Math.floor(Math.abs(e));return 0>e?-t:t},$jscomp.math.cbrt=function(e){if(0===e)return e;e=Number(e);var t=Math.pow(Math.abs(e),1/3);return 0>e?-t:t},$jscomp.number=$jscomp.number||{},$jscomp.number.isFinite=function(e){return"number"==typeof e&&!isNaN(e)&&1/0!==e&&-1/0!==e},$jscomp.number.isInteger=function(e){return!!$jscomp.number.isFinite(e)&&e===Math.floor(e)},$jscomp.number.isNaN=function(e){return"number"==typeof e&&isNaN(e)},$jscomp.number.isSafeInteger=function(e){return $jscomp.number.isInteger(e)&&Math.abs(e)<=$jscomp.number.MAX_SAFE_INTEGER},$jscomp.number.EPSILON=Math.pow(2,-52),$jscomp.number.MAX_SAFE_INTEGER=9007199254740991,$jscomp.number.MIN_SAFE_INTEGER=-9007199254740991,$jscomp.object=$jscomp.object||{},$jscomp.object.assign=function(e,t){for(var i=1;i<arguments.length;i++){var o=arguments[i];if(o)for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},$jscomp.object.is=function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t},$jscomp.ASSUME_NO_NATIVE_SET=!1,$jscomp.Set$isConformant=function(){if($jscomp.ASSUME_NO_NATIVE_SET)return!1;var e=$jscomp.global.Set;if(!e||!e.prototype.entries||"function"!=typeof Object.seal)return!1;try{var t=Object.seal({x:4}),i=new e($jscomp.makeIterator([t]));if(!i.has(t)||1!=i.size||i.add(t)!=i||1!=i.size||i.add({x:4})!=i||2!=i.size)return!1;var o=i.entries(),n=o.next();return!n.done&&n.value[0]==t&&n.value[1]==t&&!(n=o.next()).done&&n.value[0]!=t&&4==n.value[0].x&&n.value[1]==n.value[0]&&o.next().done}catch(r){return!1}},$jscomp.Set=function(e){if(this.map_=new $jscomp.Map,e){e=$jscomp.makeIterator(e);for(var t;!(t=e.next()).done;)this.add(t.value)}this.size=this.map_.size},$jscomp.Set.prototype.add=function(e){return this.map_.set(e,e),this.size=this.map_.size,this},$jscomp.Set.prototype.delete=function(e){return e=this.map_.delete(e),this.size=this.map_.size,e},$jscomp.Set.prototype.clear=function(){this.map_.clear(),this.size=0},$jscomp.Set.prototype.has=function(e){return this.map_.has(e)},$jscomp.Set.prototype.entries=function(){return this.map_.entries()},$jscomp.Set.prototype.values=function(){return this.map_.values()},$jscomp.Set.prototype.forEach=function(e,t){var i=this;this.map_.forEach(function(o){return e.call(t,o,o,i)})},$jscomp.Set$install=function(){$jscomp.Map$install(),$jscomp.Set$isConformant()?$jscomp.Set=$jscomp.global.Set:($jscomp.initSymbol(),$jscomp.initSymbolIterator(),$jscomp.Set.prototype[Symbol.iterator]=$jscomp.Set.prototype.values,$jscomp.Set$install=function(){})},$jscomp.string=$jscomp.string||{},$jscomp.checkStringArgs=function(e,t,i){if(null==e)throw new TypeError("The 'this' value for String.prototype."+i+" must not be null or undefined");if(t instanceof RegExp)throw new TypeError("First argument to String.prototype."+i+" must not be a regular expression");return e+""},$jscomp.string.fromCodePoint=function(e){for(var t="",i=0;i<arguments.length;i++){var o=Number(arguments[i]);if(0>o||1114111<o||o!==Math.floor(o))throw new RangeError("invalid_code_point "+o);65535>=o?t+=String.fromCharCode(o):(o-=65536,t+=String.fromCharCode(o>>>10&1023|55296),t+=String.fromCharCode(1023&o|56320))}return t},$jscomp.string.repeat=function(e){var t=$jscomp.checkStringArgs(this,null,"repeat");if(0>e||1342177279<e)throw new RangeError("Invalid count value");e|=0;for(var i="";e;)1&e&&(i+=t),(e>>>=1)&&(t+=t);return i},$jscomp.string.repeat$install=function(){String.prototype.repeat||(String.prototype.repeat=$jscomp.string.repeat)},$jscomp.string.codePointAt=function(e){var t=$jscomp.checkStringArgs(this,null,"codePointAt"),i=t.length;if(0<=(e=Number(e)||0)&&e<i){e|=0;var o=t.charCodeAt(e);return 55296>o||56319<o||e+1===i?o:56320>(e=t.charCodeAt(e+1))||57343<e?o:1024*(o-55296)+e+9216}},$jscomp.string.codePointAt$install=function(){String.prototype.codePointAt||(String.prototype.codePointAt=$jscomp.string.codePointAt)},$jscomp.string.includes=function(e,t){return-1!==$jscomp.checkStringArgs(this,e,"includes").indexOf(e,t||0)},$jscomp.string.includes$install=function(){String.prototype.includes||(String.prototype.includes=$jscomp.string.includes)},$jscomp.string.startsWith=function(e,t){var i=$jscomp.checkStringArgs(this,e,"startsWith");e+="";for(var o=i.length,n=e.length,r=Math.max(0,Math.min(0|t,i.length)),a=0;a<n&&r<o;)if(i[r++]!=e[a++])return!1;return a>=n},$jscomp.string.startsWith$install=function(){String.prototype.startsWith||(String.prototype.startsWith=$jscomp.string.startsWith)},$jscomp.string.endsWith=function(e,t){var i=$jscomp.checkStringArgs(this,e,"endsWith");e+="",void 0===t&&(t=i.length);for(var o=Math.max(0,Math.min(0|t,i.length)),n=e.length;0<n&&0<o;)if(i[--o]!=e[--n])return!1;return 0>=n},$jscomp.string.endsWith$install=function(){String.prototype.endsWith||(String.prototype.endsWith=$jscomp.string.endsWith)};var COMPILED=!0,goog=goog||{};goog.global=$jscomp.getGlobal(),goog.isDef=function(e){return void 0!==e},goog.exportPath_=function(e,t,i){e=e.split("."),i=i||goog.global,e[0]in i||!i.execScript||i.execScript("var "+e[0]);for(var o;e.length&&(o=e.shift());)!e.length&&goog.isDef(t)?i[o]=t:i=i[o]?i[o]:i[o]={}},goog.define=function(e,t){var i=t;COMPILED||(goog.global.CLOSURE_UNCOMPILED_DEFINES&&Object.prototype.hasOwnProperty.call(goog.global.CLOSURE_UNCOMPILED_DEFINES,e)?i=goog.global.CLOSURE_UNCOMPILED_DEFINES[e]:goog.global.CLOSURE_DEFINES&&Object.prototype.hasOwnProperty.call(goog.global.CLOSURE_DEFINES,e)&&(i=goog.global.CLOSURE_DEFINES[e])),goog.exportPath_(e,i)},goog.DEBUG=!0,goog.LOCALE="en",goog.TRUSTED_SITE=!0,goog.STRICT_MODE_COMPATIBLE=!1,goog.DISALLOW_TEST_ONLY_CODE=COMPILED&&!goog.DEBUG,goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING=!1,goog.provide=function(e){if(!COMPILED&&goog.isProvided_(e))throw Error('Namespace "'+e+'" already declared.');goog.constructNamespace_(e)},goog.constructNamespace_=function(e,t){if(!COMPILED){delete goog.implicitNamespaces_[e];for(var i=e;(i=i.substring(0,i.lastIndexOf(".")))&&!goog.getObjectByName(i);)goog.implicitNamespaces_[i]=!0}goog.exportPath_(e,t)},goog.VALID_MODULE_RE_=/^[a-zA-Z_$][a-zA-Z0-9._$]*$/,goog.module=function(e){if(!goog.isString(e)||!e||-1==e.search(goog.VALID_MODULE_RE_))throw Error("Invalid module identifier");if(!goog.isInModuleLoader_())throw Error("Module "+e+" has been loaded incorrectly.");if(goog.moduleLoaderState_.moduleName)throw Error("goog.module may only be called once per module.");if(goog.moduleLoaderState_.moduleName=e,!COMPILED){if(goog.isProvided_(e))throw Error('Namespace "'+e+'" already declared.');delete goog.implicitNamespaces_[e]}},goog.module.get=function(e){return goog.module.getInternal_(e)},goog.module.getInternal_=function(e){if(!COMPILED)return goog.isProvided_(e)?e in goog.loadedModules_?goog.loadedModules_[e]:goog.getObjectByName(e):null},goog.moduleLoaderState_=null,goog.isInModuleLoader_=function(){return null!=goog.moduleLoaderState_},goog.module.declareLegacyNamespace=function(){if(!COMPILED&&!goog.isInModuleLoader_())throw Error("goog.module.declareLegacyNamespace must be called from within a goog.module");if(!COMPILED&&!goog.moduleLoaderState_.moduleName)throw Error("goog.module must be called prior to goog.module.declareLegacyNamespace.");goog.moduleLoaderState_.declareLegacyNamespace=!0},goog.setTestOnly=function(e){if(goog.DISALLOW_TEST_ONLY_CODE)throw e=e||"",Error("Importing test-only code into non-debug environment"+(e?": "+e:"."))},goog.forwardDeclare=function(){},COMPILED||(goog.isProvided_=function(e){return e in goog.loadedModules_||!goog.implicitNamespaces_[e]&&goog.isDefAndNotNull(goog.getObjectByName(e))},goog.implicitNamespaces_={"goog.module":!0}),goog.getObjectByName=function(e,t){for(var i,o=e.split("."),n=t||goog.global;i=o.shift();){if(!goog.isDefAndNotNull(n[i]))return null;n=n[i]}return n},goog.globalize=function(e,t){var i,o=t||goog.global;for(i in e)o[i]=e[i]},goog.addDependency=function(e,t,i,o){if(goog.DEPENDENCIES_ENABLED){var n;e=e.replace(/\\/g,"/");for(var r=goog.dependencies_,a=0;n=t[a];a++)r.nameToPath[n]=e,r.pathIsModule[e]=!!o;for(o=0;t=i[o];o++)e in r.requires||(r.requires[e]={}),r.requires[e][t]=!0}},goog.ENABLE_DEBUG_LOADER=!0,goog.logToConsole_=function(e){goog.global.console&&goog.global.console.error(e)},goog.require=function(e){if(!COMPILED){if(goog.ENABLE_DEBUG_LOADER&&goog.IS_OLD_IE_&&goog.maybeProcessDeferredDep_(e),goog.isProvided_(e))return goog.isInModuleLoader_()?goog.module.getInternal_(e):null;if(goog.ENABLE_DEBUG_LOADER){var t=goog.getPathFromDeps_(e);if(t)return goog.writeScripts_(t),null}throw e="goog.require could not find: "+e,goog.logToConsole_(e),Error(e)}},goog.basePath="",goog.nullFunction=function(){},goog.abstractMethod=function(){throw Error("unimplemented abstract method")},goog.addSingletonGetter=function(e){e.getInstance=function(){return e.instance_?e.instance_:(goog.DEBUG&&(goog.instantiatedSingletons_[goog.instantiatedSingletons_.length]=e),e.instance_=new e)}},goog.instantiatedSingletons_=[],goog.LOAD_MODULE_USING_EVAL=!0,goog.SEAL_MODULE_EXPORTS=goog.DEBUG,goog.loadedModules_={},goog.DEPENDENCIES_ENABLED=!COMPILED&&goog.ENABLE_DEBUG_LOADER,goog.DEPENDENCIES_ENABLED&&(goog.dependencies_={pathIsModule:{},nameToPath:{},requires:{},visited:{},written:{},deferred:{}},goog.inHtmlDocument_=function(){var e=goog.global.document;return null!=e&&"write"in e},goog.findBasePath_=function(){if(goog.isDef(goog.global.CLOSURE_BASE_PATH))goog.basePath=goog.global.CLOSURE_BASE_PATH;else if(goog.inHtmlDocument_())for(var e=goog.global.document.getElementsByTagName("SCRIPT"),t=e.length-1;0<=t;--t){var i=e[t].src,o=-1==(o=i.lastIndexOf("?"))?i.length:o;if("base.js"==i.substr(o-7,7)){goog.basePath=i.substr(0,o-7);break}}},goog.importScript_=function(e,t){(goog.global.CLOSURE_IMPORT_SCRIPT||goog.writeScriptTag_)(e,t)&&(goog.dependencies_.written[e]=!0)},goog.IS_OLD_IE_=!(goog.global.atob||!goog.global.document||!goog.global.document.all),goog.importModule_=function(e){goog.importScript_("",'goog.retrieveAndExecModule_("'+e+'");')&&(goog.dependencies_.written[e]=!0)},goog.queuedModules_=[],goog.wrapModule_=function(e,t){return goog.LOAD_MODULE_USING_EVAL&&goog.isDef(goog.global.JSON)?"goog.loadModule("+goog.global.JSON.stringify(t+"\n//# sourceURL="+e+"\n")+");":'goog.loadModule(function(exports) {"use strict";'+t+"\n;return exports});\n//# sourceURL="+e+"\n"},goog.loadQueuedModules_=function(){var e=goog.queuedModules_.length;if(0<e){var t=goog.queuedModules_;goog.queuedModules_=[];for(var i=0;i<e;i++)goog.maybeProcessDeferredPath_(t[i])}},goog.maybeProcessDeferredDep_=function(e){goog.isDeferredModule_(e)&&goog.allDepsAreAvailable_(e)&&(e=goog.getPathFromDeps_(e),goog.maybeProcessDeferredPath_(goog.basePath+e))},goog.isDeferredModule_=function(e){return!(!(e=goog.getPathFromDeps_(e))||!goog.dependencies_.pathIsModule[e])&&goog.basePath+e in goog.dependencies_.deferred},goog.allDepsAreAvailable_=function(e){if((e=goog.getPathFromDeps_(e))&&e in goog.dependencies_.requires)for(var t in goog.dependencies_.requires[e])if(!goog.isProvided_(t)&&!goog.isDeferredModule_(t))return!1;return!0},goog.maybeProcessDeferredPath_=function(e){if(e in goog.dependencies_.deferred){var t=goog.dependencies_.deferred[e];delete goog.dependencies_.deferred[e],goog.globalEval(t)}},goog.loadModuleFromUrl=function(e){goog.retrieveAndExecModule_(e)},goog.loadModule=function(e){var t=goog.moduleLoaderState_;try{var i;if(goog.moduleLoaderState_={moduleName:void 0,declareLegacyNamespace:!1},goog.isFunction(e))i=e.call(goog.global,{});else{if(!goog.isString(e))throw Error("Invalid module definition");i=goog.loadModuleFromSource_.call(goog.global,e)}var o=goog.moduleLoaderState_.moduleName;if(!goog.isString(o)||!o)throw Error('Invalid module name "'+o+'"');goog.moduleLoaderState_.declareLegacyNamespace?goog.constructNamespace_(o,i):goog.SEAL_MODULE_EXPORTS&&Object.seal&&Object.seal(i),goog.loadedModules_[o]=i}finally{goog.moduleLoaderState_=t}},goog.loadModuleFromSource_=function(a){return eval(a),{}},goog.writeScriptSrcNode_=function(e){goog.global.document.write('<script type="text/javascript" src="'+e+'"><\/script>')},goog.appendScriptSrcNode_=function(e){var t=goog.global.document,i=t.createElement("script");i.type="text/javascript",i.src=e,i.defer=!1,i.async=!1,t.head.appendChild(i)},goog.writeScriptTag_=function(e,t){if(goog.inHtmlDocument_()){var i=goog.global.document;if(!goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING&&"complete"==i.readyState){if(/\bdeps.js$/.test(e))return!1;throw Error('Cannot write "'+e+'" after document load')}var o=goog.IS_OLD_IE_;return void 0===t?o?(o=" onreadystatechange='goog.onScriptLoad_(this, "+ ++goog.lastNonModuleScriptIndex_+")' ",i.write('<script type="text/javascript" src="'+e+'"'+o+"><\/script>")):goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING?goog.appendScriptSrcNode_(e):goog.writeScriptSrcNode_(e):i.write('<script type="text/javascript">'+t+"<\/script>"),!0}return!1},goog.lastNonModuleScriptIndex_=0,goog.onScriptLoad_=function(e,t){return"complete"==e.readyState&&goog.lastNonModuleScriptIndex_==t&&goog.loadQueuedModules_(),!0},goog.writeScripts_=function(e){var t=[],i={},o=goog.dependencies_;for(function e(n){if(!(n in o.written||n in o.visited)){if(o.visited[n]=!0,n in o.requires)for(var r in o.requires[n])if(!goog.isProvided_(r)){if(!(r in o.nameToPath))throw Error("Undefined nameToPath for "+r);e(o.nameToPath[r])}n in i||(i[n]=!0,t.push(n))}}(e),e=0;e<t.length;e++){var n=t[e];goog.dependencies_.written[n]=!0}var r=goog.moduleLoaderState_;for(goog.moduleLoaderState_=null,e=0;e<t.length;e++){if(!(n=t[e]))throw goog.moduleLoaderState_=r,Error("Undefined script input");o.pathIsModule[n]?goog.importModule_(goog.basePath+n):goog.importScript_(goog.basePath+n)}goog.moduleLoaderState_=r},goog.getPathFromDeps_=function(e){return e in goog.dependencies_.nameToPath?goog.dependencies_.nameToPath[e]:null},goog.findBasePath_(),goog.global.CLOSURE_NO_DEPS||goog.importScript_(goog.basePath+"deps.js")),goog.normalizePath_=function(e){e=e.split("/");for(var t=0;t<e.length;)"."==e[t]?e.splice(t,1):t&&".."==e[t]&&e[t-1]&&".."!=e[t-1]?e.splice(--t,2):t++;return e.join("/")},goog.loadFileSync_=function(e){if(goog.global.CLOSURE_LOAD_FILE_SYNC)return goog.global.CLOSURE_LOAD_FILE_SYNC(e);var t=new goog.global.XMLHttpRequest;return t.open("get",e,!1),t.send(),t.responseText},goog.retrieveAndExecModule_=function(e){if(!COMPILED){var t=e;e=goog.normalizePath_(e);var i=goog.global.CLOSURE_IMPORT_SCRIPT||goog.writeScriptTag_,o=goog.loadFileSync_(e);if(null==o)throw Error("load of "+e+"failed");o=goog.wrapModule_(e,o),goog.IS_OLD_IE_?(goog.dependencies_.deferred[t]=o,goog.queuedModules_.push(t)):i(e,o)}},goog.typeOf=function(e){var t=typeof e;if("object"==t){if(!e)return"null";if(e instanceof Array)return"array";if(e instanceof Object)return t;var i=Object.prototype.toString.call(e);if("[object Window]"==i)return"object";if("[object Array]"==i||"number"==typeof e.length&&void 0!==e.splice&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("splice"))return"array";if("[object Function]"==i||void 0!==e.call&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("call"))return"function"}else if("function"==t&&void 0===e.call)return"object";return t},goog.isNull=function(e){return null===e},goog.isDefAndNotNull=function(e){return null!=e},goog.isArray=function(e){return"array"==goog.typeOf(e)},goog.isArrayLike=function(e){var t=goog.typeOf(e);return"array"==t||"object"==t&&"number"==typeof e.length},goog.isDateLike=function(e){return goog.isObject(e)&&"function"==typeof e.getFullYear},goog.isString=function(e){return"string"==typeof e},goog.isBoolean=function(e){return"boolean"==typeof e},goog.isNumber=function(e){return"number"==typeof e},goog.isFunction=function(e){return"function"==goog.typeOf(e)},goog.isObject=function(e){var t=typeof e;return"object"==t&&null!=e||"function"==t},goog.getUid=function(e){return e[goog.UID_PROPERTY_]||(e[goog.UID_PROPERTY_]=++goog.uidCounter_)},goog.hasUid=function(e){return!!e[goog.UID_PROPERTY_]},goog.removeUid=function(e){null!==e&&"removeAttribute"in e&&e.removeAttribute(goog.UID_PROPERTY_);try{delete e[goog.UID_PROPERTY_]}catch(b){}},goog.UID_PROPERTY_="closure_uid_"+(1e9*Math.random()>>>0),goog.uidCounter_=0,goog.getHashCode=goog.getUid,goog.removeHashCode=goog.removeUid,goog.cloneObject=function(e){if("object"==(i=goog.typeOf(e))||"array"==i){if(e.clone)return e.clone();var t,i="array"==i?[]:{};for(t in e)i[t]=goog.cloneObject(e[t]);return i}return e},goog.bindNative_=function(e,t,i){return e.call.apply(e.bind,arguments)},goog.bindJs_=function(e,t,i){if(!e)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,o),e.apply(t,i)}}return function(){return e.apply(t,arguments)}},goog.bind=function(e,t,i){return Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?goog.bind=goog.bindNative_:goog.bind=goog.bindJs_,goog.bind.apply(null,arguments)},goog.partial=function(e,t){var i=Array.prototype.slice.call(arguments,1);return function(){var t=i.slice();return t.push.apply(t,arguments),e.apply(this,t)}},goog.mixin=function(e,t){for(var i in t)e[i]=t[i]},goog.now=goog.TRUSTED_SITE&&Date.now||function(){return+new Date},goog.globalEval=function(e){if(goog.global.execScript)goog.global.execScript(e,"JavaScript");else{if(!goog.global.eval)throw Error("goog.globalEval not available");if(null==goog.evalWorksForGlobals_)if(goog.global.eval("var _evalTest_ = 1;"),void 0!==goog.global._evalTest_){try{delete goog.global._evalTest_}catch(o){}goog.evalWorksForGlobals_=!0}else goog.evalWorksForGlobals_=!1;if(goog.evalWorksForGlobals_)goog.global.eval(e);else{var t=goog.global.document,i=t.createElement("SCRIPT");i.type="text/javascript",i.defer=!1,i.appendChild(t.createTextNode(e)),t.body.appendChild(i),t.body.removeChild(i)}}},goog.evalWorksForGlobals_=null,goog.getCssName=function(e,t){var i=function(e){return goog.cssNameMapping_[e]||e},o=function(e){e=e.split("-");for(var t=[],o=0;o<e.length;o++)t.push(i(e[o]));return t.join("-")};return o=goog.cssNameMapping_?"BY_WHOLE"==goog.cssNameMappingStyle_?i:o:function(e){return e},t?e+"-"+o(t):o(e)},goog.setCssNameMapping=function(e,t){goog.cssNameMapping_=e,goog.cssNameMappingStyle_=t},!COMPILED&&goog.global.CLOSURE_CSS_NAME_MAPPING&&(goog.cssNameMapping_=goog.global.CLOSURE_CSS_NAME_MAPPING),goog.getMsg=function(e,t){return t&&(e=e.replace(/\{\$([^}]+)}/g,function(e,i){return null!=t&&i in t?t[i]:e})),e},goog.getMsgWithFallback=function(e){return e},goog.exportSymbol=function(e,t,i){goog.exportPath_(e,t,i)},goog.exportProperty=function(e,t,i){e[t]=i},goog.inherits=function(e,t){function i(){}i.prototype=t.prototype,e.superClass_=t.prototype,e.prototype=new i,e.prototype.constructor=e,e.base=function(e,i,o){for(var n=Array(arguments.length-2),r=2;r<arguments.length;r++)n[r-2]=arguments[r];return t.prototype[i].apply(e,n)}},goog.base=function(e,t,i){var o=arguments.callee.caller;if(goog.STRICT_MODE_COMPATIBLE||goog.DEBUG&&!o)throw Error("arguments.caller not defined.  goog.base() cannot be used with strict mode code. See http://www.ecma-international.org/ecma-262/5.1/#sec-C");if(o.superClass_){for(var n=Array(arguments.length-1),r=1;r<arguments.length;r++)n[r-1]=arguments[r];return o.superClass_.constructor.apply(e,n)}for(n=Array(arguments.length-2),r=2;r<arguments.length;r++)n[r-2]=arguments[r];r=!1;for(var a=e.constructor;a;a=a.superClass_&&a.superClass_.constructor)if(a.prototype[t]===o)r=!0;else if(r)return a.prototype[t].apply(e,n);if(e[t]===o)return e.constructor.prototype[t].apply(e,n);throw Error("goog.base called from a method of one name to a method of a different name")},goog.scope=function(e){e.call(goog.global)},COMPILED||(goog.global.COMPILED=COMPILED),goog.defineClass=function(e,t){var i=t.constructor,o=t.statics;return i&&i!=Object.prototype.constructor||(i=function(){throw Error("cannot instantiate an interface (no constructor defined).")}),i=goog.defineClass.createSealingConstructor_(i,e),e&&goog.inherits(i,e),delete t.constructor,delete t.statics,goog.defineClass.applyProperties_(i.prototype,t),null!=o&&(o instanceof Function?o(i):goog.defineClass.applyProperties_(i,o)),i},goog.defineClass.SEAL_CLASS_INSTANCES=goog.DEBUG,goog.defineClass.createSealingConstructor_=function(e,t){return goog.defineClass.SEAL_CLASS_INSTANCES&&Object.seal instanceof Function?t&&t.prototype&&t.prototype[goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_]?e:function t(){var i=e.apply(this,arguments)||this;return i[goog.UID_PROPERTY_]=i[goog.UID_PROPERTY_],this.constructor===t&&Object.seal(i),i}:e},goog.defineClass.OBJECT_PROTOTYPE_FIELDS_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),goog.defineClass.applyProperties_=function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);for(var o=0;o<goog.defineClass.OBJECT_PROTOTYPE_FIELDS_.length;o++)i=goog.defineClass.OBJECT_PROTOTYPE_FIELDS_[o],Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])},goog.tagUnsealableClass=function(e){!COMPILED&&goog.defineClass.SEAL_CLASS_INSTANCES&&(e.prototype[goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_]=!0)},goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_="goog_defineClass_legacy_unsealable",goog.dom={},goog.dom.NodeType={ELEMENT:1,ATTRIBUTE:2,TEXT:3,CDATA_SECTION:4,ENTITY_REFERENCE:5,ENTITY:6,PROCESSING_INSTRUCTION:7,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,NOTATION:12},goog.debug={},goog.debug.Error=function(e){if(Error.captureStackTrace)Error.captureStackTrace(this,goog.debug.Error);else{var t=Error().stack;t&&(this.stack=t)}e&&(this.message=String(e)),this.reportErrorToServer=!0},goog.inherits(goog.debug.Error,Error),goog.debug.Error.prototype.name="CustomError",goog.string={},goog.string.DETECT_DOUBLE_ESCAPING=!1,goog.string.FORCE_NON_DOM_HTML_UNESCAPING=!1,goog.string.Unicode={NBSP:"\xa0"},goog.string.startsWith=function(e,t){return 0==e.lastIndexOf(t,0)},goog.string.endsWith=function(e,t){var i=e.length-t.length;return 0<=i&&e.indexOf(t,i)==i},goog.string.caseInsensitiveStartsWith=function(e,t){return 0==goog.string.caseInsensitiveCompare(t,e.substr(0,t.length))},goog.string.caseInsensitiveEndsWith=function(e,t){return 0==goog.string.caseInsensitiveCompare(t,e.substr(e.length-t.length,t.length))},goog.string.caseInsensitiveEquals=function(e,t){return e.toLowerCase()==t.toLowerCase()},goog.string.subs=function(e,t){for(var i=e.split("%s"),o="",n=Array.prototype.slice.call(arguments,1);n.length&&1<i.length;)o+=i.shift()+n.shift();return o+i.join("%s")},goog.string.collapseWhitespace=function(e){return e.replace(/[\s\xa0]+/g," ").replace(/^\s+|\s+$/g,"")},goog.string.isEmptyOrWhitespace=function(e){return/^[\s\xa0]*$/.test(e)},goog.string.isEmptyString=function(e){return 0==e.length},goog.string.isEmpty=goog.string.isEmptyOrWhitespace,goog.string.isEmptyOrWhitespaceSafe=function(e){return goog.string.isEmptyOrWhitespace(goog.string.makeSafe(e))},goog.string.isEmptySafe=goog.string.isEmptyOrWhitespaceSafe,goog.string.isBreakingWhitespace=function(e){return!/[^\t\n\r ]/.test(e)},goog.string.isAlpha=function(e){return!/[^a-zA-Z]/.test(e)},goog.string.isNumeric=function(e){return!/[^0-9]/.test(e)},goog.string.isAlphaNumeric=function(e){return!/[^a-zA-Z0-9]/.test(e)},goog.string.isSpace=function(e){return" "==e},goog.string.isUnicodeChar=function(e){return 1==e.length&&" "<=e&&"~">=e||"\x80"<=e&&"\ufffd">=e},goog.string.stripNewlines=function(e){return e.replace(/(\r\n|\r|\n)+/g," ")},goog.string.canonicalizeNewlines=function(e){return e.replace(/(\r\n|\r|\n)/g,"\n")},goog.string.normalizeWhitespace=function(e){return e.replace(/\xa0|\s/g," ")},goog.string.normalizeSpaces=function(e){return e.replace(/\xa0|[ \t]+/g," ")},goog.string.collapseBreakingSpaces=function(e){return e.replace(/[\t\r\n ]+/g," ").replace(/^[\t\r\n ]+|[\t\r\n ]+$/g,"")},goog.string.trim=goog.TRUSTED_SITE&&String.prototype.trim?function(e){return e.trim()}:function(e){return e.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},goog.string.trimLeft=function(e){return e.replace(/^[\s\xa0]+/,"")},goog.string.trimRight=function(e){return e.replace(/[\s\xa0]+$/,"")},goog.string.caseInsensitiveCompare=function(e,t){var i=String(e).toLowerCase(),o=String(t).toLowerCase();return i<o?-1:i==o?0:1},goog.string.numberAwareCompare_=function(e,t,i){if(e==t)return 0;if(!e)return-1;if(!t)return 1;for(var o=e.toLowerCase().match(i),n=t.toLowerCase().match(i),r=Math.min(o.length,n.length),a=0;a<r;a++){i=o[a];var s=n[a];if(i!=s)return e=parseInt(i,10),!isNaN(e)&&(t=parseInt(s,10),!isNaN(t)&&e-t)?e-t:i<s?-1:1}return o.length!=n.length?o.length-n.length:e<t?-1:1},goog.string.intAwareCompare=function(e,t){return goog.string.numberAwareCompare_(e,t,/\d+|\D+/g)},goog.string.floatAwareCompare=function(e,t){return goog.string.numberAwareCompare_(e,t,/\d+|\.\d+|\D+/g)},goog.string.numerateCompare=goog.string.floatAwareCompare,goog.string.urlEncode=function(e){return encodeURIComponent(String(e))},goog.string.urlDecode=function(e){return decodeURIComponent(e.replace(/\+/g," "))},goog.string.newLineToBr=function(e,t){return e.replace(/(\r\n|\r|\n)/g,t?"<br />":"<br>")},goog.string.htmlEscape=function(e,t){if(t)e=e.replace(goog.string.AMP_RE_,"&amp;").replace(goog.string.LT_RE_,"&lt;").replace(goog.string.GT_RE_,"&gt;").replace(goog.string.QUOT_RE_,"&quot;").replace(goog.string.SINGLE_QUOTE_RE_,"&#39;").replace(goog.string.NULL_RE_,"&#0;"),goog.string.DETECT_DOUBLE_ESCAPING&&(e=e.replace(goog.string.E_RE_,"&#101;"));else{if(!goog.string.ALL_RE_.test(e))return e;-1!=e.indexOf("&")&&(e=e.replace(goog.string.AMP_RE_,"&amp;")),-1!=e.indexOf("<")&&(e=e.replace(goog.string.LT_RE_,"&lt;")),-1!=e.indexOf(">")&&(e=e.replace(goog.string.GT_RE_,"&gt;")),-1!=e.indexOf('"')&&(e=e.replace(goog.string.QUOT_RE_,"&quot;")),-1!=e.indexOf("'")&&(e=e.replace(goog.string.SINGLE_QUOTE_RE_,"&#39;")),-1!=e.indexOf("\0")&&(e=e.replace(goog.string.NULL_RE_,"&#0;")),goog.string.DETECT_DOUBLE_ESCAPING&&-1!=e.indexOf("e")&&(e=e.replace(goog.string.E_RE_,"&#101;"))}return e},goog.string.AMP_RE_=/&/g,goog.string.LT_RE_=/</g,goog.string.GT_RE_=/>/g,goog.string.QUOT_RE_=/"/g,goog.string.SINGLE_QUOTE_RE_=/'/g,goog.string.NULL_RE_=/\x00/g,goog.string.E_RE_=/e/g,goog.string.ALL_RE_=goog.string.DETECT_DOUBLE_ESCAPING?/[\x00&<>"'e]/:/[\x00&<>"']/,goog.string.unescapeEntities=function(e){return goog.string.contains(e,"&")?!goog.string.FORCE_NON_DOM_HTML_UNESCAPING&&"document"in goog.global?goog.string.unescapeEntitiesUsingDom_(e):goog.string.unescapePureXmlEntities_(e):e},goog.string.unescapeEntitiesWithDocument=function(e,t){return goog.string.contains(e,"&")?goog.string.unescapeEntitiesUsingDom_(e,t):e},goog.string.unescapeEntitiesUsingDom_=function(e,t){var i,o={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"'};return i=t?t.createElement("div"):goog.global.document.createElement("div"),e.replace(goog.string.HTML_ENTITY_PATTERN_,function(e,t){var n=o[e];if(n)return n;if("#"==t.charAt(0)){var r=Number("0"+t.substr(1));isNaN(r)||(n=String.fromCharCode(r))}return n||(i.innerHTML=e+" ",n=i.firstChild.nodeValue.slice(0,-1)),o[e]=n})},goog.string.unescapePureXmlEntities_=function(e){return e.replace(/&([^;]+);/g,function(e,t){switch(t){case"amp":return"&";case"lt":return"<";case"gt":return">";case"quot":return'"';default:if("#"==t.charAt(0)){var i=Number("0"+t.substr(1));if(!isNaN(i))return String.fromCharCode(i)}return e}})},goog.string.HTML_ENTITY_PATTERN_=/&([^;\s<&]+);?/g,goog.string.whitespaceEscape=function(e,t){return goog.string.newLineToBr(e.replace(/  /g," &#160;"),t)},goog.string.preserveSpaces=function(e){return e.replace(/(^|[\n ]) /g,"$1"+goog.string.Unicode.NBSP)},goog.string.stripQuotes=function(e,t){for(var i=t.length,o=0;o<i;o++){var n=1==i?t:t.charAt(o);if(e.charAt(0)==n&&e.charAt(e.length-1)==n)return e.substring(1,e.length-1)}return e},goog.string.truncate=function(e,t,i){return i&&(e=goog.string.unescapeEntities(e)),e.length>t&&(e=e.substring(0,t-3)+"..."),i&&(e=goog.string.htmlEscape(e)),e},goog.string.truncateMiddle=function(e,t,i,o){if(i&&(e=goog.string.unescapeEntities(e)),o&&e.length>t){o>t&&(o=t);var n=e.length-o;e=e.substring(0,t-o)+"..."+e.substring(n)}else e.length>t&&(o=Math.floor(t/2),n=e.length-o,e=e.substring(0,o+t%2)+"..."+e.substring(n));return i&&(e=goog.string.htmlEscape(e)),e},goog.string.specialEscapeChars_={"\0":"\\0","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\x0B",'"':'\\"',"\\":"\\\\","<":"<"},goog.string.jsEscapeCache_={"'":"\\'"},goog.string.quote=function(e){e=String(e);for(var t=['"'],i=0;i<e.length;i++){var o=e.charAt(i),n=o.charCodeAt(0);t[i+1]=goog.string.specialEscapeChars_[o]||(31<n&&127>n?o:goog.string.escapeChar(o))}return t.push('"'),t.join("")},goog.string.escapeString=function(e){for(var t=[],i=0;i<e.length;i++)t[i]=goog.string.escapeChar(e.charAt(i));return t.join("")},goog.string.escapeChar=function(e){if(e in goog.string.jsEscapeCache_)return goog.string.jsEscapeCache_[e];if(e in goog.string.specialEscapeChars_)return goog.string.jsEscapeCache_[e]=goog.string.specialEscapeChars_[e];var t,i=e.charCodeAt(0);return 31<i&&127>i?t=e:(256>i?(t="\\x",(16>i||256<i)&&(t+="0")):(t="\\u",4096>i&&(t+="0")),t+=i.toString(16).toUpperCase()),goog.string.jsEscapeCache_[e]=t},goog.string.contains=function(e,t){return-1!=e.indexOf(t)},goog.string.caseInsensitiveContains=function(e,t){return goog.string.contains(e.toLowerCase(),t.toLowerCase())},goog.string.countOf=function(e,t){return e&&t?e.split(t).length-1:0},goog.string.removeAt=function(e,t,i){var o=e;return 0<=t&&t<e.length&&0<i&&(o=e.substr(0,t)+e.substr(t+i,e.length-t-i)),o},goog.string.remove=function(e,t){var i=new RegExp(goog.string.regExpEscape(t),"");return e.replace(i,"")},goog.string.removeAll=function(e,t){var i=new RegExp(goog.string.regExpEscape(t),"g");return e.replace(i,"")},goog.string.regExpEscape=function(e){return String(e).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},goog.string.repeat=String.prototype.repeat?function(e,t){return e.repeat(t)}:function(e,t){return Array(t+1).join(e)},goog.string.padNumber=function(e,t,i){return-1==(i=(e=goog.isDef(i)?e.toFixed(i):String(e)).indexOf("."))&&(i=e.length),goog.string.repeat("0",Math.max(0,t-i))+e},goog.string.makeSafe=function(e){return null==e?"":String(e)},goog.string.buildString=function(e){return Array.prototype.join.call(arguments,"")},goog.string.getRandomString=function(){return Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^goog.now()).toString(36)},goog.string.compareVersions=function(e,t){for(var i=0,o=goog.string.trim(String(e)).split("."),n=goog.string.trim(String(t)).split("."),r=Math.max(o.length,n.length),a=0;0==i&&a<r;a++){var s=o[a]||"",p=n[a]||"",u=RegExp("(\\d*)(\\D*)","g"),c=RegExp("(\\d*)(\\D*)","g");do{var l=u.exec(s)||["","",""],d=c.exec(p)||["","",""];if(0==l[0].length&&0==d[0].length)break;i=0==l[1].length?0:parseInt(l[1],10);var f=0==d[1].length?0:parseInt(d[1],10);i=goog.string.compareElements_(i,f)||goog.string.compareElements_(0==l[2].length,0==d[2].length)||goog.string.compareElements_(l[2],d[2])}while(0==i)}return i},goog.string.compareElements_=function(e,t){return e<t?-1:e>t?1:0},goog.string.hashCode=function(e){for(var t=0,i=0;i<e.length;++i)t=31*t+e.charCodeAt(i)>>>0;return t},goog.string.uniqueStringCounter_=2147483648*Math.random()|0,goog.string.createUniqueString=function(){return"goog_"+goog.string.uniqueStringCounter_++},goog.string.toNumber=function(e){var t=Number(e);return 0==t&&goog.string.isEmptyOrWhitespace(e)?NaN:t},goog.string.isLowerCamelCase=function(e){return/^[a-z]+([A-Z][a-z]*)*$/.test(e)},goog.string.isUpperCamelCase=function(e){return/^([A-Z][a-z]*)+$/.test(e)},goog.string.toCamelCase=function(e){return String(e).replace(/\-([a-z])/g,function(e,t){return t.toUpperCase()})},goog.string.toSelectorCase=function(e){return String(e).replace(/([A-Z])/g,"-$1").toLowerCase()},goog.string.toTitleCase=function(e,t){var i=goog.isString(t)?goog.string.regExpEscape(t):"\\s";return e.replace(new RegExp("(^"+(i?"|["+i+"]+":"")+")([a-z])","g"),function(e,t,i){return t+i.toUpperCase()})},goog.string.capitalize=function(e){return String(e.charAt(0)).toUpperCase()+String(e.substr(1)).toLowerCase()},goog.string.parseInt=function(e){return isFinite(e)&&(e=String(e)),goog.isString(e)?/^\s*-?0x/i.test(e)?parseInt(e,16):parseInt(e,10):NaN},goog.string.splitLimit=function(e,t,i){e=e.split(t);for(var o=[];0<i&&e.length;)o.push(e.shift()),i--;return e.length&&o.push(e.join(t)),o},goog.string.editDistance=function(e,t){var i=[],o=[];if(e==t)return 0;if(!e.length||!t.length)return Math.max(e.length,t.length);for(var n=0;n<t.length+1;n++)i[n]=n;for(n=0;n<e.length;n++){o[0]=n+1;for(var r=0;r<t.length;r++)o[r+1]=Math.min(o[r]+1,i[r+1]+1,i[r]+Number(e[n]!=t[r]));for(r=0;r<i.length;r++)i[r]=o[r]}return o[t.length]},goog.asserts={},goog.asserts.ENABLE_ASSERTS=goog.DEBUG,goog.asserts.AssertionError=function(e,t){t.unshift(e),goog.debug.Error.call(this,goog.string.subs.apply(null,t)),t.shift(),this.messagePattern=e},goog.inherits(goog.asserts.AssertionError,goog.debug.Error),goog.asserts.AssertionError.prototype.name="AssertionError",goog.asserts.DEFAULT_ERROR_HANDLER=function(e){throw e},goog.asserts.errorHandler_=goog.asserts.DEFAULT_ERROR_HANDLER,goog.asserts.doAssertFailure_=function(e,t,i,o){var n="Assertion failed";if(i){n=n+": "+i;var r=o}else e&&(n+=": "+e,r=t);e=new goog.asserts.AssertionError(""+n,r||[]),goog.asserts.errorHandler_(e)},goog.asserts.setErrorHandler=function(e){goog.asserts.ENABLE_ASSERTS&&(goog.asserts.errorHandler_=e)},goog.asserts.assert=function(e,t,i){return goog.asserts.ENABLE_ASSERTS&&!e&&goog.asserts.doAssertFailure_("",null,t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.fail=function(e,t){goog.asserts.ENABLE_ASSERTS&&goog.asserts.errorHandler_(new goog.asserts.AssertionError("Failure"+(e?": "+e:""),Array.prototype.slice.call(arguments,1)))},goog.asserts.assertNumber=function(e,t,i){return goog.asserts.ENABLE_ASSERTS&&!goog.isNumber(e)&&goog.asserts.doAssertFailure_("Expected number but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertString=function(e,t,i){return goog.asserts.ENABLE_ASSERTS&&!goog.isString(e)&&goog.asserts.doAssertFailure_("Expected string but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertFunction=function(e,t,i){return goog.asserts.ENABLE_ASSERTS&&!goog.isFunction(e)&&goog.asserts.doAssertFailure_("Expected function but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertObject=function(e,t,i){return goog.asserts.ENABLE_ASSERTS&&!goog.isObject(e)&&goog.asserts.doAssertFailure_("Expected object but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertArray=function(e,t,i){return goog.asserts.ENABLE_ASSERTS&&!goog.isArray(e)&&goog.asserts.doAssertFailure_("Expected array but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertBoolean=function(e,t,i){return goog.asserts.ENABLE_ASSERTS&&!goog.isBoolean(e)&&goog.asserts.doAssertFailure_("Expected boolean but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertElement=function(e,t,i){return!goog.asserts.ENABLE_ASSERTS||goog.isObject(e)&&e.nodeType==goog.dom.NodeType.ELEMENT||goog.asserts.doAssertFailure_("Expected Element but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertInstanceof=function(e,t,i,o){return!goog.asserts.ENABLE_ASSERTS||e instanceof t||goog.asserts.doAssertFailure_("Expected instanceof %s but got %s.",[goog.asserts.getType_(t),goog.asserts.getType_(e)],i,Array.prototype.slice.call(arguments,3)),e},goog.asserts.assertObjectPrototypeIsIntact=function(){for(var e in Object.prototype)goog.asserts.fail(e+" should not be enumerable in Object.prototype.")},goog.asserts.getType_=function(e){return e instanceof Function?e.displayName||e.name||"unknown type name":e instanceof Object?e.constructor.displayName||e.constructor.name||Object.prototype.toString.call(e):null===e?"null":typeof e};var jspb={Map:function(e,t){this.arr_=e,this.valueCtor_=t,this.map_={},this.arrClean=!0,0<this.arr_.length&&this.loadFromArray_()}},a,b;jspb.Map.prototype.loadFromArray_=function(){for(var e=0;e<this.arr_.length;e++){var t=this.arr_[e],i=t[0];this.map_[i.toString()]=new jspb.Map.Entry_(i,t[1])}this.arrClean=!0},jspb.Map.prototype.toArray=function(){if(this.arrClean){if(this.valueCtor_){var e,t=this.map_;for(e in t)if(Object.prototype.hasOwnProperty.call(t,e)){var i=t[e].valueWrapper;i&&i.toArray()}}}else{for(this.arr_.length=0,(t=this.stringKeys_()).sort(),e=0;e<t.length;e++){var o=this.map_[t[e]];(i=o.valueWrapper)&&i.toArray(),this.arr_.push([o.key,o.value])}this.arrClean=!0}return this.arr_},jspb.Map.prototype.toObject=function(e,t){for(var i=this.toArray(),o=[],n=0;n<i.length;n++){var r=this.map_[i[n][0].toString()];this.wrapEntry_(r);var a=r.valueWrapper;a?(goog.asserts.assert(t),o.push([r.key,t(e,a)])):o.push([r.key,r.value])}return o},jspb.Map.fromObject=function(e,t,i){t=new jspb.Map([],t);for(var o=0;o<e.length;o++){var n=e[o][0],r=i(e[o][1]);t.set(n,r)}return t},jspb.Map.ArrayIteratorIterable_=function(e){this.idx_=0,this.arr_=e},jspb.Map.ArrayIteratorIterable_.prototype.next=function(){return this.idx_<this.arr_.length?{done:!1,value:this.arr_[this.idx_++]}:{done:!0,value:void 0}},$jscomp.initSymbol(),"undefined"!=typeof Symbol&&($jscomp.initSymbol(),$jscomp.initSymbolIterator(),jspb.Map.ArrayIteratorIterable_.prototype[Symbol.iterator]=function(){return this}),jspb.Map.prototype.getLength=function(){return this.stringKeys_().length},jspb.Map.prototype.clear=function(){this.map_={},this.arrClean=!1},jspb.Map.prototype.del=function(e){e=e.toString();var t=this.map_.hasOwnProperty(e);return delete this.map_[e],this.arrClean=!1,t},jspb.Map.prototype.getEntryList=function(){var e=[],t=this.stringKeys_();t.sort();for(var i=0;i<t.length;i++){var o=this.map_[t[i]];e.push([o.key,o.value])}return e},jspb.Map.prototype.entries=function(){var e=[],t=this.stringKeys_();t.sort();for(var i=0;i<t.length;i++){var o=this.map_[t[i]];e.push([o.key,this.wrapEntry_(o)])}return new jspb.Map.ArrayIteratorIterable_(e)},jspb.Map.prototype.keys=function(){var e=[],t=this.stringKeys_();t.sort();for(var i=0;i<t.length;i++)e.push(this.map_[t[i]].key);return new jspb.Map.ArrayIteratorIterable_(e)},jspb.Map.prototype.values=function(){var e=[],t=this.stringKeys_();t.sort();for(var i=0;i<t.length;i++)e.push(this.wrapEntry_(this.map_[t[i]]));return new jspb.Map.ArrayIteratorIterable_(e)},jspb.Map.prototype.forEach=function(e,t){var i=this.stringKeys_();i.sort();for(var o=0;o<i.length;o++){var n=this.map_[i[o]];e.call(t,this.wrapEntry_(n),n.key,this)}},jspb.Map.prototype.set=function(e,t){var i=new jspb.Map.Entry_(e);return this.valueCtor_?(i.valueWrapper=t,i.value=t.toArray()):i.value=t,this.map_[e.toString()]=i,this.arrClean=!1,this},jspb.Map.prototype.wrapEntry_=function(e){return this.valueCtor_?(e.valueWrapper||(e.valueWrapper=new this.valueCtor_(e.value)),e.valueWrapper):e.value},jspb.Map.prototype.get=function(e){if(e=this.map_[e.toString()])return this.wrapEntry_(e)},jspb.Map.prototype.has=function(e){return e.toString()in this.map_},jspb.Map.prototype.serializeBinary=function(e,t,i,o,n){var r=this.stringKeys_();r.sort();for(var a=0;a<r.length;a++){var s=this.map_[r[a]];t.beginSubMessage(e),i.call(t,1,s.key),this.valueCtor_?o.call(t,2,this.wrapEntry_(s),n):o.call(t,2,s.value),t.endSubMessage()}},jspb.Map.deserializeBinary=function(e,t,i,o,n){for(var r=void 0,a=void 0;t.nextField()&&!t.isEndGroup();){var s=t.getFieldNumber();1==s?r=i.call(t):2==s&&(e.valueCtor_?(a=new e.valueCtor_,o.call(t,a,n)):a=o.call(t))}goog.asserts.assert(null!=r),goog.asserts.assert(null!=a),e.set(r,a)},jspb.Map.prototype.stringKeys_=function(){var e,t=this.map_,i=[];for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&i.push(e);return i},jspb.Map.Entry_=function(e,t){this.key=e,this.value=t,this.valueWrapper=void 0},goog.array={},goog.NATIVE_ARRAY_PROTOTYPES=goog.TRUSTED_SITE,goog.array.ASSUME_NATIVE_FUNCTIONS=!1,goog.array.peek=function(e){return e[e.length-1]},goog.array.last=goog.array.peek,goog.array.indexOf=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.indexOf)?function(e,t,i){return goog.asserts.assert(null!=e.length),Array.prototype.indexOf.call(e,t,i)}:function(e,t,i){if(i=null==i?0:0>i?Math.max(0,e.length+i):i,goog.isString(e))return goog.isString(t)&&1==t.length?e.indexOf(t,i):-1;for(;i<e.length;i++)if(i in e&&e[i]===t)return i;return-1},goog.array.lastIndexOf=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.lastIndexOf)?function(e,t,i){return goog.asserts.assert(null!=e.length),Array.prototype.lastIndexOf.call(e,t,null==i?e.length-1:i)}:function(e,t,i){if(0>(i=null==i?e.length-1:i)&&(i=Math.max(0,e.length+i)),goog.isString(e))return goog.isString(t)&&1==t.length?e.lastIndexOf(t,i):-1;for(;0<=i;i--)if(i in e&&e[i]===t)return i;return-1},goog.array.forEach=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.forEach)?function(e,t,i){goog.asserts.assert(null!=e.length),Array.prototype.forEach.call(e,t,i)}:function(e,t,i){for(var o=e.length,n=goog.isString(e)?e.split(""):e,r=0;r<o;r++)r in n&&t.call(i,n[r],r,e)},goog.array.forEachRight=function(e,t,i){var o=e.length,n=goog.isString(e)?e.split(""):e;for(o-=1;0<=o;--o)o in n&&t.call(i,n[o],o,e)},goog.array.filter=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.filter)?function(e,t,i){return goog.asserts.assert(null!=e.length),Array.prototype.filter.call(e,t,i)}:function(e,t,i){for(var o=e.length,n=[],r=0,a=goog.isString(e)?e.split(""):e,s=0;s<o;s++)if(s in a){var p=a[s];t.call(i,p,s,e)&&(n[r++]=p)}return n},goog.array.map=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.map)?function(e,t,i){return goog.asserts.assert(null!=e.length),Array.prototype.map.call(e,t,i)}:function(e,t,i){for(var o=e.length,n=Array(o),r=goog.isString(e)?e.split(""):e,a=0;a<o;a++)a in r&&(n[a]=t.call(i,r[a],a,e));return n},goog.array.reduce=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.reduce)?function(e,t,i,o){return goog.asserts.assert(null!=e.length),o&&(t=goog.bind(t,o)),Array.prototype.reduce.call(e,t,i)}:function(e,t,i,o){var n=i;return goog.array.forEach(e,function(i,r){n=t.call(o,n,i,r,e)}),n},goog.array.reduceRight=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.reduceRight)?function(e,t,i,o){return goog.asserts.assert(null!=e.length),goog.asserts.assert(null!=t),o&&(t=goog.bind(t,o)),Array.prototype.reduceRight.call(e,t,i)}:function(e,t,i,o){var n=i;return goog.array.forEachRight(e,function(i,r){n=t.call(o,n,i,r,e)}),n},goog.array.some=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.some)?function(e,t,i){return goog.asserts.assert(null!=e.length),Array.prototype.some.call(e,t,i)}:function(e,t,i){for(var o=e.length,n=goog.isString(e)?e.split(""):e,r=0;r<o;r++)if(r in n&&t.call(i,n[r],r,e))return!0;return!1},goog.array.every=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.every)?function(e,t,i){return goog.asserts.assert(null!=e.length),Array.prototype.every.call(e,t,i)}:function(e,t,i){for(var o=e.length,n=goog.isString(e)?e.split(""):e,r=0;r<o;r++)if(r in n&&!t.call(i,n[r],r,e))return!1;return!0},goog.array.count=function(e,t,i){var o=0;return goog.array.forEach(e,function(e,n,r){t.call(i,e,n,r)&&++o},i),o},goog.array.find=function(e,t,i){return 0>(t=goog.array.findIndex(e,t,i))?null:goog.isString(e)?e.charAt(t):e[t]},goog.array.findIndex=function(e,t,i){for(var o=e.length,n=goog.isString(e)?e.split(""):e,r=0;r<o;r++)if(r in n&&t.call(i,n[r],r,e))return r;return-1},goog.array.findRight=function(e,t,i){return 0>(t=goog.array.findIndexRight(e,t,i))?null:goog.isString(e)?e.charAt(t):e[t]},goog.array.findIndexRight=function(e,t,i){var o=e.length,n=goog.isString(e)?e.split(""):e;for(o-=1;0<=o;o--)if(o in n&&t.call(i,n[o],o,e))return o;return-1},goog.array.contains=function(e,t){return 0<=goog.array.indexOf(e,t)},goog.array.isEmpty=function(e){return 0==e.length},goog.array.clear=function(e){if(!goog.isArray(e))for(var t=e.length-1;0<=t;t--)delete e[t];e.length=0},goog.array.insert=function(e,t){goog.array.contains(e,t)||e.push(t)},goog.array.insertAt=function(e,t,i){goog.array.splice(e,i,0,t)},goog.array.insertArrayAt=function(e,t,i){goog.partial(goog.array.splice,e,i,0).apply(null,t)},goog.array.insertBefore=function(e,t,i){var o;2==arguments.length||0>(o=goog.array.indexOf(e,i))?e.push(t):goog.array.insertAt(e,t,o)},goog.array.remove=function(e,t){var i,o=goog.array.indexOf(e,t);return(i=0<=o)&&goog.array.removeAt(e,o),i},goog.array.removeAt=function(e,t){return goog.asserts.assert(null!=e.length),1==Array.prototype.splice.call(e,t,1).length},goog.array.removeIf=function(e,t,i){return 0<=(t=goog.array.findIndex(e,t,i))&&(goog.array.removeAt(e,t),!0)},goog.array.removeAllIf=function(e,t,i){var o=0;return goog.array.forEachRight(e,function(n,r){t.call(i,n,r,e)&&goog.array.removeAt(e,r)&&o++}),o},goog.array.concat=function(e){return Array.prototype.concat.apply(Array.prototype,arguments)},goog.array.join=function(e){return Array.prototype.concat.apply(Array.prototype,arguments)},goog.array.toArray=function(e){var t=e.length;if(0<t){for(var i=Array(t),o=0;o<t;o++)i[o]=e[o];return i}return[]},goog.array.clone=goog.array.toArray,goog.array.extend=function(e,t){for(var i=1;i<arguments.length;i++){var o=arguments[i];if(goog.isArrayLike(o)){var n=e.length||0,r=o.length||0;e.length=n+r;for(var a=0;a<r;a++)e[n+a]=o[a]}else e.push(o)}},goog.array.splice=function(e,t,i,o){return goog.asserts.assert(null!=e.length),Array.prototype.splice.apply(e,goog.array.slice(arguments,1))},goog.array.slice=function(e,t,i){return goog.asserts.assert(null!=e.length),2>=arguments.length?Array.prototype.slice.call(e,t):Array.prototype.slice.call(e,t,i)},goog.array.removeDuplicates=function(e,t,i){t=t||e;var o=function(e){return goog.isObject(e)?"o"+goog.getUid(e):(typeof e).charAt(0)+e};i=i||o,o={};for(var n=0,r=0;r<e.length;){var a=e[r++],s=i(a);Object.prototype.hasOwnProperty.call(o,s)||(o[s]=!0,t[n++]=a)}t.length=n},goog.array.binarySearch=function(e,t,i){return goog.array.binarySearch_(e,i||goog.array.defaultCompare,!1,t)},goog.array.binarySelect=function(e,t,i){return goog.array.binarySearch_(e,t,!0,void 0,i)},goog.array.binarySearch_=function(e,t,i,o,n){for(var r,a=0,s=e.length;a<s;){var p,u=a+s>>1;0<(p=i?t.call(n,e[u],u,e):t(o,e[u]))?a=u+1:(s=u,r=!p)}return r?a:~a},goog.array.sort=function(e,t){e.sort(t||goog.array.defaultCompare)},goog.array.stableSort=function(e,t){for(var i=0;i<e.length;i++)e[i]={index:i,value:e[i]};var o=t||goog.array.defaultCompare;for(goog.array.sort(e,function(e,t){return o(e.value,t.value)||e.index-t.index}),i=0;i<e.length;i++)e[i]=e[i].value},goog.array.sortByKey=function(e,t,i){var o=i||goog.array.defaultCompare;goog.array.sort(e,function(e,i){return o(t(e),t(i))})},goog.array.sortObjectsByKey=function(e,t,i){goog.array.sortByKey(e,function(e){return e[t]},i)},goog.array.isSorted=function(e,t,i){t=t||goog.array.defaultCompare;for(var o=1;o<e.length;o++){var n=t(e[o-1],e[o]);if(0<n||0==n&&i)return!1}return!0},goog.array.equals=function(e,t,i){if(!goog.isArrayLike(e)||!goog.isArrayLike(t)||e.length!=t.length)return!1;var o=e.length;i=i||goog.array.defaultCompareEquality;for(var n=0;n<o;n++)if(!i(e[n],t[n]))return!1;return!0},goog.array.compare3=function(e,t,i){i=i||goog.array.defaultCompare;for(var o=Math.min(e.length,t.length),n=0;n<o;n++){var r=i(e[n],t[n]);if(0!=r)return r}return goog.array.defaultCompare(e.length,t.length)},goog.array.defaultCompare=function(e,t){return e>t?1:e<t?-1:0},goog.array.inverseDefaultCompare=function(e,t){return-goog.array.defaultCompare(e,t)},goog.array.defaultCompareEquality=function(e,t){return e===t},goog.array.binaryInsert=function(e,t,i){return 0>(i=goog.array.binarySearch(e,t,i))&&(goog.array.insertAt(e,t,-(i+1)),!0)},goog.array.binaryRemove=function(e,t,i){return 0<=(t=goog.array.binarySearch(e,t,i))&&goog.array.removeAt(e,t)},goog.array.bucket=function(e,t,i){for(var o={},n=0;n<e.length;n++){var r=e[n],a=t.call(i,r,n,e);goog.isDef(a)&&(o[a]||(o[a]=[])).push(r)}return o},goog.array.toObject=function(e,t,i){var o={};return goog.array.forEach(e,function(n,r){o[t.call(i,n,r,e)]=n}),o},goog.array.range=function(e,t,i){var o=[],n=0,r=e;if(void 0!==t&&(n=e,r=t),0>(i=i||1)*(r-n))return[];if(0<i)for(e=n;e<r;e+=i)o.push(e);else for(e=n;e>r;e+=i)o.push(e);return o},goog.array.repeat=function(e,t){for(var i=[],o=0;o<t;o++)i[o]=e;return i},goog.array.flatten=function(e){for(var t=[],i=0;i<arguments.length;i++){var o=arguments[i];if(goog.isArray(o))for(var n=0;n<o.length;n+=8192)for(var r=goog.array.slice(o,n,n+8192),a=(r=goog.array.flatten.apply(null,r),0);a<r.length;a++)t.push(r[a]);else t.push(o)}return t},goog.array.rotate=function(e,t){return goog.asserts.assert(null!=e.length),e.length&&(0<(t%=e.length)?Array.prototype.unshift.apply(e,e.splice(-t,t)):0>t&&Array.prototype.push.apply(e,e.splice(0,-t))),e},goog.array.moveItem=function(e,t,i){goog.asserts.assert(0<=t&&t<e.length),goog.asserts.assert(0<=i&&i<e.length),t=Array.prototype.splice.call(e,t,1),Array.prototype.splice.call(e,i,0,t[0])},goog.array.zip=function(e){if(!arguments.length)return[];for(var t=[],i=arguments[0].length,o=1;o<arguments.length;o++)arguments[o].length<i&&(i=arguments[o].length);for(o=0;o<i;o++){for(var n=[],r=0;r<arguments.length;r++)n.push(arguments[r][o]);t.push(n)}return t},goog.array.shuffle=function(e,t){for(var i=t||Math.random,o=e.length-1;0<o;o--){var n=Math.floor(i()*(o+1)),r=e[o];e[o]=e[n],e[n]=r}},goog.array.copyByIndex=function(e,t){var i=[];return goog.array.forEach(t,function(t){i.push(e[t])}),i},goog.crypt={},goog.crypt.stringToByteArray=function(e){for(var t=[],i=0,o=0;o<e.length;o++){for(var n=e.charCodeAt(o);255<n;)t[i++]=255&n,n>>=8;t[i++]=n}return t},goog.crypt.byteArrayToString=function(e){if(8192>=e.length)return String.fromCharCode.apply(null,e);for(var t="",i=0;i<e.length;i+=8192){var o=goog.array.slice(e,i,i+8192);t+=String.fromCharCode.apply(null,o)}return t},goog.crypt.byteArrayToHex=function(e){return goog.array.map(e,function(e){return 1<(e=e.toString(16)).length?e:"0"+e}).join("")},goog.crypt.hexToByteArray=function(e){goog.asserts.assert(0==e.length%2,"Key string length must be multiple of 2");for(var t=[],i=0;i<e.length;i+=2)t.push(parseInt(e.substring(i,i+2),16));return t},goog.crypt.stringToUtf8ByteArray=function(e){for(var t=[],i=0,o=0;o<e.length;o++){var n=e.charCodeAt(o);128>n?t[i++]=n:(2048>n?t[i++]=n>>6|192:(55296==(64512&n)&&o+1<e.length&&56320==(64512&e.charCodeAt(o+1))?(n=65536+((1023&n)<<10)+(1023&e.charCodeAt(++o)),t[i++]=n>>18|240,t[i++]=n>>12&63|128):t[i++]=n>>12|224,t[i++]=n>>6&63|128),t[i++]=63&n|128)}return t},goog.crypt.utf8ByteArrayToString=function(e){for(var t=[],i=0,o=0;i<e.length;)if(128>(a=e[i++]))t[o++]=String.fromCharCode(a);else if(191<a&&224>a){var n=e[i++];t[o++]=String.fromCharCode((31&a)<<6|63&n)}else if(239<a&&365>a){n=e[i++];var r=e[i++],a=((7&a)<<18|(63&n)<<12|(63&r)<<6|63&e[i++])-65536;t[o++]=String.fromCharCode(55296+(a>>10)),t[o++]=String.fromCharCode(56320+(1023&a))}else n=e[i++],r=e[i++],t[o++]=String.fromCharCode((15&a)<<12|(63&n)<<6|63&r);return t.join("")},goog.crypt.xorByteArray=function(e,t){goog.asserts.assert(e.length==t.length,"XOR array lengths must match");for(var i=[],o=0;o<e.length;o++)i.push(e[o]^t[o]);return i},goog.labs={},goog.labs.userAgent={},goog.labs.userAgent.util={},goog.labs.userAgent.util.getNativeUserAgentString_=function(){var e=goog.labs.userAgent.util.getNavigator_();return e&&(e=e.userAgent)?e:""},goog.labs.userAgent.util.getNavigator_=function(){return goog.global.navigator},goog.labs.userAgent.util.userAgent_=goog.labs.userAgent.util.getNativeUserAgentString_(),goog.labs.userAgent.util.setUserAgent=function(e){goog.labs.userAgent.util.userAgent_=e||goog.labs.userAgent.util.getNativeUserAgentString_()},goog.labs.userAgent.util.getUserAgent=function(){return goog.labs.userAgent.util.userAgent_},goog.labs.userAgent.util.matchUserAgent=function(e){var t=goog.labs.userAgent.util.getUserAgent();return goog.string.contains(t,e)},goog.labs.userAgent.util.matchUserAgentIgnoreCase=function(e){var t=goog.labs.userAgent.util.getUserAgent();return goog.string.caseInsensitiveContains(t,e)},goog.labs.userAgent.util.extractVersionTuples=function(e){for(var t,i=RegExp("(\\w[\\w ]+)/([^\\s]+)\\s*(?:\\((.*?)\\))?","g"),o=[];t=i.exec(e);)o.push([t[1],t[2],t[3]||void 0]);return o},goog.labs.userAgent.platform={},goog.labs.userAgent.platform.isAndroid=function(){return goog.labs.userAgent.util.matchUserAgent("Android")},goog.labs.userAgent.platform.isIpod=function(){return goog.labs.userAgent.util.matchUserAgent("iPod")},goog.labs.userAgent.platform.isIphone=function(){return goog.labs.userAgent.util.matchUserAgent("iPhone")&&!goog.labs.userAgent.util.matchUserAgent("iPod")&&!goog.labs.userAgent.util.matchUserAgent("iPad")},goog.labs.userAgent.platform.isIpad=function(){return goog.labs.userAgent.util.matchUserAgent("iPad")},goog.labs.userAgent.platform.isIos=function(){return goog.labs.userAgent.platform.isIphone()||goog.labs.userAgent.platform.isIpad()||goog.labs.userAgent.platform.isIpod()},goog.labs.userAgent.platform.isMacintosh=function(){return goog.labs.userAgent.util.matchUserAgent("Macintosh")},goog.labs.userAgent.platform.isLinux=function(){return goog.labs.userAgent.util.matchUserAgent("Linux")},goog.labs.userAgent.platform.isWindows=function(){return goog.labs.userAgent.util.matchUserAgent("Windows")},goog.labs.userAgent.platform.isChromeOS=function(){return goog.labs.userAgent.util.matchUserAgent("CrOS")},goog.labs.userAgent.platform.getVersion=function(){var e=goog.labs.userAgent.util.getUserAgent(),t="";return goog.labs.userAgent.platform.isWindows()?t=(e=(t=/Windows (?:NT|Phone) ([0-9.]+)/).exec(e))?e[1]:"0.0":goog.labs.userAgent.platform.isIos()?t=(e=(t=/(?:iPhone|iPod|iPad|CPU)\s+OS\s+(\S+)/).exec(e))&&e[1].replace(/_/g,"."):goog.labs.userAgent.platform.isMacintosh()?t=(e=(t=/Mac OS X ([0-9_.]+)/).exec(e))?e[1].replace(/_/g,"."):"10":goog.labs.userAgent.platform.isAndroid()?t=(e=(t=/Android\s+([^\);]+)(\)|;)/).exec(e))&&e[1]:goog.labs.userAgent.platform.isChromeOS()&&(t=(e=(t=/(?:CrOS\s+(?:i686|x86_64)\s+([0-9.]+))/).exec(e))&&e[1]),t||""},goog.labs.userAgent.platform.isVersionOrHigher=function(e){return 0<=goog.string.compareVersions(goog.labs.userAgent.platform.getVersion(),e)},goog.object={},goog.object.forEach=function(e,t,i){for(var o in e)t.call(i,e[o],o,e)},goog.object.filter=function(e,t,i){var o,n={};for(o in e)t.call(i,e[o],o,e)&&(n[o]=e[o]);return n},goog.object.map=function(e,t,i){var o,n={};for(o in e)n[o]=t.call(i,e[o],o,e);return n},goog.object.some=function(e,t,i){for(var o in e)if(t.call(i,e[o],o,e))return!0;return!1},goog.object.every=function(e,t,i){for(var o in e)if(!t.call(i,e[o],o,e))return!1;return!0},goog.object.getCount=function(e){var t,i=0;for(t in e)i++;return i},goog.object.getAnyKey=function(e){for(var t in e)return t},goog.object.getAnyValue=function(e){for(var t in e)return e[t]},goog.object.contains=function(e,t){return goog.object.containsValue(e,t)},goog.object.getValues=function(e){var t,i=[],o=0;for(t in e)i[o++]=e[t];return i},goog.object.getKeys=function(e){var t,i=[],o=0;for(t in e)i[o++]=t;return i},goog.object.getValueByKeys=function(e,t){for(var i=(o=goog.isArrayLike(t))?t:arguments,o=o?0:1;o<i.length&&(e=e[i[o]],goog.isDef(e));o++);return e},goog.object.containsKey=function(e,t){return null!==e&&t in e},goog.object.containsValue=function(e,t){for(var i in e)if(e[i]==t)return!0;return!1},goog.object.findKey=function(e,t,i){for(var o in e)if(t.call(i,e[o],o,e))return o},goog.object.findValue=function(e,t,i){return(t=goog.object.findKey(e,t,i))&&e[t]},goog.object.isEmpty=function(e){for(var t in e)return!1;return!0},goog.object.clear=function(e){for(var t in e)delete e[t]},goog.object.remove=function(e,t){var i;return(i=t in e)&&delete e[t],i},goog.object.add=function(e,t,i){if(null!==e&&t in e)throw Error('The object already contains the key "'+t+'"');goog.object.set(e,t,i)},goog.object.get=function(e,t,i){return null!==e&&t in e?e[t]:i},goog.object.set=function(e,t,i){e[t]=i},goog.object.setIfUndefined=function(e,t,i){return t in e?e[t]:e[t]=i},goog.object.setWithReturnValueIfNotSet=function(e,t,i){return t in e?e[t]:(i=i(),e[t]=i)},goog.object.equals=function(e,t){for(var i in e)if(!(i in t)||e[i]!==t[i])return!1;for(i in t)if(!(i in e))return!1;return!0},goog.object.clone=function(e){var t,i={};for(t in e)i[t]=e[t];return i},goog.object.unsafeClone=function(e){if("object"==(i=goog.typeOf(e))||"array"==i){if(goog.isFunction(e.clone))return e.clone();var t,i="array"==i?[]:{};for(t in e)i[t]=goog.object.unsafeClone(e[t]);return i}return e},goog.object.transpose=function(e){var t,i={};for(t in e)i[e[t]]=t;return i},goog.object.PROTOTYPE_FIELDS_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),goog.object.extend=function(e,t){for(var i,o,n=1;n<arguments.length;n++){for(i in o=arguments[n])e[i]=o[i];for(var r=0;r<goog.object.PROTOTYPE_FIELDS_.length;r++)i=goog.object.PROTOTYPE_FIELDS_[r],Object.prototype.hasOwnProperty.call(o,i)&&(e[i]=o[i])}},goog.object.create=function(e){var t=arguments.length;if(1==t&&goog.isArray(arguments[0]))return goog.object.create.apply(null,arguments[0]);if(t%2)throw Error("Uneven number of arguments");for(var i={},o=0;o<t;o+=2)i[arguments[o]]=arguments[o+1];return i},goog.object.createSet=function(e){var t=arguments.length;if(1==t&&goog.isArray(arguments[0]))return goog.object.createSet.apply(null,arguments[0]);for(var i={},o=0;o<t;o++)i[arguments[o]]=!0;return i},goog.object.createImmutableView=function(e){var t=e;return Object.isFrozen&&!Object.isFrozen(e)&&(t=Object.create(e),Object.freeze(t)),t},goog.object.isImmutableView=function(e){return!!Object.isFrozen&&Object.isFrozen(e)},goog.labs.userAgent.browser={},goog.labs.userAgent.browser.matchOpera_=function(){return goog.labs.userAgent.util.matchUserAgent("Opera")||goog.labs.userAgent.util.matchUserAgent("OPR")},goog.labs.userAgent.browser.matchIE_=function(){return goog.labs.userAgent.util.matchUserAgent("Trident")||goog.labs.userAgent.util.matchUserAgent("MSIE")},goog.labs.userAgent.browser.matchEdge_=function(){return goog.labs.userAgent.util.matchUserAgent("Edge")},goog.labs.userAgent.browser.matchFirefox_=function(){return goog.labs.userAgent.util.matchUserAgent("Firefox")},goog.labs.userAgent.browser.matchSafari_=function(){return goog.labs.userAgent.util.matchUserAgent("Safari")&&!(goog.labs.userAgent.browser.matchChrome_()||goog.labs.userAgent.browser.matchCoast_()||goog.labs.userAgent.browser.matchOpera_()||goog.labs.userAgent.browser.matchEdge_()||goog.labs.userAgent.browser.isSilk()||goog.labs.userAgent.util.matchUserAgent("Android"))},goog.labs.userAgent.browser.matchCoast_=function(){return goog.labs.userAgent.util.matchUserAgent("Coast")},goog.labs.userAgent.browser.matchIosWebview_=function(){return(goog.labs.userAgent.util.matchUserAgent("iPad")||goog.labs.userAgent.util.matchUserAgent("iPhone"))&&!goog.labs.userAgent.browser.matchSafari_()&&!goog.labs.userAgent.browser.matchChrome_()&&!goog.labs.userAgent.browser.matchCoast_()&&goog.labs.userAgent.util.matchUserAgent("AppleWebKit")},goog.labs.userAgent.browser.matchChrome_=function(){return(goog.labs.userAgent.util.matchUserAgent("Chrome")||goog.labs.userAgent.util.matchUserAgent("CriOS"))&&!goog.labs.userAgent.browser.matchOpera_()&&!goog.labs.userAgent.browser.matchEdge_()},goog.labs.userAgent.browser.matchAndroidBrowser_=function(){return goog.labs.userAgent.util.matchUserAgent("Android")&&!(goog.labs.userAgent.browser.isChrome()||goog.labs.userAgent.browser.isFirefox()||goog.labs.userAgent.browser.isOpera()||goog.labs.userAgent.browser.isSilk())},goog.labs.userAgent.browser.isOpera=goog.labs.userAgent.browser.matchOpera_,goog.labs.userAgent.browser.isIE=goog.labs.userAgent.browser.matchIE_,goog.labs.userAgent.browser.isEdge=goog.labs.userAgent.browser.matchEdge_,goog.labs.userAgent.browser.isFirefox=goog.labs.userAgent.browser.matchFirefox_,goog.labs.userAgent.browser.isSafari=goog.labs.userAgent.browser.matchSafari_,goog.labs.userAgent.browser.isCoast=goog.labs.userAgent.browser.matchCoast_,goog.labs.userAgent.browser.isIosWebview=goog.labs.userAgent.browser.matchIosWebview_,goog.labs.userAgent.browser.isChrome=goog.labs.userAgent.browser.matchChrome_,goog.labs.userAgent.browser.isAndroidBrowser=goog.labs.userAgent.browser.matchAndroidBrowser_,goog.labs.userAgent.browser.isSilk=function(){return goog.labs.userAgent.util.matchUserAgent("Silk")},goog.labs.userAgent.browser.getVersion=function(){function e(e){return e=goog.array.find(e,o),i[e]||""}var t=goog.labs.userAgent.util.getUserAgent();if(goog.labs.userAgent.browser.isIE())return goog.labs.userAgent.browser.getIEVersion_(t);t=goog.labs.userAgent.util.extractVersionTuples(t);var i={};goog.array.forEach(t,function(e){i[e[0]]=e[1]});var o=goog.partial(goog.object.containsKey,i);return goog.labs.userAgent.browser.isOpera()?e(["Version","Opera","OPR"]):goog.labs.userAgent.browser.isEdge()?e(["Edge"]):goog.labs.userAgent.browser.isChrome()?e(["Chrome","CriOS"]):(t=t[2])&&t[1]||""},goog.labs.userAgent.browser.isVersionOrHigher=function(e){return 0<=goog.string.compareVersions(goog.labs.userAgent.browser.getVersion(),e)},goog.labs.userAgent.browser.getIEVersion_=function(e){if((t=/rv: *([\d\.]*)/.exec(e))&&t[1])return t[1];var t="",i=/MSIE +([\d\.]+)/.exec(e);if(i&&i[1])if(e=/Trident\/(\d.\d)/.exec(e),"7.0"==i[1])if(e&&e[1])switch(e[1]){case"4.0":t="8.0";break;case"5.0":t="9.0";break;case"6.0":t="10.0";break;case"7.0":t="11.0"}else t="7.0";else t=i[1];return t},goog.labs.userAgent.engine={},goog.labs.userAgent.engine.isPresto=function(){return goog.labs.userAgent.util.matchUserAgent("Presto")},goog.labs.userAgent.engine.isTrident=function(){return goog.labs.userAgent.util.matchUserAgent("Trident")||goog.labs.userAgent.util.matchUserAgent("MSIE")},goog.labs.userAgent.engine.isEdge=function(){return goog.labs.userAgent.util.matchUserAgent("Edge")},goog.labs.userAgent.engine.isWebKit=function(){return goog.labs.userAgent.util.matchUserAgentIgnoreCase("WebKit")&&!goog.labs.userAgent.engine.isEdge()},goog.labs.userAgent.engine.isGecko=function(){return goog.labs.userAgent.util.matchUserAgent("Gecko")&&!goog.labs.userAgent.engine.isWebKit()&&!goog.labs.userAgent.engine.isTrident()&&!goog.labs.userAgent.engine.isEdge()},goog.labs.userAgent.engine.getVersion=function(){if(t=goog.labs.userAgent.util.getUserAgent()){var e,t=goog.labs.userAgent.util.extractVersionTuples(t),i=goog.labs.userAgent.engine.getEngineTuple_(t);if(i)return"Gecko"==i[0]?goog.labs.userAgent.engine.getVersionForKey_(t,"Firefox"):i[1];if((t=t[0])&&(e=t[2])&&(e=/Trident\/([^\s;]+)/.exec(e)))return e[1]}return""},goog.labs.userAgent.engine.getEngineTuple_=function(e){if(!goog.labs.userAgent.engine.isEdge())return e[1];for(var t=0;t<e.length;t++){var i=e[t];if("Edge"==i[0])return i}},goog.labs.userAgent.engine.isVersionOrHigher=function(e){return 0<=goog.string.compareVersions(goog.labs.userAgent.engine.getVersion(),e)},goog.labs.userAgent.engine.getVersionForKey_=function(e,t){var i=goog.array.find(e,function(e){return t==e[0]});return i&&i[1]||""},goog.userAgent={},goog.userAgent.ASSUME_IE=!1,goog.userAgent.ASSUME_EDGE=!1,goog.userAgent.ASSUME_GECKO=!1,goog.userAgent.ASSUME_WEBKIT=!1,goog.userAgent.ASSUME_MOBILE_WEBKIT=!1,goog.userAgent.ASSUME_OPERA=!1,goog.userAgent.ASSUME_ANY_VERSION=!1,goog.userAgent.BROWSER_KNOWN_=goog.userAgent.ASSUME_IE||goog.userAgent.ASSUME_EDGE||goog.userAgent.ASSUME_GECKO||goog.userAgent.ASSUME_MOBILE_WEBKIT||goog.userAgent.ASSUME_WEBKIT||goog.userAgent.ASSUME_OPERA,goog.userAgent.getUserAgentString=function(){return goog.labs.userAgent.util.getUserAgent()},goog.userAgent.getNavigator=function(){return goog.global.navigator||null},goog.userAgent.OPERA=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_OPERA:goog.labs.userAgent.browser.isOpera(),goog.userAgent.IE=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_IE:goog.labs.userAgent.browser.isIE(),goog.userAgent.EDGE=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_EDGE:goog.labs.userAgent.engine.isEdge(),goog.userAgent.EDGE_OR_IE=goog.userAgent.EDGE||goog.userAgent.IE,goog.userAgent.GECKO=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_GECKO:goog.labs.userAgent.engine.isGecko(),goog.userAgent.WEBKIT=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_WEBKIT||goog.userAgent.ASSUME_MOBILE_WEBKIT:goog.labs.userAgent.engine.isWebKit(),goog.userAgent.isMobile_=function(){return goog.userAgent.WEBKIT&&goog.labs.userAgent.util.matchUserAgent("Mobile")},goog.userAgent.MOBILE=goog.userAgent.ASSUME_MOBILE_WEBKIT||goog.userAgent.isMobile_(),goog.userAgent.SAFARI=goog.userAgent.WEBKIT,goog.userAgent.determinePlatform_=function(){var e=goog.userAgent.getNavigator();return e&&e.platform||""},goog.userAgent.PLATFORM=goog.userAgent.determinePlatform_(),goog.userAgent.ASSUME_MAC=!1,goog.userAgent.ASSUME_WINDOWS=!1,goog.userAgent.ASSUME_LINUX=!1,goog.userAgent.ASSUME_X11=!1,goog.userAgent.ASSUME_ANDROID=!1,goog.userAgent.ASSUME_IPHONE=!1,goog.userAgent.ASSUME_IPAD=!1,goog.userAgent.PLATFORM_KNOWN_=goog.userAgent.ASSUME_MAC||goog.userAgent.ASSUME_WINDOWS||goog.userAgent.ASSUME_LINUX||goog.userAgent.ASSUME_X11||goog.userAgent.ASSUME_ANDROID||goog.userAgent.ASSUME_IPHONE||goog.userAgent.ASSUME_IPAD,goog.userAgent.MAC=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_MAC:goog.labs.userAgent.platform.isMacintosh(),goog.userAgent.WINDOWS=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_WINDOWS:goog.labs.userAgent.platform.isWindows(),goog.userAgent.isLegacyLinux_=function(){return goog.labs.userAgent.platform.isLinux()||goog.labs.userAgent.platform.isChromeOS()},goog.userAgent.LINUX=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_LINUX:goog.userAgent.isLegacyLinux_(),goog.userAgent.isX11_=function(){var e=goog.userAgent.getNavigator();return!!e&&goog.string.contains(e.appVersion||"","X11")},goog.userAgent.X11=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_X11:goog.userAgent.isX11_(),goog.userAgent.ANDROID=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_ANDROID:goog.labs.userAgent.platform.isAndroid(),goog.userAgent.IPHONE=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPHONE:goog.labs.userAgent.platform.isIphone(),goog.userAgent.IPAD=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPAD:goog.labs.userAgent.platform.isIpad(),goog.userAgent.operaVersion_=function(){var e=goog.global.opera.version;try{return e()}catch(b){return e}},goog.userAgent.determineVersion_=function(){if(goog.userAgent.OPERA&&goog.global.opera)return goog.userAgent.operaVersion_();var e="",t=goog.userAgent.getVersionRegexResult_();return t&&(e=t?t[1]:""),goog.userAgent.IE&&(t=goog.userAgent.getDocumentMode_())>parseFloat(e)?String(t):e},goog.userAgent.getVersionRegexResult_=function(){var e=goog.userAgent.getUserAgentString();return goog.userAgent.GECKO?/rv\:([^\);]+)(\)|;)/.exec(e):goog.userAgent.EDGE?/Edge\/([\d\.]+)/.exec(e):goog.userAgent.IE?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):goog.userAgent.WEBKIT?/WebKit\/(\S+)/.exec(e):void 0},goog.userAgent.getDocumentMode_=function(){var e=goog.global.document;return e?e.documentMode:void 0},goog.userAgent.VERSION=goog.userAgent.determineVersion_(),goog.userAgent.compare=function(e,t){return goog.string.compareVersions(e,t)},goog.userAgent.isVersionOrHigherCache_={},goog.userAgent.isVersionOrHigher=function(e){return goog.userAgent.ASSUME_ANY_VERSION||goog.userAgent.isVersionOrHigherCache_[e]||(goog.userAgent.isVersionOrHigherCache_[e]=0<=goog.string.compareVersions(goog.userAgent.VERSION,e))},goog.userAgent.isVersion=goog.userAgent.isVersionOrHigher,goog.userAgent.isDocumentModeOrHigher=function(e){return Number(goog.userAgent.DOCUMENT_MODE)>=e},goog.userAgent.isDocumentMode=goog.userAgent.isDocumentModeOrHigher,goog.userAgent.DOCUMENT_MODE=(a=goog.global.document,b=goog.userAgent.getDocumentMode_(),a&&goog.userAgent.IE?b||("CSS1Compat"==a.compatMode?parseInt(goog.userAgent.VERSION,10):5):void 0),goog.userAgent.product={},goog.userAgent.product.ASSUME_FIREFOX=!1,goog.userAgent.product.ASSUME_IPHONE=!1,goog.userAgent.product.ASSUME_IPAD=!1,goog.userAgent.product.ASSUME_ANDROID=!1,goog.userAgent.product.ASSUME_CHROME=!1,goog.userAgent.product.ASSUME_SAFARI=!1,goog.userAgent.product.PRODUCT_KNOWN_=goog.userAgent.ASSUME_IE||goog.userAgent.ASSUME_EDGE||goog.userAgent.ASSUME_OPERA||goog.userAgent.product.ASSUME_FIREFOX||goog.userAgent.product.ASSUME_IPHONE||goog.userAgent.product.ASSUME_IPAD||goog.userAgent.product.ASSUME_ANDROID||goog.userAgent.product.ASSUME_CHROME||goog.userAgent.product.ASSUME_SAFARI,goog.userAgent.product.OPERA=goog.userAgent.OPERA,goog.userAgent.product.IE=goog.userAgent.IE,goog.userAgent.product.EDGE=goog.userAgent.EDGE,goog.userAgent.product.FIREFOX=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_FIREFOX:goog.labs.userAgent.browser.isFirefox(),goog.userAgent.product.isIphoneOrIpod_=function(){return goog.labs.userAgent.platform.isIphone()||goog.labs.userAgent.platform.isIpod()},goog.userAgent.product.IPHONE=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_IPHONE:goog.userAgent.product.isIphoneOrIpod_(),goog.userAgent.product.IPAD=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_IPAD:goog.labs.userAgent.platform.isIpad(),goog.userAgent.product.ANDROID=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_ANDROID:goog.labs.userAgent.browser.isAndroidBrowser(),goog.userAgent.product.CHROME=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_CHROME:goog.labs.userAgent.browser.isChrome(),goog.userAgent.product.isSafariDesktop_=function(){return goog.labs.userAgent.browser.isSafari()&&!goog.labs.userAgent.platform.isIos()},goog.userAgent.product.SAFARI=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_SAFARI:goog.userAgent.product.isSafariDesktop_(),goog.crypt.base64={},goog.crypt.base64.byteToCharMap_=null,goog.crypt.base64.charToByteMap_=null,goog.crypt.base64.byteToCharMapWebSafe_=null,goog.crypt.base64.ENCODED_VALS_BASE="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",goog.crypt.base64.ENCODED_VALS=goog.crypt.base64.ENCODED_VALS_BASE+"+/=",goog.crypt.base64.ENCODED_VALS_WEBSAFE=goog.crypt.base64.ENCODED_VALS_BASE+"-_.",goog.crypt.base64.ASSUME_NATIVE_SUPPORT_=goog.userAgent.GECKO||goog.userAgent.WEBKIT&&!goog.userAgent.product.SAFARI||goog.userAgent.OPERA,goog.crypt.base64.HAS_NATIVE_ENCODE_=goog.crypt.base64.ASSUME_NATIVE_SUPPORT_||"function"==typeof goog.global.btoa,goog.crypt.base64.HAS_NATIVE_DECODE_=goog.crypt.base64.ASSUME_NATIVE_SUPPORT_||!goog.userAgent.product.SAFARI&&!goog.userAgent.IE&&"function"==typeof goog.global.atob,goog.crypt.base64.encodeByteArray=function(e,t){goog.asserts.assert(goog.isArrayLike(e),"encodeByteArray takes an array as a parameter"),goog.crypt.base64.init_();for(var i=t?goog.crypt.base64.byteToCharMapWebSafe_:goog.crypt.base64.byteToCharMap_,o=[],n=0;n<e.length;n+=3){var r=e[n],a=n+1<e.length,s=a?e[n+1]:0,p=n+2<e.length,u=r>>2,c=(r=(3&r)<<4|s>>4,s=(15&s)<<2|(c=p?e[n+2]:0)>>6,63&c);p||(c=64,a||(s=64)),o.push(i[u],i[r],i[s],i[c])}return o.join("")},goog.crypt.base64.encodeString=function(e,t){return goog.crypt.base64.HAS_NATIVE_ENCODE_&&!t?goog.global.btoa(e):goog.crypt.base64.encodeByteArray(goog.crypt.stringToByteArray(e),t)},goog.crypt.base64.decodeString=function(e,t){if(goog.crypt.base64.HAS_NATIVE_DECODE_&&!t)return goog.global.atob(e);var i="";return goog.crypt.base64.decodeStringInternal_(e,function(e){i+=String.fromCharCode(e)}),i},goog.crypt.base64.decodeStringToByteArray=function(e){var t=[];return goog.crypt.base64.decodeStringInternal_(e,function(e){t.push(e)}),t},goog.crypt.base64.decodeStringToUint8Array=function(e){goog.asserts.assert(!goog.userAgent.IE||goog.userAgent.isVersionOrHigher("10"),"Browser does not support typed arrays");var t=new Uint8Array(Math.ceil(3*e.length/4)),i=0;return goog.crypt.base64.decodeStringInternal_(e,function(e){t[i++]=e}),t.subarray(0,i)},goog.crypt.base64.decodeStringInternal_=function(e,t){function i(t){for(;o<e.length;){var i=e.charAt(o++),n=goog.crypt.base64.charToByteMap_[i];if(null!=n)return n;if(!goog.string.isEmptyOrWhitespace(i))throw Error("Unknown base64 encoding at char: "+i)}return t}goog.crypt.base64.init_();for(var o=0;;){var n=i(-1),r=i(0),a=i(64),s=i(64);if(64===s&&-1===n)break;t(n<<2|r>>4),64!=a&&(t(r<<4&240|a>>2),64!=s&&t(a<<6&192|s))}},goog.crypt.base64.init_=function(){if(!goog.crypt.base64.byteToCharMap_){goog.crypt.base64.byteToCharMap_={},goog.crypt.base64.charToByteMap_={},goog.crypt.base64.byteToCharMapWebSafe_={};for(var e=0;e<goog.crypt.base64.ENCODED_VALS.length;e++)goog.crypt.base64.byteToCharMap_[e]=goog.crypt.base64.ENCODED_VALS.charAt(e),goog.crypt.base64.charToByteMap_[goog.crypt.base64.byteToCharMap_[e]]=e,goog.crypt.base64.byteToCharMapWebSafe_[e]=goog.crypt.base64.ENCODED_VALS_WEBSAFE.charAt(e),e>=goog.crypt.base64.ENCODED_VALS_BASE.length&&(goog.crypt.base64.charToByteMap_[goog.crypt.base64.ENCODED_VALS_WEBSAFE.charAt(e)]=e)}},jspb.ExtensionFieldInfo=function(e,t,i,o,n){this.fieldIndex=e,this.fieldName=t,this.ctor=i,this.toObjectFn=o,this.isRepeated=n},jspb.ExtensionFieldBinaryInfo=function(e,t,i,o,n,r){this.fieldInfo=e,this.binaryReaderFn=t,this.binaryWriterFn=i,this.binaryMessageSerializeFn=o,this.binaryMessageDeserializeFn=n,this.isPacked=r},jspb.ExtensionFieldInfo.prototype.isMessageType=function(){return!!this.ctor},jspb.Message=function(){},jspb.Message.GENERATE_TO_OBJECT=!0,jspb.Message.GENERATE_FROM_OBJECT=!goog.DISALLOW_TEST_ONLY_CODE,jspb.Message.GENERATE_TO_STRING=!0,jspb.Message.ASSUME_LOCAL_ARRAYS=!1,jspb.Message.MINIMIZE_MEMORY_ALLOCATIONS=COMPILED,jspb.Message.SUPPORTS_UINT8ARRAY_="function"==typeof Uint8Array,jspb.Message.prototype.getJsPbMessageId=function(){return this.messageId_},jspb.Message.getIndex_=function(e,t){return t+e.arrayIndexOffset_},jspb.Message.initialize=function(e,t,i,o,n,r){if(e.wrappers_=jspb.Message.MINIMIZE_MEMORY_ALLOCATIONS?null:{},t||(t=i?[i]:[]),e.messageId_=i?String(i):void 0,e.arrayIndexOffset_=0===i?-1:0,e.array=t,jspb.Message.initPivotAndExtensionObject_(e,o),e.convertedFloatingPointFields_={},n)for(t=0;t<n.length;t++)(i=n[t])<e.pivot_?(i=jspb.Message.getIndex_(e,i),e.array[i]=e.array[i]||(jspb.Message.MINIMIZE_MEMORY_ALLOCATIONS?jspb.Message.EMPTY_LIST_SENTINEL_:[])):(jspb.Message.maybeInitEmptyExtensionObject_(e),e.extensionObject_[i]=e.extensionObject_[i]||(jspb.Message.MINIMIZE_MEMORY_ALLOCATIONS?jspb.Message.EMPTY_LIST_SENTINEL_:[]));r&&r.length&&goog.array.forEach(r,goog.partial(jspb.Message.computeOneofCase,e))},jspb.Message.EMPTY_LIST_SENTINEL_=goog.DEBUG&&Object.freeze?Object.freeze([]):[],jspb.Message.isArray_=function(e){return jspb.Message.ASSUME_LOCAL_ARRAYS?e instanceof Array:goog.isArray(e)},jspb.Message.initPivotAndExtensionObject_=function(e,t){if(e.array.length){var i=e.array.length-1,o=e.array[i];if(o&&"object"==typeof o&&!jspb.Message.isArray_(o)&&!(jspb.Message.SUPPORTS_UINT8ARRAY_&&o instanceof Uint8Array))return e.pivot_=i-e.arrayIndexOffset_,void(e.extensionObject_=o)}-1<t?(e.pivot_=t,e.extensionObject_=null):e.pivot_=Number.MAX_VALUE},jspb.Message.maybeInitEmptyExtensionObject_=function(e){var t=jspb.Message.getIndex_(e,e.pivot_);e.array[t]||(e.extensionObject_=e.array[t]={})},jspb.Message.toObjectList=function(e,t,i){for(var o=[],n=0;n<e.length;n++)o[n]=t.call(e[n],i,e[n]);return o},jspb.Message.toObjectExtension=function(e,t,i,o,n){for(var r in i){var a=i[r],s=o.call(e,a);if(null!=s){for(var p in a.fieldName)if(a.fieldName.hasOwnProperty(p))break;t[p]=a.toObjectFn?a.isRepeated?jspb.Message.toObjectList(s,a.toObjectFn,n):a.toObjectFn(n,s):s}}},jspb.Message.serializeBinaryExtensions=function(e,t,i,o){for(var n in i){var r=i[n],a=r.fieldInfo;if(!r.binaryWriterFn)throw Error("Message extension present that was generated without binary serialization support");var s=o.call(e,a);if(null!=s)if(a.isMessageType()){if(!r.binaryMessageSerializeFn)throw Error("Message extension present holding submessage without binary support enabled, and message is being serialized to binary format");r.binaryWriterFn.call(t,a.fieldIndex,s,r.binaryMessageSerializeFn)}else r.binaryWriterFn.call(t,a.fieldIndex,s)}},jspb.Message.readBinaryExtension=function(e,t,i,o,n){var r=i[t.getFieldNumber()];if(r){if(i=r.fieldInfo,!r.binaryReaderFn)throw Error("Deserializing extension whose generated code does not support binary format");var a;i.isMessageType()?(a=new i.ctor,r.binaryReaderFn.call(t,a,r.binaryMessageDeserializeFn)):a=r.binaryReaderFn.call(t),i.isRepeated&&!r.isPacked?(t=o.call(e,i))?t.push(a):n.call(e,i,[a]):n.call(e,i,a)}else t.skipField()},jspb.Message.getField=function(e,t){if(t<e.pivot_){var i=jspb.Message.getIndex_(e,t),o=e.array[i];return o===jspb.Message.EMPTY_LIST_SENTINEL_?e.array[i]=[]:o}if(e.extensionObject_)return(o=e.extensionObject_[t])===jspb.Message.EMPTY_LIST_SENTINEL_?e.extensionObject_[t]=[]:o},jspb.Message.getRepeatedField=function(e,t){if(t<e.pivot_){var i=jspb.Message.getIndex_(e,t),o=e.array[i];return o===jspb.Message.EMPTY_LIST_SENTINEL_?e.array[i]=[]:o}return(o=e.extensionObject_[t])===jspb.Message.EMPTY_LIST_SENTINEL_?e.extensionObject_[t]=[]:o},jspb.Message.getOptionalFloatingPointField=function(e,t){var i=jspb.Message.getField(e,t);return null==i?i:+i},jspb.Message.getRepeatedFloatingPointField=function(e,t){var i=jspb.Message.getRepeatedField(e,t);if(e.convertedFloatingPointFields_||(e.convertedFloatingPointFields_={}),!e.convertedFloatingPointFields_[t]){for(var o=0;o<i.length;o++)i[o]=+i[o];e.convertedFloatingPointFields_[t]=!0}return i},jspb.Message.bytesAsB64=function(e){return null==e||goog.isString(e)?e:jspb.Message.SUPPORTS_UINT8ARRAY_&&e instanceof Uint8Array?goog.crypt.base64.encodeByteArray(e):(goog.asserts.fail("Cannot coerce to b64 string: "+goog.typeOf(e)),null)},jspb.Message.bytesAsU8=function(e){return null==e||e instanceof Uint8Array?e:goog.isString(e)?goog.crypt.base64.decodeStringToUint8Array(e):(goog.asserts.fail("Cannot coerce to Uint8Array: "+goog.typeOf(e)),null)},jspb.Message.bytesListAsB64=function(e){return jspb.Message.assertConsistentTypes_(e),!e.length||goog.isString(e[0])?e:goog.array.map(e,jspb.Message.bytesAsB64)},jspb.Message.bytesListAsU8=function(e){return jspb.Message.assertConsistentTypes_(e),!e.length||e[0]instanceof Uint8Array?e:goog.array.map(e,jspb.Message.bytesAsU8)},jspb.Message.assertConsistentTypes_=function(e){if(goog.DEBUG&&e&&1<e.length){var t=goog.typeOf(e[0]);goog.array.forEach(e,function(e){goog.typeOf(e)!=t&&goog.asserts.fail("Inconsistent type in JSPB repeated field array. Got "+goog.typeOf(e)+" expected "+t)})}},jspb.Message.getFieldWithDefault=function(e,t,i){return null==(e=jspb.Message.getField(e,t))?i:e},jspb.Message.getFieldProto3=jspb.Message.getFieldWithDefault,jspb.Message.getMapField=function(e,t,i,o){return e.wrappers_||(e.wrappers_={}),t in e.wrappers_?e.wrappers_[t]:i?void 0:((i=jspb.Message.getField(e,t))||(i=[],jspb.Message.setField(e,t,i)),e.wrappers_[t]=new jspb.Map(i,o))},jspb.Message.setField=function(e,t,i){t<e.pivot_?e.array[jspb.Message.getIndex_(e,t)]=i:(jspb.Message.maybeInitEmptyExtensionObject_(e),e.extensionObject_[t]=i)},jspb.Message.setProto3IntField=function(e,t,i){jspb.Message.setFieldIgnoringDefault_(e,t,i,0)},jspb.Message.setProto3FloatField=function(e,t,i){jspb.Message.setFieldIgnoringDefault_(e,t,i,0)},jspb.Message.setProto3BooleanField=function(e,t,i){jspb.Message.setFieldIgnoringDefault_(e,t,i,!1)},jspb.Message.setProto3StringField=function(e,t,i){jspb.Message.setFieldIgnoringDefault_(e,t,i,"")},jspb.Message.setProto3BytesField=function(e,t,i){jspb.Message.setFieldIgnoringDefault_(e,t,i,"")},jspb.Message.setProto3EnumField=function(e,t,i){jspb.Message.setFieldIgnoringDefault_(e,t,i,0)},jspb.Message.setFieldIgnoringDefault_=function(e,t,i,o){i!=o?jspb.Message.setField(e,t,i):e.array[jspb.Message.getIndex_(e,t)]=null},jspb.Message.addToRepeatedField=function(e,t,i,o){e=jspb.Message.getRepeatedField(e,t),null!=o?e.splice(o,0,i):e.push(i)},jspb.Message.setOneofField=function(e,t,i,o){(i=jspb.Message.computeOneofCase(e,i))&&i!==t&&void 0!==o&&(e.wrappers_&&i in e.wrappers_&&(e.wrappers_[i]=void 0),jspb.Message.setField(e,i,void 0)),jspb.Message.setField(e,t,o)},jspb.Message.computeOneofCase=function(e,t){var i,o;return goog.array.forEach(t,function(t){var n=jspb.Message.getField(e,t);goog.isDefAndNotNull(n)&&(i=t,o=n,jspb.Message.setField(e,t,void 0))}),i?(jspb.Message.setField(e,i,o),i):0},jspb.Message.getWrapperField=function(e,t,i,o){if(e.wrappers_||(e.wrappers_={}),!e.wrappers_[i]){var n=jspb.Message.getField(e,i);(o||n)&&(e.wrappers_[i]=new t(n))}return e.wrappers_[i]},jspb.Message.getRepeatedWrapperField=function(e,t,i){return jspb.Message.wrapRepeatedField_(e,t,i),(t=e.wrappers_[i])==jspb.Message.EMPTY_LIST_SENTINEL_&&(t=e.wrappers_[i]=[]),t},jspb.Message.wrapRepeatedField_=function(e,t,i){if(e.wrappers_||(e.wrappers_={}),!e.wrappers_[i]){for(var o=jspb.Message.getRepeatedField(e,i),n=[],r=0;r<o.length;r++)n[r]=new t(o[r]);e.wrappers_[i]=n}},jspb.Message.setWrapperField=function(e,t,i){e.wrappers_||(e.wrappers_={});var o=i?i.toArray():i;e.wrappers_[t]=i,jspb.Message.setField(e,t,o)},jspb.Message.setOneofWrapperField=function(e,t,i,o){e.wrappers_||(e.wrappers_={});var n=o?o.toArray():o;e.wrappers_[t]=o,jspb.Message.setOneofField(e,t,i,n)},jspb.Message.setRepeatedWrapperField=function(e,t,i){e.wrappers_||(e.wrappers_={}),i=i||[];for(var o=[],n=0;n<i.length;n++)o[n]=i[n].toArray();e.wrappers_[t]=i,jspb.Message.setField(e,t,o)},jspb.Message.addToRepeatedWrapperField=function(e,t,i,o,n){jspb.Message.wrapRepeatedField_(e,o,t);var r=e.wrappers_[t];return r||(r=e.wrappers_[t]=[]),i=i||new o,e=jspb.Message.getRepeatedField(e,t),null!=n?(r.splice(n,0,i),e.splice(n,0,i.toArray())):(r.push(i),e.push(i.toArray())),i},jspb.Message.toMap=function(e,t,i,o){for(var n={},r=0;r<e.length;r++)n[t.call(e[r])]=i?i.call(e[r],o,e[r]):e[r];return n},jspb.Message.prototype.syncMapFields_=function(){if(this.wrappers_)for(var e in this.wrappers_){var t=this.wrappers_[e];if(goog.isArray(t))for(var i=0;i<t.length;i++)t[i]&&t[i].toArray();else t&&t.toArray()}},jspb.Message.prototype.toArray=function(){return this.syncMapFields_(),this.array},jspb.Message.GENERATE_TO_STRING&&(jspb.Message.prototype.toString=function(){return this.syncMapFields_(),this.array.toString()}),jspb.Message.prototype.getExtension=function(e){if(this.extensionObject_){this.wrappers_||(this.wrappers_={});var t=e.fieldIndex;if(e.isRepeated){if(e.isMessageType())return this.wrappers_[t]||(this.wrappers_[t]=goog.array.map(this.extensionObject_[t]||[],function(t){return new e.ctor(t)})),this.wrappers_[t]}else if(e.isMessageType())return!this.wrappers_[t]&&this.extensionObject_[t]&&(this.wrappers_[t]=new e.ctor(this.extensionObject_[t])),this.wrappers_[t];return this.extensionObject_[t]}},jspb.Message.prototype.setExtension=function(e,t){this.wrappers_||(this.wrappers_={}),jspb.Message.maybeInitEmptyExtensionObject_(this);var i=e.fieldIndex;return e.isRepeated?(t=t||[],e.isMessageType()?(this.wrappers_[i]=t,this.extensionObject_[i]=goog.array.map(t,function(e){return e.toArray()})):this.extensionObject_[i]=t):e.isMessageType()?(this.wrappers_[i]=t,this.extensionObject_[i]=t?t.toArray():t):this.extensionObject_[i]=t,this},jspb.Message.difference=function(e,t){if(!(e instanceof t.constructor))throw Error("Messages have different types.");var i=e.toArray(),o=t.toArray(),n=[],r=0,a=i.length>o.length?i.length:o.length;for(e.getJsPbMessageId()&&(n[0]=e.getJsPbMessageId(),r=1);r<a;r++)jspb.Message.compareFields(i[r],o[r])||(n[r]=o[r]);return new e.constructor(n)},jspb.Message.equals=function(e,t){return e==t||!(!e||!t)&&e instanceof t.constructor&&jspb.Message.compareFields(e.toArray(),t.toArray())},jspb.Message.compareExtensions=function(e,t){e=e||{},t=t||{};var i,o={};for(i in e)o[i]=0;for(i in t)o[i]=0;for(i in o)if(!jspb.Message.compareFields(e[i],t[i]))return!1;return!0},jspb.Message.compareFields=function(e,t){if(e==t)return!0;if(!goog.isObject(e)||!goog.isObject(t)||e.constructor!=t.constructor)return!1;if(jspb.Message.SUPPORTS_UINT8ARRAY_&&e.constructor===Uint8Array){if(e.length!=t.length)return!1;for(var i=0;i<e.length;i++)if(e[i]!=t[i])return!1;return!0}if(e.constructor===Array){var o=void 0,n=void 0,r=Math.max(e.length,t.length);for(i=0;i<r;i++){var a=e[i],s=t[i];if(a&&a.constructor==Object&&(goog.asserts.assert(void 0===o),goog.asserts.assert(i===e.length-1),o=a,a=void 0),s&&s.constructor==Object&&(goog.asserts.assert(void 0===n),goog.asserts.assert(i===t.length-1),n=s,s=void 0),!jspb.Message.compareFields(a,s))return!1}return!o&&!n||(o=o||{},n=n||{},jspb.Message.compareExtensions(o,n))}if(e.constructor===Object)return jspb.Message.compareExtensions(e,t);throw Error("Invalid type in JSPB array")},jspb.Message.prototype.cloneMessage=function(){return jspb.Message.cloneMessage(this)},jspb.Message.prototype.clone=function(){return jspb.Message.cloneMessage(this)},jspb.Message.clone=function(e){return jspb.Message.cloneMessage(e)},jspb.Message.cloneMessage=function(e){return new e.constructor(jspb.Message.clone_(e.toArray()))},jspb.Message.copyInto=function(e,t){goog.asserts.assertInstanceof(e,jspb.Message),goog.asserts.assertInstanceof(t,jspb.Message),goog.asserts.assert(e.constructor==t.constructor,"Copy source and target message should have the same type.");for(var i=jspb.Message.clone(e),o=t.toArray(),n=i.toArray(),r=o.length=0;r<n.length;r++)o[r]=n[r];t.wrappers_=i.wrappers_,t.extensionObject_=i.extensionObject_},jspb.Message.clone_=function(e){var t;if(goog.isArray(e)){for(var i=Array(e.length),o=0;o<e.length;o++)null!=(t=e[o])&&(i[o]="object"==typeof t?jspb.Message.clone_(t):t);return i}if(jspb.Message.SUPPORTS_UINT8ARRAY_&&e instanceof Uint8Array)return new Uint8Array(e);for(o in i={},e)null!=(t=e[o])&&(i[o]="object"==typeof t?jspb.Message.clone_(t):t);return i},jspb.Message.registerMessageType=function(e,t){jspb.Message.registry_[e]=t,t.messageId=e},jspb.Message.registry_={},jspb.Message.messageSetExtensions={},jspb.Message.messageSetExtensionsBinary={},jspb.arith={},jspb.arith.UInt64=function(e,t){this.lo=e,this.hi=t},jspb.arith.UInt64.prototype.cmp=function(e){return this.hi<e.hi||this.hi==e.hi&&this.lo<e.lo?-1:this.hi==e.hi&&this.lo==e.lo?0:1},jspb.arith.UInt64.prototype.rightShift=function(){return new jspb.arith.UInt64((this.lo>>>1|(1&this.hi)<<31)>>>0,this.hi>>>1>>>0)},jspb.arith.UInt64.prototype.leftShift=function(){return new jspb.arith.UInt64(this.lo<<1>>>0,(this.hi<<1|this.lo>>>31)>>>0)},jspb.arith.UInt64.prototype.msb=function(){return!!(2147483648&this.hi)},jspb.arith.UInt64.prototype.lsb=function(){return!!(1&this.lo)},jspb.arith.UInt64.prototype.zero=function(){return 0==this.lo&&0==this.hi},jspb.arith.UInt64.prototype.add=function(e){return new jspb.arith.UInt64((this.lo+e.lo&4294967295)>>>0>>>0,((this.hi+e.hi&4294967295)>>>0)+(4294967296<=this.lo+e.lo?1:0)>>>0)},jspb.arith.UInt64.prototype.sub=function(e){return new jspb.arith.UInt64((this.lo-e.lo&4294967295)>>>0>>>0,((this.hi-e.hi&4294967295)>>>0)-(0>this.lo-e.lo?1:0)>>>0)},jspb.arith.UInt64.mul32x32=function(e,t){for(var i=e>>>16,o=65535&t,n=t>>>16,r=(a=65535&e)*o+65536*(a*n&65535)+65536*(i*o&65535),a=i*n+(a*n>>>16)+(i*o>>>16);4294967296<=r;)r-=4294967296,a+=1;return new jspb.arith.UInt64(r>>>0,a>>>0)},jspb.arith.UInt64.prototype.mul=function(e){var t=jspb.arith.UInt64.mul32x32(this.lo,e);return(e=jspb.arith.UInt64.mul32x32(this.hi,e)).hi=e.lo,e.lo=0,t.add(e)},jspb.arith.UInt64.prototype.div=function(e){if(0==e)return[];var t=new jspb.arith.UInt64(0,0),i=new jspb.arith.UInt64(this.lo,this.hi);e=new jspb.arith.UInt64(e,0);for(var o=new jspb.arith.UInt64(1,0);!e.msb();)e=e.leftShift(),o=o.leftShift();for(;!o.zero();)0>=e.cmp(i)&&(t=t.add(o),i=i.sub(e)),e=e.rightShift(),o=o.rightShift();return[t,i]},jspb.arith.UInt64.prototype.toString=function(){for(var e="",t=this;!t.zero();){var i=(t=t.div(10))[0];e=t[1].lo+e,t=i}return""==e&&(e="0"),e},jspb.arith.UInt64.fromString=function(e){for(var t=new jspb.arith.UInt64(0,0),i=new jspb.arith.UInt64(0,0),o=0;o<e.length;o++){if("0">e[o]||"9"<e[o])return null;var n=parseInt(e[o],10);i.lo=n,t=t.mul(10).add(i)}return t},jspb.arith.UInt64.prototype.clone=function(){return new jspb.arith.UInt64(this.lo,this.hi)},jspb.arith.Int64=function(e,t){this.lo=e,this.hi=t},jspb.arith.Int64.prototype.add=function(e){return new jspb.arith.Int64((this.lo+e.lo&4294967295)>>>0>>>0,((this.hi+e.hi&4294967295)>>>0)+(4294967296<=this.lo+e.lo?1:0)>>>0)},jspb.arith.Int64.prototype.sub=function(e){return new jspb.arith.Int64((this.lo-e.lo&4294967295)>>>0>>>0,((this.hi-e.hi&4294967295)>>>0)-(0>this.lo-e.lo?1:0)>>>0)},jspb.arith.Int64.prototype.clone=function(){return new jspb.arith.Int64(this.lo,this.hi)},jspb.arith.Int64.prototype.toString=function(){var e=0!=(2147483648&this.hi),t=new jspb.arith.UInt64(this.lo,this.hi);return e&&(t=new jspb.arith.UInt64(0,0).sub(t)),(e?"-":"")+t.toString()},jspb.arith.Int64.fromString=function(e){var t=0<e.length&&"-"==e[0];return t&&(e=e.substring(1)),null===(e=jspb.arith.UInt64.fromString(e))?null:(t&&(e=new jspb.arith.UInt64(0,0).sub(e)),new jspb.arith.Int64(e.lo,e.hi))},jspb.BinaryConstants={},jspb.ConstBinaryMessage=function(){},jspb.BinaryMessage=function(){},jspb.BinaryConstants.FieldType={INVALID:-1,DOUBLE:1,FLOAT:2,INT64:3,UINT64:4,INT32:5,FIXED64:6,FIXED32:7,BOOL:8,STRING:9,GROUP:10,MESSAGE:11,BYTES:12,UINT32:13,ENUM:14,SFIXED32:15,SFIXED64:16,SINT32:17,SINT64:18,FHASH64:30,VHASH64:31},jspb.BinaryConstants.WireType={INVALID:-1,VARINT:0,FIXED64:1,DELIMITED:2,START_GROUP:3,END_GROUP:4,FIXED32:5},jspb.BinaryConstants.FieldTypeToWireType=function(e){var t=jspb.BinaryConstants.FieldType,i=jspb.BinaryConstants.WireType;switch(e){case t.INT32:case t.INT64:case t.UINT32:case t.UINT64:case t.SINT32:case t.SINT64:case t.BOOL:case t.ENUM:case t.VHASH64:return i.VARINT;case t.DOUBLE:case t.FIXED64:case t.SFIXED64:case t.FHASH64:return i.FIXED64;case t.STRING:case t.MESSAGE:case t.BYTES:return i.DELIMITED;case t.FLOAT:case t.FIXED32:case t.SFIXED32:return i.FIXED32;default:return i.INVALID}},jspb.BinaryConstants.INVALID_FIELD_NUMBER=-1,jspb.BinaryConstants.FLOAT32_EPS=1401298464324817e-60,jspb.BinaryConstants.FLOAT32_MIN=11754943508222875e-54,jspb.BinaryConstants.FLOAT32_MAX=34028234663852886e22,jspb.BinaryConstants.FLOAT64_EPS=5e-324,jspb.BinaryConstants.FLOAT64_MIN=22250738585072014e-324,jspb.BinaryConstants.FLOAT64_MAX=17976931348623157e292,jspb.BinaryConstants.TWO_TO_20=1048576,jspb.BinaryConstants.TWO_TO_23=8388608,jspb.BinaryConstants.TWO_TO_31=2147483648,jspb.BinaryConstants.TWO_TO_32=4294967296,jspb.BinaryConstants.TWO_TO_52=4503599627370496,jspb.BinaryConstants.TWO_TO_63=0x8000000000000000,jspb.BinaryConstants.TWO_TO_64=0x10000000000000000,jspb.BinaryConstants.ZERO_HASH="\0\0\0\0\0\0\0\0",jspb.utils={},jspb.utils.split64Low=0,jspb.utils.split64High=0,jspb.utils.splitUint64=function(e){var t=e>>>0;e=Math.floor((e-t)/jspb.BinaryConstants.TWO_TO_32)>>>0,jspb.utils.split64Low=t,jspb.utils.split64High=e},jspb.utils.splitInt64=function(e){var t=0>e,i=(e=Math.abs(e))>>>0;e=Math.floor((e-i)/jspb.BinaryConstants.TWO_TO_32),e>>>=0,t&&(e=~e>>>0,4294967295<(i=1+(~i>>>0))&&(i=0,4294967295<++e&&(e=0))),jspb.utils.split64Low=i,jspb.utils.split64High=e},jspb.utils.splitZigzag64=function(e){var t=0>e;e=2*Math.abs(e),jspb.utils.splitUint64(e),e=jspb.utils.split64Low;var i=jspb.utils.split64High;t&&(0==e?0==i?i=e=4294967295:(i--,e=4294967295):e--),jspb.utils.split64Low=e,jspb.utils.split64High=i},jspb.utils.splitFloat32=function(e){var t,i=0>e?1:0;0===(e=i?-e:e)?0<1/e?(jspb.utils.split64High=0,jspb.utils.split64Low=0):(jspb.utils.split64High=0,jspb.utils.split64Low=2147483648):isNaN(e)?(jspb.utils.split64High=0,jspb.utils.split64Low=2147483647):e>jspb.BinaryConstants.FLOAT32_MAX?(jspb.utils.split64High=0,jspb.utils.split64Low=(i<<31|2139095040)>>>0):e<jspb.BinaryConstants.FLOAT32_MIN?(e=Math.round(e/Math.pow(2,-149)),jspb.utils.split64High=0,jspb.utils.split64Low=(i<<31|e)>>>0):(t=Math.floor(Math.log(e)/Math.LN2),e*=Math.pow(2,-t),e=8388607&Math.round(e*jspb.BinaryConstants.TWO_TO_23),jspb.utils.split64High=0,jspb.utils.split64Low=(i<<31|t+127<<23|e)>>>0)},jspb.utils.splitFloat64=function(e){var t=0>e?1:0;if(0===(e=t?-e:e))jspb.utils.split64High=0<1/e?0:2147483648,jspb.utils.split64Low=0;else if(isNaN(e))jspb.utils.split64High=2147483647,jspb.utils.split64Low=4294967295;else if(e>jspb.BinaryConstants.FLOAT64_MAX)jspb.utils.split64High=(t<<31|2146435072)>>>0,jspb.utils.split64Low=0;else if(e<jspb.BinaryConstants.FLOAT64_MIN){var i=e/Math.pow(2,-1074);e=i/jspb.BinaryConstants.TWO_TO_32,jspb.utils.split64High=(t<<31|e)>>>0,jspb.utils.split64Low=i>>>0}else{var o=Math.floor(Math.log(e)/Math.LN2);1024==o&&(o=1023),e=(i=e*Math.pow(2,-o))*jspb.BinaryConstants.TWO_TO_20&1048575,i=i*jspb.BinaryConstants.TWO_TO_52>>>0,jspb.utils.split64High=(t<<31|o+1023<<20|e)>>>0,jspb.utils.split64Low=i}},jspb.utils.splitHash64=function(e){var t=e.charCodeAt(0),i=e.charCodeAt(1),o=e.charCodeAt(2),n=e.charCodeAt(3),r=e.charCodeAt(4),a=e.charCodeAt(5),s=e.charCodeAt(6);e=e.charCodeAt(7),jspb.utils.split64Low=t+(i<<8)+(o<<16)+(n<<24)>>>0,jspb.utils.split64High=r+(a<<8)+(s<<16)+(e<<24)>>>0},jspb.utils.joinUint64=function(e,t){return t*jspb.BinaryConstants.TWO_TO_32+e},jspb.utils.joinInt64=function(e,t){var i=2147483648&t;i&&(t=~t>>>0,0==(e=1+~e>>>0)&&(t=t+1>>>0));var o=jspb.utils.joinUint64(e,t);return i?-o:o},jspb.utils.joinZigzag64=function(e,t){var i=1&e;e=(e>>>1|t<<31)>>>0,t>>>=1,i&&0==(e=e+1>>>0)&&(t=t+1>>>0);var o=jspb.utils.joinUint64(e,t);return i?-o:o},jspb.utils.joinFloat32=function(e){var t=2*(e>>31)+1,i=e>>>23&255,o=8388607&e;return 255==i?o?NaN:1/0*t:0==i?t*Math.pow(2,-149)*o:t*Math.pow(2,i-150)*(o+Math.pow(2,23))},jspb.utils.joinFloat64=function(e,t){var i=2*(t>>31)+1,o=t>>>20&2047,n=jspb.BinaryConstants.TWO_TO_32*(1048575&t)+e;return 2047==o?n?NaN:1/0*i:0==o?i*Math.pow(2,-1074)*n:i*Math.pow(2,o-1075)*(n+jspb.BinaryConstants.TWO_TO_52)},jspb.utils.joinHash64=function(e,t){return String.fromCharCode(e>>>0&255,e>>>8&255,e>>>16&255,e>>>24&255,t>>>0&255,t>>>8&255,t>>>16&255,t>>>24&255)},jspb.utils.DIGITS="0123456789abcdef".split(""),jspb.utils.joinUnsignedDecimalString=function(e,t){function i(e){for(var t=1e7,i=0;7>i;i++){var o=e/(t/=10)%10>>>0;(0!=o||s)&&(s=!0,p+=a[o])}}if(2097151>=t)return""+(jspb.BinaryConstants.TWO_TO_32*t+e);var o=(16777215&e)+6777216*(n=(e>>>24|t<<8)>>>0&16777215)+6710656*(r=t>>16&65535),n=n+8147497*r,r=2*r;1e7<=o&&(n+=Math.floor(o/1e7),o%=1e7),1e7<=n&&(r+=Math.floor(n/1e7),n%=1e7);var a=jspb.utils.DIGITS,s=!1,p="";return(r||s)&&i(r),(n||s)&&i(n),(o||s)&&i(o),p},jspb.utils.joinSignedDecimalString=function(e,t){var i=2147483648&t;i&&(t=~t+(0==(e=1+~e>>>0)?1:0)>>>0);var o=jspb.utils.joinUnsignedDecimalString(e,t);return i?"-"+o:o},jspb.utils.hash64ToDecimalString=function(e,t){jspb.utils.splitHash64(e);var i=jspb.utils.split64Low,o=jspb.utils.split64High;return t?jspb.utils.joinSignedDecimalString(i,o):jspb.utils.joinUnsignedDecimalString(i,o)},jspb.utils.hash64ArrayToDecimalStrings=function(e,t){for(var i=Array(e.length),o=0;o<e.length;o++)i[o]=jspb.utils.hash64ToDecimalString(e[o],t);return i},jspb.utils.decimalStringToHash64=function(e){function t(e,t){for(var i=0;8>i&&(1!==e||0<t);i++){var n=e*o[i]+t;o[i]=255&n,t=n>>>8}}goog.asserts.assert(0<e.length);var i=!1;"-"===e[0]&&(i=!0,e=e.slice(1));for(var o=[0,0,0,0,0,0,0,0],n=0;n<e.length;n++)t(10,jspb.utils.DIGITS.indexOf(e[n]));return i&&(function(){for(var e=0;8>e;e++)o[e]=255&~o[e]}(),t(1,1)),goog.crypt.byteArrayToString(o)},jspb.utils.splitDecimalString=function(e){jspb.utils.splitHash64(jspb.utils.decimalStringToHash64(e))},jspb.utils.hash64ToHexString=function(e){var t=Array(18);t[0]="0",t[1]="x";for(var i=0;8>i;i++){var o=e.charCodeAt(7-i);t[2*i+2]=jspb.utils.DIGITS[o>>4],t[2*i+3]=jspb.utils.DIGITS[15&o]}return t.join("")},jspb.utils.hexStringToHash64=function(e){e=e.toLowerCase(),goog.asserts.assert(18==e.length),goog.asserts.assert("0"==e[0]),goog.asserts.assert("x"==e[1]);for(var t="",i=0;8>i;i++){var o=jspb.utils.DIGITS.indexOf(e[2*i+2]),n=jspb.utils.DIGITS.indexOf(e[2*i+3]);t=String.fromCharCode(16*o+n)+t}return t},jspb.utils.hash64ToNumber=function(e,t){jspb.utils.splitHash64(e);var i=jspb.utils.split64Low,o=jspb.utils.split64High;return t?jspb.utils.joinInt64(i,o):jspb.utils.joinUint64(i,o)},jspb.utils.numberToHash64=function(e){return jspb.utils.splitInt64(e),jspb.utils.joinHash64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.utils.countVarints=function(e,t,i){for(var o=0,n=t;n<i;n++)o+=e[n]>>7;return i-t-o},jspb.utils.countVarintFields=function(e,t,i,o){var n=0;if(128>(o=8*o+jspb.BinaryConstants.WireType.VARINT))for(;t<i&&e[t++]==o;)for(n++;;){var r=e[t++];if(0==(128&r))break}else for(;t<i;){for(r=o;128<r;){if(e[t]!=(127&r|128))return n;t++,r>>=7}if(e[t++]!=r)break;for(n++;0!=(128&(r=e[t++])););}return n},jspb.utils.countFixedFields_=function(e,t,i,o,n){var r=0;if(128>o)for(;t<i&&e[t++]==o;)r++,t+=n;else for(;t<i;){for(var a=o;128<a;){if(e[t++]!=(127&a|128))return r;a>>=7}if(e[t++]!=a)break;r++,t+=n}return r},jspb.utils.countFixed32Fields=function(e,t,i,o){return jspb.utils.countFixedFields_(e,t,i,8*o+jspb.BinaryConstants.WireType.FIXED32,4)},jspb.utils.countFixed64Fields=function(e,t,i,o){return jspb.utils.countFixedFields_(e,t,i,8*o+jspb.BinaryConstants.WireType.FIXED64,8)},jspb.utils.countDelimitedFields=function(e,t,i,o){var n=0;for(o=8*o+jspb.BinaryConstants.WireType.DELIMITED;t<i;){for(var r=o;128<r;){if(e[t++]!=(127&r|128))return n;r>>=7}if(e[t++]!=r)break;n++;for(var a=0,s=1;a+=(127&(r=e[t++]))*s,s*=128,0!=(128&r););t+=a}return n},jspb.utils.debugBytesToTextFormat=function(e){var t='"';if(e){e=jspb.utils.byteSourceToUint8Array(e);for(var i=0;i<e.length;i++)t+="\\x",16>e[i]&&(t+="0"),t+=e[i].toString(16)}return t+'"'},jspb.utils.debugScalarToTextFormat=function(e){return goog.isString(e)?goog.string.quote(e):e.toString()},jspb.utils.stringToByteArray=function(e){for(var t=new Uint8Array(e.length),i=0;i<e.length;i++){var o=e.charCodeAt(i);if(255<o)throw Error("Conversion error: string contains codepoint outside of byte range");t[i]=o}return t},jspb.utils.byteSourceToUint8Array=function(e){return e.constructor===Uint8Array?e:e.constructor===ArrayBuffer||e.constructor===Array?new Uint8Array(e):e.constructor===String?goog.crypt.base64.decodeStringToUint8Array(e):(goog.asserts.fail("Type not convertible to Uint8Array."),new Uint8Array(0))},jspb.BinaryEncoder=function(){this.buffer_=[]},jspb.BinaryEncoder.prototype.length=function(){return this.buffer_.length},jspb.BinaryEncoder.prototype.end=function(){var e=this.buffer_;return this.buffer_=[],e},jspb.BinaryEncoder.prototype.writeSplitVarint64=function(e,t){for(goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(t==Math.floor(t)),goog.asserts.assert(0<=e&&e<jspb.BinaryConstants.TWO_TO_32),goog.asserts.assert(0<=t&&t<jspb.BinaryConstants.TWO_TO_32);0<t||127<e;)this.buffer_.push(127&e|128),e=(e>>>7|t<<25)>>>0,t>>>=7;this.buffer_.push(e)},jspb.BinaryEncoder.prototype.writeSplitFixed64=function(e,t){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(t==Math.floor(t)),goog.asserts.assert(0<=e&&e<jspb.BinaryConstants.TWO_TO_32),goog.asserts.assert(0<=t&&t<jspb.BinaryConstants.TWO_TO_32),this.writeUint32(e),this.writeUint32(t)},jspb.BinaryEncoder.prototype.writeUnsignedVarint32=function(e){for(goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(0<=e&&e<jspb.BinaryConstants.TWO_TO_32);127<e;)this.buffer_.push(127&e|128),e>>>=7;this.buffer_.push(e)},jspb.BinaryEncoder.prototype.writeSignedVarint32=function(e){if(goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_31&&e<jspb.BinaryConstants.TWO_TO_31),0<=e)this.writeUnsignedVarint32(e);else{for(var t=0;9>t;t++)this.buffer_.push(127&e|128),e>>=7;this.buffer_.push(1)}},jspb.BinaryEncoder.prototype.writeUnsignedVarint64=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(0<=e&&e<jspb.BinaryConstants.TWO_TO_64),jspb.utils.splitInt64(e),this.writeSplitVarint64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeSignedVarint64=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_63&&e<jspb.BinaryConstants.TWO_TO_63),jspb.utils.splitInt64(e),this.writeSplitVarint64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeZigzagVarint32=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_31&&e<jspb.BinaryConstants.TWO_TO_31),this.writeUnsignedVarint32((e<<1^e>>31)>>>0)},jspb.BinaryEncoder.prototype.writeZigzagVarint64=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_63&&e<jspb.BinaryConstants.TWO_TO_63),jspb.utils.splitZigzag64(e),this.writeSplitVarint64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeZigzagVarint64String=function(e){this.writeZigzagVarint64(parseInt(e,10))},jspb.BinaryEncoder.prototype.writeUint8=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(0<=e&&256>e),this.buffer_.push(e>>>0&255)},jspb.BinaryEncoder.prototype.writeUint16=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(0<=e&&65536>e),this.buffer_.push(e>>>0&255),this.buffer_.push(e>>>8&255)},jspb.BinaryEncoder.prototype.writeUint32=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(0<=e&&e<jspb.BinaryConstants.TWO_TO_32),this.buffer_.push(e>>>0&255),this.buffer_.push(e>>>8&255),this.buffer_.push(e>>>16&255),this.buffer_.push(e>>>24&255)},jspb.BinaryEncoder.prototype.writeUint64=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(0<=e&&e<jspb.BinaryConstants.TWO_TO_64),jspb.utils.splitUint64(e),this.writeUint32(jspb.utils.split64Low),this.writeUint32(jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeInt8=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(-128<=e&&128>e),this.buffer_.push(e>>>0&255)},jspb.BinaryEncoder.prototype.writeInt16=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(-32768<=e&&32768>e),this.buffer_.push(e>>>0&255),this.buffer_.push(e>>>8&255)},jspb.BinaryEncoder.prototype.writeInt32=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_31&&e<jspb.BinaryConstants.TWO_TO_31),this.buffer_.push(e>>>0&255),this.buffer_.push(e>>>8&255),this.buffer_.push(e>>>16&255),this.buffer_.push(e>>>24&255)},jspb.BinaryEncoder.prototype.writeInt64=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_63&&e<jspb.BinaryConstants.TWO_TO_63),jspb.utils.splitInt64(e),this.writeSplitFixed64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeInt64String=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(+e>=-jspb.BinaryConstants.TWO_TO_63&&+e<jspb.BinaryConstants.TWO_TO_63),jspb.utils.splitHash64(jspb.utils.decimalStringToHash64(e)),this.writeSplitFixed64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeFloat=function(e){goog.asserts.assert(e>=-jspb.BinaryConstants.FLOAT32_MAX&&e<=jspb.BinaryConstants.FLOAT32_MAX),jspb.utils.splitFloat32(e),this.writeUint32(jspb.utils.split64Low)},jspb.BinaryEncoder.prototype.writeDouble=function(e){goog.asserts.assert(e>=-jspb.BinaryConstants.FLOAT64_MAX&&e<=jspb.BinaryConstants.FLOAT64_MAX),jspb.utils.splitFloat64(e),this.writeUint32(jspb.utils.split64Low),this.writeUint32(jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeBool=function(e){goog.asserts.assert(goog.isBoolean(e)||goog.isNumber(e)),this.buffer_.push(e?1:0)},jspb.BinaryEncoder.prototype.writeEnum=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_31&&e<jspb.BinaryConstants.TWO_TO_31),this.writeSignedVarint32(e)},jspb.BinaryEncoder.prototype.writeBytes=function(e){this.buffer_.push.apply(this.buffer_,e)},jspb.BinaryEncoder.prototype.writeVarintHash64=function(e){jspb.utils.splitHash64(e),this.writeSplitVarint64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeFixedHash64=function(e){jspb.utils.splitHash64(e),this.writeUint32(jspb.utils.split64Low),this.writeUint32(jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeString=function(e){for(var t=this.buffer_.length,i=0;i<e.length;i++){var o=e.charCodeAt(i);if(128>o)this.buffer_.push(o);else if(2048>o)this.buffer_.push(o>>6|192),this.buffer_.push(63&o|128);else if(65536>o)if(55296<=o&&56319>=o&&i+1<e.length){var n=e.charCodeAt(i+1);56320<=n&&57343>=n&&(o=1024*(o-55296)+n-56320+65536,this.buffer_.push(o>>18|240),this.buffer_.push(o>>12&63|128),this.buffer_.push(o>>6&63|128),this.buffer_.push(63&o|128),i++)}else this.buffer_.push(o>>12|224),this.buffer_.push(o>>6&63|128),this.buffer_.push(63&o|128)}return this.buffer_.length-t},jspb.BinaryWriter=function(){this.blocks_=[],this.totalLength_=0,this.encoder_=new jspb.BinaryEncoder,this.bookmarks_=[]},jspb.BinaryWriter.prototype.appendUint8Array_=function(e){var t=this.encoder_.end();this.blocks_.push(t),this.blocks_.push(e),this.totalLength_+=t.length+e.length},jspb.BinaryWriter.prototype.beginDelimited_=function(e){return this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),e=this.encoder_.end(),this.blocks_.push(e),this.totalLength_+=e.length,e.push(this.totalLength_),e},jspb.BinaryWriter.prototype.endDelimited_=function(e){var t=e.pop();for(t=this.totalLength_+this.encoder_.length()-t,goog.asserts.assert(0<=t);127<t;)e.push(127&t|128),t>>>=7,this.totalLength_++;e.push(t),this.totalLength_++},jspb.BinaryWriter.prototype.writeSerializedMessage=function(e,t,i){this.appendUint8Array_(e.subarray(t,i))},jspb.BinaryWriter.prototype.maybeWriteSerializedMessage=function(e,t,i){null!=e&&null!=t&&null!=i&&this.writeSerializedMessage(e,t,i)},jspb.BinaryWriter.prototype.reset=function(){this.blocks_=[],this.encoder_.end(),this.totalLength_=0,this.bookmarks_=[]},jspb.BinaryWriter.prototype.getResultBuffer=function(){goog.asserts.assert(0==this.bookmarks_.length);for(var e=new Uint8Array(this.totalLength_+this.encoder_.length()),t=this.blocks_,i=t.length,o=0,n=0;n<i;n++){var r=t[n];e.set(r,o),o+=r.length}return t=this.encoder_.end(),e.set(t,o),o+=t.length,goog.asserts.assert(o==e.length),this.blocks_=[e],e},jspb.BinaryWriter.prototype.getResultBase64String=function(){return goog.crypt.base64.encodeByteArray(this.getResultBuffer())},jspb.BinaryWriter.prototype.beginSubMessage=function(e){this.bookmarks_.push(this.beginDelimited_(e))},jspb.BinaryWriter.prototype.endSubMessage=function(){goog.asserts.assert(0<=this.bookmarks_.length),this.endDelimited_(this.bookmarks_.pop())},jspb.BinaryWriter.prototype.writeFieldHeader_=function(e,t){goog.asserts.assert(1<=e&&e==Math.floor(e)),this.encoder_.writeUnsignedVarint32(8*e+t)},jspb.BinaryWriter.prototype.writeAny=function(e,t,i){var o=jspb.BinaryConstants.FieldType;switch(e){case o.DOUBLE:this.writeDouble(t,i);break;case o.FLOAT:this.writeFloat(t,i);break;case o.INT64:this.writeInt64(t,i);break;case o.UINT64:this.writeUint64(t,i);break;case o.INT32:this.writeInt32(t,i);break;case o.FIXED64:this.writeFixed64(t,i);break;case o.FIXED32:this.writeFixed32(t,i);break;case o.BOOL:this.writeBool(t,i);break;case o.STRING:this.writeString(t,i);break;case o.GROUP:goog.asserts.fail("Group field type not supported in writeAny()");break;case o.MESSAGE:goog.asserts.fail("Message field type not supported in writeAny()");break;case o.BYTES:this.writeBytes(t,i);break;case o.UINT32:this.writeUint32(t,i);break;case o.ENUM:this.writeEnum(t,i);break;case o.SFIXED32:this.writeSfixed32(t,i);break;case o.SFIXED64:this.writeSfixed64(t,i);break;case o.SINT32:this.writeSint32(t,i);break;case o.SINT64:this.writeSint64(t,i);break;case o.FHASH64:this.writeFixedHash64(t,i);break;case o.VHASH64:this.writeVarintHash64(t,i);break;default:goog.asserts.fail("Invalid field type in writeAny()")}},jspb.BinaryWriter.prototype.writeUnsignedVarint32_=function(e,t){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeUnsignedVarint32(t))},jspb.BinaryWriter.prototype.writeSignedVarint32_=function(e,t){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSignedVarint32(t))},jspb.BinaryWriter.prototype.writeUnsignedVarint64_=function(e,t){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeUnsignedVarint64(t))},jspb.BinaryWriter.prototype.writeSignedVarint64_=function(e,t){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSignedVarint64(t))},jspb.BinaryWriter.prototype.writeZigzagVarint32_=function(e,t){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeZigzagVarint32(t))},jspb.BinaryWriter.prototype.writeZigzagVarint64_=function(e,t){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeZigzagVarint64(t))},jspb.BinaryWriter.prototype.writeZigzagVarint64String_=function(e,t){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeZigzagVarint64String(t))},jspb.BinaryWriter.prototype.writeInt32=function(e,t){null!=t&&(goog.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_31&&t<jspb.BinaryConstants.TWO_TO_31),this.writeSignedVarint32_(e,t))},jspb.BinaryWriter.prototype.writeInt32String=function(e,t){if(null!=t){var i=parseInt(t,10);goog.asserts.assert(i>=-jspb.BinaryConstants.TWO_TO_31&&i<jspb.BinaryConstants.TWO_TO_31),this.writeSignedVarint32_(e,i)}},jspb.BinaryWriter.prototype.writeInt64=function(e,t){null!=t&&(goog.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_63&&t<jspb.BinaryConstants.TWO_TO_63),this.writeSignedVarint64_(e,t))},jspb.BinaryWriter.prototype.writeInt64String=function(e,t){if(null!=t){var i=jspb.arith.Int64.fromString(t);this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSplitVarint64(i.lo,i.hi)}},jspb.BinaryWriter.prototype.writeUint32=function(e,t){null!=t&&(goog.asserts.assert(0<=t&&t<jspb.BinaryConstants.TWO_TO_32),this.writeUnsignedVarint32_(e,t))},jspb.BinaryWriter.prototype.writeUint32String=function(e,t){if(null!=t){var i=parseInt(t,10);goog.asserts.assert(0<=i&&i<jspb.BinaryConstants.TWO_TO_32),this.writeUnsignedVarint32_(e,i)}},jspb.BinaryWriter.prototype.writeUint64=function(e,t){null!=t&&(goog.asserts.assert(0<=t&&t<jspb.BinaryConstants.TWO_TO_64),this.writeUnsignedVarint64_(e,t))},jspb.BinaryWriter.prototype.writeUint64String=function(e,t){if(null!=t){var i=jspb.arith.UInt64.fromString(t);this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSplitVarint64(i.lo,i.hi)}},jspb.BinaryWriter.prototype.writeSint32=function(e,t){null!=t&&(goog.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_31&&t<jspb.BinaryConstants.TWO_TO_31),this.writeZigzagVarint32_(e,t))},jspb.BinaryWriter.prototype.writeSint64=function(e,t){null!=t&&(goog.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_63&&t<jspb.BinaryConstants.TWO_TO_63),this.writeZigzagVarint64_(e,t))},jspb.BinaryWriter.prototype.writeSint64String=function(e,t){null!=t&&(goog.asserts.assert(+t>=-jspb.BinaryConstants.TWO_TO_63&&+t<jspb.BinaryConstants.TWO_TO_63),this.writeZigzagVarint64String_(e,t))},jspb.BinaryWriter.prototype.writeFixed32=function(e,t){null!=t&&(goog.asserts.assert(0<=t&&t<jspb.BinaryConstants.TWO_TO_32),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED32),this.encoder_.writeUint32(t))},jspb.BinaryWriter.prototype.writeFixed64=function(e,t){null!=t&&(goog.asserts.assert(0<=t&&t<jspb.BinaryConstants.TWO_TO_64),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeUint64(t))},jspb.BinaryWriter.prototype.writeFixed64String=function(e,t){if(null!=t){var i=jspb.arith.UInt64.fromString(t);this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeSplitFixed64(i.lo,i.hi)}},jspb.BinaryWriter.prototype.writeSfixed32=function(e,t){null!=t&&(goog.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_31&&t<jspb.BinaryConstants.TWO_TO_31),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED32),this.encoder_.writeInt32(t))},jspb.BinaryWriter.prototype.writeSfixed64=function(e,t){null!=t&&(goog.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_63&&t<jspb.BinaryConstants.TWO_TO_63),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeInt64(t))},jspb.BinaryWriter.prototype.writeSfixed64String=function(e,t){if(null!=t){var i=jspb.arith.Int64.fromString(t);this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeSplitFixed64(i.lo,i.hi)}},jspb.BinaryWriter.prototype.writeFloat=function(e,t){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED32),this.encoder_.writeFloat(t))},jspb.BinaryWriter.prototype.writeDouble=function(e,t){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeDouble(t))},jspb.BinaryWriter.prototype.writeBool=function(e,t){null!=t&&(goog.asserts.assert(goog.isBoolean(t)||goog.isNumber(t)),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeBool(t))},jspb.BinaryWriter.prototype.writeEnum=function(e,t){null!=t&&(goog.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_31&&t<jspb.BinaryConstants.TWO_TO_31),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSignedVarint32(t))},jspb.BinaryWriter.prototype.writeString=function(e,t){if(null!=t){var i=this.beginDelimited_(e);this.encoder_.writeString(t),this.endDelimited_(i)}},jspb.BinaryWriter.prototype.writeBytes=function(e,t){if(null!=t){var i=jspb.utils.byteSourceToUint8Array(t);this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(i.length),this.appendUint8Array_(i)}},jspb.BinaryWriter.prototype.writeMessage=function(e,t,i){null!=t&&(e=this.beginDelimited_(e),i(t,this),this.endDelimited_(e))},jspb.BinaryWriter.prototype.writeGroup=function(e,t,i){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.START_GROUP),i(t,this),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.END_GROUP))},jspb.BinaryWriter.prototype.writeFixedHash64=function(e,t){null!=t&&(goog.asserts.assert(8==t.length),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeFixedHash64(t))},jspb.BinaryWriter.prototype.writeVarintHash64=function(e,t){null!=t&&(goog.asserts.assert(8==t.length),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeVarintHash64(t))},jspb.BinaryWriter.prototype.writeRepeatedInt32=function(e,t){if(null!=t)for(var i=0;i<t.length;i++)this.writeSignedVarint32_(e,t[i])},jspb.BinaryWriter.prototype.writeRepeatedInt32String=function(e,t){if(null!=t)for(var i=0;i<t.length;i++)this.writeInt32String(e,t[i])},jspb.BinaryWriter.prototype.writeRepeatedInt64=function(e,t){if(null!=t)for(var i=0;i<t.length;i++)this.writeSignedVarint64_(e,t[i])},jspb.BinaryWriter.prototype.writeRepeatedInt64String=function(e,t){if(null!=t)for(var i=0;i<t.length;i++)this.writeInt64String(e,t[i])},jspb.BinaryWriter.prototype.writeRepeatedUint32=function(e,t){if(null!=t)for(var i=0;i<t.length;i++)this.writeUnsignedVarint32_(e,t[i])},jspb.BinaryWriter.prototype.writeRepeatedUint32String=function(e,t){if(null!=t)for(var i=0;i<t.length;i++)this.writeUint32String(e,t[i])},jspb.BinaryWriter.prototype.writeRepeatedUint64=function(e,t){if(null!=t)for(var i=0;i<t.length;i++)this.writeUnsignedVarint64_(e,t[i])},jspb.BinaryWriter.prototype.writeRepeatedUint64String=function(e,t){if(null!=t)for(var i=0;i<t.length;i++)this.writeUint64String(e,t[i])},jspb.BinaryWriter.prototype.writeRepeatedSint32=function(e,t){if(null!=t)for(var i=0;i<t.length;i++)this.writeZigzagVarint32_(e,t[i])},jspb.BinaryWriter.prototype.writeRepeatedSint64=function(e,t){if(null!=t)for(var i=0;i<t.length;i++)this.writeZigzagVarint64_(e,t[i])},jspb.BinaryWriter.prototype.writeRepeatedSint64String=function(e,t){if(null!=t)for(var i=0;i<t.length;i++)this.writeZigzagVarint64String_(e,t[i])},jspb.BinaryWriter.prototype.writeRepeatedFixed32=function(e,t){if(null!=t)for(var i=0;i<t.length;i++)this.writeFixed32(e,t[i])},jspb.BinaryWriter.prototype.writeRepeatedFixed64=function(e,t){if(null!=t)for(var i=0;i<t.length;i++)this.writeFixed64(e,t[i])},jspb.BinaryWriter.prototype.writeRepeatedFixed64String=function(e,t){if(null!=t)for(var i=0;i<t.length;i++)this.writeFixed64String(e,t[i])},jspb.BinaryWriter.prototype.writeRepeatedSfixed32=function(e,t){if(null!=t)for(var i=0;i<t.length;i++)this.writeSfixed32(e,t[i])},jspb.BinaryWriter.prototype.writeRepeatedSfixed64=function(e,t){if(null!=t)for(var i=0;i<t.length;i++)this.writeSfixed64(e,t[i])},jspb.BinaryWriter.prototype.writeRepeatedSfixed64String=function(e,t){if(null!=t)for(var i=0;i<t.length;i++)this.writeSfixed64String(e,t[i])},jspb.BinaryWriter.prototype.writeRepeatedFloat=function(e,t){if(null!=t)for(var i=0;i<t.length;i++)this.writeFloat(e,t[i])},jspb.BinaryWriter.prototype.writeRepeatedDouble=function(e,t){if(null!=t)for(var i=0;i<t.length;i++)this.writeDouble(e,t[i])},jspb.BinaryWriter.prototype.writeRepeatedBool=function(e,t){if(null!=t)for(var i=0;i<t.length;i++)this.writeBool(e,t[i])},jspb.BinaryWriter.prototype.writeRepeatedEnum=function(e,t){if(null!=t)for(var i=0;i<t.length;i++)this.writeEnum(e,t[i])},jspb.BinaryWriter.prototype.writeRepeatedString=function(e,t){if(null!=t)for(var i=0;i<t.length;i++)this.writeString(e,t[i])},jspb.BinaryWriter.prototype.writeRepeatedBytes=function(e,t){if(null!=t)for(var i=0;i<t.length;i++)this.writeBytes(e,t[i])},jspb.BinaryWriter.prototype.writeRepeatedMessage=function(e,t,i){if(null!=t)for(var o=0;o<t.length;o++){var n=this.beginDelimited_(e);i(t[o],this),this.endDelimited_(n)}},jspb.BinaryWriter.prototype.writeRepeatedGroup=function(e,t,i){if(null!=t)for(var o=0;o<t.length;o++)this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.START_GROUP),i(t[o],this),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.END_GROUP)},jspb.BinaryWriter.prototype.writeRepeatedFixedHash64=function(e,t){if(null!=t)for(var i=0;i<t.length;i++)this.writeFixedHash64(e,t[i])},jspb.BinaryWriter.prototype.writeRepeatedVarintHash64=function(e,t){if(null!=t)for(var i=0;i<t.length;i++)this.writeVarintHash64(e,t[i])},jspb.BinaryWriter.prototype.writePackedInt32=function(e,t){if(null!=t&&t.length){for(var i=this.beginDelimited_(e),o=0;o<t.length;o++)this.encoder_.writeSignedVarint32(t[o]);this.endDelimited_(i)}},jspb.BinaryWriter.prototype.writePackedInt32String=function(e,t){if(null!=t&&t.length){for(var i=this.beginDelimited_(e),o=0;o<t.length;o++)this.encoder_.writeSignedVarint32(parseInt(t[o],10));this.endDelimited_(i)}},jspb.BinaryWriter.prototype.writePackedInt64=function(e,t){if(null!=t&&t.length){for(var i=this.beginDelimited_(e),o=0;o<t.length;o++)this.encoder_.writeSignedVarint64(t[o]);this.endDelimited_(i)}},jspb.BinaryWriter.prototype.writePackedInt64String=function(e,t){if(null!=t&&t.length){for(var i=this.beginDelimited_(e),o=0;o<t.length;o++){var n=jspb.arith.Int64.fromString(t[o]);this.encoder_.writeSplitVarint64(n.lo,n.hi)}this.endDelimited_(i)}},jspb.BinaryWriter.prototype.writePackedUint32=function(e,t){if(null!=t&&t.length){for(var i=this.beginDelimited_(e),o=0;o<t.length;o++)this.encoder_.writeUnsignedVarint32(t[o]);this.endDelimited_(i)}},jspb.BinaryWriter.prototype.writePackedUint32String=function(e,t){if(null!=t&&t.length){for(var i=this.beginDelimited_(e),o=0;o<t.length;o++)this.encoder_.writeUnsignedVarint32(parseInt(t[o],10));this.endDelimited_(i)}},jspb.BinaryWriter.prototype.writePackedUint64=function(e,t){if(null!=t&&t.length){for(var i=this.beginDelimited_(e),o=0;o<t.length;o++)this.encoder_.writeUnsignedVarint64(t[o]);this.endDelimited_(i)}},jspb.BinaryWriter.prototype.writePackedUint64String=function(e,t){if(null!=t&&t.length){for(var i=this.beginDelimited_(e),o=0;o<t.length;o++){var n=jspb.arith.UInt64.fromString(t[o]);this.encoder_.writeSplitVarint64(n.lo,n.hi)}this.endDelimited_(i)}},jspb.BinaryWriter.prototype.writePackedSint32=function(e,t){if(null!=t&&t.length){for(var i=this.beginDelimited_(e),o=0;o<t.length;o++)this.encoder_.writeZigzagVarint32(t[o]);this.endDelimited_(i)}},jspb.BinaryWriter.prototype.writePackedSint64=function(e,t){if(null!=t&&t.length){for(var i=this.beginDelimited_(e),o=0;o<t.length;o++)this.encoder_.writeZigzagVarint64(t[o]);this.endDelimited_(i)}},jspb.BinaryWriter.prototype.writePackedSint64String=function(e,t){if(null!=t&&t.length){for(var i=this.beginDelimited_(e),o=0;o<t.length;o++)this.encoder_.writeZigzagVarint64(parseInt(t[o],10));this.endDelimited_(i)}},jspb.BinaryWriter.prototype.writePackedFixed32=function(e,t){if(null!=t&&t.length){this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(4*t.length);for(var i=0;i<t.length;i++)this.encoder_.writeUint32(t[i])}},jspb.BinaryWriter.prototype.writePackedFixed64=function(e,t){if(null!=t&&t.length){this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*t.length);for(var i=0;i<t.length;i++)this.encoder_.writeUint64(t[i])}},jspb.BinaryWriter.prototype.writePackedFixed64String=function(e,t){if(null!=t&&t.length){this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*t.length);for(var i=0;i<t.length;i++){var o=jspb.arith.UInt64.fromString(t[i]);this.encoder_.writeSplitFixed64(o.lo,o.hi)}}},jspb.BinaryWriter.prototype.writePackedSfixed32=function(e,t){if(null!=t&&t.length){this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(4*t.length);for(var i=0;i<t.length;i++)this.encoder_.writeInt32(t[i])}},jspb.BinaryWriter.prototype.writePackedSfixed64=function(e,t){if(null!=t&&t.length){this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*t.length);for(var i=0;i<t.length;i++)this.encoder_.writeInt64(t[i])}},jspb.BinaryWriter.prototype.writePackedSfixed64String=function(e,t){if(null!=t&&t.length){this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*t.length);for(var i=0;i<t.length;i++)this.encoder_.writeInt64String(t[i])}},jspb.BinaryWriter.prototype.writePackedFloat=function(e,t){if(null!=t&&t.length){this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(4*t.length);for(var i=0;i<t.length;i++)this.encoder_.writeFloat(t[i])}},jspb.BinaryWriter.prototype.writePackedDouble=function(e,t){if(null!=t&&t.length){this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*t.length);for(var i=0;i<t.length;i++)this.encoder_.writeDouble(t[i])}},jspb.BinaryWriter.prototype.writePackedBool=function(e,t){if(null!=t&&t.length){this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(t.length);for(var i=0;i<t.length;i++)this.encoder_.writeBool(t[i])}},jspb.BinaryWriter.prototype.writePackedEnum=function(e,t){if(null!=t&&t.length){for(var i=this.beginDelimited_(e),o=0;o<t.length;o++)this.encoder_.writeEnum(t[o]);this.endDelimited_(i)}},jspb.BinaryWriter.prototype.writePackedFixedHash64=function(e,t){if(null!=t&&t.length){this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*t.length);for(var i=0;i<t.length;i++)this.encoder_.writeFixedHash64(t[i])}},jspb.BinaryWriter.prototype.writePackedVarintHash64=function(e,t){if(null!=t&&t.length){for(var i=this.beginDelimited_(e),o=0;o<t.length;o++)this.encoder_.writeVarintHash64(t[o]);this.endDelimited_(i)}},jspb.BinaryIterator=function(e,t,i){this.elements_=this.nextMethod_=this.decoder_=null,this.cursor_=0,this.nextValue_=null,this.atEnd_=!0,this.init_(e,t,i)},jspb.BinaryIterator.prototype.init_=function(e,t,i){e&&t&&(this.decoder_=e,this.nextMethod_=t),this.elements_=i||null,this.cursor_=0,this.nextValue_=null,this.atEnd_=!this.decoder_&&!this.elements_,this.next()},jspb.BinaryIterator.instanceCache_=[],jspb.BinaryIterator.alloc=function(e,t,i){if(jspb.BinaryIterator.instanceCache_.length){var o=jspb.BinaryIterator.instanceCache_.pop();return o.init_(e,t,i),o}return new jspb.BinaryIterator(e,t,i)},jspb.BinaryIterator.prototype.free=function(){this.clear(),100>jspb.BinaryIterator.instanceCache_.length&&jspb.BinaryIterator.instanceCache_.push(this)},jspb.BinaryIterator.prototype.clear=function(){this.decoder_&&this.decoder_.free(),this.elements_=this.nextMethod_=this.decoder_=null,this.cursor_=0,this.nextValue_=null,this.atEnd_=!0},jspb.BinaryIterator.prototype.get=function(){return this.nextValue_},jspb.BinaryIterator.prototype.atEnd=function(){return this.atEnd_},jspb.BinaryIterator.prototype.next=function(){var e=this.nextValue_;return this.decoder_?this.decoder_.atEnd()?(this.nextValue_=null,this.atEnd_=!0):this.nextValue_=this.nextMethod_.call(this.decoder_):this.elements_&&(this.cursor_==this.elements_.length?(this.nextValue_=null,this.atEnd_=!0):this.nextValue_=this.elements_[this.cursor_++]),e},jspb.BinaryDecoder=function(e,t,i){this.bytes_=null,this.tempHigh_=this.tempLow_=this.cursor_=this.end_=this.start_=0,this.error_=!1,e&&this.setBlock(e,t,i)},jspb.BinaryDecoder.instanceCache_=[],jspb.BinaryDecoder.alloc=function(e,t,i){if(jspb.BinaryDecoder.instanceCache_.length){var o=jspb.BinaryDecoder.instanceCache_.pop();return e&&o.setBlock(e,t,i),o}return new jspb.BinaryDecoder(e,t,i)},jspb.BinaryDecoder.prototype.free=function(){this.clear(),100>jspb.BinaryDecoder.instanceCache_.length&&jspb.BinaryDecoder.instanceCache_.push(this)},jspb.BinaryDecoder.prototype.clone=function(){return jspb.BinaryDecoder.alloc(this.bytes_,this.start_,this.end_-this.start_)},jspb.BinaryDecoder.prototype.clear=function(){this.bytes_=null,this.cursor_=this.end_=this.start_=0,this.error_=!1},jspb.BinaryDecoder.prototype.getBuffer=function(){return this.bytes_},jspb.BinaryDecoder.prototype.setBlock=function(e,t,i){this.bytes_=jspb.utils.byteSourceToUint8Array(e),this.start_=goog.isDef(t)?t:0,this.end_=goog.isDef(i)?this.start_+i:this.bytes_.length,this.cursor_=this.start_},jspb.BinaryDecoder.prototype.getEnd=function(){return this.end_},jspb.BinaryDecoder.prototype.setEnd=function(e){this.end_=e},jspb.BinaryDecoder.prototype.reset=function(){this.cursor_=this.start_},jspb.BinaryDecoder.prototype.getCursor=function(){return this.cursor_},jspb.BinaryDecoder.prototype.setCursor=function(e){this.cursor_=e},jspb.BinaryDecoder.prototype.advance=function(e){this.cursor_+=e,goog.asserts.assert(this.cursor_<=this.end_)},jspb.BinaryDecoder.prototype.atEnd=function(){return this.cursor_==this.end_},jspb.BinaryDecoder.prototype.pastEnd=function(){return this.cursor_>this.end_},jspb.BinaryDecoder.prototype.getError=function(){return this.error_||0>this.cursor_||this.cursor_>this.end_},jspb.BinaryDecoder.prototype.readSplitVarint64_=function(){for(var e,t,i=0,o=0;4>o;o++)if(i|=(127&(e=this.bytes_[this.cursor_++]))<<7*o,128>e)return this.tempLow_=i>>>0,void(this.tempHigh_=0);if(i|=(127&(e=this.bytes_[this.cursor_++]))<<28,t=0|(127&e)>>4,128>e)this.tempLow_=i>>>0,this.tempHigh_=t>>>0;else{for(o=0;5>o;o++)if(t|=(127&(e=this.bytes_[this.cursor_++]))<<7*o+3,128>e)return this.tempLow_=i>>>0,void(this.tempHigh_=t>>>0);goog.asserts.fail("Failed to read varint, encoding is invalid."),this.error_=!0}},jspb.BinaryDecoder.prototype.skipVarint=function(){for(;128&this.bytes_[this.cursor_];)this.cursor_++;this.cursor_++},jspb.BinaryDecoder.prototype.unskipVarint=function(e){for(;128<e;)this.cursor_--,e>>>=7;this.cursor_--},jspb.BinaryDecoder.prototype.readUnsignedVarint32=function(){var e,t=this.bytes_,i=127&(e=t[this.cursor_+0]);return 128>e?(this.cursor_+=1,goog.asserts.assert(this.cursor_<=this.end_),i):(i|=(127&(e=t[this.cursor_+1]))<<7,128>e?(this.cursor_+=2,goog.asserts.assert(this.cursor_<=this.end_),i):(i|=(127&(e=t[this.cursor_+2]))<<14,128>e?(this.cursor_+=3,goog.asserts.assert(this.cursor_<=this.end_),i):(i|=(127&(e=t[this.cursor_+3]))<<21,128>e?(this.cursor_+=4,goog.asserts.assert(this.cursor_<=this.end_),i):(i|=(15&(e=t[this.cursor_+4]))<<28,128>e?(this.cursor_+=5,goog.asserts.assert(this.cursor_<=this.end_),i>>>0):(this.cursor_+=5,128<=t[this.cursor_++]&&128<=t[this.cursor_++]&&128<=t[this.cursor_++]&&128<=t[this.cursor_++]&&128<=t[this.cursor_++]&&goog.asserts.assert(!1),goog.asserts.assert(this.cursor_<=this.end_),i)))))},jspb.BinaryDecoder.prototype.readSignedVarint32=jspb.BinaryDecoder.prototype.readUnsignedVarint32,jspb.BinaryDecoder.prototype.readUnsignedVarint32String=function(){return this.readUnsignedVarint32().toString()},jspb.BinaryDecoder.prototype.readSignedVarint32String=function(){return this.readSignedVarint32().toString()},jspb.BinaryDecoder.prototype.readZigzagVarint32=function(){var e=this.readUnsignedVarint32();return e>>>1^-(1&e)},jspb.BinaryDecoder.prototype.readUnsignedVarint64=function(){return this.readSplitVarint64_(),jspb.utils.joinUint64(this.tempLow_,this.tempHigh_)},jspb.BinaryDecoder.prototype.readUnsignedVarint64String=function(){return this.readSplitVarint64_(),jspb.utils.joinUnsignedDecimalString(this.tempLow_,this.tempHigh_)},jspb.BinaryDecoder.prototype.readSignedVarint64=function(){return this.readSplitVarint64_(),jspb.utils.joinInt64(this.tempLow_,this.tempHigh_)},jspb.BinaryDecoder.prototype.readSignedVarint64String=function(){return this.readSplitVarint64_(),jspb.utils.joinSignedDecimalString(this.tempLow_,this.tempHigh_)},jspb.BinaryDecoder.prototype.readZigzagVarint64=function(){return this.readSplitVarint64_(),jspb.utils.joinZigzag64(this.tempLow_,this.tempHigh_)},jspb.BinaryDecoder.prototype.readZigzagVarint64String=function(){return this.readZigzagVarint64().toString()},jspb.BinaryDecoder.prototype.readUint8=function(){var e=this.bytes_[this.cursor_+0];return this.cursor_+=1,goog.asserts.assert(this.cursor_<=this.end_),e},jspb.BinaryDecoder.prototype.readUint16=function(){var e=this.bytes_[this.cursor_+0],t=this.bytes_[this.cursor_+1];return this.cursor_+=2,goog.asserts.assert(this.cursor_<=this.end_),e<<0|t<<8},jspb.BinaryDecoder.prototype.readUint32=function(){var e=this.bytes_[this.cursor_+0],t=this.bytes_[this.cursor_+1],i=this.bytes_[this.cursor_+2],o=this.bytes_[this.cursor_+3];return this.cursor_+=4,goog.asserts.assert(this.cursor_<=this.end_),(e<<0|t<<8|i<<16|o<<24)>>>0},jspb.BinaryDecoder.prototype.readUint64=function(){var e=this.readUint32(),t=this.readUint32();return jspb.utils.joinUint64(e,t)},jspb.BinaryDecoder.prototype.readUint64String=function(){var e=this.readUint32(),t=this.readUint32();return jspb.utils.joinUnsignedDecimalString(e,t)},jspb.BinaryDecoder.prototype.readInt8=function(){var e=this.bytes_[this.cursor_+0];return this.cursor_+=1,goog.asserts.assert(this.cursor_<=this.end_),e<<24>>24},jspb.BinaryDecoder.prototype.readInt16=function(){var e=this.bytes_[this.cursor_+0],t=this.bytes_[this.cursor_+1];return this.cursor_+=2,goog.asserts.assert(this.cursor_<=this.end_),(e<<0|t<<8)<<16>>16},jspb.BinaryDecoder.prototype.readInt32=function(){var e=this.bytes_[this.cursor_+0],t=this.bytes_[this.cursor_+1],i=this.bytes_[this.cursor_+2],o=this.bytes_[this.cursor_+3];return this.cursor_+=4,goog.asserts.assert(this.cursor_<=this.end_),e<<0|t<<8|i<<16|o<<24},jspb.BinaryDecoder.prototype.readInt64=function(){var e=this.readUint32(),t=this.readUint32();return jspb.utils.joinInt64(e,t)},jspb.BinaryDecoder.prototype.readInt64String=function(){var e=this.readUint32(),t=this.readUint32();return jspb.utils.joinSignedDecimalString(e,t)},jspb.BinaryDecoder.prototype.readFloat=function(){var e=this.readUint32();return jspb.utils.joinFloat32(e,0)},jspb.BinaryDecoder.prototype.readDouble=function(){var e=this.readUint32(),t=this.readUint32();return jspb.utils.joinFloat64(e,t)},jspb.BinaryDecoder.prototype.readBool=function(){return!!this.bytes_[this.cursor_++]},jspb.BinaryDecoder.prototype.readEnum=function(){return this.readSignedVarint32()},jspb.BinaryDecoder.prototype.readString=function(e){var t=this.bytes_,i=this.cursor_;e=i+e;for(var o=[],n="";i<e;){if(128>(s=t[i++]))o.push(s);else{if(192>s)continue;if(224>s){var r=t[i++];o.push((31&s)<<6|63&r)}else if(240>s){r=t[i++];var a=t[i++];o.push((15&s)<<12|(63&r)<<6|63&a)}else if(248>s){var s=(s=(7&s)<<18|(63&(r=t[i++]))<<12|(63&(a=t[i++]))<<6|63&t[i++])-65536;o.push(55296+(s>>10&1023),56320+(1023&s))}}8192<=o.length&&(n+=String.fromCharCode.apply(null,o),o.length=0)}return n+=goog.crypt.byteArrayToString(o),this.cursor_=i,n},jspb.BinaryDecoder.prototype.readStringWithLength=function(){var e=this.readUnsignedVarint32();return this.readString(e)},jspb.BinaryDecoder.prototype.readBytes=function(e){if(0>e||this.cursor_+e>this.bytes_.length)return this.error_=!0,goog.asserts.fail("Invalid byte length!"),new Uint8Array(0);var t=this.bytes_.subarray(this.cursor_,this.cursor_+e);return this.cursor_+=e,goog.asserts.assert(this.cursor_<=this.end_),t},jspb.BinaryDecoder.prototype.readVarintHash64=function(){return this.readSplitVarint64_(),jspb.utils.joinHash64(this.tempLow_,this.tempHigh_)},jspb.BinaryDecoder.prototype.readFixedHash64=function(){var e=this.bytes_,t=this.cursor_,i=e[t+0],o=e[t+1],n=e[t+2],r=e[t+3],a=e[t+4],s=e[t+5],p=e[t+6];return e=e[t+7],this.cursor_+=8,String.fromCharCode(i,o,n,r,a,s,p,e)},jspb.BinaryReader=function(e,t,i){this.decoder_=jspb.BinaryDecoder.alloc(e,t,i),this.fieldCursor_=this.decoder_.getCursor(),this.nextField_=jspb.BinaryConstants.INVALID_FIELD_NUMBER,this.nextWireType_=jspb.BinaryConstants.WireType.INVALID,this.error_=!1,this.readCallbacks_=null},jspb.BinaryReader.instanceCache_=[],jspb.BinaryReader.alloc=function(e,t,i){if(jspb.BinaryReader.instanceCache_.length){var o=jspb.BinaryReader.instanceCache_.pop();return e&&o.decoder_.setBlock(e,t,i),o}return new jspb.BinaryReader(e,t,i)},jspb.BinaryReader.prototype.alloc=jspb.BinaryReader.alloc,jspb.BinaryReader.prototype.free=function(){this.decoder_.clear(),this.nextField_=jspb.BinaryConstants.INVALID_FIELD_NUMBER,this.nextWireType_=jspb.BinaryConstants.WireType.INVALID,this.error_=!1,this.readCallbacks_=null,100>jspb.BinaryReader.instanceCache_.length&&jspb.BinaryReader.instanceCache_.push(this)},jspb.BinaryReader.prototype.getFieldCursor=function(){return this.fieldCursor_},jspb.BinaryReader.prototype.getCursor=function(){return this.decoder_.getCursor()},jspb.BinaryReader.prototype.getBuffer=function(){return this.decoder_.getBuffer()},jspb.BinaryReader.prototype.getFieldNumber=function(){return this.nextField_},jspb.BinaryReader.prototype.getWireType=function(){return this.nextWireType_},jspb.BinaryReader.prototype.isEndGroup=function(){return this.nextWireType_==jspb.BinaryConstants.WireType.END_GROUP},jspb.BinaryReader.prototype.getError=function(){return this.error_||this.decoder_.getError()},jspb.BinaryReader.prototype.setBlock=function(e,t,i){this.decoder_.setBlock(e,t,i),this.nextField_=jspb.BinaryConstants.INVALID_FIELD_NUMBER,this.nextWireType_=jspb.BinaryConstants.WireType.INVALID},jspb.BinaryReader.prototype.reset=function(){this.decoder_.reset(),this.nextField_=jspb.BinaryConstants.INVALID_FIELD_NUMBER,this.nextWireType_=jspb.BinaryConstants.WireType.INVALID},jspb.BinaryReader.prototype.advance=function(e){this.decoder_.advance(e)},jspb.BinaryReader.prototype.nextField=function(){if(this.decoder_.atEnd())return!1;if(this.getError())return goog.asserts.fail("Decoder hit an error"),!1;this.fieldCursor_=this.decoder_.getCursor();var e,t=(e=this.decoder_.readUnsignedVarint32())>>>3;return(e&=7)!=jspb.BinaryConstants.WireType.VARINT&&e!=jspb.BinaryConstants.WireType.FIXED32&&e!=jspb.BinaryConstants.WireType.FIXED64&&e!=jspb.BinaryConstants.WireType.DELIMITED&&e!=jspb.BinaryConstants.WireType.START_GROUP&&e!=jspb.BinaryConstants.WireType.END_GROUP?(goog.asserts.fail("Invalid wire type"),this.error_=!0,!1):(this.nextField_=t,this.nextWireType_=e,!0)},jspb.BinaryReader.prototype.unskipHeader=function(){this.decoder_.unskipVarint(this.nextField_<<3|this.nextWireType_)},jspb.BinaryReader.prototype.skipMatchingFields=function(){var e=this.nextField_;for(this.unskipHeader();this.nextField()&&this.getFieldNumber()==e;)this.skipField();this.decoder_.atEnd()||this.unskipHeader()},jspb.BinaryReader.prototype.skipVarintField=function(){this.nextWireType_!=jspb.BinaryConstants.WireType.VARINT?(goog.asserts.fail("Invalid wire type for skipVarintField"),this.skipField()):this.decoder_.skipVarint()},jspb.BinaryReader.prototype.skipDelimitedField=function(){if(this.nextWireType_!=jspb.BinaryConstants.WireType.DELIMITED)goog.asserts.fail("Invalid wire type for skipDelimitedField"),this.skipField();else{var e=this.decoder_.readUnsignedVarint32();this.decoder_.advance(e)}},jspb.BinaryReader.prototype.skipFixed32Field=function(){this.nextWireType_!=jspb.BinaryConstants.WireType.FIXED32?(goog.asserts.fail("Invalid wire type for skipFixed32Field"),this.skipField()):this.decoder_.advance(4)},jspb.BinaryReader.prototype.skipFixed64Field=function(){this.nextWireType_!=jspb.BinaryConstants.WireType.FIXED64?(goog.asserts.fail("Invalid wire type for skipFixed64Field"),this.skipField()):this.decoder_.advance(8)},jspb.BinaryReader.prototype.skipGroup=function(){var e=[this.nextField_];do{if(!this.nextField()){goog.asserts.fail("Unmatched start-group tag: stream EOF"),this.error_=!0;break}if(this.nextWireType_==jspb.BinaryConstants.WireType.START_GROUP)e.push(this.nextField_);else if(this.nextWireType_==jspb.BinaryConstants.WireType.END_GROUP&&this.nextField_!=e.pop()){goog.asserts.fail("Unmatched end-group tag"),this.error_=!0;break}}while(0<e.length)},jspb.BinaryReader.prototype.skipField=function(){switch(this.nextWireType_){case jspb.BinaryConstants.WireType.VARINT:this.skipVarintField();break;case jspb.BinaryConstants.WireType.FIXED64:this.skipFixed64Field();break;case jspb.BinaryConstants.WireType.DELIMITED:this.skipDelimitedField();break;case jspb.BinaryConstants.WireType.FIXED32:this.skipFixed32Field();break;case jspb.BinaryConstants.WireType.START_GROUP:this.skipGroup();break;default:goog.asserts.fail("Invalid wire encoding for field.")}},jspb.BinaryReader.prototype.registerReadCallback=function(e,t){goog.isNull(this.readCallbacks_)&&(this.readCallbacks_={}),goog.asserts.assert(!this.readCallbacks_[e]),this.readCallbacks_[e]=t},jspb.BinaryReader.prototype.runReadCallback=function(e){return goog.asserts.assert(!goog.isNull(this.readCallbacks_)),e=this.readCallbacks_[e],goog.asserts.assert(e),e(this)},jspb.BinaryReader.prototype.readAny=function(e){this.nextWireType_=jspb.BinaryConstants.FieldTypeToWireType(e);var t=jspb.BinaryConstants.FieldType;switch(e){case t.DOUBLE:return this.readDouble();case t.FLOAT:return this.readFloat();case t.INT64:return this.readInt64();case t.UINT64:return this.readUint64();case t.INT32:return this.readInt32();case t.FIXED64:return this.readFixed64();case t.FIXED32:return this.readFixed32();case t.BOOL:return this.readBool();case t.STRING:return this.readString();case t.GROUP:goog.asserts.fail("Group field type not supported in readAny()");case t.MESSAGE:goog.asserts.fail("Message field type not supported in readAny()");case t.BYTES:return this.readBytes();case t.UINT32:return this.readUint32();case t.ENUM:return this.readEnum();case t.SFIXED32:return this.readSfixed32();case t.SFIXED64:return this.readSfixed64();case t.SINT32:return this.readSint32();case t.SINT64:return this.readSint64();case t.FHASH64:return this.readFixedHash64();case t.VHASH64:return this.readVarintHash64();default:goog.asserts.fail("Invalid field type in readAny()")}return 0},jspb.BinaryReader.prototype.readMessage=function(e,t){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var i=this.decoder_.getEnd(),o=this.decoder_.readUnsignedVarint32();o=this.decoder_.getCursor()+o,this.decoder_.setEnd(o),t(e,this),this.decoder_.setCursor(o),this.decoder_.setEnd(i)},jspb.BinaryReader.prototype.readGroup=function(e,t,i){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.START_GROUP),goog.asserts.assert(this.nextField_==e),i(t,this),this.error_||this.nextWireType_==jspb.BinaryConstants.WireType.END_GROUP||(goog.asserts.fail("Group submessage did not end with an END_GROUP tag"),this.error_=!0)},jspb.BinaryReader.prototype.getFieldDecoder=function(){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var e=this.decoder_.readUnsignedVarint32(),t=this.decoder_.getCursor(),i=t+e;return e=jspb.BinaryDecoder.alloc(this.decoder_.getBuffer(),t,e),this.decoder_.setCursor(i),e},jspb.BinaryReader.prototype.readInt32=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint32()},jspb.BinaryReader.prototype.readInt32String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint32String()},jspb.BinaryReader.prototype.readInt64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint64()},jspb.BinaryReader.prototype.readInt64String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint64String()},jspb.BinaryReader.prototype.readUint32=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readUnsignedVarint32()},jspb.BinaryReader.prototype.readUint32String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readUnsignedVarint32String()},jspb.BinaryReader.prototype.readUint64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readUnsignedVarint64()},jspb.BinaryReader.prototype.readUint64String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readUnsignedVarint64String()},jspb.BinaryReader.prototype.readSint32=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readZigzagVarint32()},jspb.BinaryReader.prototype.readSint64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readZigzagVarint64()},jspb.BinaryReader.prototype.readSint64String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readZigzagVarint64String()},jspb.BinaryReader.prototype.readFixed32=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED32),this.decoder_.readUint32()},jspb.BinaryReader.prototype.readFixed64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readUint64()},jspb.BinaryReader.prototype.readFixed64String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readUint64String()},jspb.BinaryReader.prototype.readSfixed32=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED32),this.decoder_.readInt32()},jspb.BinaryReader.prototype.readSfixed32String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED32),this.decoder_.readInt32().toString()},jspb.BinaryReader.prototype.readSfixed64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readInt64()},jspb.BinaryReader.prototype.readSfixed64String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readInt64String()},jspb.BinaryReader.prototype.readFloat=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED32),this.decoder_.readFloat()},jspb.BinaryReader.prototype.readDouble=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readDouble()},jspb.BinaryReader.prototype.readBool=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),!!this.decoder_.readUnsignedVarint32()},jspb.BinaryReader.prototype.readEnum=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint64()},jspb.BinaryReader.prototype.readString=function(){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var e=this.decoder_.readUnsignedVarint32();return this.decoder_.readString(e)},jspb.BinaryReader.prototype.readBytes=function(){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var e=this.decoder_.readUnsignedVarint32();return this.decoder_.readBytes(e)},jspb.BinaryReader.prototype.readVarintHash64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readVarintHash64()},jspb.BinaryReader.prototype.readFixedHash64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readFixedHash64()},jspb.BinaryReader.prototype.readPackedField_=function(e){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);for(var t=this.decoder_.readUnsignedVarint32(),i=(t=this.decoder_.getCursor()+t,[]);this.decoder_.getCursor()<t;)i.push(e.call(this.decoder_));return i},jspb.BinaryReader.prototype.readPackedInt32=function(){return this.readPackedField_(this.decoder_.readSignedVarint32)},jspb.BinaryReader.prototype.readPackedInt32String=function(){return this.readPackedField_(this.decoder_.readSignedVarint32String)},jspb.BinaryReader.prototype.readPackedInt64=function(){return this.readPackedField_(this.decoder_.readSignedVarint64)},jspb.BinaryReader.prototype.readPackedInt64String=function(){return this.readPackedField_(this.decoder_.readSignedVarint64String)},jspb.BinaryReader.prototype.readPackedUint32=function(){return this.readPackedField_(this.decoder_.readUnsignedVarint32)},jspb.BinaryReader.prototype.readPackedUint32String=function(){return this.readPackedField_(this.decoder_.readUnsignedVarint32String)},jspb.BinaryReader.prototype.readPackedUint64=function(){return this.readPackedField_(this.decoder_.readUnsignedVarint64)},jspb.BinaryReader.prototype.readPackedUint64String=function(){return this.readPackedField_(this.decoder_.readUnsignedVarint64String)},jspb.BinaryReader.prototype.readPackedSint32=function(){return this.readPackedField_(this.decoder_.readZigzagVarint32)},jspb.BinaryReader.prototype.readPackedSint64=function(){return this.readPackedField_(this.decoder_.readZigzagVarint64)},jspb.BinaryReader.prototype.readPackedSint64String=function(){return this.readPackedField_(this.decoder_.readZigzagVarint64String)},jspb.BinaryReader.prototype.readPackedFixed32=function(){return this.readPackedField_(this.decoder_.readUint32)},jspb.BinaryReader.prototype.readPackedFixed64=function(){return this.readPackedField_(this.decoder_.readUint64)},jspb.BinaryReader.prototype.readPackedFixed64String=function(){return this.readPackedField_(this.decoder_.readUint64String)},jspb.BinaryReader.prototype.readPackedSfixed32=function(){return this.readPackedField_(this.decoder_.readInt32)},jspb.BinaryReader.prototype.readPackedSfixed64=function(){return this.readPackedField_(this.decoder_.readInt64)},jspb.BinaryReader.prototype.readPackedSfixed64String=function(){return this.readPackedField_(this.decoder_.readInt64String)},jspb.BinaryReader.prototype.readPackedFloat=function(){return this.readPackedField_(this.decoder_.readFloat)},jspb.BinaryReader.prototype.readPackedDouble=function(){return this.readPackedField_(this.decoder_.readDouble)},jspb.BinaryReader.prototype.readPackedBool=function(){return this.readPackedField_(this.decoder_.readBool)},jspb.BinaryReader.prototype.readPackedEnum=function(){return this.readPackedField_(this.decoder_.readEnum)},jspb.BinaryReader.prototype.readPackedVarintHash64=function(){return this.readPackedField_(this.decoder_.readVarintHash64)},jspb.BinaryReader.prototype.readPackedFixedHash64=function(){return this.readPackedField_(this.decoder_.readFixedHash64)},jspb.Export={},exports.Map=jspb.Map,exports.Message=jspb.Message,exports.BinaryReader=jspb.BinaryReader,exports.BinaryWriter=jspb.BinaryWriter,exports.ExtensionFieldInfo=jspb.ExtensionFieldInfo,exports.ExtensionFieldBinaryInfo=jspb.ExtensionFieldBinaryInfo,exports.exportSymbol=goog.exportSymbol,exports.inherits=goog.inherits,exports.object={extend:goog.object.extend},exports.typeOf=goog.typeOf,module.exports.goog=goog,module.exports.jspb=jspb,module.exports.COMPILED=COMPILED,cc._RF.pop()}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],guide_preload_pb:[function(e,t,i){"use strict";cc._RF.push(t,"d22c78LCfVAqKWhXJp0wxv+","guide_preload_pb");var o=e("google-protobuf"),n=o,r=function(){return this}();if(n.exportSymbol("proto.GuidePreloadConfigProto",null,r),null==a)var a=a||{};a.GuidePreloadConfigProto=function(e){o.Message.initialize(this,e,0,-1,a.GuidePreloadConfigProto.repeatedFields_,null)},n.inherits(a.GuidePreloadConfigProto,o.Message),n.DEBUG&&!COMPILED&&(a.GuidePreloadConfigProto.displayName="proto.GuidePreloadConfigProto"),a.GuidePreloadConfigProto.repeatedFields_=[2],o.Message.GENERATE_TO_OBJECT&&(a.GuidePreloadConfigProto.prototype.toObject=function(e){return a.GuidePreloadConfigProto.toObject(e,this)},a.GuidePreloadConfigProto.toObject=function(e,t){var i={id:o.Message.getFieldWithDefault(t,1,0),resourcesList:o.Message.getRepeatedField(t,2)};return e&&(i.$jspbMessageInstance=t),i}),a.GuidePreloadConfigProto.deserializeBinary=function(e){var t=new o.BinaryReader(e),i=new a.GuidePreloadConfigProto;return a.GuidePreloadConfigProto.deserializeBinaryFromReader(i,t)},a.GuidePreloadConfigProto.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var i=t.readInt32();e.setId(i);break;case 2:i=t.readString(),e.addResources(i);break;default:t.skipField()}return e},a.GuidePreloadConfigProto.prototype.serializeBinary=function(){var e=new o.BinaryWriter;return a.GuidePreloadConfigProto.serializeBinaryToWriter(this,e),e.getResultBuffer()},a.GuidePreloadConfigProto.serializeBinaryToWriter=function(e,t){var i=void 0;0!==(i=e.getId())&&t.writeInt32(1,i),(i=e.getResourcesList()).length>0&&t.writeRepeatedString(2,i)},a.GuidePreloadConfigProto.prototype.getId=function(){return o.Message.getFieldWithDefault(this,1,0)},a.GuidePreloadConfigProto.prototype.setId=function(e){o.Message.setProto3IntField(this,1,e)},a.GuidePreloadConfigProto.prototype.getResourcesList=function(){return o.Message.getRepeatedField(this,2)},a.GuidePreloadConfigProto.prototype.setResourcesList=function(e){o.Message.setField(this,2,e||[])},a.GuidePreloadConfigProto.prototype.addResources=function(e,t){o.Message.addToRepeatedField(this,2,e,t)},a.GuidePreloadConfigProto.prototype.clearResourcesList=function(){this.setResourcesList([])},n.object.extend(i,a),cc._RF.pop()},{"google-protobuf":"google-protobuf"}],guide_trigger_pb:[function(e,t,i){"use strict";cc._RF.push(t,"7b865tEkbhKZKjvNSXk5c87","guide_trigger_pb");var o=e("google-protobuf"),n=o,r=function(){return this}(),a=e("./config_utils_pb.js");if(n.exportSymbol("proto.GuideTriggerConfigProto",null,r),null==s)var s=s||{};s.GuideTriggerConfigProto=function(e){o.Message.initialize(this,e,0,-1,s.GuideTriggerConfigProto.repeatedFields_,null)},n.inherits(s.GuideTriggerConfigProto,o.Message),n.DEBUG&&!COMPILED&&(s.GuideTriggerConfigProto.displayName="proto.GuideTriggerConfigProto"),s.GuideTriggerConfigProto.repeatedFields_=[2,3],o.Message.GENERATE_TO_OBJECT&&(s.GuideTriggerConfigProto.prototype.toObject=function(e){return s.GuideTriggerConfigProto.toObject(e,this)},s.GuideTriggerConfigProto.toObject=function(e,t){var i={id:o.Message.getFieldWithDefault(t,1,0),timesList:o.Message.getRepeatedField(t,2),conditionsList:o.Message.toObjectList(t.getConditionsList(),a.ProtoInt3.toObject,e),guideId:o.Message.getFieldWithDefault(t,4,0),repeat:o.Message.getFieldWithDefault(t,5,0)};return e&&(i.$jspbMessageInstance=t),i}),s.GuideTriggerConfigProto.deserializeBinary=function(e){var t=new o.BinaryReader(e),i=new s.GuideTriggerConfigProto;return s.GuideTriggerConfigProto.deserializeBinaryFromReader(i,t)},s.GuideTriggerConfigProto.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var i=t.readInt32();e.setId(i);break;case 2:i=t.readString(),e.addTimes(i);break;case 3:i=new a.ProtoInt3,t.readMessage(i,a.ProtoInt3.deserializeBinaryFromReader),e.addConditions(i);break;case 4:i=t.readInt32(),e.setGuideId(i);break;case 5:i=t.readInt32(),e.setRepeat(i);break;default:t.skipField()}return e},s.GuideTriggerConfigProto.prototype.serializeBinary=function(){var e=new o.BinaryWriter;return s.GuideTriggerConfigProto.serializeBinaryToWriter(this,e),e.getResultBuffer()},s.GuideTriggerConfigProto.serializeBinaryToWriter=function(e,t){var i=void 0;0!==(i=e.getId())&&t.writeInt32(1,i),(i=e.getTimesList()).length>0&&t.writeRepeatedString(2,i),(i=e.getConditionsList()).length>0&&t.writeRepeatedMessage(3,i,a.ProtoInt3.serializeBinaryToWriter),0!==(i=e.getGuideId())&&t.writeInt32(4,i),0!==(i=e.getRepeat())&&t.writeInt32(5,i)},s.GuideTriggerConfigProto.prototype.getId=function(){return o.Message.getFieldWithDefault(this,1,0)},s.GuideTriggerConfigProto.prototype.setId=function(e){o.Message.setProto3IntField(this,1,e)},s.GuideTriggerConfigProto.prototype.getTimesList=function(){return o.Message.getRepeatedField(this,2)},s.GuideTriggerConfigProto.prototype.setTimesList=function(e){o.Message.setField(this,2,e||[])},s.GuideTriggerConfigProto.prototype.addTimes=function(e,t){o.Message.addToRepeatedField(this,2,e,t)},s.GuideTriggerConfigProto.prototype.clearTimesList=function(){this.setTimesList([])},s.GuideTriggerConfigProto.prototype.getConditionsList=function(){return o.Message.getRepeatedWrapperField(this,a.ProtoInt3,3)},s.GuideTriggerConfigProto.prototype.setConditionsList=function(e){o.Message.setRepeatedWrapperField(this,3,e)},s.GuideTriggerConfigProto.prototype.addConditions=function(e,t){return o.Message.addToRepeatedWrapperField(this,3,e,s.ProtoInt3,t)},s.GuideTriggerConfigProto.prototype.clearConditionsList=function(){this.setConditionsList([])},s.GuideTriggerConfigProto.prototype.getGuideId=function(){return o.Message.getFieldWithDefault(this,4,0)},s.GuideTriggerConfigProto.prototype.setGuideId=function(e){o.Message.setProto3IntField(this,4,e)},s.GuideTriggerConfigProto.prototype.getRepeat=function(){return o.Message.getFieldWithDefault(this,5,0)},s.GuideTriggerConfigProto.prototype.setRepeat=function(e){o.Message.setProto3IntField(this,5,e)},n.object.extend(i,s),cc._RF.pop()},{"./config_utils_pb.js":"config_utils_pb","google-protobuf":"google-protobuf"}],init_attr_pb:[function(e,t,i){"use strict";cc._RF.push(t,"25df9WJa1BPNrNI2HjD2CzH","init_attr_pb");var o=e("google-protobuf"),n=o,r=function(){return this}();if(n.exportSymbol("proto.InitAttrConfigProto",null,r),null==a)var a=a||{};a.InitAttrConfigProto=function(e){o.Message.initialize(this,e,0,-1,null,null)},n.inherits(a.InitAttrConfigProto,o.Message),n.DEBUG&&!COMPILED&&(a.InitAttrConfigProto.displayName="proto.InitAttrConfigProto"),o.Message.GENERATE_TO_OBJECT&&(a.InitAttrConfigProto.prototype.toObject=function(e){return a.InitAttrConfigProto.toObject(e,this)},a.InitAttrConfigProto.toObject=function(e,t){var i={id:o.Message.getFieldWithDefault(t,1,0),value:o.Message.getFieldWithDefault(t,2,0)};return e&&(i.$jspbMessageInstance=t),i}),a.InitAttrConfigProto.deserializeBinary=function(e){var t=new o.BinaryReader(e),i=new a.InitAttrConfigProto;return a.InitAttrConfigProto.deserializeBinaryFromReader(i,t)},a.InitAttrConfigProto.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var i=t.readInt32();e.setId(i);break;case 2:i=t.readInt32(),e.setValue(i);break;default:t.skipField()}return e},a.InitAttrConfigProto.prototype.serializeBinary=function(){var e=new o.BinaryWriter;return a.InitAttrConfigProto.serializeBinaryToWriter(this,e),e.getResultBuffer()},a.InitAttrConfigProto.serializeBinaryToWriter=function(e,t){var i=void 0;0!==(i=e.getId())&&t.writeInt32(1,i),0!==(i=e.getValue())&&t.writeInt32(2,i)},a.InitAttrConfigProto.prototype.getId=function(){return o.Message.getFieldWithDefault(this,1,0)},a.InitAttrConfigProto.prototype.setId=function(e){o.Message.setProto3IntField(this,1,e)},a.InitAttrConfigProto.prototype.getValue=function(){return o.Message.getFieldWithDefault(this,2,0)},a.InitAttrConfigProto.prototype.setValue=function(e){o.Message.setProto3IntField(this,2,e)},n.object.extend(i,a),cc._RF.pop()},{"google-protobuf":"google-protobuf"}],item_info_pb:[function(e,t,i){"use strict";cc._RF.push(t,"07f0bheIDFPuJVbUQrABVFk","item_info_pb");var o=e("google-protobuf"),n=o,r=function(){return this}();if(n.exportSymbol("proto.ItemInfoConfigProto",null,r),null==a)var a=a||{};a.ItemInfoConfigProto=function(e){o.Message.initialize(this,e,0,-1,a.ItemInfoConfigProto.repeatedFields_,null)},n.inherits(a.ItemInfoConfigProto,o.Message),n.DEBUG&&!COMPILED&&(a.ItemInfoConfigProto.displayName="proto.ItemInfoConfigProto"),a.ItemInfoConfigProto.repeatedFields_=[4],o.Message.GENERATE_TO_OBJECT&&(a.ItemInfoConfigProto.prototype.toObject=function(e){return a.ItemInfoConfigProto.toObject(e,this)},a.ItemInfoConfigProto.toObject=function(e,t){var i={id:o.Message.getFieldWithDefault(t,1,0),nameLan:o.Message.getFieldWithDefault(t,2,0),descLan:o.Message.getFieldWithDefault(t,3,0),iconList:o.Message.getRepeatedField(t,4),type:o.Message.getFieldWithDefault(t,5,0),param1:o.Message.getFieldWithDefault(t,6,0),funcType:o.Message.getFieldWithDefault(t,7,0),funcParam1:o.Message.getFieldWithDefault(t,8,0),funcParam2:o.Message.getFieldWithDefault(t,9,0)};return e&&(i.$jspbMessageInstance=t),i}),a.ItemInfoConfigProto.deserializeBinary=function(e){var t=new o.BinaryReader(e),i=new a.ItemInfoConfigProto;return a.ItemInfoConfigProto.deserializeBinaryFromReader(i,t)},a.ItemInfoConfigProto.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var i=t.readInt32();e.setId(i);break;case 2:i=t.readInt32(),e.setNameLan(i);break;case 3:i=t.readInt32(),e.setDescLan(i);break;case 4:i=t.readString(),e.addIcon(i);break;case 5:i=t.readInt32(),e.setType(i);break;case 6:i=t.readInt32(),e.setParam1(i);break;case 7:i=t.readInt32(),e.setFuncType(i);break;case 8:i=t.readInt32(),e.setFuncParam1(i);break;case 9:i=t.readInt32(),e.setFuncParam2(i);break;default:t.skipField()}return e},a.ItemInfoConfigProto.prototype.serializeBinary=function(){var e=new o.BinaryWriter;return a.ItemInfoConfigProto.serializeBinaryToWriter(this,e),e.getResultBuffer()},a.ItemInfoConfigProto.serializeBinaryToWriter=function(e,t){var i=void 0;0!==(i=e.getId())&&t.writeInt32(1,i),0!==(i=e.getNameLan())&&t.writeInt32(2,i),0!==(i=e.getDescLan())&&t.writeInt32(3,i),(i=e.getIconList()).length>0&&t.writeRepeatedString(4,i),0!==(i=e.getType())&&t.writeInt32(5,i),0!==(i=e.getParam1())&&t.writeInt32(6,i),0!==(i=e.getFuncType())&&t.writeInt32(7,i),0!==(i=e.getFuncParam1())&&t.writeInt32(8,i),0!==(i=e.getFuncParam2())&&t.writeInt32(9,i)},a.ItemInfoConfigProto.prototype.getId=function(){return o.Message.getFieldWithDefault(this,1,0)},a.ItemInfoConfigProto.prototype.setId=function(e){o.Message.setProto3IntField(this,1,e)},a.ItemInfoConfigProto.prototype.getNameLan=function(){return o.Message.getFieldWithDefault(this,2,0)},a.ItemInfoConfigProto.prototype.setNameLan=function(e){o.Message.setProto3IntField(this,2,e)},a.ItemInfoConfigProto.prototype.getDescLan=function(){return o.Message.getFieldWithDefault(this,3,0)},a.ItemInfoConfigProto.prototype.setDescLan=function(e){o.Message.setProto3IntField(this,3,e)},a.ItemInfoConfigProto.prototype.getIconList=function(){return o.Message.getRepeatedField(this,4)},a.ItemInfoConfigProto.prototype.setIconList=function(e){o.Message.setField(this,4,e||[])},a.ItemInfoConfigProto.prototype.addIcon=function(e,t){o.Message.addToRepeatedField(this,4,e,t)},a.ItemInfoConfigProto.prototype.clearIconList=function(){this.setIconList([])},a.ItemInfoConfigProto.prototype.getType=function(){return o.Message.getFieldWithDefault(this,5,0)},a.ItemInfoConfigProto.prototype.setType=function(e){o.Message.setProto3IntField(this,5,e)},a.ItemInfoConfigProto.prototype.getParam1=function(){return o.Message.getFieldWithDefault(this,6,0)},a.ItemInfoConfigProto.prototype.setParam1=function(e){o.Message.setProto3IntField(this,6,e)},a.ItemInfoConfigProto.prototype.getFuncType=function(){return o.Message.getFieldWithDefault(this,7,0)},a.ItemInfoConfigProto.prototype.setFuncType=function(e){o.Message.setProto3IntField(this,7,e)},a.ItemInfoConfigProto.prototype.getFuncParam1=function(){return o.Message.getFieldWithDefault(this,8,0)},a.ItemInfoConfigProto.prototype.setFuncParam1=function(e){o.Message.setProto3IntField(this,8,e)},a.ItemInfoConfigProto.prototype.getFuncParam2=function(){return o.Message.getFieldWithDefault(this,9,0)},a.ItemInfoConfigProto.prototype.setFuncParam2=function(e){o.Message.setProto3IntField(this,9,e)},n.object.extend(i,a),cc._RF.pop()},{"google-protobuf":"google-protobuf"}],lan_attri_pb:[function(e,t,i){"use strict";cc._RF.push(t,"5ce39XRb4NLEp1dkd3dHZpN","lan_attri_pb");var o=e("google-protobuf"),n=o,r=function(){return this}();if(n.exportSymbol("proto.LanAttriConfigProto",null,r),null==a)var a=a||{};a.LanAttriConfigProto=function(e){o.Message.initialize(this,e,0,-1,null,null)},n.inherits(a.LanAttriConfigProto,o.Message),n.DEBUG&&!COMPILED&&(a.LanAttriConfigProto.displayName="proto.LanAttriConfigProto"),o.Message.GENERATE_TO_OBJECT&&(a.LanAttriConfigProto.prototype.toObject=function(e){return a.LanAttriConfigProto.toObject(e,this)},a.LanAttriConfigProto.toObject=function(e,t){var i={id:o.Message.getFieldWithDefault(t,1,0),value:o.Message.getFieldWithDefault(t,2,""),desc:o.Message.getFieldWithDefault(t,3,""),descBase:o.Message.getFieldWithDefault(t,4,0)};return e&&(i.$jspbMessageInstance=t),i}),a.LanAttriConfigProto.deserializeBinary=function(e){var t=new o.BinaryReader(e),i=new a.LanAttriConfigProto;return a.LanAttriConfigProto.deserializeBinaryFromReader(i,t)},a.LanAttriConfigProto.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var i=t.readInt32();e.setId(i);break;case 2:i=t.readString(),e.setValue(i);break;case 3:i=t.readString(),e.setDesc(i);break;case 4:i=t.readInt32(),e.setDescBase(i);break;default:t.skipField()}return e},a.LanAttriConfigProto.prototype.serializeBinary=function(){var e=new o.BinaryWriter;return a.LanAttriConfigProto.serializeBinaryToWriter(this,e),e.getResultBuffer()},a.LanAttriConfigProto.serializeBinaryToWriter=function(e,t){var i=void 0;0!==(i=e.getId())&&t.writeInt32(1,i),(i=e.getValue()).length>0&&t.writeString(2,i),(i=e.getDesc()).length>0&&t.writeString(3,i),0!==(i=e.getDescBase())&&t.writeInt32(4,i)},a.LanAttriConfigProto.prototype.getId=function(){return o.Message.getFieldWithDefault(this,1,0)},a.LanAttriConfigProto.prototype.setId=function(e){o.Message.setProto3IntField(this,1,e)},a.LanAttriConfigProto.prototype.getValue=function(){return o.Message.getFieldWithDefault(this,2,"")},a.LanAttriConfigProto.prototype.setValue=function(e){o.Message.setProto3StringField(this,2,e)},a.LanAttriConfigProto.prototype.getDesc=function(){return o.Message.getFieldWithDefault(this,3,"")},a.LanAttriConfigProto.prototype.setDesc=function(e){o.Message.setProto3StringField(this,3,e)},a.LanAttriConfigProto.prototype.getDescBase=function(){return o.Message.getFieldWithDefault(this,4,0)},a.LanAttriConfigProto.prototype.setDescBase=function(e){o.Message.setProto3IntField(this,4,e)},n.object.extend(i,a),cc._RF.pop()},{"google-protobuf":"google-protobuf"}],lan_cond_pb:[function(e,t,i){"use strict";cc._RF.push(t,"b14d0bla+FL5Iv8jBZEwrQH","lan_cond_pb");var o=e("google-protobuf"),n=o,r=function(){return this}(),a=e("./config_utils_pb.js");if(n.exportSymbol("proto.LanCondConfigProto",null,r),null==s)var s=s||{};s.LanCondConfigProto=function(e){o.Message.initialize(this,e,0,-1,s.LanCondConfigProto.repeatedFields_,null)},n.inherits(s.LanCondConfigProto,o.Message),n.DEBUG&&!COMPILED&&(s.LanCondConfigProto.displayName="proto.LanCondConfigProto"),s.LanCondConfigProto.repeatedFields_=[4],o.Message.GENERATE_TO_OBJECT&&(s.LanCondConfigProto.prototype.toObject=function(e){return s.LanCondConfigProto.toObject(e,this)},s.LanCondConfigProto.toObject=function(e,t){var i,n={id:o.Message.getFieldWithDefault(t,1,0),convert:o.Message.getFieldWithDefault(t,2,0),title:o.Message.getFieldWithDefault(t,3,""),contentList:o.Message.getRepeatedField(t,4),valueInfo:(i=t.getValueInfo())&&a.ProtoInt2.toObject(e,i)};return e&&(n.$jspbMessageInstance=t),n}),s.LanCondConfigProto.deserializeBinary=function(e){var t=new o.BinaryReader(e),i=new s.LanCondConfigProto;return s.LanCondConfigProto.deserializeBinaryFromReader(i,t)},s.LanCondConfigProto.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var i=t.readInt32();e.setId(i);break;case 2:i=t.readInt32(),e.setConvert(i);break;case 3:i=t.readString(),e.setTitle(i);break;case 4:i=t.readString(),e.addContent(i);break;case 5:i=new a.ProtoInt2,t.readMessage(i,a.ProtoInt2.deserializeBinaryFromReader),e.setValueInfo(i);break;default:t.skipField()}return e},s.LanCondConfigProto.prototype.serializeBinary=function(){var e=new o.BinaryWriter;return s.LanCondConfigProto.serializeBinaryToWriter(this,e),e.getResultBuffer()},s.LanCondConfigProto.serializeBinaryToWriter=function(e,t){var i=void 0;0!==(i=e.getId())&&t.writeInt32(1,i),0!==(i=e.getConvert())&&t.writeInt32(2,i),(i=e.getTitle()).length>0&&t.writeString(3,i),(i=e.getContentList()).length>0&&t.writeRepeatedString(4,i),null!=(i=e.getValueInfo())&&t.writeMessage(5,i,a.ProtoInt2.serializeBinaryToWriter)},s.LanCondConfigProto.prototype.getId=function(){return o.Message.getFieldWithDefault(this,1,0)},s.LanCondConfigProto.prototype.setId=function(e){o.Message.setProto3IntField(this,1,e)},s.LanCondConfigProto.prototype.getConvert=function(){return o.Message.getFieldWithDefault(this,2,0)},s.LanCondConfigProto.prototype.setConvert=function(e){o.Message.setProto3IntField(this,2,e)},s.LanCondConfigProto.prototype.getTitle=function(){return o.Message.getFieldWithDefault(this,3,"")},s.LanCondConfigProto.prototype.setTitle=function(e){o.Message.setProto3StringField(this,3,e)},s.LanCondConfigProto.prototype.getContentList=function(){return o.Message.getRepeatedField(this,4)},s.LanCondConfigProto.prototype.setContentList=function(e){o.Message.setField(this,4,e||[])},s.LanCondConfigProto.prototype.addContent=function(e,t){o.Message.addToRepeatedField(this,4,e,t)},s.LanCondConfigProto.prototype.clearContentList=function(){this.setContentList([])},s.LanCondConfigProto.prototype.getValueInfo=function(){return o.Message.getWrapperField(this,a.ProtoInt2,5)},s.LanCondConfigProto.prototype.setValueInfo=function(e){o.Message.setWrapperField(this,5,e)},s.LanCondConfigProto.prototype.clearValueInfo=function(){this.setValueInfo(void 0)},s.LanCondConfigProto.prototype.hasValueInfo=function(){return null!=o.Message.getField(this,5)},n.object.extend(i,s),cc._RF.pop()},{"./config_utils_pb.js":"config_utils_pb","google-protobuf":"google-protobuf"}],lan_values_pb:[function(e,t,i){"use strict";cc._RF.push(t,"ad0972V/DJAsY2zBxI8x/FA","lan_values_pb");var o=e("google-protobuf"),n=o,r=function(){return this}();if(n.exportSymbol("proto.LanValuesConfigProto",null,r),null==a)var a=a||{};a.LanValuesConfigProto=function(e){o.Message.initialize(this,e,0,-1,null,null)},n.inherits(a.LanValuesConfigProto,o.Message),n.DEBUG&&!COMPILED&&(a.LanValuesConfigProto.displayName="proto.LanValuesConfigProto"),o.Message.GENERATE_TO_OBJECT&&(a.LanValuesConfigProto.prototype.toObject=function(e){return a.LanValuesConfigProto.toObject(e,this)},a.LanValuesConfigProto.toObject=function(e,t){var i={id:o.Message.getFieldWithDefault(t,1,0),value:o.Message.getFieldWithDefault(t,2,""),desc:o.Message.getFieldWithDefault(t,3,"")};return e&&(i.$jspbMessageInstance=t),i}),a.LanValuesConfigProto.deserializeBinary=function(e){var t=new o.BinaryReader(e),i=new a.LanValuesConfigProto;return a.LanValuesConfigProto.deserializeBinaryFromReader(i,t)},a.LanValuesConfigProto.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var i=t.readInt32();e.setId(i);break;case 2:i=t.readString(),e.setValue(i);break;case 3:i=t.readString(),e.setDesc(i);break;default:t.skipField()}return e},a.LanValuesConfigProto.prototype.serializeBinary=function(){var e=new o.BinaryWriter;return a.LanValuesConfigProto.serializeBinaryToWriter(this,e),e.getResultBuffer()},a.LanValuesConfigProto.serializeBinaryToWriter=function(e,t){var i=void 0;0!==(i=e.getId())&&t.writeInt32(1,i),(i=e.getValue()).length>0&&t.writeString(2,i),(i=e.getDesc()).length>0&&t.writeString(3,i)},a.LanValuesConfigProto.prototype.getId=function(){return o.Message.getFieldWithDefault(this,1,0)},a.LanValuesConfigProto.prototype.setId=function(e){o.Message.setProto3IntField(this,1,e)},a.LanValuesConfigProto.prototype.getValue=function(){return o.Message.getFieldWithDefault(this,2,"")},a.LanValuesConfigProto.prototype.setValue=function(e){o.Message.setProto3StringField(this,2,e)},a.LanValuesConfigProto.prototype.getDesc=function(){return o.Message.getFieldWithDefault(this,3,"")},a.LanValuesConfigProto.prototype.setDesc=function(e){o.Message.setProto3StringField(this,3,e)},n.object.extend(i,a),cc._RF.pop()},{"google-protobuf":"google-protobuf"}],language_pb:[function(e,t,i){"use strict";cc._RF.push(t,"8f5c7yUZ+lOzrxMjUm0HzKi","language_pb");var o=e("google-protobuf"),n=o,r=function(){return this}();if(n.exportSymbol("proto.LanguageConfigProto",null,r),null==a)var a=a||{};a.LanguageConfigProto=function(e){o.Message.initialize(this,e,0,-1,null,null)},n.inherits(a.LanguageConfigProto,o.Message),n.DEBUG&&!COMPILED&&(a.LanguageConfigProto.displayName="proto.LanguageConfigProto"),o.Message.GENERATE_TO_OBJECT&&(a.LanguageConfigProto.prototype.toObject=function(e){return a.LanguageConfigProto.toObject(e,this)},a.LanguageConfigProto.toObject=function(e,t){var i={id:o.Message.getFieldWithDefault(t,1,0),value:o.Message.getFieldWithDefault(t,2,"")};return e&&(i.$jspbMessageInstance=t),i}),a.LanguageConfigProto.deserializeBinary=function(e){var t=new o.BinaryReader(e),i=new a.LanguageConfigProto;return a.LanguageConfigProto.deserializeBinaryFromReader(i,t)},a.LanguageConfigProto.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var i=t.readInt32();e.setId(i);break;case 2:i=t.readString(),e.setValue(i);break;default:t.skipField()}return e},a.LanguageConfigProto.prototype.serializeBinary=function(){var e=new o.BinaryWriter;return a.LanguageConfigProto.serializeBinaryToWriter(this,e),e.getResultBuffer()},a.LanguageConfigProto.serializeBinaryToWriter=function(e,t){var i=void 0;0!==(i=e.getId())&&t.writeInt32(1,i),(i=e.getValue()).length>0&&t.writeString(2,i)},a.LanguageConfigProto.prototype.getId=function(){return o.Message.getFieldWithDefault(this,1,0)},a.LanguageConfigProto.prototype.setId=function(e){o.Message.setProto3IntField(this,1,e)},a.LanguageConfigProto.prototype.getValue=function(){return o.Message.getFieldWithDefault(this,2,"")},a.LanguageConfigProto.prototype.setValue=function(e){o.Message.setProto3StringField(this,2,e)},n.object.extend(i,a),cc._RF.pop()},{"google-protobuf":"google-protobuf"}],limit_info_pb:[function(e,t,i){"use strict";cc._RF.push(t,"0c1294BgC1PuqW+VLwBuVbg","limit_info_pb");var o=e("google-protobuf"),n=o,r=function(){return this}();if(n.exportSymbol("proto.LimitInfoConfigProto",null,r),null==a)var a=a||{};a.LimitInfoConfigProto=function(e){o.Message.initialize(this,e,0,-1,null,null)},n.inherits(a.LimitInfoConfigProto,o.Message),n.DEBUG&&!COMPILED&&(a.LimitInfoConfigProto.displayName="proto.LimitInfoConfigProto"),o.Message.GENERATE_TO_OBJECT&&(a.LimitInfoConfigProto.prototype.toObject=function(e){return a.LimitInfoConfigProto.toObject(e,this)},a.LimitInfoConfigProto.toObject=function(e,t){var i={id:o.Message.getFieldWithDefault(t,1,0),type:o.Message.getFieldWithDefault(t,2,0),maxcount:o.Message.getFieldWithDefault(t,3,0)};return e&&(i.$jspbMessageInstance=t),i}),a.LimitInfoConfigProto.deserializeBinary=function(e){var t=new o.BinaryReader(e),i=new a.LimitInfoConfigProto;return a.LimitInfoConfigProto.deserializeBinaryFromReader(i,t)},a.LimitInfoConfigProto.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var i=t.readInt32();e.setId(i);break;case 2:i=t.readInt32(),e.setType(i);break;case 3:i=t.readInt32(),e.setMaxcount(i);break;default:t.skipField()}return e},a.LimitInfoConfigProto.prototype.serializeBinary=function(){var e=new o.BinaryWriter;return a.LimitInfoConfigProto.serializeBinaryToWriter(this,e),e.getResultBuffer()},a.LimitInfoConfigProto.serializeBinaryToWriter=function(e,t){var i=void 0;0!==(i=e.getId())&&t.writeInt32(1,i),0!==(i=e.getType())&&t.writeInt32(2,i),0!==(i=e.getMaxcount())&&t.writeInt32(3,i)},a.LimitInfoConfigProto.prototype.getId=function(){return o.Message.getFieldWithDefault(this,1,0)},a.LimitInfoConfigProto.prototype.setId=function(e){o.Message.setProto3IntField(this,1,e)},a.LimitInfoConfigProto.prototype.getType=function(){return o.Message.getFieldWithDefault(this,2,0)},a.LimitInfoConfigProto.prototype.setType=function(e){o.Message.setProto3IntField(this,2,e)},a.LimitInfoConfigProto.prototype.getMaxcount=function(){return o.Message.getFieldWithDefault(this,3,0)},a.LimitInfoConfigProto.prototype.setMaxcount=function(e){o.Message.setProto3IntField(this,3,e)},n.object.extend(i,a),cc._RF.pop()},{"google-protobuf":"google-protobuf"}],monster_info_pb:[function(e,t,i){"use strict";cc._RF.push(t,"748f6RX71NMfIWyUU7dDaT8","monster_info_pb");var o=e("google-protobuf"),n=o,r=function(){return this}(),a=e("./config_utils_pb.js");if(n.exportSymbol("proto.MonsterInfoConfigProto",null,r),null==s)var s=s||{};s.MonsterInfoConfigProto=function(e){o.Message.initialize(this,e,0,-1,s.MonsterInfoConfigProto.repeatedFields_,null)},n.inherits(s.MonsterInfoConfigProto,o.Message),n.DEBUG&&!COMPILED&&(s.MonsterInfoConfigProto.displayName="proto.MonsterInfoConfigProto"),s.MonsterInfoConfigProto.repeatedFields_=[3],o.Message.GENERATE_TO_OBJECT&&(s.MonsterInfoConfigProto.prototype.toObject=function(e){return s.MonsterInfoConfigProto.toObject(e,this)},s.MonsterInfoConfigProto.toObject=function(e,t){var i,n={id:o.Message.getFieldWithDefault(t,1,0),nameLan:o.Message.getFieldWithDefault(t,2,""),iconList:o.Message.getRepeatedField(t,3),power:o.Message.getFieldWithDefault(t,4,0),weakPoint:(i=t.getWeakPoint())&&a.ProtoInt2.toObject(e,i),dropbag:o.Message.getFieldWithDefault(t,6,0),equipCount:o.Message.getFieldWithDefault(t,7,0),reputation:o.Message.getFieldWithDefault(t,8,0)};return e&&(n.$jspbMessageInstance=t),n}),s.MonsterInfoConfigProto.deserializeBinary=function(e){var t=new o.BinaryReader(e),i=new s.MonsterInfoConfigProto;return s.MonsterInfoConfigProto.deserializeBinaryFromReader(i,t)},s.MonsterInfoConfigProto.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var i=t.readInt32();e.setId(i);break;case 2:i=t.readString(),e.setNameLan(i);break;case 3:i=t.readString(),e.addIcon(i);break;case 4:i=t.readInt32(),e.setPower(i);break;case 5:i=new a.ProtoInt2,t.readMessage(i,a.ProtoInt2.deserializeBinaryFromReader),e.setWeakPoint(i);break;case 6:i=t.readInt32(),e.setDropbag(i);break;case 7:i=t.readInt32(),e.setEquipCount(i);break;case 8:i=t.readInt32(),e.setReputation(i);break;default:t.skipField()}return e},s.MonsterInfoConfigProto.prototype.serializeBinary=function(){var e=new o.BinaryWriter;return s.MonsterInfoConfigProto.serializeBinaryToWriter(this,e),e.getResultBuffer()},s.MonsterInfoConfigProto.serializeBinaryToWriter=function(e,t){var i=void 0;0!==(i=e.getId())&&t.writeInt32(1,i),(i=e.getNameLan()).length>0&&t.writeString(2,i),(i=e.getIconList()).length>0&&t.writeRepeatedString(3,i),0!==(i=e.getPower())&&t.writeInt32(4,i),null!=(i=e.getWeakPoint())&&t.writeMessage(5,i,a.ProtoInt2.serializeBinaryToWriter),0!==(i=e.getDropbag())&&t.writeInt32(6,i),0!==(i=e.getEquipCount())&&t.writeInt32(7,i),0!==(i=e.getReputation())&&t.writeInt32(8,i)},s.MonsterInfoConfigProto.prototype.getId=function(){return o.Message.getFieldWithDefault(this,1,0)},s.MonsterInfoConfigProto.prototype.setId=function(e){o.Message.setProto3IntField(this,1,e)},s.MonsterInfoConfigProto.prototype.getNameLan=function(){return o.Message.getFieldWithDefault(this,2,"")},s.MonsterInfoConfigProto.prototype.setNameLan=function(e){o.Message.setProto3StringField(this,2,e)},s.MonsterInfoConfigProto.prototype.getIconList=function(){return o.Message.getRepeatedField(this,3)},s.MonsterInfoConfigProto.prototype.setIconList=function(e){o.Message.setField(this,3,e||[])},s.MonsterInfoConfigProto.prototype.addIcon=function(e,t){o.Message.addToRepeatedField(this,3,e,t)},s.MonsterInfoConfigProto.prototype.clearIconList=function(){this.setIconList([])},s.MonsterInfoConfigProto.prototype.getPower=function(){return o.Message.getFieldWithDefault(this,4,0)},s.MonsterInfoConfigProto.prototype.setPower=function(e){o.Message.setProto3IntField(this,4,e)},s.MonsterInfoConfigProto.prototype.getWeakPoint=function(){return o.Message.getWrapperField(this,a.ProtoInt2,5)},s.MonsterInfoConfigProto.prototype.setWeakPoint=function(e){o.Message.setWrapperField(this,5,e)},s.MonsterInfoConfigProto.prototype.clearWeakPoint=function(){this.setWeakPoint(void 0)},s.MonsterInfoConfigProto.prototype.hasWeakPoint=function(){return null!=o.Message.getField(this,5)},s.MonsterInfoConfigProto.prototype.getDropbag=function(){return o.Message.getFieldWithDefault(this,6,0)},s.MonsterInfoConfigProto.prototype.setDropbag=function(e){o.Message.setProto3IntField(this,6,e)},s.MonsterInfoConfigProto.prototype.getEquipCount=function(){return o.Message.getFieldWithDefault(this,7,0)},s.MonsterInfoConfigProto.prototype.setEquipCount=function(e){o.Message.setProto3IntField(this,7,e)},s.MonsterInfoConfigProto.prototype.getReputation=function(){return o.Message.getFieldWithDefault(this,8,0)},s.MonsterInfoConfigProto.prototype.setReputation=function(e){o.Message.setProto3IntField(this,8,e)},n.object.extend(i,s),cc._RF.pop()},{"./config_utils_pb.js":"config_utils_pb","google-protobuf":"google-protobuf"}],npc_base_pb:[function(e,t,i){"use strict";cc._RF.push(t,"104b6gicJxL4KHKxE8+v6KX","npc_base_pb");var o=e("google-protobuf"),n=o,r=function(){return this}(),a=e("./config_utils_pb.js");if(n.exportSymbol("proto.NpcBaseConfigProto",null,r),null==s)var s=s||{};s.NpcBaseConfigProto=function(e){o.Message.initialize(this,e,0,-1,s.NpcBaseConfigProto.repeatedFields_,null)},n.inherits(s.NpcBaseConfigProto,o.Message),n.DEBUG&&!COMPILED&&(s.NpcBaseConfigProto.displayName="proto.NpcBaseConfigProto"),s.NpcBaseConfigProto.repeatedFields_=[2,4],o.Message.GENERATE_TO_OBJECT&&(s.NpcBaseConfigProto.prototype.toObject=function(e){return s.NpcBaseConfigProto.toObject(e,this)},s.NpcBaseConfigProto.toObject=function(e,t){var i,n={id:o.Message.getFieldWithDefault(t,1,0),pkRankList:o.Message.toObjectList(t.getPkRankList(),a.ProtoInt3.toObject,e),weakPoint:(i=t.getWeakPoint())&&a.ProtoInt3.toObject(e,i),awardInfoList:o.Message.toObjectList(t.getAwardInfoList(),a.ProtoInt3.toObject,e),equipCount:(i=t.getEquipCount())&&a.ProtoInt2.toObject(e,i)};return e&&(n.$jspbMessageInstance=t),n}),s.NpcBaseConfigProto.deserializeBinary=function(e){var t=new o.BinaryReader(e),i=new s.NpcBaseConfigProto;return s.NpcBaseConfigProto.deserializeBinaryFromReader(i,t)},s.NpcBaseConfigProto.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var i=t.readInt32();e.setId(i);break;case 2:i=new a.ProtoInt3,t.readMessage(i,a.ProtoInt3.deserializeBinaryFromReader),e.addPkRank(i);break;case 3:i=new a.ProtoInt3,t.readMessage(i,a.ProtoInt3.deserializeBinaryFromReader),e.setWeakPoint(i);break;case 4:i=new a.ProtoInt3,t.readMessage(i,a.ProtoInt3.deserializeBinaryFromReader),e.addAwardInfo(i);break;case 5:i=new a.ProtoInt2,t.readMessage(i,a.ProtoInt2.deserializeBinaryFromReader),e.setEquipCount(i);break;default:t.skipField()}return e},s.NpcBaseConfigProto.prototype.serializeBinary=function(){var e=new o.BinaryWriter;return s.NpcBaseConfigProto.serializeBinaryToWriter(this,e),e.getResultBuffer()},s.NpcBaseConfigProto.serializeBinaryToWriter=function(e,t){var i=void 0;0!==(i=e.getId())&&t.writeInt32(1,i),(i=e.getPkRankList()).length>0&&t.writeRepeatedMessage(2,i,a.ProtoInt3.serializeBinaryToWriter),null!=(i=e.getWeakPoint())&&t.writeMessage(3,i,a.ProtoInt3.serializeBinaryToWriter),(i=e.getAwardInfoList()).length>0&&t.writeRepeatedMessage(4,i,a.ProtoInt3.serializeBinaryToWriter),null!=(i=e.getEquipCount())&&t.writeMessage(5,i,a.ProtoInt2.serializeBinaryToWriter)},s.NpcBaseConfigProto.prototype.getId=function(){return o.Message.getFieldWithDefault(this,1,0)},s.NpcBaseConfigProto.prototype.setId=function(e){o.Message.setProto3IntField(this,1,e)},s.NpcBaseConfigProto.prototype.getPkRankList=function(){return o.Message.getRepeatedWrapperField(this,a.ProtoInt3,2)},s.NpcBaseConfigProto.prototype.setPkRankList=function(e){o.Message.setRepeatedWrapperField(this,2,e)},s.NpcBaseConfigProto.prototype.addPkRank=function(e,t){return o.Message.addToRepeatedWrapperField(this,2,e,s.ProtoInt3,t)},s.NpcBaseConfigProto.prototype.clearPkRankList=function(){this.setPkRankList([])},s.NpcBaseConfigProto.prototype.getWeakPoint=function(){return o.Message.getWrapperField(this,a.ProtoInt3,3)},s.NpcBaseConfigProto.prototype.setWeakPoint=function(e){o.Message.setWrapperField(this,3,e)},s.NpcBaseConfigProto.prototype.clearWeakPoint=function(){this.setWeakPoint(void 0)},s.NpcBaseConfigProto.prototype.hasWeakPoint=function(){return null!=o.Message.getField(this,3)},s.NpcBaseConfigProto.prototype.getAwardInfoList=function(){return o.Message.getRepeatedWrapperField(this,a.ProtoInt3,4)},s.NpcBaseConfigProto.prototype.setAwardInfoList=function(e){o.Message.setRepeatedWrapperField(this,4,e)},s.NpcBaseConfigProto.prototype.addAwardInfo=function(e,t){return o.Message.addToRepeatedWrapperField(this,4,e,s.ProtoInt3,t)},s.NpcBaseConfigProto.prototype.clearAwardInfoList=function(){this.setAwardInfoList([])},s.NpcBaseConfigProto.prototype.getEquipCount=function(){return o.Message.getWrapperField(this,a.ProtoInt2,5)},s.NpcBaseConfigProto.prototype.setEquipCount=function(e){o.Message.setWrapperField(this,5,e)},s.NpcBaseConfigProto.prototype.clearEquipCount=function(){this.setEquipCount(void 0)},s.NpcBaseConfigProto.prototype.hasEquipCount=function(){return null!=o.Message.getField(this,5)},n.object.extend(i,s),cc._RF.pop()},{"./config_utils_pb.js":"config_utils_pb","google-protobuf":"google-protobuf"}],npc_info_pb:[function(e,t,i){"use strict";cc._RF.push(t,"a2ecbQpi0dCoYf+HFUgoHQF","npc_info_pb");var o=e("google-protobuf"),n=o,r=function(){return this}();if(n.exportSymbol("proto.NpcInfoConfigProto",null,r),null==a)var a=a||{};a.NpcInfoConfigProto=function(e){o.Message.initialize(this,e,0,-1,a.NpcInfoConfigProto.repeatedFields_,null)},n.inherits(a.NpcInfoConfigProto,o.Message),n.DEBUG&&!COMPILED&&(a.NpcInfoConfigProto.displayName="proto.NpcInfoConfigProto"),a.NpcInfoConfigProto.repeatedFields_=[3],o.Message.GENERATE_TO_OBJECT&&(a.NpcInfoConfigProto.prototype.toObject=function(e){return a.NpcInfoConfigProto.toObject(e,this)},a.NpcInfoConfigProto.toObject=function(e,t){var i={id:o.Message.getFieldWithDefault(t,1,0),nameLan:o.Message.getFieldWithDefault(t,2,""),iconList:o.Message.getRepeatedField(t,3)};return e&&(i.$jspbMessageInstance=t),i}),a.NpcInfoConfigProto.deserializeBinary=function(e){var t=new o.BinaryReader(e),i=new a.NpcInfoConfigProto;return a.NpcInfoConfigProto.deserializeBinaryFromReader(i,t)},a.NpcInfoConfigProto.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var i=t.readInt32();e.setId(i);break;case 2:i=t.readString(),e.setNameLan(i);break;case 3:i=t.readString(),e.addIcon(i);break;default:t.skipField()}return e},a.NpcInfoConfigProto.prototype.serializeBinary=function(){var e=new o.BinaryWriter;return a.NpcInfoConfigProto.serializeBinaryToWriter(this,e),e.getResultBuffer()},a.NpcInfoConfigProto.serializeBinaryToWriter=function(e,t){var i=void 0;0!==(i=e.getId())&&t.writeInt32(1,i),(i=e.getNameLan()).length>0&&t.writeString(2,i),(i=e.getIconList()).length>0&&t.writeRepeatedString(3,i)},a.NpcInfoConfigProto.prototype.getId=function(){return o.Message.getFieldWithDefault(this,1,0)},a.NpcInfoConfigProto.prototype.setId=function(e){o.Message.setProto3IntField(this,1,e)},a.NpcInfoConfigProto.prototype.getNameLan=function(){return o.Message.getFieldWithDefault(this,2,"")},a.NpcInfoConfigProto.prototype.setNameLan=function(e){o.Message.setProto3StringField(this,2,e)},a.NpcInfoConfigProto.prototype.getIconList=function(){return o.Message.getRepeatedField(this,3)},a.NpcInfoConfigProto.prototype.setIconList=function(e){o.Message.setField(this,3,e||[])},a.NpcInfoConfigProto.prototype.addIcon=function(e,t){o.Message.addToRepeatedField(this,3,e,t)},a.NpcInfoConfigProto.prototype.clearIconList=function(){this.setIconList([])},n.object.extend(i,a),cc._RF.pop()},{"google-protobuf":"google-protobuf"}],opencond_pb:[function(e,t,i){"use strict";cc._RF.push(t,"44495CkeGJJSKkFh1r+yFYo","opencond_pb");var o=e("google-protobuf"),n=o,r=function(){return this}(),a=e("./config_utils_pb.js");if(n.exportSymbol("proto.OpencondConfigProto",null,r),null==s)var s=s||{};s.OpencondConfigProto=function(e){o.Message.initialize(this,e,0,-1,s.OpencondConfigProto.repeatedFields_,null)},n.inherits(s.OpencondConfigProto,o.Message),n.DEBUG&&!COMPILED&&(s.OpencondConfigProto.displayName="proto.OpencondConfigProto"),s.OpencondConfigProto.repeatedFields_=[3],o.Message.GENERATE_TO_OBJECT&&(s.OpencondConfigProto.prototype.toObject=function(e){return s.OpencondConfigProto.toObject(e,this)},s.OpencondConfigProto.toObject=function(e,t){var i={id:o.Message.getFieldWithDefault(t,1,0),nameLan:o.Message.getFieldWithDefault(t,2,0),conditionsList:o.Message.toObjectList(t.getConditionsList(),a.ProtoInt3.toObject,e),systemOpenDescLan:o.Message.getFieldWithDefault(t,4,0),checkType:o.Message.getFieldWithDefault(t,5,0),openActiveIndex:o.Message.getFieldWithDefault(t,6,0)};return e&&(i.$jspbMessageInstance=t),i}),s.OpencondConfigProto.deserializeBinary=function(e){var t=new o.BinaryReader(e),i=new s.OpencondConfigProto;return s.OpencondConfigProto.deserializeBinaryFromReader(i,t)},s.OpencondConfigProto.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var i=t.readInt32();e.setId(i);break;case 2:i=t.readInt32(),e.setNameLan(i);break;case 3:i=new a.ProtoInt3,t.readMessage(i,a.ProtoInt3.deserializeBinaryFromReader),e.addConditions(i);break;case 4:i=t.readInt32(),e.setSystemOpenDescLan(i);break;case 5:i=t.readInt32(),e.setCheckType(i);break;case 6:i=t.readInt32(),e.setOpenActiveIndex(i);break;default:t.skipField()}return e},s.OpencondConfigProto.prototype.serializeBinary=function(){var e=new o.BinaryWriter;return s.OpencondConfigProto.serializeBinaryToWriter(this,e),e.getResultBuffer()},s.OpencondConfigProto.serializeBinaryToWriter=function(e,t){var i=void 0;0!==(i=e.getId())&&t.writeInt32(1,i),0!==(i=e.getNameLan())&&t.writeInt32(2,i),(i=e.getConditionsList()).length>0&&t.writeRepeatedMessage(3,i,a.ProtoInt3.serializeBinaryToWriter),0!==(i=e.getSystemOpenDescLan())&&t.writeInt32(4,i),0!==(i=e.getCheckType())&&t.writeInt32(5,i),0!==(i=e.getOpenActiveIndex())&&t.writeInt32(6,i)},s.OpencondConfigProto.prototype.getId=function(){return o.Message.getFieldWithDefault(this,1,0)},s.OpencondConfigProto.prototype.setId=function(e){o.Message.setProto3IntField(this,1,e)},s.OpencondConfigProto.prototype.getNameLan=function(){return o.Message.getFieldWithDefault(this,2,0)},s.OpencondConfigProto.prototype.setNameLan=function(e){o.Message.setProto3IntField(this,2,e)},s.OpencondConfigProto.prototype.getConditionsList=function(){return o.Message.getRepeatedWrapperField(this,a.ProtoInt3,3)},s.OpencondConfigProto.prototype.setConditionsList=function(e){o.Message.setRepeatedWrapperField(this,3,e)},s.OpencondConfigProto.prototype.addConditions=function(e,t){return o.Message.addToRepeatedWrapperField(this,3,e,s.ProtoInt3,t)},s.OpencondConfigProto.prototype.clearConditionsList=function(){this.setConditionsList([])},s.OpencondConfigProto.prototype.getSystemOpenDescLan=function(){return o.Message.getFieldWithDefault(this,4,0)},s.OpencondConfigProto.prototype.setSystemOpenDescLan=function(e){o.Message.setProto3IntField(this,4,e)},s.OpencondConfigProto.prototype.getCheckType=function(){return o.Message.getFieldWithDefault(this,5,0)},s.OpencondConfigProto.prototype.setCheckType=function(e){o.Message.setProto3IntField(this,5,e)},s.OpencondConfigProto.prototype.getOpenActiveIndex=function(){return o.Message.getFieldWithDefault(this,6,0)},s.OpencondConfigProto.prototype.setOpenActiveIndex=function(e){o.Message.setProto3IntField(this,6,e)},n.object.extend(i,s),cc._RF.pop()},{"./config_utils_pb.js":"config_utils_pb","google-protobuf":"google-protobuf"}],shake_pb:[function(e,t,i){"use strict";cc._RF.push(t,"5de21jXXkJGCrE09RN/VCCn","shake_pb");var o=e("google-protobuf"),n=o,r=function(){return this}();if(n.exportSymbol("proto.ShakeConfigProto",null,r),null==a)var a=a||{};a.ShakeConfigProto=function(e){o.Message.initialize(this,e,0,-1,a.ShakeConfigProto.repeatedFields_,null)},n.inherits(a.ShakeConfigProto,o.Message),n.DEBUG&&!COMPILED&&(a.ShakeConfigProto.displayName="proto.ShakeConfigProto"),a.ShakeConfigProto.repeatedFields_=[6],o.Message.GENERATE_TO_OBJECT&&(a.ShakeConfigProto.prototype.toObject=function(e){return a.ShakeConfigProto.toObject(e,this)},a.ShakeConfigProto.toObject=function(e,t){var i={id:o.Message.getFieldWithDefault(t,1,0),min:o.Message.getFieldWithDefault(t,2,0),max:o.Message.getFieldWithDefault(t,3,0),minPx:o.Message.getFieldWithDefault(t,4,0),maxPx:o.Message.getFieldWithDefault(t,5,0),dirList:o.Message.getRepeatedField(t,6),interval:o.Message.getFieldWithDefault(t,7,0),duration:o.Message.getFieldWithDefault(t,8,0)};return e&&(i.$jspbMessageInstance=t),i}),a.ShakeConfigProto.deserializeBinary=function(e){var t=new o.BinaryReader(e),i=new a.ShakeConfigProto;return a.ShakeConfigProto.deserializeBinaryFromReader(i,t)},a.ShakeConfigProto.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var i=t.readInt32();e.setId(i);break;case 2:i=t.readInt32(),e.setMin(i);break;case 3:i=t.readInt32(),e.setMax(i);break;case 4:i=t.readInt32(),e.setMinPx(i);break;case 5:i=t.readInt32(),e.setMaxPx(i);break;case 6:i=t.readPackedInt32(),e.setDirList(i);break;case 7:i=t.readInt32(),e.setInterval(i);break;case 8:i=t.readInt32(),e.setDuration(i);break;default:t.skipField()}return e},a.ShakeConfigProto.prototype.serializeBinary=function(){var e=new o.BinaryWriter;return a.ShakeConfigProto.serializeBinaryToWriter(this,e),e.getResultBuffer()},a.ShakeConfigProto.serializeBinaryToWriter=function(e,t){var i=void 0;0!==(i=e.getId())&&t.writeInt32(1,i),0!==(i=e.getMin())&&t.writeInt32(2,i),0!==(i=e.getMax())&&t.writeInt32(3,i),0!==(i=e.getMinPx())&&t.writeInt32(4,i),0!==(i=e.getMaxPx())&&t.writeInt32(5,i),(i=e.getDirList()).length>0&&t.writePackedInt32(6,i),0!==(i=e.getInterval())&&t.writeInt32(7,i),0!==(i=e.getDuration())&&t.writeInt32(8,i)},a.ShakeConfigProto.prototype.getId=function(){return o.Message.getFieldWithDefault(this,1,0)},a.ShakeConfigProto.prototype.setId=function(e){o.Message.setProto3IntField(this,1,e)},a.ShakeConfigProto.prototype.getMin=function(){return o.Message.getFieldWithDefault(this,2,0)},a.ShakeConfigProto.prototype.setMin=function(e){o.Message.setProto3IntField(this,2,e)},a.ShakeConfigProto.prototype.getMax=function(){return o.Message.getFieldWithDefault(this,3,0)},a.ShakeConfigProto.prototype.setMax=function(e){o.Message.setProto3IntField(this,3,e)},a.ShakeConfigProto.prototype.getMinPx=function(){return o.Message.getFieldWithDefault(this,4,0)},a.ShakeConfigProto.prototype.setMinPx=function(e){o.Message.setProto3IntField(this,4,e)},a.ShakeConfigProto.prototype.getMaxPx=function(){return o.Message.getFieldWithDefault(this,5,0)},a.ShakeConfigProto.prototype.setMaxPx=function(e){o.Message.setProto3IntField(this,5,e)},a.ShakeConfigProto.prototype.getDirList=function(){return o.Message.getRepeatedField(this,6)},a.ShakeConfigProto.prototype.setDirList=function(e){o.Message.setField(this,6,e||[])},a.ShakeConfigProto.prototype.addDir=function(e,t){o.Message.addToRepeatedField(this,6,e,t)},a.ShakeConfigProto.prototype.clearDirList=function(){this.setDirList([])},a.ShakeConfigProto.prototype.getInterval=function(){return o.Message.getFieldWithDefault(this,7,0)},a.ShakeConfigProto.prototype.setInterval=function(e){o.Message.setProto3IntField(this,7,e)},a.ShakeConfigProto.prototype.getDuration=function(){return o.Message.getFieldWithDefault(this,8,0)},a.ShakeConfigProto.prototype.setDuration=function(e){o.Message.setProto3IntField(this,8,e)},n.object.extend(i,a),cc._RF.pop()},{"google-protobuf":"google-protobuf"}],task_guide_pb:[function(e,t,i){"use strict";cc._RF.push(t,"6495f6PytFKwrI8JgwiM6F+","task_guide_pb");var o=e("google-protobuf"),n=o,r=function(){return this}(),a=e("./config_utils_pb.js");if(n.exportSymbol("proto.TaskGuideConfigProto",null,r),null==s)var s=s||{};s.TaskGuideConfigProto=function(e){o.Message.initialize(this,e,0,-1,s.TaskGuideConfigProto.repeatedFields_,null)},n.inherits(s.TaskGuideConfigProto,o.Message),n.DEBUG&&!COMPILED&&(s.TaskGuideConfigProto.displayName="proto.TaskGuideConfigProto"),s.TaskGuideConfigProto.repeatedFields_=[4,5],o.Message.GENERATE_TO_OBJECT&&(s.TaskGuideConfigProto.prototype.toObject=function(e){return s.TaskGuideConfigProto.toObject(e,this)},s.TaskGuideConfigProto.toObject=function(e,t){var i={id:o.Message.getFieldWithDefault(t,1,0),taskId:o.Message.getFieldWithDefault(t,2,0),completeTaskState:o.Message.getFieldWithDefault(t,3,0),completeConditionsList:o.Message.toObjectList(t.getCompleteConditionsList(),a.ProtoInt3.toObject,e),taskRangesList:o.Message.toObjectList(t.getTaskRangesList(),a.ProtoInt2.toObject,e),checkType:o.Message.getFieldWithDefault(t,6,0)};return e&&(i.$jspbMessageInstance=t),i}),s.TaskGuideConfigProto.deserializeBinary=function(e){var t=new o.BinaryReader(e),i=new s.TaskGuideConfigProto;return s.TaskGuideConfigProto.deserializeBinaryFromReader(i,t)},s.TaskGuideConfigProto.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var i=t.readInt32();e.setId(i);break;case 2:i=t.readInt32(),e.setTaskId(i);break;case 3:i=t.readInt32(),e.setCompleteTaskState(i);break;case 4:i=new a.ProtoInt3,t.readMessage(i,a.ProtoInt3.deserializeBinaryFromReader),e.addCompleteConditions(i);break;case 5:i=new a.ProtoInt2,t.readMessage(i,a.ProtoInt2.deserializeBinaryFromReader),e.addTaskRanges(i);break;case 6:i=t.readInt32(),e.setCheckType(i);break;default:t.skipField()}return e},s.TaskGuideConfigProto.prototype.serializeBinary=function(){var e=new o.BinaryWriter;return s.TaskGuideConfigProto.serializeBinaryToWriter(this,e),e.getResultBuffer()},s.TaskGuideConfigProto.serializeBinaryToWriter=function(e,t){var i=void 0;0!==(i=e.getId())&&t.writeInt32(1,i),0!==(i=e.getTaskId())&&t.writeInt32(2,i),0!==(i=e.getCompleteTaskState())&&t.writeInt32(3,i),(i=e.getCompleteConditionsList()).length>0&&t.writeRepeatedMessage(4,i,a.ProtoInt3.serializeBinaryToWriter),(i=e.getTaskRangesList()).length>0&&t.writeRepeatedMessage(5,i,a.ProtoInt2.serializeBinaryToWriter),0!==(i=e.getCheckType())&&t.writeInt32(6,i)},s.TaskGuideConfigProto.prototype.getId=function(){return o.Message.getFieldWithDefault(this,1,0)},s.TaskGuideConfigProto.prototype.setId=function(e){o.Message.setProto3IntField(this,1,e)},s.TaskGuideConfigProto.prototype.getTaskId=function(){return o.Message.getFieldWithDefault(this,2,0)},s.TaskGuideConfigProto.prototype.setTaskId=function(e){o.Message.setProto3IntField(this,2,e)},s.TaskGuideConfigProto.prototype.getCompleteTaskState=function(){return o.Message.getFieldWithDefault(this,3,0)},s.TaskGuideConfigProto.prototype.setCompleteTaskState=function(e){o.Message.setProto3IntField(this,3,e)},s.TaskGuideConfigProto.prototype.getCompleteConditionsList=function(){return o.Message.getRepeatedWrapperField(this,a.ProtoInt3,4)},s.TaskGuideConfigProto.prototype.setCompleteConditionsList=function(e){o.Message.setRepeatedWrapperField(this,4,e)},s.TaskGuideConfigProto.prototype.addCompleteConditions=function(e,t){return o.Message.addToRepeatedWrapperField(this,4,e,s.ProtoInt3,t)},s.TaskGuideConfigProto.prototype.clearCompleteConditionsList=function(){this.setCompleteConditionsList([])},s.TaskGuideConfigProto.prototype.getTaskRangesList=function(){return o.Message.getRepeatedWrapperField(this,a.ProtoInt2,5)},s.TaskGuideConfigProto.prototype.setTaskRangesList=function(e){o.Message.setRepeatedWrapperField(this,5,e)},s.TaskGuideConfigProto.prototype.addTaskRanges=function(e,t){return o.Message.addToRepeatedWrapperField(this,5,e,s.ProtoInt2,t)},s.TaskGuideConfigProto.prototype.clearTaskRangesList=function(){this.setTaskRangesList([])},s.TaskGuideConfigProto.prototype.getCheckType=function(){return o.Message.getFieldWithDefault(this,6,0)},s.TaskGuideConfigProto.prototype.setCheckType=function(e){o.Message.setProto3IntField(this,6,e)},n.object.extend(i,s),cc._RF.pop()},{"./config_utils_pb.js":"config_utils_pb","google-protobuf":"google-protobuf"}],task_pb:[function(e,t,i){"use strict";cc._RF.push(t,"800f3+fOoxHUbKfeOaRXmvw","task_pb");var o=e("google-protobuf"),n=o,r=function(){return this}(),a=e("./config_utils_pb.js");if(n.exportSymbol("proto.TaskConfigProto",null,r),null==s)var s=s||{};s.TaskConfigProto=function(e){o.Message.initialize(this,e,0,-1,s.TaskConfigProto.repeatedFields_,null)},n.inherits(s.TaskConfigProto,o.Message),n.DEBUG&&!COMPILED&&(s.TaskConfigProto.displayName="proto.TaskConfigProto"),s.TaskConfigProto.repeatedFields_=[4,5,8],o.Message.GENERATE_TO_OBJECT&&(s.TaskConfigProto.prototype.toObject=function(e){return s.TaskConfigProto.toObject(e,this)},s.TaskConfigProto.toObject=function(e,t){var i={id:o.Message.getFieldWithDefault(t,1,0),nameLan:o.Message.getFieldWithDefault(t,2,0),descLan:o.Message.getFieldWithDefault(t,3,0),hintLansList:o.Message.getRepeatedField(t,4),conditionsList:o.Message.toObjectList(t.getConditionsList(),a.ProtoInt3.toObject,e),type:o.Message.getFieldWithDefault(t,6,0),subType:o.Message.getFieldWithDefault(t,7,0),targetsList:o.Message.getRepeatedField(t,8),dropbag:o.Message.getFieldWithDefault(t,9,0)};return e&&(i.$jspbMessageInstance=t),i}),s.TaskConfigProto.deserializeBinary=function(e){var t=new o.BinaryReader(e),i=new s.TaskConfigProto;return s.TaskConfigProto.deserializeBinaryFromReader(i,t)},s.TaskConfigProto.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var i=t.readInt32();e.setId(i);break;case 2:i=t.readInt32(),e.setNameLan(i);break;case 3:i=t.readInt32(),e.setDescLan(i);break;case 4:i=t.readPackedInt32(),e.setHintLansList(i);break;case 5:i=new a.ProtoInt3,t.readMessage(i,a.ProtoInt3.deserializeBinaryFromReader),e.addConditions(i);break;case 6:i=t.readInt32(),e.setType(i);break;case 7:i=t.readInt32(),e.setSubType(i);break;case 8:i=t.readPackedInt32(),e.setTargetsList(i);break;case 9:i=t.readInt32(),e.setDropbag(i);break;default:t.skipField()}return e},s.TaskConfigProto.prototype.serializeBinary=function(){var e=new o.BinaryWriter;return s.TaskConfigProto.serializeBinaryToWriter(this,e),e.getResultBuffer()},s.TaskConfigProto.serializeBinaryToWriter=function(e,t){var i=void 0;0!==(i=e.getId())&&t.writeInt32(1,i),0!==(i=e.getNameLan())&&t.writeInt32(2,i),0!==(i=e.getDescLan())&&t.writeInt32(3,i),(i=e.getHintLansList()).length>0&&t.writePackedInt32(4,i),(i=e.getConditionsList()).length>0&&t.writeRepeatedMessage(5,i,a.ProtoInt3.serializeBinaryToWriter),0!==(i=e.getType())&&t.writeInt32(6,i),0!==(i=e.getSubType())&&t.writeInt32(7,i),(i=e.getTargetsList()).length>0&&t.writePackedInt32(8,i),0!==(i=e.getDropbag())&&t.writeInt32(9,i)},s.TaskConfigProto.prototype.getId=function(){return o.Message.getFieldWithDefault(this,1,0)},s.TaskConfigProto.prototype.setId=function(e){o.Message.setProto3IntField(this,1,e)},s.TaskConfigProto.prototype.getNameLan=function(){return o.Message.getFieldWithDefault(this,2,0)},s.TaskConfigProto.prototype.setNameLan=function(e){o.Message.setProto3IntField(this,2,e)},s.TaskConfigProto.prototype.getDescLan=function(){return o.Message.getFieldWithDefault(this,3,0)},s.TaskConfigProto.prototype.setDescLan=function(e){o.Message.setProto3IntField(this,3,e)},s.TaskConfigProto.prototype.getHintLansList=function(){return o.Message.getRepeatedField(this,4)},s.TaskConfigProto.prototype.setHintLansList=function(e){o.Message.setField(this,4,e||[])},s.TaskConfigProto.prototype.addHintLans=function(e,t){o.Message.addToRepeatedField(this,4,e,t)},s.TaskConfigProto.prototype.clearHintLansList=function(){this.setHintLansList([])},s.TaskConfigProto.prototype.getConditionsList=function(){return o.Message.getRepeatedWrapperField(this,a.ProtoInt3,5)},s.TaskConfigProto.prototype.setConditionsList=function(e){o.Message.setRepeatedWrapperField(this,5,e)},s.TaskConfigProto.prototype.addConditions=function(e,t){return o.Message.addToRepeatedWrapperField(this,5,e,s.ProtoInt3,t)},s.TaskConfigProto.prototype.clearConditionsList=function(){this.setConditionsList([])},s.TaskConfigProto.prototype.getType=function(){return o.Message.getFieldWithDefault(this,6,0)},s.TaskConfigProto.prototype.setType=function(e){o.Message.setProto3IntField(this,6,e)},s.TaskConfigProto.prototype.getSubType=function(){return o.Message.getFieldWithDefault(this,7,0)},s.TaskConfigProto.prototype.setSubType=function(e){o.Message.setProto3IntField(this,7,e)},s.TaskConfigProto.prototype.getTargetsList=function(){return o.Message.getRepeatedField(this,8)},s.TaskConfigProto.prototype.setTargetsList=function(e){o.Message.setField(this,8,e||[])},s.TaskConfigProto.prototype.addTargets=function(e,t){o.Message.addToRepeatedField(this,8,e,t)},s.TaskConfigProto.prototype.clearTargetsList=function(){this.setTargetsList([])},s.TaskConfigProto.prototype.getDropbag=function(){return o.Message.getFieldWithDefault(this,9,0)},s.TaskConfigProto.prototype.setDropbag=function(e){o.Message.setProto3IntField(this,9,e)},n.object.extend(i,s),cc._RF.pop()},{"./config_utils_pb.js":"config_utils_pb","google-protobuf":"google-protobuf"}],task_target_pb:[function(e,t,i){"use strict";cc._RF.push(t,"2aa85KOfYBCH7nvTFiU9ntC","task_target_pb");var o=e("google-protobuf"),n=o,r=function(){return this}(),a=e("./config_utils_pb.js");if(n.exportSymbol("proto.TaskTargetConfigProto",null,r),null==s)var s=s||{};s.TaskTargetConfigProto=function(e){o.Message.initialize(this,e,0,-1,s.TaskTargetConfigProto.repeatedFields_,null)},n.inherits(s.TaskTargetConfigProto,o.Message),n.DEBUG&&!COMPILED&&(s.TaskTargetConfigProto.displayName="proto.TaskTargetConfigProto"),s.TaskTargetConfigProto.repeatedFields_=[4,5],o.Message.GENERATE_TO_OBJECT&&(s.TaskTargetConfigProto.prototype.toObject=function(e){return s.TaskTargetConfigProto.toObject(e,this)},s.TaskTargetConfigProto.toObject=function(e,t){var i={id:o.Message.getFieldWithDefault(t,1,0),type:o.Message.getFieldWithDefault(t,2,0),param1:o.Message.getFieldWithDefault(t,3,0),param2List:o.Message.getRepeatedField(t,4),param3List:o.Message.toObjectList(t.getParam3List(),a.ProtoInt2.toObject,e),param4:o.Message.getFieldWithDefault(t,6,0)};return e&&(i.$jspbMessageInstance=t),i}),s.TaskTargetConfigProto.deserializeBinary=function(e){var t=new o.BinaryReader(e),i=new s.TaskTargetConfigProto;return s.TaskTargetConfigProto.deserializeBinaryFromReader(i,t)},s.TaskTargetConfigProto.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var i=t.readInt32();e.setId(i);break;case 2:i=t.readInt32(),e.setType(i);break;case 3:i=t.readInt32(),e.setParam1(i);break;case 4:i=t.readPackedInt32(),e.setParam2List(i);break;case 5:i=new a.ProtoInt2,t.readMessage(i,a.ProtoInt2.deserializeBinaryFromReader),e.addParam3(i);break;case 6:i=t.readInt32(),e.setParam4(i);break;default:t.skipField()}return e},s.TaskTargetConfigProto.prototype.serializeBinary=function(){var e=new o.BinaryWriter;return s.TaskTargetConfigProto.serializeBinaryToWriter(this,e),e.getResultBuffer()},s.TaskTargetConfigProto.serializeBinaryToWriter=function(e,t){var i=void 0;0!==(i=e.getId())&&t.writeInt32(1,i),0!==(i=e.getType())&&t.writeInt32(2,i),0!==(i=e.getParam1())&&t.writeInt32(3,i),(i=e.getParam2List()).length>0&&t.writePackedInt32(4,i),(i=e.getParam3List()).length>0&&t.writeRepeatedMessage(5,i,a.ProtoInt2.serializeBinaryToWriter),0!==(i=e.getParam4())&&t.writeInt32(6,i)},s.TaskTargetConfigProto.prototype.getId=function(){return o.Message.getFieldWithDefault(this,1,0)},s.TaskTargetConfigProto.prototype.setId=function(e){o.Message.setProto3IntField(this,1,e)},s.TaskTargetConfigProto.prototype.getType=function(){return o.Message.getFieldWithDefault(this,2,0)},s.TaskTargetConfigProto.prototype.setType=function(e){o.Message.setProto3IntField(this,2,e)},s.TaskTargetConfigProto.prototype.getParam1=function(){return o.Message.getFieldWithDefault(this,3,0)},s.TaskTargetConfigProto.prototype.setParam1=function(e){o.Message.setProto3IntField(this,3,e)},s.TaskTargetConfigProto.prototype.getParam2List=function(){return o.Message.getRepeatedField(this,4)},s.TaskTargetConfigProto.prototype.setParam2List=function(e){o.Message.setField(this,4,e||[])},s.TaskTargetConfigProto.prototype.addParam2=function(e,t){o.Message.addToRepeatedField(this,4,e,t)},s.TaskTargetConfigProto.prototype.clearParam2List=function(){this.setParam2List([])},s.TaskTargetConfigProto.prototype.getParam3List=function(){return o.Message.getRepeatedWrapperField(this,a.ProtoInt2,5)},s.TaskTargetConfigProto.prototype.setParam3List=function(e){o.Message.setRepeatedWrapperField(this,5,e)},s.TaskTargetConfigProto.prototype.addParam3=function(e,t){return o.Message.addToRepeatedWrapperField(this,5,e,s.ProtoInt2,t)},s.TaskTargetConfigProto.prototype.clearParam3List=function(){this.setParam3List([])},s.TaskTargetConfigProto.prototype.getParam4=function(){return o.Message.getFieldWithDefault(this,6,0)},s.TaskTargetConfigProto.prototype.setParam4=function(e){o.Message.setProto3IntField(this,6,e)},n.object.extend(i,s),cc._RF.pop()},{"./config_utils_pb.js":"config_utils_pb","google-protobuf":"google-protobuf"}],task_trigger_pb:[function(e,t,i){"use strict";cc._RF.push(t,"6a8a7a1qDpKy4myTJXdWEzE","task_trigger_pb");var o=e("google-protobuf"),n=o,r=function(){return this}(),a=e("./config_utils_pb.js");if(n.exportSymbol("proto.TaskTriggerConfigProto",null,r),null==s)var s=s||{};s.TaskTriggerConfigProto=function(e){o.Message.initialize(this,e,0,-1,s.TaskTriggerConfigProto.repeatedFields_,null)},n.inherits(s.TaskTriggerConfigProto,o.Message),n.DEBUG&&!COMPILED&&(s.TaskTriggerConfigProto.displayName="proto.TaskTriggerConfigProto"),s.TaskTriggerConfigProto.repeatedFields_=[2,3],o.Message.GENERATE_TO_OBJECT&&(s.TaskTriggerConfigProto.prototype.toObject=function(e){return s.TaskTriggerConfigProto.toObject(e,this)},s.TaskTriggerConfigProto.toObject=function(e,t){var i={id:o.Message.getFieldWithDefault(t,1,0),taskIdsList:o.Message.getRepeatedField(t,2),triggerConditionsList:o.Message.toObjectList(t.getTriggerConditionsList(),a.ProtoInt3.toObject,e),checkType:o.Message.getFieldWithDefault(t,4,0),daylimitCount:o.Message.getFieldWithDefault(t,5,0),limitCount:o.Message.getFieldWithDefault(t,6,0)};return e&&(i.$jspbMessageInstance=t),i}),s.TaskTriggerConfigProto.deserializeBinary=function(e){var t=new o.BinaryReader(e),i=new s.TaskTriggerConfigProto;return s.TaskTriggerConfigProto.deserializeBinaryFromReader(i,t)},s.TaskTriggerConfigProto.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var i=t.readInt32();e.setId(i);break;case 2:i=t.readPackedInt32(),e.setTaskIdsList(i);break;case 3:i=new a.ProtoInt3,t.readMessage(i,a.ProtoInt3.deserializeBinaryFromReader),e.addTriggerConditions(i);break;case 4:i=t.readInt32(),e.setCheckType(i);break;case 5:i=t.readInt32(),e.setDaylimitCount(i);break;case 6:i=t.readInt32(),e.setLimitCount(i);break;default:t.skipField()}return e},s.TaskTriggerConfigProto.prototype.serializeBinary=function(){var e=new o.BinaryWriter;return s.TaskTriggerConfigProto.serializeBinaryToWriter(this,e),e.getResultBuffer()},s.TaskTriggerConfigProto.serializeBinaryToWriter=function(e,t){var i=void 0;0!==(i=e.getId())&&t.writeInt32(1,i),(i=e.getTaskIdsList()).length>0&&t.writePackedInt32(2,i),(i=e.getTriggerConditionsList()).length>0&&t.writeRepeatedMessage(3,i,a.ProtoInt3.serializeBinaryToWriter),0!==(i=e.getCheckType())&&t.writeInt32(4,i),0!==(i=e.getDaylimitCount())&&t.writeInt32(5,i),0!==(i=e.getLimitCount())&&t.writeInt32(6,i)},s.TaskTriggerConfigProto.prototype.getId=function(){return o.Message.getFieldWithDefault(this,1,0)},s.TaskTriggerConfigProto.prototype.setId=function(e){o.Message.setProto3IntField(this,1,e)},s.TaskTriggerConfigProto.prototype.getTaskIdsList=function(){return o.Message.getRepeatedField(this,2)},s.TaskTriggerConfigProto.prototype.setTaskIdsList=function(e){o.Message.setField(this,2,e||[])},s.TaskTriggerConfigProto.prototype.addTaskIds=function(e,t){o.Message.addToRepeatedField(this,2,e,t)},s.TaskTriggerConfigProto.prototype.clearTaskIdsList=function(){this.setTaskIdsList([])},s.TaskTriggerConfigProto.prototype.getTriggerConditionsList=function(){return o.Message.getRepeatedWrapperField(this,a.ProtoInt3,3)},s.TaskTriggerConfigProto.prototype.setTriggerConditionsList=function(e){o.Message.setRepeatedWrapperField(this,3,e)},s.TaskTriggerConfigProto.prototype.addTriggerConditions=function(e,t){return o.Message.addToRepeatedWrapperField(this,3,e,s.ProtoInt3,t)},s.TaskTriggerConfigProto.prototype.clearTriggerConditionsList=function(){this.setTriggerConditionsList([])},s.TaskTriggerConfigProto.prototype.getCheckType=function(){return o.Message.getFieldWithDefault(this,4,0)},s.TaskTriggerConfigProto.prototype.setCheckType=function(e){o.Message.setProto3IntField(this,4,e)},s.TaskTriggerConfigProto.prototype.getDaylimitCount=function(){return o.Message.getFieldWithDefault(this,5,0)},s.TaskTriggerConfigProto.prototype.setDaylimitCount=function(e){o.Message.setProto3IntField(this,5,e)},s.TaskTriggerConfigProto.prototype.getLimitCount=function(){return o.Message.getFieldWithDefault(this,6,0)},s.TaskTriggerConfigProto.prototype.setLimitCount=function(e){o.Message.setProto3IntField(this,6,e)},n.object.extend(i,s),cc._RF.pop()},{"./config_utils_pb.js":"config_utils_pb","google-protobuf":"google-protobuf"}],use_reversed_rotateTo:[function(e,t){"use strict";cc._RF.push(t,"f0ab325pHZK7adbKSp/uIKU","use_reversed_rotateTo"),cc.RotateTo._reverse=!0,cc._RF.pop()},{}],weapon_grow_info_pb:[function(e,t,i){"use strict";cc._RF.push(t,"4c661H8eu5BIYw7bExxjAU4","weapon_grow_info_pb");var o=e("google-protobuf"),n=o,r=function(){return this}(),a=e("./config_utils_pb.js");if(n.exportSymbol("proto.WeaponGrowInfoConfigProto",null,r),null==s)var s=s||{};s.WeaponGrowInfoConfigProto=function(e){o.Message.initialize(this,e,0,-1,s.WeaponGrowInfoConfigProto.repeatedFields_,null)},n.inherits(s.WeaponGrowInfoConfigProto,o.Message),n.DEBUG&&!COMPILED&&(s.WeaponGrowInfoConfigProto.displayName="proto.WeaponGrowInfoConfigProto"),s.WeaponGrowInfoConfigProto.repeatedFields_=[2],o.Message.GENERATE_TO_OBJECT&&(s.WeaponGrowInfoConfigProto.prototype.toObject=function(e){return s.WeaponGrowInfoConfigProto.toObject(e,this)},s.WeaponGrowInfoConfigProto.toObject=function(e,t){var i,n={id:o.Message.getFieldWithDefault(t,1,0),attrsList:o.Message.toObjectList(t.getAttrsList(),a.ProtoInt2.toObject,e),power:(i=t.getPower())&&a.ProtoInt2.toObject(e,i)};return e&&(n.$jspbMessageInstance=t),n}),s.WeaponGrowInfoConfigProto.deserializeBinary=function(e){var t=new o.BinaryReader(e),i=new s.WeaponGrowInfoConfigProto;return s.WeaponGrowInfoConfigProto.deserializeBinaryFromReader(i,t)},s.WeaponGrowInfoConfigProto.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var i=t.readInt32();e.setId(i);break;case 2:i=new a.ProtoInt2,t.readMessage(i,a.ProtoInt2.deserializeBinaryFromReader),e.addAttrs(i);break;case 3:i=new a.ProtoInt2,t.readMessage(i,a.ProtoInt2.deserializeBinaryFromReader),e.setPower(i);break;default:t.skipField()}return e},s.WeaponGrowInfoConfigProto.prototype.serializeBinary=function(){var e=new o.BinaryWriter;return s.WeaponGrowInfoConfigProto.serializeBinaryToWriter(this,e),e.getResultBuffer()},s.WeaponGrowInfoConfigProto.serializeBinaryToWriter=function(e,t){var i=void 0;0!==(i=e.getId())&&t.writeInt32(1,i),(i=e.getAttrsList()).length>0&&t.writeRepeatedMessage(2,i,a.ProtoInt2.serializeBinaryToWriter),null!=(i=e.getPower())&&t.writeMessage(3,i,a.ProtoInt2.serializeBinaryToWriter)},s.WeaponGrowInfoConfigProto.prototype.getId=function(){return o.Message.getFieldWithDefault(this,1,0)},s.WeaponGrowInfoConfigProto.prototype.setId=function(e){o.Message.setProto3IntField(this,1,e)},s.WeaponGrowInfoConfigProto.prototype.getAttrsList=function(){return o.Message.getRepeatedWrapperField(this,a.ProtoInt2,2)},s.WeaponGrowInfoConfigProto.prototype.setAttrsList=function(e){o.Message.setRepeatedWrapperField(this,2,e)},s.WeaponGrowInfoConfigProto.prototype.addAttrs=function(e,t){return o.Message.addToRepeatedWrapperField(this,2,e,s.ProtoInt2,t)},s.WeaponGrowInfoConfigProto.prototype.clearAttrsList=function(){this.setAttrsList([])},s.WeaponGrowInfoConfigProto.prototype.getPower=function(){return o.Message.getWrapperField(this,a.ProtoInt2,3)},s.WeaponGrowInfoConfigProto.prototype.setPower=function(e){o.Message.setWrapperField(this,3,e)},s.WeaponGrowInfoConfigProto.prototype.clearPower=function(){this.setPower(void 0)},s.WeaponGrowInfoConfigProto.prototype.hasPower=function(){return null!=o.Message.getField(this,3)},n.object.extend(i,s),cc._RF.pop()},{"./config_utils_pb.js":"config_utils_pb","google-protobuf":"google-protobuf"}],weapon_info_pb:[function(e,t,i){"use strict";cc._RF.push(t,"59458yjKsZKTpQSZZUSuPC0","weapon_info_pb");var o=e("google-protobuf"),n=o,r=function(){return this}();if(n.exportSymbol("proto.WeaponInfoConfigProto",null,r),null==a)var a=a||{};a.WeaponInfoConfigProto=function(e){o.Message.initialize(this,e,0,-1,null,null)},n.inherits(a.WeaponInfoConfigProto,o.Message),n.DEBUG&&!COMPILED&&(a.WeaponInfoConfigProto.displayName="proto.WeaponInfoConfigProto"),o.Message.GENERATE_TO_OBJECT&&(a.WeaponInfoConfigProto.prototype.toObject=function(e){return a.WeaponInfoConfigProto.toObject(e,this)},a.WeaponInfoConfigProto.toObject=function(e,t){var i={id:o.Message.getFieldWithDefault(t,1,0)};return e&&(i.$jspbMessageInstance=t),i}),a.WeaponInfoConfigProto.deserializeBinary=function(e){var t=new o.BinaryReader(e),i=new a.WeaponInfoConfigProto;return a.WeaponInfoConfigProto.deserializeBinaryFromReader(i,t)},a.WeaponInfoConfigProto.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var i=t.readInt32();e.setId(i);break;default:t.skipField()}return e},a.WeaponInfoConfigProto.prototype.serializeBinary=function(){var e=new o.BinaryWriter;return a.WeaponInfoConfigProto.serializeBinaryToWriter(this,e),e.getResultBuffer()},a.WeaponInfoConfigProto.serializeBinaryToWriter=function(e,t){var i;0!==(i=e.getId())&&t.writeInt32(1,i)},a.WeaponInfoConfigProto.prototype.getId=function(){return o.Message.getFieldWithDefault(this,1,0)},a.WeaponInfoConfigProto.prototype.setId=function(e){o.Message.setProto3IntField(this,1,e)},n.object.extend(i,a),cc._RF.pop()},{"google-protobuf":"google-protobuf"}]},{},["GameEntry","SDKConfig","SDKFacade","LoopScript","EditorModeDefine","IPreloadSettings","BaseLoadingMediator","BaseUIMediator","LoginCommand","LoginUIScript","LoginModuleConfig","LoginController","LoginMediatorNameDefine","LoginNotificationDefine","LoginPromptTagDefine","LoginInitializer","LoginUIMediator","StartupCommand","StartupModuleConfig","StartupController","StartupNotificationDefine","StartupStepDefine","StartupInitializer","UpdateModuleConfig","UpdateMediatorNameDefine","UpdateNotificationDefine","UpdateInitializer","UpdateUIMediator","ConfigDataCreator","AudioConfigData","CdCommonConfigData","ConstConfigData","DropbagConfigData","EffectConfigData","ExpressAreaConfigData","ExpressBuildingConfigData","ExpressBuildingGrowConfigData","ExpressBuildingLevelupConfigData","ExpressCityConfigData","ExpressEventBagConfigData","ExpressEventConfigData","ExpressRouteConfigData","ExpressStationConsumeConfigData","ExpressStationGrowConfigData","ExpressTargetConfigData","GameBookBaseConfigData","GameBookBookConfigData","GameBookLayoutConfigData","GameBookPageConfigData","GameBookPieceConfigData","GameClueBaseConfigData","GameClueClueConfigData","GameClueIconConfigData","GameWeaponBaseConfigData","GameWeaponWeaponConfigData","GiftAwardConfigData","GiftConfigData","GuidePreloadConfigData","GuideTriggerConfigData","InitAttrConfigData","ItemInfoConfigData","LanAttriConfigData","LanCondConfigData","LanValuesConfigData","LanguageConfigData","LimitInfoConfigData","MonsterInfoConfigData","NpcBaseConfigData","NpcInfoConfigData","OpencondConfigData","ShakeConfigData","TaskConfigData","TaskGuideConfigData","TaskTargetConfigData","TaskTriggerConfigData","WeaponGrowInfoConfigData","WeaponInfoConfigData","ConfigKeyDefine","ConfigProtoCreator","ConfigSettings","audio_pb","cd_common_pb","config_utils_pb","const_pb","dropbag_pb","effect_pb","express_area_pb","express_building_grow_pb","express_building_levelup_pb","express_building_pb","express_city_pb","express_event_bag_pb","express_event_pb","express_route_pb","express_station_consume_pb","express_station_grow_pb","express_target_pb","game_book_base_pb","game_book_book_pb","game_book_layout_pb","game_book_page_pb","game_book_piece_pb","game_clue_base_pb","game_clue_clue_pb","game_clue_icon_pb","game_weapon_base_pb","game_weapon_weapon_pb","gift_award_pb","gift_pb","guide_preload_pb","guide_trigger_pb","init_attr_pb","item_info_pb","lan_attri_pb","lan_cond_pb","lan_values_pb","language_pb","limit_info_pb","monster_info_pb","npc_base_pb","npc_info_pb","opencond_pb","shake_pb","task_guide_pb","task_pb","task_target_pb","task_trigger_pb","weapon_grow_info_pb","weapon_info_pb","AudioController","VBigInteger","VBigNumber","ButtonTipsCheckResult","ButtonTipsConnection","ButtonTipsController","ButtonTipsHandler","ButtonTipsStateChecker","ConsoleController","ConsoleView","IConsoleEventListener","BasicDataController","IDataControllerEventListener","EffectClip","EffectController","EffectScript","IEffectInitHandler","IEffectPlayHandler","GuideController","IGuideDirector","LoadAgent","LocaleController","INavigationHandler","NavigationController","NavigationData","NavigationTypeDefine","PromptButtonTypeDefine","PromptController","PromptData","IStorageProperty","IStoragePropertyEventListener","StorageGroupData","StorageGroupIO","StorageGroupInfo","StorageGroupRawData","StorageIO","StorageKVData","StorageMetaProperty","StorageProperty","StorageTypeDefine","StorageUtility","StorageValueTypeDefine","ISystemOpenEventListener","SystemOpenController","SystemOpenData","SystemOpenPromptTagDefine","UIComponent","IUIButtonEventListener","UIButton","UIButtonScript","ItemUIView","ItemUIViewScript","UIItemScript","UILabelScript","UITextScript","IUIScrollItem","IUIScrollListEventListener","UIScrollList","UIScrollScript","UISprite","IUITabEventListener","UITab","UITabScript","UIViewScript","BattleDataController","CDDataController","CharDataController","ConfigDataController","CopyDataController","ExpressDataController","GiftDataController","GuideDataController","ItemDataController","LimitDataController","NoticeStateController","StayStateController","StorageDataController","SystemDataController","TaskDataController","WindowStateController","BattleData","BattleFightData","BattleHostData","BattleMonsterData","BattleNPCData","BattlePlayerData","CDItemData","CDsData","CharPropertyValue","CharValuesData","CopyData","ExpressAreaData","ExpressCityData","ExpressEventGroupData","ExpressEventGroupsData","ExpressStationData","ExpressStationSlotData","ExpressTargetData","ExpressTargetsData","GiftData","GiftsData","GuideData","GuideUsedListProperty","Int2ListStorageProperty","IntListStorageProperty","ItemData","ItemPackageData","LimitItemData","LimitsData","SystemData","TaskData","TaskPackageData","TaskTriggerData","TaskTriggerItemData","TradeTaskData","AttrCategoryDefine","AttrTypeDefine","AwardTypeDefine","BattleAttrTypeDefine","ButtonTipsHandlerDefine","CDIDDefine","CommonTypeDefine","ConditionTypeDefine","ControlCodeDefine","ExpressEventTypeDefine","ExpressItemParameterDefine","ExpressTaskParameterDefine","GiftTypeDefine","ItemFuncTypeDefine","ItemPackTypeDefine","ItemTypeDefine","LimitIDDefine","LimitTypeDefine","SystemIDDefine","TaskStateDefine","TaskTypeDefine","ValueTypeDefine","VideoTypeDefine","WindowTypeDefine","UIDUtility","ExpressAreaScript","ExpressCameraScript","ExpressCityBenefitInfoScript","ExpressCityScript","ExpressCitySlotScript","ExpressCityTaskScript","ExpressCityTipsScript","ExpressCityTitleScript","ExpressCityWaitScript","ExpressDropBodyScript","ExpressDropScript","ExpressMonsterScript","ExpressObjectScript","ExpressRouteScript","ExpressTradeScript","ExpressArea","ExpressCity","ExpressCityBenefitInfo","ExpressCityTask","ExpressCityTips","ExpressCityTitle","ExpressCityWait","ExpressDrop","ExpressDropBody","ExpressMonster","ExpressObject","ExpressResources","ExpressRoute","ExpressTrade","ExpressTradeRoute","ExpressDropData","ExpressAreaLayerDefine","ExpressDropTypeDefine","ExpressWorld","ExpressCamera","ExpressScene","ISequencableObject","SequenceController","SequenceRect","Sequencer","MiniGame","AbstractCityUIMediator","AbstractGameUIMediator","BusinessItemUIView","BusinessUIMediator","CueInfoUIMediator","ItemDetailUIMediator","PromptUIMediator","AbstractCityUIScript","AwardItemUIViewScript","BattleItemSlotUIViewScript","BattleNumberUIViewScript","BattlePlayerItemUIViewScript","BattleUIScript","BuildingAttrItemUIViewScript","BuildingBuyUIScript","BuildingItemUIViewScript","BuildingLevelUpUIScript","BuildingSelectItemUIViewScript","BuildingSelectListUIScript","BusinessTargetItemUIViewScript","CityCreateUIScript","CityDevelopUIScript","CluePieceItemSlotUIViewScript","CluePieceItemUIViewScript","CopyStartUIScript","CueInfoUIScript","EventContentItemUIViewScript","EventContentUIScript","EventListItemUIViewScript","FlyContainerUIScript","GameUIScript","GuestActiveUIScript","GuestInfoUIScript","GuestIntroUIScript","InvestListItemUIViewScript","InvestListUIScript","ItemDetailUIScript","ItemListItemUIViewScript","ItemListUIScript","NavigatorTopUIScript","NavigatorUIScript","PromptUIScript","SystemActiveUIScript","TargetEventListItemUIViewScript","TargetListItemUIViewScript","TargetListUIScript","UINumberTextScript","WantedItemUIViewScript","WantedUIScript","BusinessModuleConfig","BusinessNotificationDefine","BusinessUILayerDefine","BusinessInitializer","AnswerCueInfoUIMediator","BattleUIMediator","BuildingBuyUIMediator","BuildingLevelUpUIMediator","BuildingSelectListUIMediator","CityCreateGuideUIMediator","CityCreateUIMediator","CityDevelopUIMediator","CopyStartUIMediator","CurrentEventUIMediator","EventContentUIMediator","Game1UIMediator","Game2UIMediator","Game3UIMediator","GameRuleUIMediator","GetCueInfoUIMediator","GuestActiveUIMediator","GuestInfoUIMediator","GuestIntroUIMediator","IdleUIMediator","InvestListUIMediator","ItemBookUIMediator","ItemListUIMediator","ItemWeaponUIMediator","LoadingFullScreenUIMediator","LoadingNormalUIMediator","LoadingSimpleUIMediator","NavigatorTopUIMediator","NavigatorUIMediator","PromptAutoUIMediator","PromptConfirmUIMediator","PromptSimpleUIMediator","StoryUIMediator","SystemActiveUIMediator","TargetListUIMediator","WantedUIMediator","YinPiaoInfoUIMediator","AttrItemUIView","AwardItemUIView","BattleItemSlotUIView","BattleNumberUIView","BattlePlayerItemUIView","BuildingAttrItemUIView","BuildingItemUIView","BuildingSelectItemUIView","BusinessTargetItemUIView","CluePieceItemUIView","CopyStartItemUIView","EventContentItemUIView","EventListItemUIView","InvestListItemUIView","ItemListItemUIView","PieceListItemUIView","TargetEventListItemUIView","TargetListItemUIView","WantedItemUIView","WeaponAttrItemUIView","CoreCommand","CoreModuleConfig","CoreConsts","CoreGameController","CoreNotificationDefine","CoreInitializer","CoreMediator","GuideDialogScript","GuideStepScript","GuideModuleConfig","GuideDialog","GuideExecutor","GuideMask","GuideVisual","GuideConditionTypeDefine","GuideFocusTypeDefine","GuideLayerDefine","GuideMaskShapeDefine","GuideNotificationDefine","GuideInitializer","GuideMediator","MediatorNameDefine","PreloadSettings","ResourceSettings","biginteger","google-protobuf","use_reversed_rotateTo"]);